---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/design-to-survive-failures
title: Entwerfen, um Fehler zu überstehen (erstellen realer Cloud-apps mit Azure) | Microsoft-Dokumentation
author: MikeWasson
description: Das e-Book zur Entwicklung realer Cloud-apps mit Azure basiert auf einer Präsentation von Scott Guthrie. Es werden 13 Muster und Vorgehensweisen erläutert, für die er...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 364ce84e-5af8-4e08-afc9-75a512b01f84
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/design-to-survive-failures
msc.type: authoredcontent
ms.openlocfilehash: 9bf9acb8b4f8521d03c053c124c5fc4a07d6cb9a
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74585654"
---
# <a name="design-to-survive-failures-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="52406-104">Entwerfen, um Fehler zu überstehen (erstellen realer Cloud-apps mit Azure)</span><span class="sxs-lookup"><span data-stu-id="52406-104">Design to Survive Failures (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="52406-105">von [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="52406-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="52406-106">[Herunterladen des IT-Projekts](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) oder [herunterladen des E-Books](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="52406-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="52406-107">Das e-Book zur Entwicklung **realer Cloud-apps mit Azure** basiert auf einer Präsentation von Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="52406-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="52406-108">Es werden 13 Muster und Verfahren erläutert, die Ihnen bei der Entwicklung von Web-Apps für die Cloud helfen können.</span><span class="sxs-lookup"><span data-stu-id="52406-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="52406-109">Informationen zum e-Book finden Sie [im ersten Kapitel](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="52406-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="52406-110">Eine der Dinge, die Sie berücksichtigen müssen, wenn Sie einen beliebigen Anwendungstyp erstellen, aber vor allem einen, der in der Cloud ausgeführt wird, in der viele Personen ihn verwenden werden, ist das Entwerfen der APP, damit Fehler ordnungsgemäß behandelt werden können, und die Bereitstellung des Werts weiterhin so viel wie man.</span><span class="sxs-lookup"><span data-stu-id="52406-110">One of the things you have to think about when you build any type of application, but especially one that will run in the cloud where lots of people will be using it, is how to design the app so that it can gracefully handle failures and continue to deliver value as much as possible.</span></span> <span data-ttu-id="52406-111">Bei ausreichender Zeit geht es in jeder Umgebung oder jedem beliebigen Softwaresystem zu Fehlern.</span><span class="sxs-lookup"><span data-stu-id="52406-111">Given enough time, things are going to go wrong in any environment or any software system.</span></span> <span data-ttu-id="52406-112">Wie Ihre APP diese Situationen behandelt, hängt davon ab, wie stark Sie Ihre Kunden erhalten und wie viel Zeit Sie für die Analyse und Behebung von Problemen aufwenden müssen.</span><span class="sxs-lookup"><span data-stu-id="52406-112">How your app handles those situations determines how upset your customers will get and how much time you have to spend analyzing and fixing problems.</span></span>

## <a name="types-of-failures"></a><span data-ttu-id="52406-113">Fehlertypen</span><span class="sxs-lookup"><span data-stu-id="52406-113">Types of failures</span></span>

<span data-ttu-id="52406-114">Es gibt zwei grundlegende Kategorien von Fehlern, die Sie unterschiedlich behandeln sollten:</span><span class="sxs-lookup"><span data-stu-id="52406-114">There are two basic categories of failures that you'll want to handle differently:</span></span>

- <span data-ttu-id="52406-115">Vorübergehende Fehler bei der Selbstreparatur, wie z. b. vorübergehende Probleme mit der Netzwerk Konnektivität.</span><span class="sxs-lookup"><span data-stu-id="52406-115">Transient, self-healing failures such as intermittent network connectivity issues.</span></span>
- <span data-ttu-id="52406-116">Andauernde Ausfälle, für die ein Eingriff erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="52406-116">Enduring failures that require intervention.</span></span>

<span data-ttu-id="52406-117">Bei vorübergehenden Fehlern können Sie eine Wiederholungs Richtlinie implementieren, um sicherzustellen, dass die app in den meisten Fällen schnell und automatisch wieder hergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="52406-117">For transient failures, you can implement a retry policy to ensure that most of the time the app recovers quickly and automatically.</span></span> <span data-ttu-id="52406-118">Ihre Kunden bemerken möglicherweise eine etwas längere Antwortzeit, aber andernfalls werden Sie nicht beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="52406-118">Your customers might notice slightly longer response time, but otherwise they won't be affected.</span></span> <span data-ttu-id="52406-119">Wir zeigen einige Möglichkeiten, diese Fehler im [Kapitel zur Behandlung vorübergehender Fehler](transient-fault-handling.md)zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="52406-119">We'll show some ways to handle these errors in the [Transient Fault Handling chapter](transient-fault-handling.md).</span></span>

<span data-ttu-id="52406-120">Bei dauerhaften Fehlern können Sie Überwachungs-und Protokollierungsfunktionen implementieren, die Sie umgehend benachrichtigen, wenn Probleme auftreten und die Fehlerursachen Analyse erleichtert.</span><span class="sxs-lookup"><span data-stu-id="52406-120">For enduring failures, you can implement monitoring and logging functionality that notifies you promptly when issues arise and that facilitates root cause analysis.</span></span> <span data-ttu-id="52406-121">Wir zeigen Ihnen einige Möglichkeiten, wie Sie im [Kapitel Überwachung und Telemetrie](monitoring-and-telemetry.md)auf diese Arten von Fehlern achten können.</span><span class="sxs-lookup"><span data-stu-id="52406-121">We'll show some ways to help you stay on top of these kinds of errors in the [Monitoring and Telemetry chapter](monitoring-and-telemetry.md).</span></span>

## <a name="failure-scope"></a><span data-ttu-id="52406-122">Fehlerbereich</span><span class="sxs-lookup"><span data-stu-id="52406-122">Failure scope</span></span>

<span data-ttu-id="52406-123">Außerdem müssen Sie sich Gedanken über den Fehlerbereich machen – ob ein einzelner Computer betroffen ist, ein ganzer Dienst, z. b. SQL-Datenbank oder Speicher oder eine gesamte Region.</span><span class="sxs-lookup"><span data-stu-id="52406-123">You also have to think about failure scope – whether a single machine is affected, a whole service such as SQL Database or Storage, or an entire region.</span></span>

![Fehlerbereich](design-to-survive-failures/_static/image1.png)

### <a name="machine-failures"></a><span data-ttu-id="52406-125">Computerfehler</span><span class="sxs-lookup"><span data-stu-id="52406-125">Machine failures</span></span>

<span data-ttu-id="52406-126">In Azure wird ein fehlerhafter Server automatisch durch einen neuen ersetzt, und eine gut entworfene Cloud-APP wird von dieser Art von Fehler automatisch und schnell wieder hergestellt.</span><span class="sxs-lookup"><span data-stu-id="52406-126">In Azure, a failed server is automatically replaced by a new one, and a well-designed cloud app recovers from this kind of failure automatically and quickly.</span></span> <span data-ttu-id="52406-127">Früher haben wir die Vorteile der Skalierbarkeit einer Zustands losen webeebene hervorgehoben, und die einfache Wiederherstellung von einem fehlerhaften Server ist ein weiterer Vorteil der Zustands losigkeit.</span><span class="sxs-lookup"><span data-stu-id="52406-127">Earlier we stressed the scalability benefits of a stateless web tier, and ease of recovery from a failed server is another benefit of statelessness.</span></span> <span data-ttu-id="52406-128">Die einfache Wiederherstellung ist auch einer der Vorteile von Platform-as-a-Service-Features (PAS), wie z. b. SQL-Datenbank und Azure App Service-Web-Apps.</span><span class="sxs-lookup"><span data-stu-id="52406-128">Ease of recovery is also one of the benefits of platform-as-a-service (PaaS) features such as SQL Database and Azure App Service Web Apps.</span></span> <span data-ttu-id="52406-129">Hardware Fehler sind selten, aber wenn Sie auftreten, behandeln diese Dienste Sie automatisch. Sie müssen nicht einmal Code schreiben, um Computerfehler zu behandeln, wenn Sie einen dieser Dienste verwenden.</span><span class="sxs-lookup"><span data-stu-id="52406-129">Hardware failures are rare, but when they occur these services handle them automatically; you don't even have to write code to handle machine failures when you're using one of these services.</span></span>

### <a name="service-failures"></a><span data-ttu-id="52406-130">Dienst Fehler</span><span class="sxs-lookup"><span data-stu-id="52406-130">Service failures</span></span>

<span data-ttu-id="52406-131">Cloud-Apps verwenden in der Regel mehrere Dienste.</span><span class="sxs-lookup"><span data-stu-id="52406-131">Cloud apps typically use multiple services.</span></span> <span data-ttu-id="52406-132">Beispielsweise werden die Fehlerbehebung für die IT-App verwendet, um den SQL-Datenbankdienst, den Speicherdienst und die Web-App für Azure App Service bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="52406-132">For example, the Fix It app uses the SQL Database service, the Storage service, and the web app is deployed to Azure App Service.</span></span> <span data-ttu-id="52406-133">Wie wird Ihre APP ausgeführt, wenn einer der Dienste, von denen Sie abhängen, fehlschlägt?</span><span class="sxs-lookup"><span data-stu-id="52406-133">What will your app do if one of the services you depend on fails?</span></span> <span data-ttu-id="52406-134">Bei einigen Dienst Fehlern ist es möglicherweise am besten, wenn Sie versuchen, es später erneut zu versuchen.</span><span class="sxs-lookup"><span data-stu-id="52406-134">For some service failures a friendly "sorry, try again later" message might be the best you can do.</span></span> <span data-ttu-id="52406-135">In vielen Szenarien können Sie aber auch besser Vorgehen.</span><span class="sxs-lookup"><span data-stu-id="52406-135">But in many scenarios you can do better.</span></span> <span data-ttu-id="52406-136">Wenn der Back-End-Datenspeicher nicht verfügbar ist, können Sie beispielsweise Benutzereingaben akzeptieren, "Ihre Anforderung wurde empfangen" anzeigen und die Eingabe an einem beliebigen Ort temporär speichern. Wenn der Dienst, den Sie benötigen, wieder funktionsfähig ist, können Sie die Eingabe abrufen und verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="52406-136">For example, when your back-end data store is down, you can accept user input, display "your request has been received," and store the input someplace else temporarily; then when the service you need is operational again, you can retrieve the input and process it.</span></span>

<span data-ttu-id="52406-137">Das Kapitel für [Warteschlangen zentrierte Arbeitsmuster](queue-centric-work-pattern.md) zeigt eine Möglichkeit, dieses Szenario zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="52406-137">The [Queue-centric Work Pattern](queue-centric-work-pattern.md) chapter shows one way to handle this scenario.</span></span> <span data-ttu-id="52406-138">Die Korrektur der IT-App speichert Aufgaben in der SQL-Datenbank, aber Sie muss nicht beendet werden, wenn die SQL-Datenbank nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="52406-138">The Fix It app stores tasks in SQL Database, but it doesn't have to quit working when SQL Database is down.</span></span> <span data-ttu-id="52406-139">In diesem Kapitel wird erläutert, wie Benutzereingaben für eine Aufgabe in einer Warteschlange gespeichert werden und wie ein Arbeitsprozess verwendet wird, um die Warteschlange zu lesen und die Aufgabe zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="52406-139">In that chapter we'll see how to store user input for a task in a queue, and use a worker process to read the queue and update the task.</span></span> <span data-ttu-id="52406-140">Wenn SQL nicht ausgeführt wird, ist die Möglichkeit zum Erstellen von IT-Aufgaben nicht betroffen. der Arbeitsprozess kann neue Tasks warten und verarbeiten, wenn die SQL-Datenbank verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="52406-140">If SQL is down, the ability to create Fix It tasks is unaffected; the worker process can wait and process new tasks when SQL Database is available.</span></span>

### <a name="region-failures"></a><span data-ttu-id="52406-141">Regions Fehler</span><span class="sxs-lookup"><span data-stu-id="52406-141">Region failures</span></span>

<span data-ttu-id="52406-142">Alle Regionen können fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="52406-142">Entire regions may fail.</span></span> <span data-ttu-id="52406-143">Eine Naturkatastrophe könnte ein Rechenzentrum zerstören, es könnte durch einen Meteor vereinfacht werden, die trunk Linie in das Rechenzentrum könnte von einem Landwirt, der eine Kuh mit einer Backhoe hat, usw. abgeschnitten werden. Was tun Sie, wenn Ihre APP im betroffenen Rechenzentrum gehostet wird?</span><span class="sxs-lookup"><span data-stu-id="52406-143">A natural disaster might destroy a data center, it might get flattened by a meteor, the trunk line into the datacenter could be cut by a farmer burying a cow with a backhoe, etc. If your app is hosted in the stricken datacenter what do you do?</span></span> <span data-ttu-id="52406-144">Sie können Ihre APP in Azure so einrichten, dass Sie in mehreren Regionen gleichzeitig ausgeführt wird, sodass Sie bei einem Notfall in einer anderen Region weiter ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="52406-144">It's possible to set up your app in Azure to run in multiple regions simultaneously so that if there's a disaster in one, you continue running in another region.</span></span> <span data-ttu-id="52406-145">Solche Fehler sind sehr selten, und die meisten apps durchlaufen nicht die Unterbrechungen, die notwendig sind, um einen ununterbrochenen Dienst durch Ausfälle dieser Art sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="52406-145">Such failures are extremely rare occurrences, and most apps don't jump through the hoops necessary to ensure uninterrupted service through failures of this sort.</span></span> <span data-ttu-id="52406-146">Informationen dazu, wie Sie Ihre APP auch über einen Regions Ausfall verfügbar halten, finden Sie im Abschnitt "Ressourcen" am Ende des Kapitels.</span><span class="sxs-lookup"><span data-stu-id="52406-146">See the Resources section at the end of the chapter for information about how to keep your app available even through a region failure.</span></span>

<span data-ttu-id="52406-147">Ein Ziel von Azure besteht darin, die Behandlung all dieser Arten von Fehlern zu vereinfachen, und Sie sehen einige Beispiele dafür, wie wir dies in den folgenden Kapiteln tun.</span><span class="sxs-lookup"><span data-stu-id="52406-147">A goal of Azure is to make handling all of these kinds of failures a lot easier, and you'll see some examples of how we're doing that in the following chapters.</span></span>

## <a name="slas"></a><span data-ttu-id="52406-148">SLAs</span><span class="sxs-lookup"><span data-stu-id="52406-148">SLAs</span></span>

<span data-ttu-id="52406-149">Häufig werden die Vereinbarungen zum Service Level (Service Level Agreements, SLAs) in der cloudumgebung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="52406-149">People often hear about service-level agreements (SLAs) in the cloud environment.</span></span> <span data-ttu-id="52406-150">Im Grunde sind dies Zusagen, die Unternehmen über die Zuverlässigkeit Ihres Dienstanbieter treffen.</span><span class="sxs-lookup"><span data-stu-id="52406-150">Basically these are promises that companies make about how reliable their service is.</span></span> <span data-ttu-id="52406-151">Eine 99,9%-SLA bedeutet, dass der Dienst 99,9% der Zeit ordnungsgemäß funktioniert.</span><span class="sxs-lookup"><span data-stu-id="52406-151">A 99.9% SLA means you should expect the service to be working correctly 99.9% of the time.</span></span> <span data-ttu-id="52406-152">Das ist ein ziemlich typischer Wert für eine SLA und klingt wie eine sehr hohe Zahl, aber Sie werden vielleicht nicht feststellen, wie viel weniger als 1 bis 1% beträgt.</span><span class="sxs-lookup"><span data-stu-id="52406-152">That's a fairly typical value for an SLA and it sounds like a very high number, but you might not realize how much down time .1% actually amounts to.</span></span> <span data-ttu-id="52406-153">Im folgenden finden Sie eine Tabelle, die zeigt, wie viele Ausfallzeiten verschiedene SLA-Prozentsätze auf über ein Jahr, einen Monat und eine Woche betragen.</span><span class="sxs-lookup"><span data-stu-id="52406-153">Here's a table that shows how much downtime various SLA percentages amount to over a year, a month, and a week.</span></span>

![SLA-Tabelle](design-to-survive-failures/_static/image2.png)

<span data-ttu-id="52406-155">Eine 99,9%-SLA bedeutet also, dass der Dienst 8,76 Stunden oder 43,2 Minuten im Monat herunter eingestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="52406-155">So a 99.9% SLA means your service could be down 8.76 hours a year or 43.2 minutes a month.</span></span> <span data-ttu-id="52406-156">Das ist umso mehr Zeit als die meisten Menschen.</span><span class="sxs-lookup"><span data-stu-id="52406-156">That's more down time than most people realize.</span></span> <span data-ttu-id="52406-157">Als Entwickler möchten Sie also wissen, dass eine bestimmte Zeitspanne möglich ist, und Sie können es auf eine ordnungsgemäße Weise verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="52406-157">So as a developer you want to be aware that a certain amount of down time is possible and handle it in a graceful way.</span></span> <span data-ttu-id="52406-158">An einem bestimmten Punkt wird Ihre APP verwendet, und ein Dienst wird Herunterfahren, und Sie möchten die negativen Auswirkungen der Kunden minimieren.</span><span class="sxs-lookup"><span data-stu-id="52406-158">At some point someone is going to be using your app, and a service is going to be down, and you want to minimize the negative impact of that on the customer.</span></span>

<span data-ttu-id="52406-159">Sie sollten sich über eine SLA informieren, auf welche Zeitrahmen Sie verweist: wird die Uhr jede Woche, jeden Monat oder jedes Jahr zurückgesetzt?</span><span class="sxs-lookup"><span data-stu-id="52406-159">One thing you should know about an SLA is what time-frame it refers to: does the clock get reset every week, every month, or every year?</span></span> <span data-ttu-id="52406-160">In Azure wird die Uhr jeden Monat zurückgesetzt. Dies ist für Sie besser als eine jährliche SLA, da eine jährliche SLA durch eine Reihe von guten Monaten schlechte Monate verbergen könnte.</span><span class="sxs-lookup"><span data-stu-id="52406-160">In Azure we reset the clock every month, which is better for you than a yearly SLA, since a yearly SLA could hide bad months by offsetting them with a series of good months.</span></span>

<span data-ttu-id="52406-161">Natürlich wollen wir immer besser Vorgehen als die SLA. in der Regel sind Sie wesentlich kleiner als das.</span><span class="sxs-lookup"><span data-stu-id="52406-161">Of course we always aspire to do better than the SLA; usually you'll be down much less than that.</span></span> <span data-ttu-id="52406-162">Die Zusage besteht darin, dass Sie, wenn wir immer länger ausfallen, als die maximale Zeitdauer, die Sie Geld zurückstellen können.</span><span class="sxs-lookup"><span data-stu-id="52406-162">The promise is that if we're ever down for longer than the maximum down time you can ask for money back.</span></span> <span data-ttu-id="52406-163">Die Menge des Geldes, das Sie zurückerhalten, wäre wahrscheinlich nicht vollständig für die geschäftlichen Auswirkungen der überschreit Zeit ausgeglichen, aber dieser Aspekt der SLA fungiert als Erzwingungs Richtlinie und lässt Sie wissen, dass wir Sie sehr ernst nehmen.</span><span class="sxs-lookup"><span data-stu-id="52406-163">The amount of money you get back probably wouldn't fully compensate you for the business impact of the excess down time, but that aspect of the SLA acts as an enforcement policy and lets you know that we do take it very seriously.</span></span>

### <a name="composite-slas"></a><span data-ttu-id="52406-164">Zusammengesetzte SLAs</span><span class="sxs-lookup"><span data-stu-id="52406-164">Composite SLAs</span></span>

<span data-ttu-id="52406-165">Wenn Sie SLAs betrachten, ist es wichtig, sich mit der Verwendung mehrerer Dienste in einer APP vertraut zu machen, wobei jeder Dienst über eine separate SLA verfügt.</span><span class="sxs-lookup"><span data-stu-id="52406-165">An important thing to think about when you're looking at SLAs is the impact of using multiple services in an app, with each service having a separate SLA.</span></span> <span data-ttu-id="52406-166">Beispielsweise verwendet die Behebung, die die IT-App Azure App Service Web-Apps, Azure Storage und SQL-Datenbank verwendet.</span><span class="sxs-lookup"><span data-stu-id="52406-166">For example, the Fix It app uses Azure App Service Web Apps, Azure Storage, and SQL Database.</span></span> <span data-ttu-id="52406-167">Im folgenden finden Sie die SLA-Nummern ab dem Datum, an dem das e-Book im Dezember 2013 geschrieben wurde:</span><span class="sxs-lookup"><span data-stu-id="52406-167">Here are their SLA numbers as of the date this e-book is being written in December, 2013:</span></span>

![SLA-Website, Storage, SQL-Datenbank](design-to-survive-failures/_static/image3.png)

<span data-ttu-id="52406-169">Wie hoch ist die maximale Zeitdauer, die Sie für die App basierend auf diesen SLAs des diensslas erwarten?</span><span class="sxs-lookup"><span data-stu-id="52406-169">What is the maximum down time you would expect for the app based on these service SLAs?</span></span> <span data-ttu-id="52406-170">Sie denken möglicherweise, dass die Abfallzeit gleich dem schlechtesten SLA-Prozentsatz oder 99,9% in diesem Fall wäre.</span><span class="sxs-lookup"><span data-stu-id="52406-170">You might think that your down time would be equal to the worst SLA percentage, or 99.9% in this case.</span></span> <span data-ttu-id="52406-171">Das würde dann der Fall sein, wenn alle drei Dienste immer gleichzeitig fehlgeschlagen sind, aber das ist nicht unbedingt tatsächlich der Fall.</span><span class="sxs-lookup"><span data-stu-id="52406-171">That would be true if all three services always failed at the same time, but that isn't necessarily what actually happens.</span></span> <span data-ttu-id="52406-172">Jeder Dienst kann zu unterschiedlichen Zeitpunkten unabhängig ausfallen, sodass Sie die zusammengesetzte SLA berechnen müssen, indem Sie die einzelnen SLA-Nummern multiplizieren.</span><span class="sxs-lookup"><span data-stu-id="52406-172">Each service may fail independently at different times, so you have to calculate the composite SLA by multiplying the individual SLA numbers.</span></span>

![Zusammengesetzte SLA](design-to-survive-failures/_static/image4.png)

<span data-ttu-id="52406-174">Ihre APP könnte also nicht nur 43,2 Minuten im Monat, sondern dreimal so hoch sein, 108 Minuten pro Monat – und liegt weiterhin innerhalb der Azure-SLA-Limits.</span><span class="sxs-lookup"><span data-stu-id="52406-174">So your app could be down not just 43.2 minutes a month but 3 times that amount, 108 minutes a month – and still be within the Azure SLA limits.</span></span>

<span data-ttu-id="52406-175">Dieses Problem gilt nicht für Azure.</span><span class="sxs-lookup"><span data-stu-id="52406-175">This issue is not unique to Azure.</span></span> <span data-ttu-id="52406-176">Wir stellen tatsächlich die besten Cloud-SLAs für jeden verfügbaren clouddienst bereit, und Sie haben ähnliche Probleme, wenn Sie die Cloud-Dienste eines Anbieters nutzen.</span><span class="sxs-lookup"><span data-stu-id="52406-176">We actually provide the best cloud SLAs of any cloud service available, and you'll have similar issues to deal with if you use any vendor's cloud services.</span></span> <span data-ttu-id="52406-177">Dies ist die Wichtigkeit, mit der Sie sich Gedanken darüber machen können, wie Sie Ihre APP so entwerfen können, dass die unvermeidlichen Dienst Fehler ordnungsgemäß verarbeitet werden, da Sie häufig genug vorkommen, um Ihre Kunden oder Benutzer zu beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="52406-177">What this highlights is the importance of thinking about how you can design your app to handle the inevitable service failures gracefully, because they might happen often enough to impact your customers or users.</span></span>

### <a name="cloud-slas-compared-to-enterprise-down-time-experience"></a><span data-ttu-id="52406-178">Cloud-SLAs im Vergleich zur Betriebszeit des Unternehmens</span><span class="sxs-lookup"><span data-stu-id="52406-178">Cloud SLAs compared to enterprise down-time experience</span></span>

<span data-ttu-id="52406-179">Manchmal sagen wir: "in meiner Unternehmens-App treten diese Probleme nie auf."</span><span class="sxs-lookup"><span data-stu-id="52406-179">People sometimes say, "In my enterprise app I never have these problems."</span></span> <span data-ttu-id="52406-180">Wenn Sie feststellen, wie viel Zeit in einem Monat tatsächlich liegt, sagen Sie in der Regel, dass es gelegentlich passiert.</span><span class="sxs-lookup"><span data-stu-id="52406-180">If you ask how much down time a month they actually have, they usually say, "Well, it happens occasionally."</span></span> <span data-ttu-id="52406-181">Und wenn Sie Fragen, wie oft Sie feststellen, dass Sie einen neuen Server sichern oder installieren oder Software aktualisieren müssen.</span><span class="sxs-lookup"><span data-stu-id="52406-181">And if you ask how often, they admit that "Sometimes we do need to back up or install a new server or update software."</span></span> <span data-ttu-id="52406-182">Natürlich zählt dies als Zeitüberschreitungen.</span><span class="sxs-lookup"><span data-stu-id="52406-182">Of course, that counts as down time.</span></span> <span data-ttu-id="52406-183">Die meisten Unternehmens-apps, sofern Sie nicht besonders Unternehmens kritisch sind, sind nicht länger als die von unseren Service-SLAs zulässige Zeitspanne.</span><span class="sxs-lookup"><span data-stu-id="52406-183">Most enterprise apps unless they are especially mission-critical are actually down for more than the amount of time allowed by our service SLAs.</span></span> <span data-ttu-id="52406-184">Wenn es sich jedoch um Ihren Server und ihre Infrastruktur handelt und Sie dafür verantwortlich sind und die Kontrolle darüber haben, sind Sie eher weniger Angst bei Ausfallzeiten.</span><span class="sxs-lookup"><span data-stu-id="52406-184">But when it's your server and your infrastructure and you're responsible for it and in control of it, you tend to feel less angst about down times.</span></span> <span data-ttu-id="52406-185">In einer cloudumgebung sind Sie von einer anderen Person abhängig, und Sie wissen nicht, was passiert, sodass Sie mehr darüber besorgt werden.</span><span class="sxs-lookup"><span data-stu-id="52406-185">In a cloud environment you're dependent on someone else and you don't know what's going on, so you might tend to get more worried about it.</span></span>

<span data-ttu-id="52406-186">Wenn ein Unternehmen eine höhere Betriebszeit in Prozent erreicht, als Sie aus einer Cloud-SLA kommen, wird dies erreicht, indem die Hardware viel mehr Geld ausgibt.</span><span class="sxs-lookup"><span data-stu-id="52406-186">When an enterprise achieves a greater up-time percentage than you get from a cloud SLA, they do it by spending a lot more money on hardware.</span></span> <span data-ttu-id="52406-187">Ein Cloud-Dienst könnte dies tun, müsste jedoch für seine Dienste viel mehr berechnen.</span><span class="sxs-lookup"><span data-stu-id="52406-187">A cloud service could do that but would have to charge much more for its services.</span></span> <span data-ttu-id="52406-188">Stattdessen profitieren Sie von einem Kosten effektiven Dienst und entwerfen Ihre Software so, dass die unvermeidlichen Ausfälle zu einer minimalen Unterbrechung der Kunden führen.</span><span class="sxs-lookup"><span data-stu-id="52406-188">Instead, you take advantage of a cost-effective service and design your software so that the inevitable failures cause minimum disruption to your customers.</span></span> <span data-ttu-id="52406-189">Ihr Job als Cloud-App-Designer ist nicht so viel, um einen Fehler zu vermeiden, um eine Katastrophe zu vermeiden, und Sie erreichen dies, indem Sie sich auf die Software konzentrieren, nicht auf die Hardware.</span><span class="sxs-lookup"><span data-stu-id="52406-189">Your job as a cloud app designer is not so much to avoid failure as to avoid catastrophe, and you do that by focusing on software, not on hardware.</span></span> <span data-ttu-id="52406-190">Während Unternehmens-apps eine Maximierung der durchschnittlichen Zeit zwischen Ausfällen anstreben, bemühen sich Cloud-apps, die durchschnittliche Zeit für die Wiederherstellung zu verringern</span><span class="sxs-lookup"><span data-stu-id="52406-190">Whereas enterprise apps strive to maximize mean time between failures, cloud apps strive to minimize mean time to recover.</span></span>

### <a name="not-all-cloud-services-have-slas"></a><span data-ttu-id="52406-191">Nicht alle Clouddienste haben SLAs</span><span class="sxs-lookup"><span data-stu-id="52406-191">Not all cloud services have SLAs</span></span>

<span data-ttu-id="52406-192">Beachten Sie auch, dass nicht jeder clouddienst auch über eine SLA verfügt.</span><span class="sxs-lookup"><span data-stu-id="52406-192">Be aware also that not every cloud service even has an SLA.</span></span> <span data-ttu-id="52406-193">Wenn Ihre APP von einem Dienst ohne Zeit Garantie abhängig ist, können Sie viel länger ausfallen, als Sie sich vorstellen können.</span><span class="sxs-lookup"><span data-stu-id="52406-193">If your app is dependent on a service with no up-time guarantee, you could be down far longer than you might imagine.</span></span> <span data-ttu-id="52406-194">Wenn Sie z. b. die Anmeldung an Ihrer Website mithilfe eines sozialen Anbieters wie Facebook oder Twitter aktivieren, wenden Sie sich an den Dienstanbieter, um herauszufinden, ob eine SLA vorhanden ist, und Sie können feststellen, dass es keine SLA gibt.</span><span class="sxs-lookup"><span data-stu-id="52406-194">For example, if you enable log-in to your site using a social provider such as Facebook or Twitter, check with the service provider to find out if there is an SLA, and you might find out there isn't one.</span></span> <span data-ttu-id="52406-195">Wenn der Authentifizierungsdienst jedoch ausfällt oder die Menge der von Ihnen ausgerichteten Anforderungen nicht unterstützt, werden Ihre Kunden von ihrer App gesperrt.</span><span class="sxs-lookup"><span data-stu-id="52406-195">But if the authentication service goes down or is unable to support the volume of requests you throw at it, your customers are locked out of your app.</span></span> <span data-ttu-id="52406-196">Sie können für Tage oder länger ausfallen.</span><span class="sxs-lookup"><span data-stu-id="52406-196">You could be down for days or longer.</span></span> <span data-ttu-id="52406-197">Die Ersteller einer neuen App haben hundert Millionen Downloads erwartet und eine Abhängigkeit von der Facebook-Authentifizierung getroffen – aber nicht mit Facebook kommuniziert, bevor Sie leben, und es wurde zu spät erkannt, dass es für diesen Dienst keine SLA gab.</span><span class="sxs-lookup"><span data-stu-id="52406-197">The creators of one new app expected hundreds of millions of downloads and took a dependency on Facebook authentication – but didn't talk to Facebook before going live and discovered too late that there was no SLA for that service.</span></span>

### <a name="not-all-downtime-counts-toward-slas"></a><span data-ttu-id="52406-198">Nicht alle Ausfallzeiten werden in Bezug auf SLAs gezählt.</span><span class="sxs-lookup"><span data-stu-id="52406-198">Not all downtime counts toward SLAs</span></span>

<span data-ttu-id="52406-199">Einige Clouddienste können den Dienst absichtlich ablehnen, wenn Sie von Ihrer APP verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="52406-199">Some cloud services may deliberately deny service if your app over-uses them.</span></span> <span data-ttu-id="52406-200">Dies wird als *Drosselung*bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="52406-200">This is called *throttling*.</span></span> <span data-ttu-id="52406-201">Wenn ein Dienst über eine SLA verfügt, sollte er die Bedingungen angeben, unter denen Sie möglicherweise gedrosselt werden, und Ihr App-Entwurf sollte diese Bedingungen vermeiden und entsprechend auf die Drosselung reagieren, wenn dies geschieht.</span><span class="sxs-lookup"><span data-stu-id="52406-201">If a service has an SLA, it should state the conditions under which you might be throttled, and your app design should avoid those conditions and react appropriately to the throttling if it happens.</span></span> <span data-ttu-id="52406-202">Wenn beispielsweise bei Anforderungen an einen Dienst ein Fehler auftritt, wenn Sie eine bestimmte Anzahl pro Sekunde überschreiten, sollten Sie sicherstellen, dass automatische Wiederholungen nicht so schnell erfolgen, dass die Drosselung fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="52406-202">For example, if requests to a service start to fail when you exceed a certain number per second, you want to make sure automatic retries don't happen so fast that they cause the throttling to continue.</span></span> <span data-ttu-id="52406-203">Im [Kapitel zur Behandlung vorübergehender Fehler](transient-fault-handling.md)erfahren Sie mehr über die Drosselung.</span><span class="sxs-lookup"><span data-stu-id="52406-203">We'll have more to say about throttling in the [Transient Fault Handling chapter](transient-fault-handling.md).</span></span>

## <a name="summary"></a><span data-ttu-id="52406-204">Summary</span><span class="sxs-lookup"><span data-stu-id="52406-204">Summary</span></span>

<span data-ttu-id="52406-205">In diesem Kapitel wurde versucht, zu erkennen, warum eine echte Cloud-app entwickelt werden muss, um Fehler ordnungsgemäß zu überstehen.</span><span class="sxs-lookup"><span data-stu-id="52406-205">This chapter has tried to help you realize why a real world cloud app has to be designed to survive failures gracefully.</span></span> <span data-ttu-id="52406-206">Beginnend mit dem [nächsten Kapitel](monitoring-and-telemetry.md)werden die verbleibenden Muster in dieser Reihe ausführlicher über einige Strategien erläutert, die Sie hierfür verwenden können:</span><span class="sxs-lookup"><span data-stu-id="52406-206">Starting with the [next chapter](monitoring-and-telemetry.md), the remaining patterns in this series go into more detail about some strategies you can use to do that:</span></span>

- <span data-ttu-id="52406-207">Sie verfügen über eine gute [Überwachung und Telemetrie](monitoring-and-telemetry.md), sodass Sie sich schnell über Fehler informieren können, die eingreifen müssen, und dass Sie über ausreichende Informationen verfügen, um diese zu beheben.</span><span class="sxs-lookup"><span data-stu-id="52406-207">Have good [monitoring and telemetry](monitoring-and-telemetry.md), so that you find out quickly about failures that require intervention, and you have sufficient information to resolve them.</span></span>
- <span data-ttu-id="52406-208">[Behandeln vorübergehender Fehler](transient-fault-handling.md) durch Implementieren intelligenter [Wiederholungs Logik,](transient-fault-handling.md#circuitbreakers) sodass Ihre APP automatisch wieder hergestellt wird, wenn Sie nicht möglich ist.</span><span class="sxs-lookup"><span data-stu-id="52406-208">[Handle transient faults](transient-fault-handling.md) by implementing intelligent retry logic, so that your app recovers automatically when it can and falls back to [circuit breaker](transient-fault-handling.md#circuitbreakers) logic when it can't.</span></span>
- <span data-ttu-id="52406-209">Verwenden Sie [verteilte](distributed-caching.md) Zwischenspeicherung, um Durchsatz, Latenz und Verbindungsprobleme beim Datenbankzugriff zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="52406-209">Use [distributed caching](distributed-caching.md) in order to minimize throughput, latency, and connection problems with database access.</span></span>
- <span data-ttu-id="52406-210">Implementieren Sie eine lose Kopplung über das [Warteschlangen zentrierte Arbeitsmuster](queue-centric-work-pattern.md), sodass das App-Front-End weiterhin funktionieren kann, wenn das Back-End nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="52406-210">Implement loose coupling via the [queue-centric work pattern](queue-centric-work-pattern.md), so that your app front end can continue to work when the back end is down.</span></span>

## <a name="resources"></a><span data-ttu-id="52406-211">Ressourcen</span><span class="sxs-lookup"><span data-stu-id="52406-211">Resources</span></span>

<span data-ttu-id="52406-212">Weitere Informationen finden Sie in späteren Kapiteln dieses e-Books und in den folgenden Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="52406-212">For more information, see later chapters in this e-book and the following resources.</span></span>

<span data-ttu-id="52406-213">Dokumentation:</span><span class="sxs-lookup"><span data-stu-id="52406-213">Documentation:</span></span>

- <span data-ttu-id="52406-214">[Failsafe: Leitfaden für robuste cloudarchitekturen](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span><span class="sxs-lookup"><span data-stu-id="52406-214">[Failsafe: Guidance for Resilient Cloud Architectures](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span></span> <span data-ttu-id="52406-215">Whitepaper von Marc Mercuri, Ulrich Homann und Andrew Townhill.</span><span class="sxs-lookup"><span data-stu-id="52406-215">White paper by Marc Mercuri, Ulrich Homann, and Andrew Townhill.</span></span> <span data-ttu-id="52406-216">Webseiten Version der Failsafe-Videoserie.</span><span class="sxs-lookup"><span data-stu-id="52406-216">Web page version of the FailSafe video series.</span></span>
- <span data-ttu-id="52406-217">[Bewährte Methoden für den Entwurf umfangreicher Dienste in Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span><span class="sxs-lookup"><span data-stu-id="52406-217">[Best Practices for the Design of Large-Scale Services on Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="52406-218">Whitepaper von Mark Simms und Michael thomassy.</span><span class="sxs-lookup"><span data-stu-id="52406-218">White paper by Mark Simms and Michael Thomassy.</span></span>
- <span data-ttu-id="52406-219">[Technische Anleitung zur Geschäftskontinuität in Azure](https://msdn.microsoft.com/library/windowsazure/hh873027.aspx).</span><span class="sxs-lookup"><span data-stu-id="52406-219">[Azure Business Continuity Technical Guidance](https://msdn.microsoft.com/library/windowsazure/hh873027.aspx).</span></span> <span data-ttu-id="52406-220">Whitepaper von Patrick Wickline und Jason Roth.</span><span class="sxs-lookup"><span data-stu-id="52406-220">White paper by Patrick Wickline and Jason Roth.</span></span>
- <span data-ttu-id="52406-221">Notfall [Wiederherstellung und Hochverfügbarkeit für Azure-Anwendungen](https://msdn.microsoft.com/library/windowsazure/dn251004.aspx).</span><span class="sxs-lookup"><span data-stu-id="52406-221">[Disaster Recovery and High Availability for Azure Applications](https://msdn.microsoft.com/library/windowsazure/dn251004.aspx).</span></span> <span data-ttu-id="52406-222">Whitepaper von Michael McKeown, Hanu Kommalapati und Jason Roth.</span><span class="sxs-lookup"><span data-stu-id="52406-222">White paper by Michael McKeown, Hanu Kommalapati, and Jason Roth.</span></span>
- <span data-ttu-id="52406-223">[Microsoft Patterns and Practices: Azure-Leitfaden](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="52406-223">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="52406-224">Weitere Informationen finden Sie unter Leitfaden zur Bereitstellung von mehreren Rechenzentren, Trennschalter</span><span class="sxs-lookup"><span data-stu-id="52406-224">See Multi Data Center Deployment guidance, Circuit breaker pattern.</span></span>
- <span data-ttu-id="52406-225">[Azure-Support: Vereinbarungen zum Service Level](https://azure.microsoft.com/support/legal/sla/).</span><span class="sxs-lookup"><span data-stu-id="52406-225">[Azure Support - Service Level Agreements](https://azure.microsoft.com/support/legal/sla/).</span></span>
- <span data-ttu-id="52406-226">[Geschäftskontinuität in Azure SQL-Datenbank](https://msdn.microsoft.com/library/windowsazure/hh852669.aspx).</span><span class="sxs-lookup"><span data-stu-id="52406-226">[Business Continuity in Azure SQL Database](https://msdn.microsoft.com/library/windowsazure/hh852669.aspx).</span></span> <span data-ttu-id="52406-227">Dokumentation zu den Features für Hochverfügbarkeit und Notfall Wiederherstellung in SQL-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="52406-227">Documentation about SQL Database high availability and disaster recovery features.</span></span>
- <span data-ttu-id="52406-228">[Hohe Verfügbarkeit und Notfall Wiederherstellung für SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/jj870962.aspx).</span><span class="sxs-lookup"><span data-stu-id="52406-228">[High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/jj870962.aspx).</span></span>

<span data-ttu-id="52406-229">Videos:</span><span class="sxs-lookup"><span data-stu-id="52406-229">Videos:</span></span>

- <span data-ttu-id="52406-230">[Failsafe: aufbauen skalierbarer, robuster Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="52406-230">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="52406-231">Neun teilige Serie von Ulrich Homann, Marc Mercuri und Mark Simms.</span><span class="sxs-lookup"><span data-stu-id="52406-231">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="52406-232">Stellt allgemeine Konzepte und architektonische Prinzipien in einer sehr zugänglichen und interessanten Weise vor, wobei Storys von der Benutzerfreundlichkeit von Microsoft Customer Advisory Team (CAT) mit tatsächlichen Kunden erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="52406-232">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="52406-233">In den Vorfällen 1 und 8 werden die Gründe für das Entwerfen von Cloud-Apps für das überstehen von Fehlern ausführlich aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="52406-233">Episodes 1 and 8 go in depth into the reasons for designing cloud apps to survive failures.</span></span> <span data-ttu-id="52406-234">Weitere Informationen finden Sie in der nachfolgenden Erörterung der Drosselung in Folge 2 ab 49:57, der Erörterung von Fehler-und Fehlermodi in Folge 2 ab 56:05 und der Erörterung von Schutz Schaltern in Episode 3 ab 40:55.</span><span class="sxs-lookup"><span data-stu-id="52406-234">See also the follow-up discussion of throttling in episode 2 starting at 49:57, the discussion of failure points and failure modes in episode 2 starting at 56:05, and the discussion of circuit breakers in episode 3 starting at 40:55.</span></span>
- <span data-ttu-id="52406-235">[Building Big: Erkenntnisse von Azure-Kunden (Teil II](https://channel9.msdn.com/Events/Build/2012/3-030)).</span><span class="sxs-lookup"><span data-stu-id="52406-235">[Building Big: Lessons learned from Azure customers - Part II](https://channel9.msdn.com/Events/Build/2012/3-030).</span></span> <span data-ttu-id="52406-236">Mark Simms spricht über das Entwerfen von Fehlern und Instrumentieren von allem.</span><span class="sxs-lookup"><span data-stu-id="52406-236">Mark Simms talks about designing for failure and instrumenting everything.</span></span> <span data-ttu-id="52406-237">Vergleichbar mit der Failsafe-Reihe, wird jedoch ausführlicher erläutert.</span><span class="sxs-lookup"><span data-stu-id="52406-237">Similar to the Failsafe series but goes into more how-to details.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="52406-238">[Zurück](unstructured-blob-storage.md)
> [Weiter](monitoring-and-telemetry.md)</span><span class="sxs-lookup"><span data-stu-id="52406-238">[Previous](unstructured-blob-storage.md)
[Next](monitoring-and-telemetry.md)</span></span>
