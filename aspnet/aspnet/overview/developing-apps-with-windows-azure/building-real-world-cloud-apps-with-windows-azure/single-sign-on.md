---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
title: Einmaliges Anmelden (erstellen realer Cloud-Apps mit Azure) | Microsoft-Dokumentation
author: MikeWasson
description: Die Building Real World Cloud Apps mit Azure-e-Book basiert auf einer Präsentation von Scott Guthrie entwickelt wurde. Es wird erläutert, 13 Muster und Vorgehensweisen, die er können...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 7d82d5e9-0619-4f22-9e03-32a6d52940a5
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
msc.type: authoredcontent
ms.openlocfilehash: 8f6c23eb71ea323b6ab06943097f927f717a8099
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/06/2019
ms.locfileid: "65118745"
---
# <a name="single-sign-on-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="4a7b6-104">Einmaliges Anmelden (erstellen realer Cloud-Apps mit Azure)</span><span class="sxs-lookup"><span data-stu-id="4a7b6-104">Single Sign-On (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="4a7b6-105">durch [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="4a7b6-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="4a7b6-106">[Download korrigieren Projekt](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) oder [E-Book herunterladen](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="4a7b6-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="4a7b6-107">Die **Building Real World Cloud Apps mit Azure** e-Book basiert darauf, dass eine Präsentation von Scott Guthrie entwickelt wurde.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="4a7b6-108">Es wird erläutert, 13 Muster und Methoden, die Ihnen helfen können, werden erfolgreiche Entwicklung von Web-apps für die Cloud.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="4a7b6-109">Weitere Informationen zu e-Book, finden Sie unter [im ersten Kapitel](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="4a7b6-110">Es gibt viele Sicherheitsprobleme zu bedenken, wenn Sie eine Cloud-app entwickeln, aber für diese Reihe konzentrieren wir uns nur auf einem: einmaliges Anmelden.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-110">There are many security issues to think about when you're developing a cloud app, but for this series we'll focus on just one: single sign-on.</span></span> <span data-ttu-id="4a7b6-111">Eine Frage, die häufig die Frage gestellt, ist dies: "Ich bin in erster Linie für die Mitarbeiter meines Unternehmens; Erstellen von apps Wie kann ich diese apps in der Cloud zu hosten und trotzdem aktivieren sie das gleiche Sicherheitsmodell verwenden, das meiner Mitarbeiter kennen und in der lokalen Umgebung verwenden, wenn sie apps, die ausgeführt werden gehostet werden innerhalb der Firewall?"</span><span class="sxs-lookup"><span data-stu-id="4a7b6-111">A question people often ask is this: "I'm primarily building apps for the employees of my company; how do I host these apps in the cloud and still enable them to use the same security model that my employees know and use in the on-premises environment when they're running apps that are hosted inside the firewall?"</span></span> <span data-ttu-id="4a7b6-112">Einer der Methoden, die wir dieses Szenarios aktivieren wird Azure Active Directory (Azure AD) aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-112">One of the ways we enable this scenario is called Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="4a7b6-113">Azure AD ermöglicht Ihnen, die Enterprise-Line-of-Business-apps (LOB) über das Internet verfügbar machen, und sie können diese apps auch Geschäftspartner zur Verfügung stellen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-113">Azure AD enables you to make enterprise line-of-business (LOB) apps available over the Internet, and it enables you to make these apps available to business partners as well.</span></span>

## <a name="introduction-to-azure-ad"></a><span data-ttu-id="4a7b6-114">Einführung in Azure AD</span><span class="sxs-lookup"><span data-stu-id="4a7b6-114">Introduction to Azure AD</span></span>

<span data-ttu-id="4a7b6-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) bietet [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) in der Cloud.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) provides [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) in the cloud.</span></span> <span data-ttu-id="4a7b6-116">Die folgenden: Schlüsselfunktionen</span><span class="sxs-lookup"><span data-stu-id="4a7b6-116">Key features include the following:</span></span>

- <span data-ttu-id="4a7b6-117">Es ist in einem lokalen Active Directory integriert.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-117">It integrates with on-premises Active Directory.</span></span>
- <span data-ttu-id="4a7b6-118">Sie können einmaliges Anmelden mit Ihren apps.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-118">It enables single sign-on with your apps.</span></span>
- <span data-ttu-id="4a7b6-119">Unterstützt offene Standards wie z. B. [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), und [OAuth 2.0](http://oauth.net/2/).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-119">It supports open standards such as [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), and [OAuth 2.0](http://oauth.net/2/).</span></span>
- <span data-ttu-id="4a7b6-120">Er unterstützt Unternehmen [Graph-REST-API](https://msdn.microsoft.com/library/hh974476.aspx).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-120">It supports Enterprise [Graph REST API](https://msdn.microsoft.com/library/hh974476.aspx).</span></span>

<span data-ttu-id="4a7b6-121">Nehmen wir an, dass Sie eine lokalen Windows Server Active Directory-Umgebung verfügen, die Sie verwenden, um Mitarbeitern für die Anmeldung bei Intranet-apps zu ermöglichen:</span><span class="sxs-lookup"><span data-stu-id="4a7b6-121">Suppose you have an on-premises Windows Server Active Directory environment that you use to enable employees to sign on to Intranet apps:</span></span>

![](single-sign-on/_static/image1.png)

<span data-ttu-id="4a7b6-122">Welche Azure AD ermöglicht Ihnen ist ein Verzeichnis in der Cloud zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-122">What Azure AD enables you to do is create a directory in the cloud.</span></span> <span data-ttu-id="4a7b6-123">Es ist ein kostenloses Feature und einfach einrichten.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-123">It's a free feature and easy to set up.</span></span>

<span data-ttu-id="4a7b6-124">Es kann jedoch vollständig unabhängig von Ihrem lokalen Active Directory sein. Sie können jeder einfügen, es werden soll, und authentifizieren Sie sie in Internet-apps.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-124">It can be entirely independent from your on-premises Active Directory; you can put anyone you want in it and authenticate them in Internet apps.</span></span>

![Windows Azure Active Directory](single-sign-on/_static/image2.png)

<span data-ttu-id="4a7b6-126">Oder Sie können es in Ihrer lokalen integrieren AD.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-126">Or you can integrate it with your on-premises AD.</span></span>

![Active Directory und WAAD-Integration](single-sign-on/_static/image3.png)

<span data-ttu-id="4a7b6-128">Alle Mitarbeiter, die auf die lokale Authentifizierung können können jetzt auch über das Internet – authentifizieren, ohne dass Sie eine Firewall öffnen oder neue Server in Ihrem Datencenter bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-128">Now all the employees who can authenticate on-premises can also authenticate over the Internet – without you having to open up a firewall or deploy any new servers in your data center.</span></span> <span data-ttu-id="4a7b6-129">Sie können weiterhin die vorhandene Active Directory-Umgebung nutzen, die Sie kennen und nutzen Ihre internen apps SSO-Funktion zu gewähren.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-129">You can continue to leverage all the existing Active Directory environment that you know and use today to give your internal apps single-sign on capability.</span></span>

<span data-ttu-id="4a7b6-130">Nachdem Sie diese Verbindung zwischen AD und Azure AD vorgenommen haben, Sie auch Ihre Web-apps und Ihre mobilen Geräte Ihrer Mitarbeiter in der Cloud-Authentifizierung aktivieren und Drittanbieter-apps, wie z.B. Office 365, SalesForce.com oder Google apps können, akzeptiert können Ihre Anmeldeinformationen für Mitarbeiter.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-130">Once you've made this connection between AD and Azure AD, you can also enable your web apps and your mobile devices to authenticate your employees in the cloud, and you can enable third-party apps, such as Office 365, SalesForce.com, or Google apps, to accept your employees' credentials.</span></span> <span data-ttu-id="4a7b6-131">Wenn Sie Office 365 verwenden, sind Sie bereits in Azure AD eingerichtet, da Office 365 Azure AD für Authentifizierung und Autorisierung verwendet.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-131">If you're using Office 365, you're already set up with Azure AD because Office 365 uses Azure AD for authentication and authorization.</span></span>

![3. apps von Drittanbietern](single-sign-on/_static/image4.png)

<span data-ttu-id="4a7b6-133">Der Vorteil dieses Ansatzes ist, die jedes Mal, die Ihrer Organisation hinzufügt oder löscht einen Benutzer oder ändert ein Benutzer ein Kennwort, Sie verwenden den gleichen Prozess, mit denen Sie noch heute in Ihrer lokalen Umgebung.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-133">The beauty of this approach is that any time your organization adds or deletes a user, or a user changes a password, you use the same process that you use today in your on-premises environment.</span></span> <span data-ttu-id="4a7b6-134">Alle von Ihrem lokalen AD-Änderungen automatisch in der Cloudumgebung weitergegeben werden.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-134">All of your on-premises AD changes are automatically propagated to the cloud environment.</span></span>

<span data-ttu-id="4a7b6-135">Wenn Ihr Unternehmen verwenden oder nach Office 365 verschieben, die gute Nachricht ist, müssen Sie Azure AD automatisch eingerichtet, da es sich bei Office 365 Azure AD für die Authentifizierung verwendet.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-135">If your company is using or moving to Office 365, the good news is that you'll have Azure AD set up automatically because Office 365 uses Azure AD for authentication.</span></span> <span data-ttu-id="4a7b6-136">Daher können Sie problemlos in Ihre Anwendungen die gleiche Authentifizierung verwenden, die Office 365 verwendet.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-136">So you can easily use in your own apps the same authentication that Office 365 uses.</span></span>

## <a name="set-up-an-azure-ad-tenant"></a><span data-ttu-id="4a7b6-137">Einrichten von Azure AD-Mandanten</span><span class="sxs-lookup"><span data-stu-id="4a7b6-137">Set up an Azure AD tenant</span></span>

<span data-ttu-id="4a7b6-138">Azure AD-Verzeichnis wird aufgerufen, eine Azure AD [Mandanten](https://technet.microsoft.com/library/jj573650.aspx), und das Einrichten eines Mandanten ist recht einfach.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-138">an Azure AD directory is called an Azure AD [tenant](https://technet.microsoft.com/library/jj573650.aspx), and setting up a tenant is pretty easy.</span></span> <span data-ttu-id="4a7b6-139">Wir zeigen Ihnen wie er im Azure-Verwaltungsportal abgeschlossen ist, um die Konzepte zu veranschaulichen, aber natürlich wie die anderen Portal Funktionen Sie können auch dazu verwenden ein Skript oder die Verwaltungs-API.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-139">We'll show you how it's done in the Azure Management Portal in order to illustrate the concepts, but of course like the other portal functions you can also do it by using a script or management API.</span></span>

<span data-ttu-id="4a7b6-140">Klicken Sie im Verwaltungsportal auf der Registerkarte "Active Directory".</span><span class="sxs-lookup"><span data-stu-id="4a7b6-140">In the management portal click the Active Directory tab.</span></span>

![WAAD im portal](single-sign-on/_static/image5.png)

<span data-ttu-id="4a7b6-142">Haben Sie automatisch eine Azure AD-Mandanten für Azure-Konto, und klicken Sie auf die **hinzufügen** am unteren Seitenrand, um weitere Verzeichnisse erstellen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-142">You automatically have one Azure AD tenant for your Azure account, and you can click the **Add** button at the bottom of the page to create additional directories.</span></span> <span data-ttu-id="4a7b6-143">Eine für eine testumgebung und eine für die Produktion, empfiehlt z. B.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-143">You might want one for a test environment and one for production, for example.</span></span> <span data-ttu-id="4a7b6-144">Überlegen Sie sorgfältig wie Sie ein neues Verzeichnis benennen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-144">Think carefully about what you name a new directory.</span></span> <span data-ttu-id="4a7b6-145">Wenn Sie Ihren Namen für das Verzeichnis, und klicken Sie dann Sie Ihren Namen erneut für einen Benutzer verwenden, kann die verwirrend sein.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-145">If you use your name for the directory and then you use your name again for one of the users, that can be confusing.</span></span>

![Verzeichnis hinzufügen](single-sign-on/_static/image6.png)

<span data-ttu-id="4a7b6-147">Das Portal verfügt über vollständige Unterstützung für das Erstellen, löschen und Verwalten von Benutzern in dieser Umgebung.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-147">The portal has full support for creating, deleting, and managing users within this environment.</span></span> <span data-ttu-id="4a7b6-148">Z. B. hinzufügen ein Benutzers finden Sie unter den **Benutzer** Registerkarte, und klicken Sie auf die **Add User** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-148">For example, to add a user go to the **Users** tab and click the **Add User** button.</span></span>

![Fügen Sie die Schaltfläche "Benutzer"](single-sign-on/_static/image7.png)

![Dialogfeld "Benutzer" hinzufügen](single-sign-on/_static/image8.png)

<span data-ttu-id="4a7b6-151">Können Sie einen neuen Benutzer, die vorhanden ist nur in diesem Verzeichnis erstellen, oder Sie können ein Microsoft-Account als einen Benutzer in diesem Verzeichnis oder die Registrierung oder Benutzer aus einem anderen Azure AD-Verzeichnis als einen Benutzer in diesem Verzeichnis registrieren.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-151">You can create a new user who exists only in this directory, or you can register a Microsoft Account as a user in this directory, or register or a user from another Azure AD directory as a user in this directory.</span></span> <span data-ttu-id="4a7b6-152">(In einem echten Verzeichnis die Standarddomäne ContosoTest.onmicrosoft.com wäre.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-152">(In a real directory, the default domain would be ContosoTest.onmicrosoft.com.</span></span> <span data-ttu-id="4a7b6-153">Sie können auch eine Domäne Ihrer Wahl, z. B. "contoso.com" verwenden.)</span><span class="sxs-lookup"><span data-stu-id="4a7b6-153">You can also use a domain of your own choosing, like contoso.com.)</span></span>

![Benutzertypen](single-sign-on/_static/image9.png)

![Dialogfeld "Benutzer" hinzufügen](single-sign-on/_static/image10.png)

<span data-ttu-id="4a7b6-156">Sie können die Benutzer einer Rolle zuweisen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-156">You can assign the user to a role.</span></span>

![Benutzerprofil](single-sign-on/_static/image11.png)

<span data-ttu-id="4a7b6-158">Und das Konto wird erstellt, ein temporäres Kennwort.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-158">And the account is created with a temporary password.</span></span>

![Temporäres Kennwort](single-sign-on/_static/image12.png)

<span data-ttu-id="4a7b6-160">Die Benutzer, die Sie auf diese Weise erstellen können sofort auf Ihre Web-apps, die mithilfe dieses Cloud-Verzeichnis anmelden.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-160">The users you create this way can immediately log in to your web apps using this cloud directory.</span></span>

<span data-ttu-id="4a7b6-161">Was sich hervorragend für einmaliges Anmelden für Unternehmen, jedoch ist die **Verzeichnisintegration** Registerkarte:</span><span class="sxs-lookup"><span data-stu-id="4a7b6-161">What's great for enterprise single sign-on, though, is the **Directory Integration** tab:</span></span>

![Registerkarte "Directory Integration"](single-sign-on/_static/image13.png)

<span data-ttu-id="4a7b6-163">Wenn Sie den Directory-Integration aktivieren und [Laden Sie ein Tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), können Sie mit Ihrem vorhandenen lokalen Active Directory, die Sie bereits in Ihrer Organisation verwenden dieses Cloud-Verzeichnis synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-163">If you enable directory integration, and [download a tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), you can sync this cloud directory with your existing on-premises Active Directory that you're already using inside your organization.</span></span> <span data-ttu-id="4a7b6-164">Klicken Sie dann werden alle in Ihrem Verzeichnis gespeicherten Benutzer in dieser Cloud-Verzeichnis angezeigt.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-164">Then all of the users stored in your directory will show up in this cloud directory.</span></span> <span data-ttu-id="4a7b6-165">Ihre Cloud-apps können alle Mitarbeiter mit ihren vorhandenen Active Directory-Anmeldeinformationen authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-165">Your cloud apps can now authenticate all of your employees using their existing Active Directory credentials.</span></span> <span data-ttu-id="4a7b6-166">Und ist kostenlos – Synchronisierungstool und Azure AD abgemeldet.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-166">And all this is free – both the sync tool and Azure AD itself.</span></span>

<span data-ttu-id="4a7b6-167">Das Tool ist ein Assistent, der einfach zu verwenden, ist, wie Sie diese Screenshots sehen können.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-167">The tool is a wizard that is easy to use, as you can see from these screen shots.</span></span> <span data-ttu-id="4a7b6-168">Diese sind nicht nur ein Beispiel, das grundlegende Verfahren zeigt eine vollständige Anleitung.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-168">These are not complete instructions, just an example showing you the basic process.</span></span> <span data-ttu-id="4a7b6-169">How-to--It Informationen finden Sie unter den Links in der [Ressourcen](#resources) Abschnitt am Ende des Kapitels.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-169">For more detailed how-to-do-it information, see the links in the [Resources](#resources) section at the end of the chapter.</span></span>

![Konfigurations-Assistenten WAAD-Synchronisierungstools](single-sign-on/_static/image14.png)

<span data-ttu-id="4a7b6-171">Klicken Sie auf **Weiter**, und geben Sie Ihre Azure Active Directory-Anmeldeinformationen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-171">Click **Next**, and then enter your Azure Active Directory credentials.</span></span>

![Konfigurations-Assistenten WAAD-Synchronisierungstools](single-sign-on/_static/image15.png)

<span data-ttu-id="4a7b6-173">Klicken Sie auf **Weiter**, und geben Sie dann auf Ihrem lokalen AD-Anmeldeinformationen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-173">Click **Next**, and then enter your on-premises AD credentials.</span></span>

![Konfigurations-Assistenten WAAD-Synchronisierungstools](single-sign-on/_static/image16.png)

<span data-ttu-id="4a7b6-175">Klicken Sie auf **Weiter**, und klicken Sie dann angeben, wenn Sie einen Hash der AD-Kennwörter in der Cloud speichern möchten.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-175">Click **Next**, and then indicate if you want to store a hash of your AD passwords in the cloud.</span></span>

![Konfigurations-Assistenten WAAD-Synchronisierungstools](single-sign-on/_static/image17.png)

<span data-ttu-id="4a7b6-177">Der Hashwert des Kennworts, die Sie in der Cloud speichern können, werden als unidirektionaler Hash; tatsächliche Kennwörter werden nie in Azure AD gespeichert.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-177">The password hash that you can store in the cloud is a one-way hash; actual passwords are never stored in Azure AD.</span></span> <span data-ttu-id="4a7b6-178">Wenn Sie sich entscheiden, für die Hashes in der Cloud speichern, müssen Sie mit [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-178">If you decide against storing hashes in the cloud, you'll have to use [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span></span> <span data-ttu-id="4a7b6-179">Es gibt auch [andere Faktoren bedenken, wenn entscheiden, ob AD FS verwenden](https://technet.microsoft.com/library/jj573653.aspx).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-179">There are also [other factors to consider when choosing whether or not to use ADFS](https://technet.microsoft.com/library/jj573653.aspx).</span></span> <span data-ttu-id="4a7b6-180">Die AD FS-Option erfordert einige zusätzliche Konfigurationsschritte erforderlich.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-180">The ADFS option requires a few additional configuration steps.</span></span>

<span data-ttu-id="4a7b6-181">Wenn Sie Hashes in der Cloud zu speichern, Fertig, und das Tool Verzeichnisse synchronisieren startet, wenn Sie auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-181">If you choose to store hashes in the cloud, you're done, and the tool starts synchronizing directories when you click **Next**.</span></span>

![Konfigurations-Assistenten WAAD-Synchronisierungstools](single-sign-on/_static/image18.png)

<span data-ttu-id="4a7b6-183">Und in wenigen Minuten sind Sie fertig.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-183">And in a few minutes you're done.</span></span>

![Konfigurations-Assistenten WAAD-Synchronisierungstools](single-sign-on/_static/image19.png)

<span data-ttu-id="4a7b6-185">Sie müssen sich nur auf einem Domänencontroller in der Organisation, die unter Windows 2003 oder höher ausführen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-185">You only have to run this on one domain controller in the organization, on Windows 2003 or higher.</span></span> <span data-ttu-id="4a7b6-186">Und muss nicht neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-186">And no need to reboot.</span></span> <span data-ttu-id="4a7b6-187">Wenn Sie fertig sind, man kann auch alle Ihre Benutzer in der Cloud sind-SSO von Web oder mobile Anwendung, die mithilfe von SAML, OAuth und WS-Fed.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-187">When you're done, all of your users are in the cloud and you can do single sign-on from any web or mobile application, using SAML, OAuth, or WS-Fed.</span></span>

<span data-ttu-id="4a7b6-188">– Gelegentlich erhalten wir gefragt, wie sicher Dies geht Microsoft verwendet diese für ihre eigenen sensible Geschäftsdaten?</span><span class="sxs-lookup"><span data-stu-id="4a7b6-188">Sometimes we get asked about how secure this is – does Microsoft use it for their own sensitive business data?</span></span> <span data-ttu-id="4a7b6-189">Und die Antwort ist Ja, die wir ausführen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-189">And the answer is yes we do.</span></span> <span data-ttu-id="4a7b6-190">Angenommen, Sie mit der internen Microsoft SharePoint-Website unter Fortfahren [ https://microsoft.sharepoint.com/ ](https://microsoft.sharepoint.com/), erhalten Sie aufgefordert, sich anzumelden.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-190">For example, if you go to the internal Microsoft SharePoint site at [https://microsoft.sharepoint.com/](https://microsoft.sharepoint.com/), you get prompted to log in.</span></span>

![Office 365-Anmeldung](single-sign-on/_static/image20.png)

<span data-ttu-id="4a7b6-192">Microsoft AD FS aktiviert hat, also wenn Sie eine Microsoft-ID eingeben, Sie auf eine AD FS-Anmeldeseite umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-192">Microsoft has enabled ADFS, so when you enter a Microsoft ID, you get redirected to an ADFS log-in page.</span></span>

![AD FS-Anmeldung](single-sign-on/_static/image21.png)

<span data-ttu-id="4a7b6-194">Und sobald Sie in einem internen Microsoft-AD-Konto gespeicherte Anmeldeinformationen eingeben, haben Sie Zugriff auf diese internen Anwendung.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-194">And once you enter credentials stored in an internal Microsoft AD account, you have access to this internal application.</span></span>

![MS-SharePoint-Website](single-sign-on/_static/image22.png)

<span data-ttu-id="4a7b6-196">Wir verwenden einen AD-anmelden-Server, hauptsächlich deshalb, weil es AD FS einrichten bereits, bevor Azure AD verfügbar ist, aber der Prozess melden Sie sich über Azure AD-Verzeichnis in der Cloud geht.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-196">We're using an AD sign-in server mainly because we already had ADFS set up before Azure AD became available, but the log-in process is going through an Azure AD directory in the cloud.</span></span> <span data-ttu-id="4a7b6-197">Wir fügen unserer wichtige Dokumente, quellcodeverwaltung, Leistung-Management-Dateien, aufarbeiten und mehr in der Cloud und Verwenden dieser Lösung geschützt.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-197">We put our important documents, source control, performance management files, sales reports, and more, in the cloud and are using this exact same solution to secure them.</span></span>

## <a name="create-an-aspnet-app-that-uses-azure-ad-for-single-sign-on"></a><span data-ttu-id="4a7b6-198">Erstellen einer ASP.NET-App aus, die Azure AD für einmaliges Anmelden verwendet</span><span class="sxs-lookup"><span data-stu-id="4a7b6-198">Create an ASP.NET app that uses Azure AD for single sign-on</span></span>

<span data-ttu-id="4a7b6-199">Visual Studio macht es wirklich einfach ist, erstellen Sie eine app, die Azure AD für einmaliges Anmelden, verwendet, wie Sie einige Screenshots sehen können.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-199">Visual Studio makes it really easy to create an app that uses Azure AD for single sign-on, as you can see from a few screen shots.</span></span>

<span data-ttu-id="4a7b6-200">Bei der Erstellung einer neuen ASP.NET-Anwendung, MVC oder Web Forms, ist die Standardauthentifizierungsmethode ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-200">When you create a new ASP.NET application, either MVC or Web Forms, the default authentication method is ASP.NET Identity.</span></span> <span data-ttu-id="4a7b6-201">Um, die mit Azure AD zu ändern, Sie klicken Sie auf eine **Authentifizierung ändern** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-201">To change that to Azure AD, you click a **Change Authentication** button.</span></span>

![Authentifizierung ändern](single-sign-on/_static/image23.png)

<span data-ttu-id="4a7b6-203">Wählen Sie die Organisations-Konten, geben Sie Ihren Domänennamen ein, und wählen Sie dann auf einmaliges Anmelden.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-203">Select Organizational Accounts, enter your domain name, and then select Single Sign On.</span></span>

![Dialogfeld "Authentifizierung" Konfigurieren](single-sign-on/_static/image24.png)

<span data-ttu-id="4a7b6-205">Sie können auch Geben Sie die app Lese- oder Lese-/Schreibberechtigung für Verzeichnisdaten.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-205">You can also give the app read or read/write permission for directory data.</span></span> <span data-ttu-id="4a7b6-206">Wenn Sie dies tun, können sie die [Azure Graph-REST-API](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) um die Telefonnummer des Benutzers zu suchen, erfahren Sie, wenn sie im Büro sind, wenn sie zuletzt, on usw. angemeldet.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-206">If you do that, it can use the [Azure Graph REST API](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) to look up users' phone number, find out if they're in the office, when they last logged on, etc.</span></span>

<span data-ttu-id="4a7b6-207">Dies alles ist, müssen Sie Folgendes verwenden: Visual Studio fordert die Anmeldeinformationen für einen Administrator für Ihren Azure AD-Mandanten, und klicken Sie dann sowohl für das Projekt als auch für Azure AD-Mandanten für die neue Anwendung konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-207">That's all you have to do - Visual Studio asks for the credentials for an administrator for your Azure AD tenant, and then it configures both your project and your Azure AD tenant for the new application.</span></span>

<span data-ttu-id="4a7b6-208">Wenn Sie das Projekt ausführen, sehen Sie eine Anmeldeseite angezeigt, und registrieren Sie sich die Anmeldeinformationen eines Benutzers in Azure AD-Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-208">When you run the project, you'll see a sign-in page, and you can sign in with credentials of a user in your Azure AD directory.</span></span>

![Organisations-Konto anmelden](single-sign-on/_static/image25.png)

![Angemeldet](single-sign-on/_static/image26.png)

<span data-ttu-id="4a7b6-211">Wenn Sie die app in Azure bereitstellen, müssen Sie, lediglich auf einen **Organisationsauthentifizierung aktivieren** Kontrollkästchen, und wieder Visual Studio übernimmt die Konfiguration für Sie.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-211">When you deploy the app to Azure, all you have to do is select an **Enable Organizational Authentication** check box, and once again Visual Studio takes care of all the configuration for you.</span></span>

![Web veröffentlichen](single-sign-on/_static/image27.png)

<span data-ttu-id="4a7b6-213">Diese Screenshots stammen aus einer vollständigen ausführliches Tutorial, das zeigt, wie Sie eine app erstellen, die Azure AD-Authentifizierung verwendet: [Entwickeln von ASP.NET-Apps mit Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-213">These screen shots come from a complete step-by-step tutorial that shows how to build an app that uses Azure AD authentication: [Developing ASP.NET Apps with Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span></span>

## <a name="summary"></a><span data-ttu-id="4a7b6-214">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="4a7b6-214">Summary</span></span>

<span data-ttu-id="4a7b6-215">In diesem Kapitel haben Sie gesehen, dass es sich bei Azure Active Directory, ASP.NET und Visual Studio, um einmaliges Anmelden im Internet-Anwendungen für Benutzer in Ihrer Organisation einzurichten erleichtern.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-215">In this chapter you saw that Azure Active Directory, Visual Studio, and ASP.NET, make it easy to set up single sign-on in Internet applications for your organization's users.</span></span> <span data-ttu-id="4a7b6-216">Ihre Benutzer können in Internet-apps, die mit denselben Anmeldeinformationen an, die sie verwenden, melden Sie sich mit Active Directory in Ihrem internen Netzwerk anmelden.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-216">Your users can sign on in Internet apps using the same credentials they use to sign on using Active Directory in your internal network.</span></span>

<span data-ttu-id="4a7b6-217">Die [im nächsten Kapitel](data-storage-options.md) untersucht die Datenspeicheroptionen für eine Cloud-app verfügbar.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-217">The [next chapter](data-storage-options.md) looks at the data storage options available for a cloud app.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="4a7b6-218">Ressourcen</span><span class="sxs-lookup"><span data-stu-id="4a7b6-218">Resources</span></span>

<span data-ttu-id="4a7b6-219">Weitere Informationen finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="4a7b6-219">For more information, see the following resources:</span></span>

- <span data-ttu-id="4a7b6-220">[Dokumentation zu Azure Active Directory](https://docs.microsoft.com/azure/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-220">[Azure Active Directory Documentation](https://docs.microsoft.com/azure/active-directory/).</span></span> <span data-ttu-id="4a7b6-221">Portalseite für Azure AD-Dokumentation auf der Website windowsazure.com.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-221">Portal page for Azure AD documentation on the windowsazure.com site.</span></span> <span data-ttu-id="4a7b6-222">Schritt-für-Schritt-Tutorials finden Sie unter den **entwickeln** Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-222">For step by step tutorials, see the **Develop** section.</span></span>
- <span data-ttu-id="4a7b6-223">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-223">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span></span> <span data-ttu-id="4a7b6-224">Dokumentation zu Multi-Factor Authentication in Azure-Portalseite.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-224">Portal page for documentation about multi-factor authentication in Azure.</span></span>
- <span data-ttu-id="4a7b6-225">[Organisations-Konto-Authentifizierungsoptionen](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-225">[Organizational account authentication options](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span></span> <span data-ttu-id="4a7b6-226">Erläuterung der in das Visual Studio 2013-Dialogfeld "Neues Projekt" die Azure AD-Authentifizierungsoptionen.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-226">Explanation of the Azure AD authentication options in the Visual Studio 2013 new-project dialog.</span></span>
- <span data-ttu-id="4a7b6-227">[Microsoft Patterns and Practices - Federated Identity Muster](https://msdn.microsoft.com/library/dn589790.aspx).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-227">[Microsoft Patterns and Practices - Federated Identity Pattern](https://msdn.microsoft.com/library/dn589790.aspx).</span></span>
- <span data-ttu-id="4a7b6-228">[So wird's gemacht: Installieren Sie das Azure Active Directory Sync Tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-228">[HowTo: Install the Azure Active Directory Sync Tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span></span>
- <span data-ttu-id="4a7b6-229">[Active Directory Federation Services 2.0 Inhaltszuordnung](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-229">[Active Directory Federation Services 2.0 Content Map](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span></span> <span data-ttu-id="4a7b6-230">Enthält Links zu Dokumentation zu AD FS 2.0.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-230">Links to documentation about ADFS 2.0.</span></span>
- <span data-ttu-id="4a7b6-231">[Rollen- und ACL-basierte Autorisierung in einer Windows Azure AD-Anwendung](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-231">[Role-Based and ACL-Based Authorization in a Windows Azure AD Application](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span></span> <span data-ttu-id="4a7b6-232">Die beispielanwendung.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-232">Sample application.</span></span>
- <span data-ttu-id="4a7b6-233">[Azure Active Directory Graph-API-Blog](https://blogs.msdn.com/b/aadgraphteam/).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-233">[Azure Active Directory Graph API blog](https://blogs.msdn.com/b/aadgraphteam/).</span></span>
- <span data-ttu-id="4a7b6-234">[Zugriffssteuerung in BYOD und Directory-Integration in einer Hybrid-Identitätsinfrastruktur](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span><span class="sxs-lookup"><span data-stu-id="4a7b6-234">[Access Control in BYOD and Directory Integration in a Hybrid Identity Infrastructure](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span></span> <span data-ttu-id="4a7b6-235">Tech Ed 2014-Sitzung video Gayana Bagdasaryan.</span><span class="sxs-lookup"><span data-stu-id="4a7b6-235">Tech Ed 2014 session video by Gayana Bagdasaryan.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="4a7b6-236">[Zurück](web-development-best-practices.md)
> [Weiter](data-storage-options.md)</span><span class="sxs-lookup"><span data-stu-id="4a7b6-236">[Previous](web-development-best-practices.md)
[Next](data-storage-options.md)</span></span>
