---
uid: aspnet/overview/owin-and-katana/an-overview-of-project-katana
title: Übersicht über Project Katana | Microsoft-Dokumentation
author: howarddierking
description: Das ASP.NET-Framework ist seit mehr als zehn Jahren verfügbar, und die Plattform hat die Entwicklung von zahllosen Websites und Diensten ermöglicht. Als Webanwendung...
ms.author: riande
ms.date: 08/30/2013
ms.assetid: 0ee21741-c1bf-4025-a9b0-24580cae24bc
msc.legacyurl: /aspnet/overview/owin-and-katana/an-overview-of-project-katana
msc.type: authoredcontent
ms.openlocfilehash: 1f28db822930cdfd2ebf4cf9bb27d173f4aa4201
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78500343"
---
# <a name="an-overview-of-project-katana"></a><span data-ttu-id="085a1-104">Übersicht über das Katana-Projekt</span><span class="sxs-lookup"><span data-stu-id="085a1-104">An Overview of Project Katana</span></span>

<span data-ttu-id="085a1-105">von [Howard Dierking](https://github.com/howarddierking)</span><span class="sxs-lookup"><span data-stu-id="085a1-105">by [Howard Dierking](https://github.com/howarddierking)</span></span>

> <span data-ttu-id="085a1-106">Das ASP.NET-Framework ist seit mehr als zehn Jahren verfügbar, und die Plattform hat die Entwicklung von zahllosen Websites und Diensten ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="085a1-106">The ASP.NET Framework has been around for over ten years, and the platform has enabled the development of countless Web sites and services.</span></span> <span data-ttu-id="085a1-107">Da sich Webanwendungs-Entwicklungsstrategien entwickelt haben, ist das Framework in der Lage, sich mit Technologien wie ASP.NET MVC und ASP.net-Web-API zu entwickeln.</span><span class="sxs-lookup"><span data-stu-id="085a1-107">As Web application development strategies have evolved, the framework has been able to evolve in step with technologies like ASP.NET MVC and ASP.NET Web API.</span></span> <span data-ttu-id="085a1-108">Da die Entwicklung von Webanwendungen den nächsten evolutionären Schritt in die Welt der Cloud Computing übernimmt, stellt Project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) den zugrunde liegenden Satz von Komponenten für ASP.NET-Anwendungen bereit, sodass Sie flexibel, portabel und einfach zu gestalten sind. – können Sie auf andere Weise Ihre ASP.NET-Anwendungen mit Project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) Cloud optimieren.</span><span class="sxs-lookup"><span data-stu-id="085a1-108">As Web application development takes its next evolutionary step into the world of cloud computing, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) provides the underlying set of components to ASP.NET applications, enabling them to be flexible, portable, lightweight, and provide better performance – put another way, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) cloud optimizes your ASP.NET applications.</span></span>

## <a name="why-katana--why-now"></a><span data-ttu-id="085a1-109">Warum Katana – warum jetzt?</span><span class="sxs-lookup"><span data-stu-id="085a1-109">Why Katana – Why Now?</span></span>

 <span data-ttu-id="085a1-110">Unabhängig davon, ob ein Entwickler-oder Endbenutzer Produkt diskutiert wird, ist es wichtig, sich mit den zugrunde liegenden Beweggründen für die Erstellung des Produkts – vertraut zu machen. Außerdem ist es wichtig, dass Sie wissen, wofür das Produkt erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="085a1-110">Regardless whether one is discussing a developer framework or end-user product, it's important to understand the underlying motivations for creating the product – and part of that includes knowing who the product was created for.</span></span> <span data-ttu-id="085a1-111">ASP.net wurde ursprünglich mit zwei Kunden erstellt.</span><span class="sxs-lookup"><span data-stu-id="085a1-111">ASP.NET was originally created with two customers in mind.</span></span>   
  
<span data-ttu-id="085a1-112">**Die erste Kundengruppe waren klassische ASP-Entwickler.**</span><span class="sxs-lookup"><span data-stu-id="085a1-112">**The first group of customers was classic ASP developers.**</span></span> <span data-ttu-id="085a1-113">Zu diesem Zeitpunkt war ASP eine der primären Technologien zum Erstellen dynamischer, datengesteuerte Websites und Anwendungen durch das Zusammenwirken von Markup und Server seitigem Skript.</span><span class="sxs-lookup"><span data-stu-id="085a1-113">At the time, ASP was one of the primary technologies for creating dynamic, data-driven Web sites and applications by interweaving markup and server-side script.</span></span> <span data-ttu-id="085a1-114">Die ASP-Laufzeit hat serverseitiges Skript mit einer Reihe von Objekten bereitgestellt, die die Kernaspekte des zugrunde liegenden http-Protokolls und des Webservers abstrahiert haben und Zugriff auf zusätzliche Dienste wie Sitzungs-und Anwendungs Zustands Verwaltung, Cache usw. bieten. Leistungsstarke, klassische ASP-Anwendungen wurden bei der Bewältigung der Größe und Komplexität zu einer Herausforderung.</span><span class="sxs-lookup"><span data-stu-id="085a1-114">The ASP runtime supplied server-side script with a set of objects that abstracted core aspects of the underlying HTTP protocol and Web server and provided access to additional services such session and application state management, cache, etc. While powerful, classic ASP applications became a challenge to manage as they grew in size and complexity.</span></span> <span data-ttu-id="085a1-115">Dies war größtenteils auf die fehlende Struktur in Skript Umgebungen zurückzuführen, die mit der Duplizierung von Code zusammenhängen, der sich aus dem Überschreiben von Code und Markup ergibt.</span><span class="sxs-lookup"><span data-stu-id="085a1-115">This was largely due to the lack of structure found in scripting environments coupled with the duplication of code resulting from the interleaving of code and markup.</span></span> <span data-ttu-id="085a1-116">Um die Stärken von klassischem ASP bei der Bewältigung einiger Herausforderungen zu nutzen, hat ASP.net die von den objektorientierten Sprachen der .NET Framework bereitgestellte Code Organisation genutzt, während gleichzeitig auch das serverseitige Programmiermodell beibehalten wird. an welche klassischen ASP-Entwickler gewöhnt waren.</span><span class="sxs-lookup"><span data-stu-id="085a1-116">In order to capitalize on the strengths of classic ASP while addressing some of its challenges, ASP.NET took advantage of the code organization provided by the object-oriented languages of the .NET Framework while also preserving the server-side programming model to which classic ASP developers had grown accustomed.</span></span>

<span data-ttu-id="085a1-117">**Die zweite Gruppe von Zielkunden für ASP.net waren Entwickler von Windows-Geschäftsanwendungen.**</span><span class="sxs-lookup"><span data-stu-id="085a1-117">**The second group of target customers for ASP.NET was Windows business application developers.**</span></span> <span data-ttu-id="085a1-118">Im Gegensatz zu klassischen ASP-Entwicklern, die an das Schreiben von HTML-Markup und den Code zum Generieren von mehr HTML-Markup gewöhnt waren, waren WinForms-Entwickler (wie die von Ihnen vorgenommenen VB6-Entwickler) an eine Entwurfszeit Oberfläche gewöhnt, die eine Canvas und eine Vielzahl von Benutzern enthielt. Schnittstellen Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="085a1-118">Unlike classic ASP developers, who were accustomed to writing HTML markup and the code to generate more HTML markup, WinForms developers (like the VB6 developers before them) were accustomed to a design time experience that included a canvas and a rich set of user interface controls.</span></span> <span data-ttu-id="085a1-119">Die erste Version von ASP.net – wird auch als "Web Forms" bezeichnet und bietet eine ähnliche Entwurfszeit Oberfläche sowie ein serverseitiges Ereignis Modell für Benutzeroberflächen Komponenten und einen Satz von Infrastruktur Features (z. b. ViewState), um eine nahtlose Entwickler Oberfläche zu erstellen. zwischen Client-und serverseitiger Programmierung.</span><span class="sxs-lookup"><span data-stu-id="085a1-119">The first version of ASP.NET – also known as "Web Forms" provided a similar design time experience along with a server-side event model for user interface components and a set of infrastructure features (such as ViewState) to create a seamless developer experience between client and server side programming.</span></span> <span data-ttu-id="085a1-120">Web Forms die Zustands lose Struktur des webzustands unter einem Zustands behafteten Ereignis Modell, das WinForms-Entwickler vertraut war, praktisch verborgen.</span><span class="sxs-lookup"><span data-stu-id="085a1-120">Web Forms effectively hid the Web's stateless nature under a stateful event model that was familiar to WinForms developers.</span></span>

### <a name="challenges-raised-by-the-historical-model"></a><span data-ttu-id="085a1-121">Herausforderungen, die vom historischen Modell ausgelöst wurden</span><span class="sxs-lookup"><span data-stu-id="085a1-121">Challenges Raised by the Historical Model</span></span>

<span data-ttu-id="085a1-122">**Das Endergebnis war ein ausgereiftes, Funktions Reiches Lauf Zeit-und Entwickler Programmiermodell.**</span><span class="sxs-lookup"><span data-stu-id="085a1-122">**The net result was a mature, feature-rich runtime and developer programming model.**</span></span> <span data-ttu-id="085a1-123">Mit dieser Funktion gab es jedoch einige wichtige Herausforderungen.</span><span class="sxs-lookup"><span data-stu-id="085a1-123">However, with that feature-richness came a couple notable challenges.</span></span> <span data-ttu-id="085a1-124">Erstens war das Framework **monolithischer**, mit logisch unterschiedlichen Funktionseinheiten, die eng in derselben System. Web. dll-Assembly gekoppelt waren (z. b. die http-Kern Objekte mit dem Web Forms-Framework).</span><span class="sxs-lookup"><span data-stu-id="085a1-124">Firstly, the framework was **monolithic**, with logically disparate units of functionality being tightly coupled in the same System.Web.dll assembly (for example, the core HTTP objects with the Web forms framework).</span></span> <span data-ttu-id="085a1-125">Zweitens war ASP.net als Teil des größeren .NET Framework enthalten, das bedeutete, dass die **Zeit zwischen den Releases in der Reihenfolge der Jahre lag.**</span><span class="sxs-lookup"><span data-stu-id="085a1-125">Secondly, ASP.NET was included as a part of the larger .NET Framework, which meant that the **time between releases was on the order of years.**</span></span> <span data-ttu-id="085a1-126">Dies machte es für ASP.net schwierig, alle Änderungen in der schnell entwickelnden Webentwicklung mit allen Änderungen zu übernehmen.</span><span class="sxs-lookup"><span data-stu-id="085a1-126">This made it difficult for ASP.NET to keep pace with all of the changes happening in rapidly evolving Web development.</span></span> <span data-ttu-id="085a1-127">Schließlich wurde "System. Web. dll" selbst auf verschiedene Arten an eine bestimmte webhostingoption gekoppelt: Internetinformationsdienste (IIS).</span><span class="sxs-lookup"><span data-stu-id="085a1-127">Finally, System.Web.dll itself was coupled in a few different ways to a specific Web hosting option: Internet Information Services (IIS).</span></span>

### <a name="evolutionary-steps-aspnet-mvc-and-aspnet-web-api"></a><span data-ttu-id="085a1-128">Evolutionäre Schritte: ASP.NET MVC und ASP.net-Web-API</span><span class="sxs-lookup"><span data-stu-id="085a1-128">Evolutionary steps: ASP.NET MVC and ASP.NET Web API</span></span>

<span data-ttu-id="085a1-129">Und viele Änderungen an der Webentwicklung.</span><span class="sxs-lookup"><span data-stu-id="085a1-129">And lots of change was happening in Web development!</span></span> <span data-ttu-id="085a1-130">Webanwendungen wurden zunehmend als eine Reihe kleiner, fokussierte Komponenten und nicht als große Frameworks entwickelt.</span><span class="sxs-lookup"><span data-stu-id="085a1-130">Web applications were increasingly being developed as a series of small, focused components rather than large frameworks.</span></span> <span data-ttu-id="085a1-131">Die Anzahl der Komponenten und die Häufigkeit, mit der Sie freigegeben wurden, stieg zu einer immer schnelleren Rate.</span><span class="sxs-lookup"><span data-stu-id="085a1-131">The number of components as well as the frequency with which they were released was increasing at an ever faster rate.</span></span> <span data-ttu-id="085a1-132">Es ist klar, dass die Beibehaltung des webins mit dem Web Frameworks erfordern würde, dass Frameworks kleiner, entkoppelter und eher schwer zu finden sind, anstatt größer und funktionsreicher zu sein. daher **hat das ASP.net-Team mehrere evolutionäre Schritte ausgeführt, um ASP.net als eine Familie austauschbarer Webkomponenten anstelle eines einzelnen Frameworks zu ermöglichen**.</span><span class="sxs-lookup"><span data-stu-id="085a1-132">It was clear that keeping pace with the Web would require frameworks to get smaller, decoupled and more focused rather than larger and more feature-rich, therefore the **ASP.NET team took several evolutionary steps to enable ASP.NET as a family of pluggable Web components rather than a single framework**.</span></span>

<span data-ttu-id="085a1-133">Eine der frühen Änderungen war der Anstieg der Beliebtheit des bekannten Model-View-Controller-Entwurfs Musters (MVC) dank Webentwicklungs-Frameworks wie Ruby on Rails.</span><span class="sxs-lookup"><span data-stu-id="085a1-133">One of the early changes was the rise in popularity of the well-known model-view-controller (MVC) design pattern thanks to Web development frameworks like Ruby on Rails.</span></span> <span data-ttu-id="085a1-134">Diese Art der Entwicklung von Webanwendungen verschafft dem Entwickler eine bessere Kontrolle über das Markup Ihrer Anwendung, während gleichzeitig die Trennung von Markup und Geschäftslogik beibehalten wurde. Dies war einer der ersten Verkaufspunkte für ASP.net.</span><span class="sxs-lookup"><span data-stu-id="085a1-134">This style of building Web applications gave the developer greater control over her application's markup while still preserving the separation of markup and business logic, which was one of the initial selling points for ASP.NET.</span></span> <span data-ttu-id="085a1-135">Um die Nachfrage nach diesem Stil der Webanwendungs Entwicklung zu erfüllen, hat Microsoft die Gelegenheit genommen, sich für die Zukunft besser zu positionieren, indem **ASP.NET MVC out-of-Band entwickelt** wird (und nicht in die .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="085a1-135">To meet the demand for this style of Web application development, Microsoft took the opportunity to position itself better for the future by **developing ASP.NET MVC out of band** (and not including it in the .NET Framework).</span></span> <span data-ttu-id="085a1-136">ASP.NET MVC wurde als unabhängiger Download veröffentlicht.</span><span class="sxs-lookup"><span data-stu-id="085a1-136">ASP.NET MVC was released as an independent download.</span></span> <span data-ttu-id="085a1-137">Dadurch hat das Engineering-Team die Flexibilität, Updates viel häufiger bereitzustellen, als zuvor möglich waren.</span><span class="sxs-lookup"><span data-stu-id="085a1-137">This gave the engineering team the flexibility to deliver updates much more frequently than had been previously possible.</span></span>

<span data-ttu-id="085a1-138">Ein weiterer wichtiger Wandel bei der Entwicklung von Webanwendungen war der Wechsel von dynamischen, vom Server generierten Webseiten zu statischem anfangs Markup mit dynamischen Abschnitten der Seite, die aus Client seitigem Skript für die Kommunikation mit Back-End- **Web-APIs über AJAX-Anforderungen**generiert wurden.</span><span class="sxs-lookup"><span data-stu-id="085a1-138">Another major shift in Web application development was the shift from dynamic, server-generated Web pages to static initial markup with dynamic sections of the page generated from client-side script communicating **with backend Web APIs through AJAX requests**.</span></span> <span data-ttu-id="085a1-139">Diese Architektur Schicht hat das Aufkommen von Web-APIs und die Entwicklung des ASP.net-Web-API Frameworks geholfen.</span><span class="sxs-lookup"><span data-stu-id="085a1-139">This architectural shift helped propel the rise of Web APIs, and the development of the ASP.NET Web API framework.</span></span> <span data-ttu-id="085a1-140">Wie im Fall von ASP.NET MVC bietet das Release von ASP.net-Web-API eine weitere Möglichkeit zur Weiterentwicklung von ASP.net als modulareres Framework.</span><span class="sxs-lookup"><span data-stu-id="085a1-140">As in the case of ASP.NET MVC, the release of ASP.NET Web API provided another opportunity to evolve ASP.NET further as a more modular framework.</span></span> <span data-ttu-id="085a1-141">Das Engineering-Team hat die Gelegenheit genutzt und **ASP.net-Web-API so erstellt, dass es keine Abhängigkeiten von den in System. Web. dll gefundenen Kern Frameworktypen gab**.</span><span class="sxs-lookup"><span data-stu-id="085a1-141">The engineering team took advantage of the opportunity and **built ASP.NET Web API such that it had no dependencies on any of the core framework types found in System.Web.dll**.</span></span> <span data-ttu-id="085a1-142">Dies ermöglichte zwei Dinge: Erstens bedeutete dies, dass sich ASP.net-Web-API in einer vollständig eigenständigen Weise entwickeln konnte (und die Iteration weiterhin schnell durchgeführt werden kann, da Sie über nuget geliefert wird).</span><span class="sxs-lookup"><span data-stu-id="085a1-142">This enabled two things: first, it meant that ASP.NET Web API could evolve in a completely self-contained manner (and it could continue to iterate quickly because it is delivered via NuGet).</span></span> <span data-ttu-id="085a1-143">Zweitens: da es keine externen Abhängigkeiten von "System. Web. dll" gab und daher keine Abhängigkeiten von IIS vorhanden waren, ASP.net-Web-API die Funktion zur Durchführung auf einem benutzerdefinierten Host (z. b. eine Konsolenanwendung, ein Windows-Dienst usw.) enthalten.</span><span class="sxs-lookup"><span data-stu-id="085a1-143">Second, because there were no external dependencies to System.Web.dll, and therefore, no dependencies to IIS, ASP.NET Web API included the capability to run in a custom host (for example, a console application, Windows service, etc.)</span></span>

### <a name="the-future-a-nimble-framework"></a><span data-ttu-id="085a1-144">Die Zukunft: ein Bare-Framework</span><span class="sxs-lookup"><span data-stu-id="085a1-144">The Future: A Nimble Framework</span></span>

<span data-ttu-id="085a1-145">Durch das Entkoppeln von frameworkkomponenten untereinander und deren Freigabe auf nuget könnten Frameworks nun **unabhängig und schneller iterieren**.</span><span class="sxs-lookup"><span data-stu-id="085a1-145">By decoupling framework components from one another and then releasing them on NuGet, frameworks could now **iterate more independently and more quickly**.</span></span> <span data-ttu-id="085a1-146">Außerdem erwies sich die Leistungsfähigkeit und Flexibilität der Self-Hosting-Funktion der Web-API für Entwickler, die einen **kleinen, kleinen Host** für ihre Dienste wünschen, als sehr attraktiv erwiesen.</span><span class="sxs-lookup"><span data-stu-id="085a1-146">Additionally, the power and flexibility of Web API's self-hosting capability proved very attractive to developers who wanted a **small, lightweight host** for their services.</span></span> <span data-ttu-id="085a1-147">Es hat sich als attraktiv erwiesen, dass andere Frameworks diese Funktion ebenfalls benötigen, und dies stellte eine neue Herausforderung dar, da jedes Framework in einem eigenen Host Prozess auf der Basisadresse ausgeführt wurde und für die Verwaltung (gestartet, beendet usw.) unabhängig war.</span><span class="sxs-lookup"><span data-stu-id="085a1-147">It proved so attractive, in fact, that other frameworks also wanted this capability, and this surfaced a new challenge in that each framework ran in its own host process on its own base address and needed to be managed (started, stopped, etc.) independently.</span></span> <span data-ttu-id="085a1-148">Eine moderne Webanwendung unterstützt im allgemeinen statische Datei Bereitstellung, dynamische Seitengenerierung, Web-API und neuere Echt Zeit-/Pushbenachrichtigungen.</span><span class="sxs-lookup"><span data-stu-id="085a1-148">A modern Web application generally supports static file serving, dynamic page generation, Web API, and more recently real-time/push notifications.</span></span> <span data-ttu-id="085a1-149">Es ist nicht realistisch, dass jeder dieser Dienste unabhängig voneinander ausgeführt und verwaltet werden sollte.</span><span class="sxs-lookup"><span data-stu-id="085a1-149">Expecting that each of these services should be run and managed independently was simply not realistic.</span></span>

<span data-ttu-id="085a1-150">Was erforderlich war, war eine einzelne hostingabstraktion, die es Entwicklern ermöglicht, eine Anwendung aus einer Vielzahl verschiedener Komponenten und Frameworks zu verfassen und diese Anwendung dann auf einem unterstützenden Host auszuführen.</span><span class="sxs-lookup"><span data-stu-id="085a1-150">What was needed was a single hosting abstraction that would enable a developer to compose an application from a variety of different components and frameworks, and then run that application on a supporting host.</span></span>

## <a name="the-open-web-interface-for-net-owin"></a><span data-ttu-id="085a1-151">Die Open Web Interface für .net (owin)</span><span class="sxs-lookup"><span data-stu-id="085a1-151">The Open Web Interface for .NET (OWIN)</span></span>

 <span data-ttu-id="085a1-152">Inspiriert von den Vorteilen, die das [Gestell](http://rack.github.io/) in der Ruby-Community erzielt hat, haben mehrere Mitglieder der .net-Community festgelegt, dass eine Abstraktion zwischen den Webserver und den frameworkkomponenten erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-152">Inspired by the benefits achieved by [Rack](http://rack.github.io/) in the Ruby community, several members of the .NET community set out to create an abstraction between Web servers and framework components.</span></span> <span data-ttu-id="085a1-153">Zwei Entwurfs Ziele für die owin-Abstraktion waren, dass Sie einfach war und dass Sie die geringstmöglichen Abhängigkeiten von anderen Frameworktypen brauchte.</span><span class="sxs-lookup"><span data-stu-id="085a1-153">Two design goals for the OWIN abstraction were that it was simple and that it took the fewest possible dependencies on other framework types.</span></span> <span data-ttu-id="085a1-154">Diese beiden Ziele helfen dabei, Folgendes sicherzustellen:</span><span class="sxs-lookup"><span data-stu-id="085a1-154">These two goals help ensure:</span></span>

- <span data-ttu-id="085a1-155">Neue Komponenten könnten leichter entwickelt und genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-155">New components could be more easily developed and consumed.</span></span>
- <span data-ttu-id="085a1-156">Anwendungen können leichter zwischen Hosts und potenziell ganzen Plattformen/Betriebssystemen portiert werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-156">Applications could be more easily ported between hosts and potentially entire platforms/operating systems.</span></span>

<span data-ttu-id="085a1-157">Die resultierende Abstraktion besteht aus zwei Kernelementen.</span><span class="sxs-lookup"><span data-stu-id="085a1-157">The resulting abstraction consists of two core elements.</span></span> <span data-ttu-id="085a1-158">Das erste ist das Umgebungs Wörterbuch.</span><span class="sxs-lookup"><span data-stu-id="085a1-158">The first is the environment dictionary.</span></span> <span data-ttu-id="085a1-159">Diese Datenstruktur ist dafür verantwortlich, den gesamten Zustand zu speichern, der für die Verarbeitung einer HTTP-Anforderung und-Antwort sowie für jeden relevanten Server Zustand erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="085a1-159">This data structure is responsible for storing all of the state necessary for processing an HTTP request and response, as well as any relevant server state.</span></span> <span data-ttu-id="085a1-160">Das Umgebungs Wörterbuch ist wie folgt definiert:</span><span class="sxs-lookup"><span data-stu-id="085a1-160">The environment dictionary is defined as follows:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample1.cmd)]

<span data-ttu-id="085a1-161">Ein owin-kompatibler Webserver ist für das Auffüllen des Umgebungs Wörterbuchs mit Daten wie Text Ströme und Header Auflistungen für eine HTTP-Anforderung und-Antwort verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="085a1-161">An OWIN-compatible Web server is responsible for populating the environment dictionary with data such as the body streams and header collections for an HTTP request and response.</span></span> <span data-ttu-id="085a1-162">Es ist dann die Aufgabe der Anwendungs-oder frameworkkomponenten, das Wörterbuch mit zusätzlichen Werten zu füllen oder zu aktualisieren und in den Antworttext-Stream zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="085a1-162">It is then the responsibility of the application or framework components to populate or update the dictionary with additional values and write to the response body stream.</span></span>

<span data-ttu-id="085a1-163">Zusätzlich zur Angabe des Typs für das Umgebungs Wörterbuch definiert die owin-Spezifikation eine Liste von Schlüssel-Wert-Paaren für Schlüsselwörter.</span><span class="sxs-lookup"><span data-stu-id="085a1-163">In addition to specifying the type for the environment dictionary, the OWIN specification defines a list of core dictionary key value pairs.</span></span> <span data-ttu-id="085a1-164">In der folgenden Tabelle werden z. b. die erforderlichen Wörterbuch Schlüssel für eine HTTP-Anforderung angezeigt:</span><span class="sxs-lookup"><span data-stu-id="085a1-164">For example, the following table shows the required dictionary keys for an HTTP request:</span></span>

| <span data-ttu-id="085a1-165">Schlüsselname</span><span class="sxs-lookup"><span data-stu-id="085a1-165">Key Name</span></span> | <span data-ttu-id="085a1-166">Wert Beschreibung</span><span class="sxs-lookup"><span data-stu-id="085a1-166">Value Description</span></span> |
| --- | --- |
| `"owin.RequestBody"` | <span data-ttu-id="085a1-167">Ein Stream mit dem Anforderungs Text, falls vorhanden.</span><span class="sxs-lookup"><span data-stu-id="085a1-167">A Stream with the request body, if any.</span></span> <span data-ttu-id="085a1-168">Stream. NULL kann als Platzhalter verwendet werden, wenn kein Anforderungs Text vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="085a1-168">Stream.Null MAY be used as a placeholder if there is no request body.</span></span> <span data-ttu-id="085a1-169">Siehe [Anforderungs Text](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span><span class="sxs-lookup"><span data-stu-id="085a1-169">See [Request Body](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span></span> |
| `"owin.RequestHeaders"` | <span data-ttu-id="085a1-170">Eine `IDictionary<string, string[]>` von Anforderungs Headern.</span><span class="sxs-lookup"><span data-stu-id="085a1-170">An `IDictionary<string, string[]>` of request headers.</span></span> <span data-ttu-id="085a1-171">Siehe [Header](http://owin.org/html/owin.html#3-3-headers).</span><span class="sxs-lookup"><span data-stu-id="085a1-171">See [Headers](http://owin.org/html/owin.html#3-3-headers).</span></span> |
| `"owin.RequestMethod"` | <span data-ttu-id="085a1-172">Eine `string`, die die HTTP-Anforderungs Methode der Anforderung enthält (z. b. `"GET"`, `"POST"`).</span><span class="sxs-lookup"><span data-stu-id="085a1-172">A `string` containing the HTTP request method of the request (e.g., `"GET"`, `"POST"`).</span></span> |
| `"owin.RequestPath"` | <span data-ttu-id="085a1-173">Eine `string`, die den Anforderungs Pfad enthält.</span><span class="sxs-lookup"><span data-stu-id="085a1-173">A `string` containing the request path.</span></span> <span data-ttu-id="085a1-174">Der Pfad muss relativ zum "root" des Anwendungs Delegaten sein. siehe [Pfade](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="085a1-174">The path MUST be relative to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestPathBase"` | <span data-ttu-id="085a1-175">Eine `string`, die den Teil des Anforderungs Pfads enthält, der dem "root" des Anwendungs Delegaten entspricht. siehe [Pfade](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="085a1-175">A `string` containing the portion of the request path corresponding to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestProtocol"` | <span data-ttu-id="085a1-176">Eine `string`, die den Protokollnamen und die Version enthält (z. b. `"HTTP/1.0"` oder `"HTTP/1.1"`).</span><span class="sxs-lookup"><span data-stu-id="085a1-176">A `string` containing the protocol name and version (e.g. `"HTTP/1.0"` or `"HTTP/1.1"`).</span></span> |
| `"owin.RequestQueryString"` | <span data-ttu-id="085a1-177">Eine `string`, die die Abfrage Zeichenfolgen-Komponente des HTTP-Anforderungs-URI enthält, ohne das führende "?" (z. b. `"foo=bar&baz=quux"`).</span><span class="sxs-lookup"><span data-stu-id="085a1-177">A `string` containing the query string component of the HTTP request URI, without the leading "?" (e.g., `"foo=bar&baz=quux"`).</span></span> <span data-ttu-id="085a1-178">Der Wert kann eine leere Zeichenfolge sein.</span><span class="sxs-lookup"><span data-stu-id="085a1-178">The value may be an empty string.</span></span> |
| `"owin.RequestScheme"` | <span data-ttu-id="085a1-179">Eine `string`, die das für die Anforderung verwendete URI-Schema enthält (z. b. `"http"`, `"https"`). siehe [URI-Schema](http://owin.org/html/owin.html#5-1-uri-scheme).</span><span class="sxs-lookup"><span data-stu-id="085a1-179">A `string` containing the URI scheme used for the request (e.g., `"http"`, `"https"`); see [URI Scheme](http://owin.org/html/owin.html#5-1-uri-scheme).</span></span> |

<span data-ttu-id="085a1-180">Das zweite Schlüsselelement von owin ist der Anwendungs Delegat.</span><span class="sxs-lookup"><span data-stu-id="085a1-180">The second key element of OWIN is the application delegate.</span></span> <span data-ttu-id="085a1-181">Dabei handelt es sich um eine Funktions Signatur, die als primäre Schnittstelle zwischen allen Komponenten in einer owin-Anwendung fungiert.</span><span class="sxs-lookup"><span data-stu-id="085a1-181">This is a function signature which serves as the primary interface between all components in an OWIN application.</span></span> <span data-ttu-id="085a1-182">Die Definition für den Anwendungs Delegaten lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="085a1-182">The definition for the application delegate is as follows:</span></span>

`Func<IDictionary<string, object>, Task>;`

<span data-ttu-id="085a1-183">Der Anwendungs Delegat ist dann einfach eine Implementierung des Func-Delegattyps, bei dem die Funktion das Umgebungs Wörterbuch als Eingabe akzeptiert und eine Aufgabe zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="085a1-183">The application delegate then is simply an implementation of the Func delegate type where the function accepts the environment dictionary as input and returns a Task.</span></span> <span data-ttu-id="085a1-184">Dieser Entwurf hat einige Auswirkungen auf Entwickler:</span><span class="sxs-lookup"><span data-stu-id="085a1-184">This design has several implications for developers:</span></span>

- <span data-ttu-id="085a1-185">Zum Schreiben von owin-Komponenten ist eine sehr geringe Anzahl von typabhängigkeiten erforderlich.</span><span class="sxs-lookup"><span data-stu-id="085a1-185">There are a very small number of type dependencies required in order to write OWIN components.</span></span> <span data-ttu-id="085a1-186">Dadurch wird die Zugriffsmöglichkeit von owin für Entwickler erheblich erhöht.</span><span class="sxs-lookup"><span data-stu-id="085a1-186">This greatly increases the accessibility of OWIN to developers.</span></span>
- <span data-ttu-id="085a1-187">Der asynchrone Entwurf ermöglicht die effiziente Abstraktion mit der Verarbeitung von Computerressourcen, insbesondere bei mehr e/a-intensiven Vorgängen.</span><span class="sxs-lookup"><span data-stu-id="085a1-187">The asynchronous design enables the abstraction to be efficient with its handling of computing resources, particularly in more I/O intensive operations.</span></span>
- <span data-ttu-id="085a1-188">Da der Anwendungs Delegat eine atomarische Ausführungs Einheit ist und das Umgebungs Wörterbuch als Parameter für den Delegaten übernommen wird, können owin-Komponenten problemlos miteinander verkettet werden, um komplexe http-Verarbeitungs Pipelines zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="085a1-188">Because the application delegate is an atomic unit of execution and because the environment dictionary is carried as a parameter on the delegate, OWIN components can be easily chained together to create complex HTTP processing pipelines.</span></span>

<span data-ttu-id="085a1-189">Aus Implementierungs Sicht ist owin eine Spezifikation ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span><span class="sxs-lookup"><span data-stu-id="085a1-189">From an implementation perspective, OWIN is a specification ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span></span> <span data-ttu-id="085a1-190">Das Ziel ist nicht das nächste Webframework, sondern eine Spezifikation für die Interaktion von Webframe Works und Webservern.</span><span class="sxs-lookup"><span data-stu-id="085a1-190">Its goal is not to be the next Web framework, but rather a specification for how Web frameworks and Web servers interact.</span></span>

<span data-ttu-id="085a1-191">Wenn Sie [owin](http://owin.org/) oder [Katana](https://github.com/aspnet/AspNetKatana/wiki)untersucht haben, haben Sie möglicherweise auch das [owin-nuget-Paket](http://nuget.org/packages/Owin) und die owin. dll bemerkt.</span><span class="sxs-lookup"><span data-stu-id="085a1-191">If you've investigated [OWIN](http://owin.org/) or [Katana](https://github.com/aspnet/AspNetKatana/wiki), you may also have noticed the [Owin NuGet package](http://nuget.org/packages/Owin) and Owin.dll.</span></span> <span data-ttu-id="085a1-192">Diese Bibliothek enthält eine einzige Schnittstelle, [iappbuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), mit der die in [Abschnitt 4](http://owin.org/html/owin.html#4-application-startup) der owin-Spezifikation beschriebene Startsequenz formatiert und comiert wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-192">This library contains a single interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), which formalizes and codifies the startup sequence described in [section 4](http://owin.org/html/owin.html#4-application-startup) of the OWIN specification.</span></span> <span data-ttu-id="085a1-193">Obwohl es nicht erforderlich ist, um owin-Server zu erstellen, stellt die [iappbuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) -Schnittstelle einen konkreten Bezugspunkt bereit und wird von den Projektkomponenten von Katana verwendet.</span><span class="sxs-lookup"><span data-stu-id="085a1-193">While not required in order to build OWIN servers, the [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface provides a concrete reference point, and it is used by the Katana project components.</span></span>

## <a name="project-katana"></a><span data-ttu-id="085a1-194">Project Katana</span><span class="sxs-lookup"><span data-stu-id="085a1-194">Project Katana</span></span>

<span data-ttu-id="085a1-195">Während sowohl die [owin](http://owin.org/html/owin.html) -Spezifikation als auch die *owin. dll* -Community im Besitz von Open Source-Aktivitäten sind, stellt das [Katana](https://github.com/aspnet/AspNetKatana/wiki) -Projekt den Satz von owin-Komponenten dar, die von Microsoft erstellt und freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-195">Whereas both the [OWIN](http://owin.org/html/owin.html) specification and *Owin.dll* are community owned and community run open source efforts, the [Katana](https://github.com/aspnet/AspNetKatana/wiki) project represents the set of OWIN components that, while still open source, are built and released by Microsoft.</span></span> <span data-ttu-id="085a1-196">Diese Komponenten umfassen beide Infrastrukturkomponenten, z. b. Hosts und Server, sowie funktionale Komponenten wie z. b. Authentifizierungs Komponenten und Bindungen an Frameworks wie [signalr](../../../signalr/index.md) und [ASP.net-Web-API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span><span class="sxs-lookup"><span data-stu-id="085a1-196">These components include both infrastructure components, such as hosts and servers, as well as functional components, such as authentication components and bindings to frameworks such as [SignalR](../../../signalr/index.md) and [ASP.NET Web API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span></span> <span data-ttu-id="085a1-197">Das Projekt verfügt über die folgenden drei Ziele:</span><span class="sxs-lookup"><span data-stu-id="085a1-197">The project has the following three high level goals:</span></span> 

- <span data-ttu-id="085a1-198">**Portable** –-Komponenten sollten in der Lage sein, neue Komponenten problemlos zu ersetzen, sobald Sie verfügbar werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-198">**Portable** – Components should be able to be easily substituted for new components as they become available.</span></span> <span data-ttu-id="085a1-199">Dies schließt alle Arten von Komponenten ein, vom Framework zum Server und Host.</span><span class="sxs-lookup"><span data-stu-id="085a1-199">This includes all types of components, from the framework to the server and host.</span></span> <span data-ttu-id="085a1-200">Diese Zielsetzung besteht darin, dass Frameworks von Drittanbietern nahtlos auf Microsoft-Servern ausgeführt werden können, während Microsoft-Frameworks potenziell auf Servern und Hosts von Drittanbietern ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="085a1-200">The implication of this goal is that third party frameworks can seamlessly run on Microsoft servers while Microsoft frameworks can potentially run on third party servers and hosts.</span></span>
- <span data-ttu-id="085a1-201">**Modular/flexibel**– im Gegensatz zu vielen Frameworks, die eine Vielzahl von Features enthalten, die standardmäßig aktiviert sind, sollten die Katana-Projektkomponenten klein und schwer fokussiert sein, sodass der Anwendungsentwickler die Kontrolle darüber erhält, welche Komponenten in Ihrer Anwendung verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="085a1-201">**Modular/flexible**– Unlike many frameworks which include a myriad of features that are turned on by default, Katana project components should be small and focused, giving control over to the application developer in determining which components to use in her application.</span></span>
- <span data-ttu-id="085a1-202">**Lightweight/Performance/Scalable** – durch Aufteilen des herkömmlichen Konzepts eines Frameworks in eine Reihe kleiner, fokussierte Komponenten, die vom Anwendungsentwickler explizit hinzugefügt werden, kann eine sich ergebende Katana-Anwendung weniger Computerressourcen verbrauchen und somit eine höhere Auslastung als andere Typen von Servern und Frameworks verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="085a1-202">**Lightweight/performant/scalable** – By breaking the traditional notion of a framework into a set of small, focused components which are added explicitly by the application developer, a resulting Katana application can consume fewer computing resources, and as a result, handle more load, than with other types of servers and frameworks.</span></span> <span data-ttu-id="085a1-203">Da die Anforderungen der Anwendung mehr Features aus der zugrunde liegenden Infrastruktur erfordern, können diese der owin-Pipeline hinzugefügt werden. Dies sollte jedoch eine explizite Entscheidung für den Teil des Anwendungs Entwicklers sein.</span><span class="sxs-lookup"><span data-stu-id="085a1-203">As the requirements of the application demand more features from the underlying infrastructure, those can be added to the OWIN pipeline, but that should be an explicit decision on the part of the application developer.</span></span> <span data-ttu-id="085a1-204">Außerdem bedeutet die Ersetzung von Komponenten auf niedrigerer Ebene, dass neue Hochleistungsserver nahtlos eingeführt werden können, um die Leistung von owin-Anwendungen zu verbessern, ohne diese Anwendungen zu unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="085a1-204">Additionally, the substitutability of lower level components means that as they become available, new high performance servers can seamlessly be introduced to improve the performance of OWIN applications without breaking those applications.</span></span>

## <a name="getting-started-with-katana-components"></a><span data-ttu-id="085a1-205">Einstieg in Katana-Komponenten</span><span class="sxs-lookup"><span data-stu-id="085a1-205">Getting Started with Katana Components</span></span>

<span data-ttu-id="085a1-206">Bei der ersten Einführung war ein Aspekt des [node. js](http://nodejs.org/) -Frameworks, das die Aufmerksamkeit der Menschen sofort aufzeichnete, die Einfachheit, mit der ein Webserver erstellt und ausgeführt werden konnte.</span><span class="sxs-lookup"><span data-stu-id="085a1-206">When it was first introduced, one aspect of the [Node.js](http://nodejs.org/) framework that immediately drew people's attention was the simplicity with which one could author and run a Web server.</span></span> <span data-ttu-id="085a1-207">Wenn die Katana-Ziele im Licht von [node. js](http://nodejs.org/)eingeschlossen wurden, könnte man Sie zusammenfassen, indem man sagt, dass Katana viele der Vorteile von [node. js](http://nodejs.org/) (und Frameworks wie Sie) bringt, ohne dass der Entwickler alles auswirft, was Sie über die Entwicklung von ASP.NET-Webanwendungen weiß.</span><span class="sxs-lookup"><span data-stu-id="085a1-207">If Katana goals were framed in light of [Node.js](http://nodejs.org/), one might summarize them by saying that Katana brings many of the benefits of [Node.js](http://nodejs.org/) (and frameworks like it) without forcing the developer to throw out everything she knows about developing ASP.NET Web applications.</span></span> <span data-ttu-id="085a1-208">Damit diese Anweisung True ist, sollten die ersten Schritte mit dem Katana-Projekt für [node. js](http://nodejs.org/)genauso einfach sein.</span><span class="sxs-lookup"><span data-stu-id="085a1-208">For this statement to hold true, getting started with the Katana project should be equally simple in nature to [Node.js](http://nodejs.org/).</span></span>

## <a name="creating-hello-world"></a><span data-ttu-id="085a1-209">"Hallo Welt!" wird erstellt.</span><span class="sxs-lookup"><span data-stu-id="085a1-209">Creating "Hello World!"</span></span>

<span data-ttu-id="085a1-210">Ein wichtiger Unterschied zwischen der JavaScript-und der .net-Entwicklung ist das vorhanden sein (oder fehlen) eines Compilers.</span><span class="sxs-lookup"><span data-stu-id="085a1-210">One notable difference between JavaScript and .NET development is the presence (or absence) of a compiler.</span></span> <span data-ttu-id="085a1-211">Als Ausgangspunkt für einen einfachen Katana-Server dient das Visual Studio-Projekt.</span><span class="sxs-lookup"><span data-stu-id="085a1-211">As such, the starting point for a simple Katana server is a Visual Studio project.</span></span> <span data-ttu-id="085a1-212">Wir können jedoch mit den geringsten Projekttypen beginnen: der leeren ASP.NET-Webanwendung.</span><span class="sxs-lookup"><span data-stu-id="085a1-212">However, we can start with the most minimal of project types: the Empty ASP.NET Web Application.</span></span>

[![](an-overview-of-project-katana/_static/image1.png)](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb)

<span data-ttu-id="085a1-213">Als nächstes installieren wir das nuget-Paket " [Microsoft. owin. Host. systemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) " im Projekt.</span><span class="sxs-lookup"><span data-stu-id="085a1-213">Next, we will install the [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) NuGet package into the project.</span></span> <span data-ttu-id="085a1-214">Dieses Paket stellt einen owin-Server bereit, der in der ASP.net Request-Pipeline ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-214">This package provides an OWIN server that runs in the ASP.NET request pipeline.</span></span> <span data-ttu-id="085a1-215">Sie finden Sie im [nuget](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) -Katalog und können entweder mithilfe des Dialog Felds "Visual Studio-Paket-Manager" oder der Paket-Manager-Konsole mit dem folgenden Befehl installiert werden:</span><span class="sxs-lookup"><span data-stu-id="085a1-215">It can be found on the [NuGet gallery](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) and can be installed using either the Visual Studio package manager dialog or the package manager console with the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample2.cmd)]

<span data-ttu-id="085a1-216">Wenn Sie das `Microsoft.Owin.Host.SystemWeb` Paket installieren, werden einige zusätzliche Pakete als Abhängigkeiten installiert.</span><span class="sxs-lookup"><span data-stu-id="085a1-216">Installing the `Microsoft.Owin.Host.SystemWeb` package will install a few additional packages as dependencies.</span></span> <span data-ttu-id="085a1-217">Eine dieser Abhängigkeiten ist `Microsoft.Owin`, eine Bibliothek, die mehrere Hilfstypen und Methoden zum Entwickeln von owin-Anwendungen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="085a1-217">One of those dependencies is `Microsoft.Owin`, a library which provides several helper types and methods for developing OWIN applications.</span></span> <span data-ttu-id="085a1-218">Mit diesen Typen können Sie schnell den folgenden "Hello World"-Server schreiben.</span><span class="sxs-lookup"><span data-stu-id="085a1-218">We can use those types to quickly write the following "hello world" server.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample3.cs)]

<span data-ttu-id="085a1-219">Dieser sehr einfache Webserver kann nun mit dem Befehl **F5** von Visual Studio ausgeführt werden und bietet vollständige Unterstützung für das Debuggen.</span><span class="sxs-lookup"><span data-stu-id="085a1-219">This very simple Web server can now be run using Visual Studio's **F5** command and includes full support for debugging.</span></span>

## <a name="switching-hosts"></a><span data-ttu-id="085a1-220">Wechseln von Hosts</span><span class="sxs-lookup"><span data-stu-id="085a1-220">Switching hosts</span></span>

<span data-ttu-id="085a1-221">Standardmäßig wird das vorherige "Hello World"-Beispiel in der ASP.net Request-Pipeline ausgeführt, die System. Web im Kontext von IIS verwendet.</span><span class="sxs-lookup"><span data-stu-id="085a1-221">By default, the previous "hello world" example runs in the ASP.NET request pipeline, which uses System.Web in the context of IIS.</span></span> <span data-ttu-id="085a1-222">Dies kann selbst zu einem enormen Nutzen beitragen, da wir die Flexibilität und Zusammenstellung einer owin-Pipeline mit den Verwaltungsfunktionen und der Gesamt Reife von IIS nutzen können.</span><span class="sxs-lookup"><span data-stu-id="085a1-222">This can by itself add tremendous value as it enables us to benefit from the flexibility and composability of an OWIN pipeline with the management capabilities and overall maturity of IIS.</span></span> <span data-ttu-id="085a1-223">Es gibt jedoch Situationen, in denen die von IIS bereitgestellten Vorteile nicht erforderlich sind und der Wunsch für einen kleineren, leichteren Host ist.</span><span class="sxs-lookup"><span data-stu-id="085a1-223">However, there may be cases where the benefits provided by IIS are not required and the desire is for a smaller, more lightweight host.</span></span> <span data-ttu-id="085a1-224">Was ist erforderlich, um unseren einfachen Webserver außerhalb von IIS und System. Web auszuführen?</span><span class="sxs-lookup"><span data-stu-id="085a1-224">What is needed, then, to run our simple Web server outside of IIS and System.Web?</span></span>

<span data-ttu-id="085a1-225">Um das Portabilitäts Ziel zu veranschaulichen, erfordert das Verschieben eines Webserver Hosts auf einen Befehlszeilen Host lediglich das Hinzufügen der neuen Server-und Host Abhängigkeiten zum Ausgabeordner des Projekts und das anschließende Starten des Hosts.</span><span class="sxs-lookup"><span data-stu-id="085a1-225">To illustrate the portability goal, moving from a Web-server host to a command line host requires simply adding the new server and host dependencies to project's output folder and then starting the host.</span></span> <span data-ttu-id="085a1-226">In diesem Beispiel hosten wir den Webserver auf einem Katana-Host mit dem Namen `OwinHost.exe` und verwenden den auf Katana HttpListener basierenden Server.</span><span class="sxs-lookup"><span data-stu-id="085a1-226">In this example, we'll host our Web server in a Katana host called `OwinHost.exe` and will use the Katana HttpListener-based server.</span></span> <span data-ttu-id="085a1-227">Ebenso wie die anderen Katana-Komponenten werden diese von nuget mit dem folgenden Befehl abgerufen:</span><span class="sxs-lookup"><span data-stu-id="085a1-227">Similarly to the other Katana components, these will be acquired from NuGet using the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample4.cmd)]

<span data-ttu-id="085a1-228">In der Befehlszeile können wir dann zum Stamm Ordner des Projekts navigieren und einfach den `OwinHost.exe` ausführen (der im Ordner "Tools" des entsprechenden nuget-Pakets installiert wurde).</span><span class="sxs-lookup"><span data-stu-id="085a1-228">From the command line, we can then navigate to the project root folder and simply run the `OwinHost.exe` (which was installed in the tools folder of its respective NuGet package).</span></span> <span data-ttu-id="085a1-229">Standardmäßig ist `OwinHost.exe` für die Suche nach dem HttpListener-basierten Server konfiguriert, sodass keine zusätzliche Konfiguration erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="085a1-229">By default, `OwinHost.exe` is configured to look for the HttpListener-based server and so no additional configuration is needed.</span></span> <span data-ttu-id="085a1-230">Wenn Sie in einem Webbrowser zu `http://localhost:5000/` navigieren, wird die Anwendung angezeigt, die jetzt über die Konsole ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-230">Navigating in a Web browser to `http://localhost:5000/` shows the application now running through the console.</span></span>

![](an-overview-of-project-katana/_static/image2.png)

## <a name="katana-architecture"></a><span data-ttu-id="085a1-231">Katana-Architektur</span><span class="sxs-lookup"><span data-stu-id="085a1-231">Katana Architecture</span></span>

 <span data-ttu-id="085a1-232">Die Architektur der Katana-Komponente unterteilt eine Anwendung in vier logische Ebenen, wie unten dargestellt: *Host, Server, Middleware* und *Anwendung*.</span><span class="sxs-lookup"><span data-stu-id="085a1-232">The Katana component architecture divides an application into four logical layers, as depicted below: *host, server, middleware,* and *application*.</span></span> <span data-ttu-id="085a1-233">Die Komponentenarchitektur ist so factoriert, dass Implementierungen dieser Schichten in vielen Fällen problemlos ersetzt werden können, ohne dass die Anwendung neu kompiliert werden muss.</span><span class="sxs-lookup"><span data-stu-id="085a1-233">The component architecture is factored in such a way that implementations of these layers can be easily substituted, in many cases, without requiring recompilation of the application.</span></span>   

![](an-overview-of-project-katana/_static/image3.png)

## <a name="host"></a><span data-ttu-id="085a1-234">Host</span><span class="sxs-lookup"><span data-stu-id="085a1-234">Host</span></span>

 <span data-ttu-id="085a1-235">Der Host ist für Folgendes zuständig:</span><span class="sxs-lookup"><span data-stu-id="085a1-235">The host is responsible for:</span></span>

- <span data-ttu-id="085a1-236">Verwalten des zugrunde liegenden Prozesses.</span><span class="sxs-lookup"><span data-stu-id="085a1-236">Managing the underlying process.</span></span>
- <span data-ttu-id="085a1-237">Orchestrieren des Workflows, der zur Auswahl eines Servers und der Erstellung einer owin-Pipeline führt, über die Anforderungen verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-237">Orchestrating the workflow that results in the selection of a server and the construction of an OWIN pipeline through which requests will be handled.</span></span>

  <span data-ttu-id="085a1-238">Derzeit gibt es drei primäre Hostingoptionen für Katana-basierte Anwendungen:</span><span class="sxs-lookup"><span data-stu-id="085a1-238">At present, there are 3 primary hosting options for Katana-based applications:</span></span>  
  
<span data-ttu-id="085a1-239">**IIS/ASP. net**: bei Verwendung der Standardtypen "HttpModule" und "HttpHandler" können owin-Pipelines auf IIS als Teil eines ASP.net-Anforderungs Flusses ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-239">**IIS/ASP.NET**: Using the standard HttpModule and HttpHandler types, OWIN pipelines can run on IIS as a part of an ASP.NET request flow.</span></span> <span data-ttu-id="085a1-240">Die ASP.net-hostingunterstützung wird aktiviert, indem das nuget-Paket Microsoft. Aspnet. Host. systemWeb in einem Webanwendungs Projekt installiert wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-240">ASP.NET hosting support is enabled by installing the Microsoft.AspNet.Host.SystemWeb NuGet package into a Web application project.</span></span> <span data-ttu-id="085a1-241">Da IIS sowohl als Host als auch als Server fungiert, wird die Unterscheidung von owin-Server/-Host in diesem nuget-Paket zusammengeführt. Dies bedeutet, dass ein Entwickler bei Verwendung des systemWeb-Hosts keine Alternative Server Implementierung ersetzen kann.</span><span class="sxs-lookup"><span data-stu-id="085a1-241">Additionally, because IIS acts as both a host and a server, the OWIN server/host distinction is conflated in this NuGet package, meaning that if using the SystemWeb host, a developer cannot substitute an alternate server implementation.</span></span>  
  
<span data-ttu-id="085a1-242">**Benutzerdefinierter Host**: die Katana Component Suite bietet Entwicklern die Möglichkeit, Anwendungen in einem eigenen benutzerdefinierten Prozess zu hosten, egal ob es sich um eine Konsolenanwendung, einen Windows-Dienst usw. handelt. Diese Funktion ähnelt der von der Web-API bereitgestellten Self-Host-Funktion.</span><span class="sxs-lookup"><span data-stu-id="085a1-242">**Custom Host**: The Katana component suite gives a developer the ability to host applications in her own custom process, whether that is a console application, Windows service, etc. This capability looks similar to the self-host capability provided by Web API.</span></span> <span data-ttu-id="085a1-243">Das folgende Beispiel zeigt einen benutzerdefinierten Host für Web-API-Code:</span><span class="sxs-lookup"><span data-stu-id="085a1-243">The following example shows a custom host of Web API code:</span></span>  

[!code-csharp[Main](an-overview-of-project-katana/samples/sample5.cs)]

<span data-ttu-id="085a1-244">Das Self-Host-Setup für eine Katana-Anwendung ist ähnlich:</span><span class="sxs-lookup"><span data-stu-id="085a1-244">The self-host setup for a Katana application is similar:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample6.cs)]

<span data-ttu-id="085a1-245">Ein wichtiger Unterschied zwischen den Self-Host-Beispielen für Web-API und Katana besteht darin, dass der Web-API-Konfigurations Code im Beispiel für das Katana-Self-Host-Beispiel fehlt.</span><span class="sxs-lookup"><span data-stu-id="085a1-245">One notable difference between the Web API and Katana self-host examples is that the Web API configuration code is missing from the Katana self-host example.</span></span> <span data-ttu-id="085a1-246">Um die Portabilität und die Zusammensetz barkeit zu ermöglichen, trennt Katana den Code, der den Server startet, von dem Code, der die Pipeline für die Anforderungs Verarbeitung konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="085a1-246">In order to enable both portability and composability, Katana separates the code that starts the server from the code that configures the request processing pipeline.</span></span> <span data-ttu-id="085a1-247">Der Code, der die Web-API konfiguriert, ist in der Klasse Startup enthalten, die zusätzlich als Typparameter in WebApplication. Start angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-247">The code that configures Web API, then is contained in the class Startup, which is additionally specified as the type parameter in WebApplication.Start.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample7.cs)]

<span data-ttu-id="085a1-248">Die Startup-Klasse wird weiter unten in diesem Artikel ausführlicher erläutert.</span><span class="sxs-lookup"><span data-stu-id="085a1-248">The startup class will be discussed in greater detail later in the article.</span></span> <span data-ttu-id="085a1-249">Der Code, der zum Starten eines Katana-Self-Host-Prozesses erforderlich ist, ähnelt dem Code, den Sie heute möglicherweise in ASP.net-Web-API Self-Host-Anwendungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="085a1-249">However, the code required to start a Katana self-host process looks strikingly similar to the code that you may be using today in ASP.NET Web API self-host applications.</span></span>

<span data-ttu-id="085a1-250">**Owinhost. exe**: während einige einen benutzerdefinierten Prozess zum Ausführen von Katana-Webanwendungen schreiben möchten, bevorzugen viele einfach eine vorgefertigte ausführbare Datei, die einen Server starten und Ihre Anwendung ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="085a1-250">**OwinHost.exe**: While some will want to write a custom process to run Katana Web applications, many would prefer to simply launch a pre-built executable that can start a server and run their application.</span></span> <span data-ttu-id="085a1-251">In diesem Szenario enthält die Katana-Komponentensuite `OwinHost.exe`.</span><span class="sxs-lookup"><span data-stu-id="085a1-251">For this scenario, the Katana component suite includes `OwinHost.exe`.</span></span> <span data-ttu-id="085a1-252">Wenn die ausführbare Datei innerhalb des Stamm Verzeichnisses eines Projekts ausgeführt wird, wird ein Server gestartet (Standardmäßig wird der HttpListener-Server verwendet), und Konventionen werden verwendet, um die Startklasse des Benutzers zu suchen und auszuführen.</span><span class="sxs-lookup"><span data-stu-id="085a1-252">When run from within a project's root directory, this executable will start a server (it uses the HttpListener server by default) and use conventions to find and run the user's startup class.</span></span> <span data-ttu-id="085a1-253">Für eine präzisetere Steuerung stellt die ausführbare Datei eine Reihe zusätzlicher Befehlszeilenparameter bereit.</span><span class="sxs-lookup"><span data-stu-id="085a1-253">For more granular control, the executable provides a number of additional command line parameters.</span></span>

![](an-overview-of-project-katana/_static/image4.png)

## <a name="server"></a><span data-ttu-id="085a1-254">Server</span><span class="sxs-lookup"><span data-stu-id="085a1-254">Server</span></span>

 <span data-ttu-id="085a1-255">Während der Host für das Starten und Verwalten des Prozesses zuständig ist, in dem die Anwendung ausgeführt wird, besteht die Verantwortung des Servers darin, einen Netzwerksocket zu öffnen, auf Anforderungen zu lauschen und diese über die Pipeline von owin-Komponenten zu senden, die vom Benutzer angegeben werden (wie Sie möglicherweise bereits bemerkt hat, dass diese Pipeline in der Startup-Klasse des Anwendungs Entwicklers angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="085a1-255">While the host is responsible for starting and maintaining process within which the application runs, the responsibility of the server is to open a network socket, listen for requests, and send them through the pipeline of OWIN components specified by the user (as you may have already noticed, this pipeline is specified in the application developer's Startup class).</span></span> <span data-ttu-id="085a1-256">Zurzeit enthält das Katana-Projekt zwei Server Implementierungen:</span><span class="sxs-lookup"><span data-stu-id="085a1-256">Currently, the Katana project includes two server implementations:</span></span> 

- <span data-ttu-id="085a1-257">**Microsoft. owin. Host. systemWeb**: wie bereits erwähnt, fungiert IIS in zusammen mit der ASP.NET-Pipeline sowohl als Host als auch als Server.</span><span class="sxs-lookup"><span data-stu-id="085a1-257">**Microsoft.Owin.Host.SystemWeb**: As previously mentioned, IIS in concert with the ASP.NET pipeline acts as both a host and a server.</span></span> <span data-ttu-id="085a1-258">Wenn Sie diese Hostingoption auswählen, werden daher von IIS beide Aspekte auf Hostebene verwaltet, z. b. die Prozess Aktivierung und die Überwachung von HTTP-Anforderungen</span><span class="sxs-lookup"><span data-stu-id="085a1-258">Therefore, when choosing this hosting option, IIS both manages host-level concerns such as process activation and listens for HTTP requests.</span></span> <span data-ttu-id="085a1-259">Für ASP.NET-Webanwendungen sendet Sie die Anforderungen dann an die ASP.NET-Pipeline.</span><span class="sxs-lookup"><span data-stu-id="085a1-259">For ASP.NET Web applications, it then sends the requests into the ASP.NET pipeline.</span></span> <span data-ttu-id="085a1-260">Der Katana systemWeb-Host registriert ein ASP.net HttpModule und einen HttpHandler, um Anforderungen abzufangen, wenn Sie die HTTP-Pipeline durchlaufen, und sendet Sie über die benutzerdefinierte owin-Pipeline.</span><span class="sxs-lookup"><span data-stu-id="085a1-260">The Katana SystemWeb host registers an ASP.NET HttpModule and HttpHandler to intercept requests as they flow through the HTTP pipeline and send them through the user-specified OWIN pipeline.</span></span>
- <span data-ttu-id="085a1-261">**Microsoft. owin. Host. HttpListener**: wie der Name anzeigt, verwendet dieser Katana-Server die HttpListener-Klasse des .NET Framework, um einen Socket zu öffnen und Anforderungen an eine vom Entwickler angegebene owin-Pipeline zu senden.</span><span class="sxs-lookup"><span data-stu-id="085a1-261">**Microsoft.Owin.Host.HttpListener**: As its name indicates, this Katana server uses the .NET Framework's HttpListener class to open a socket and send requests into a developer-specified OWIN pipeline.</span></span> <span data-ttu-id="085a1-262">Dies ist derzeit die Standard Server Auswahl für die Katana-Self-Host-API und owinhost. exe.</span><span class="sxs-lookup"><span data-stu-id="085a1-262">This is currently the default server selection for both the Katana self-host API and OwinHost.exe.</span></span>

## <a name="middlewareframework"></a><span data-ttu-id="085a1-263">Middleware/Framework</span><span class="sxs-lookup"><span data-stu-id="085a1-263">Middleware/framework</span></span>

 <span data-ttu-id="085a1-264">Wie bereits erwähnt, ist es für den Fall, dass der Server eine Anforderung von einem Client annimmt, dafür verantwortlich, ihn über eine Pipeline von owin-Komponenten zu übergeben, die durch den Startcode des Entwicklers angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-264">As previously mentioned, when the server accepts a request from a client, it is responsible for passing it through a pipeline of OWIN components, which are specified by the developer's startup code.</span></span> <span data-ttu-id="085a1-265">Diese Pipeline Komponenten werden als Middleware bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="085a1-265">These pipeline components are known as middleware.</span></span>  
 <span data-ttu-id="085a1-266">Auf der Basisebene muss eine owin-Middleware-Komponente einfach den owin-Anwendungs Delegaten implementieren, damit Sie aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="085a1-266">At a very basic level, an OWIN middleware component simply needs to implement the OWIN application delegate so that it is callable.</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample8.cmd)]

<span data-ttu-id="085a1-267">Um die Entwicklung und Komposition von middlewarekomponenten zu vereinfachen, unterstützt Katana jedoch einige Konventionen und Hilfstypen für middlewarekomponenten.</span><span class="sxs-lookup"><span data-stu-id="085a1-267">However, in order to simplify the development and composition of middleware components, Katana supports a handful of conventions and helper types for middleware components.</span></span> <span data-ttu-id="085a1-268">Am häufigsten handelt es sich um die `OwinMiddleware`-Klasse.</span><span class="sxs-lookup"><span data-stu-id="085a1-268">The most common of these is the `OwinMiddleware` class.</span></span> <span data-ttu-id="085a1-269">Eine benutzerdefinierte Middleware-Komponente, die mit dieser Klasse erstellt wurde, würde etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="085a1-269">A custom middleware component built using this class would look similar to the following:</span></span> 

[!code-csharp[Main](an-overview-of-project-katana/samples/sample9.cs)]

 <span data-ttu-id="085a1-270">Diese Klasse wird von `OwinMiddleware`abgeleitet, implementiert einen Konstruktor, der eine Instanz der nächsten Middleware in der Pipeline als eines der Argumente annimmt, und übergibt sie an den Basiskonstruktor.</span><span class="sxs-lookup"><span data-stu-id="085a1-270">This class derives from `OwinMiddleware`, implements a constructor that accepts an instance of the next middleware in the pipeline as one of its arguments, and then passes it to the base constructor.</span></span> <span data-ttu-id="085a1-271">Zusätzliche Argumente, die zum Konfigurieren der Middleware verwendet werden, werden nach dem nächsten Middleware-Parameter auch als Konstruktorparameter deklariert.</span><span class="sxs-lookup"><span data-stu-id="085a1-271">Additional arguments used to configure the middleware are also declared as constructor parameters after the next middleware parameter.</span></span>   
  
<span data-ttu-id="085a1-272">Zur Laufzeit wird die Middleware über die überschriebene `Invoke` Methode ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="085a1-272">At runtime, the middleware is executed via the overridden `Invoke` method.</span></span> <span data-ttu-id="085a1-273">Diese Methode nimmt ein einzelnes Argument vom Typ "`OwinContext`" an.</span><span class="sxs-lookup"><span data-stu-id="085a1-273">This method takes a single argument of type `OwinContext`.</span></span> <span data-ttu-id="085a1-274">Dieses Kontext Objekt wird durch das zuvor beschriebene `Microsoft.Owin` nuget-Paket bereitgestellt und ermöglicht einen stark typisierten Zugriff auf das Anforderungs-, Antwort-und Umgebungs Wörterbuch sowie einige zusätzliche Hilfstypen.</span><span class="sxs-lookup"><span data-stu-id="085a1-274">This context object is provided by the `Microsoft.Owin` NuGet package described earlier and provides strongly-typed access to the request, response and environment dictionary, along with a few additional helper types.</span></span>   
  
<span data-ttu-id="085a1-275">Die Middleware-Klasse kann der owin-Pipeline im Anwendungs Startcode wie folgt problemlos hinzugefügt werden:</span><span class="sxs-lookup"><span data-stu-id="085a1-275">The middleware class can be easily added to the OWIN pipeline in the application startup code as follows:</span></span>   

[!code-csharp[Main](an-overview-of-project-katana/samples/sample10.cs)]

<span data-ttu-id="085a1-276">Da die Katana-Infrastruktur einfach eine Pipeline von owin-middlewarekomponenten erstellt und die Komponenten lediglich den Anwendungs Delegaten für die Teilnahme an der Pipeline unterstützen müssen, können middlewarekomponenten die Komplexität von einfachen Protokollierungen bis hin zu ganzen Frameworks wie ASP.net, Web-API oder [signalr](../../../signalr/index.md)unterstützen.</span><span class="sxs-lookup"><span data-stu-id="085a1-276">Because the Katana infrastructure simply builds up a pipeline of OWIN middleware components, and because the components simply need to support the application delegate to participate in the pipeline, middleware components can range in complexity from simple loggers to entire frameworks like ASP.NET, Web API, or [SignalR](../../../signalr/index.md).</span></span> <span data-ttu-id="085a1-277">Wenn Sie beispielsweise ASP.net-Web-API zur vorherigen owin-Pipeline hinzufügen möchten, müssen Sie den folgenden Startcode hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="085a1-277">For example, adding ASP.NET Web API to the previous OWIN pipeline requires adding the following startup code:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample11.cs)]

<span data-ttu-id="085a1-278">Die Katana-Infrastruktur erstellt die Pipeline der middlewarekomponenten basierend auf der Reihenfolge, in der Sie dem iappbuilder-Objekt in der Konfigurations Methode hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="085a1-278">The Katana infrastructure will build the pipeline of middleware components based on the order in which they were added to the IAppBuilder object in the Configuration method.</span></span> <span data-ttu-id="085a1-279">In unserem Beispiel kann loggermiddleware alle Anforderungen verarbeiten, die durch die Pipeline geleitet werden, unabhängig davon, wie diese Anforderungen letztendlich verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-279">In our example, then, LoggerMiddleware can handle all requests that flow through the pipeline, regardless of how those requests are ultimately handled.</span></span> <span data-ttu-id="085a1-280">Dies ermöglicht leistungsstarke Szenarios, in denen eine Middlewarekomponente (z. b. eine Authentifizierungs Komponente) Anforderungen für eine Pipeline verarbeiten kann, die mehrere Komponenten und Frameworks (z. b. ASP.net-Web-API, signalr und einen statischen Dateiserver) enthält.</span><span class="sxs-lookup"><span data-stu-id="085a1-280">This enables powerful scenarios where a middleware component (e.g. an authentication component) can process requests for a pipeline that includes multiple components and frameworks (e.g. ASP.NET Web API, SignalR, and a static file server).</span></span>
 
## <a name="applications"></a><span data-ttu-id="085a1-281">Anwendungen</span><span class="sxs-lookup"><span data-stu-id="085a1-281">Applications</span></span>

<span data-ttu-id="085a1-282">Wie in den vorherigen Beispielen veranschaulicht, sollten owin und das Katana-Projekt nicht als neues Anwendungs Programmiermodell betrachtet werden, sondern als Abstraktion, um Anwendungs Programmier Modelle und Frameworks von der Server-und der Hostinginfrastruktur zu entkoppeln.</span><span class="sxs-lookup"><span data-stu-id="085a1-282">As illustrated by the previous examples, OWIN and the Katana project should not be thought of as a new application programming model, but rather as an abstraction to decouple application programming models and frameworks from server and hosting infrastructure.</span></span> <span data-ttu-id="085a1-283">Wenn Sie z. b. Web-API-Anwendungen entwickeln, verwendet das Entwickler Framework weiterhin das ASP.net-Web-API Framework, unabhängig davon, ob die Anwendung in einer owin-Pipeline mithilfe von Komponenten aus dem Katana-Projekt ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-283">For example, when building Web API applications, the developer framework will continue to use the ASP.NET Web API framework, irrespective of whether or not the application runs in an OWIN pipeline using components from the Katana project.</span></span> <span data-ttu-id="085a1-284">Die Stelle, an der owin-bezogener Code für den Anwendungsentwickler sichtbar ist, ist der Startcode der Anwendung, bei dem der Entwickler die owin-Pipeline verfasst.</span><span class="sxs-lookup"><span data-stu-id="085a1-284">The one place where OWIN-related code will be visible to the application developer will be the application startup code, where the developer composes the OWIN pipeline.</span></span> <span data-ttu-id="085a1-285">Im Startcode registriert der Entwickler eine Reihe von usexx-Anweisungen, die im Allgemeinen für jede Middlewarekomponente verwendet werden, die eingehende Anforderungen verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="085a1-285">In the startup code, the developer will register a series of UseXx statements, generally one for each middleware component that will process incoming requests.</span></span> <span data-ttu-id="085a1-286">Diese Vorgehensweise hat dieselbe Auswirkung wie das Registrieren von HTTP-Modulen in der aktuellen System. Web-Welt.</span><span class="sxs-lookup"><span data-stu-id="085a1-286">This experience will have the same effect as registering HTTP modules in the current System.Web world.</span></span> <span data-ttu-id="085a1-287">In der Regel wird eine größere frameworkmiddleware, wie ASP.net-Web-API oder [signalr](../../../signalr/index.md) , am Ende der Pipeline registriert.</span><span class="sxs-lookup"><span data-stu-id="085a1-287">Typically, a larger framework middleware, such as ASP.NET Web API or [SignalR](../../../signalr/index.md) will be registered at the end of the pipeline.</span></span> <span data-ttu-id="085a1-288">Quer greifende middlewarekomponenten, z. b. die für die Authentifizierung oder Zwischenspeicherung, werden im Allgemeinen am Anfang der Pipeline registriert, damit Sie Anforderungen für alle Frameworks und Komponenten verarbeiten, die später in der Pipeline registriert werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-288">Cross-cutting middleware components, such as those for authentication or caching, are generally registered towards the beginning of the pipeline so that they will process requests for all of the frameworks and components registered later in the pipeline.</span></span> <span data-ttu-id="085a1-289">Diese Trennung der Middleware-Komponenten untereinander und von den zugrunde liegenden Infrastrukturkomponenten ermöglicht, dass sich die Komponenten in unterschiedlichen Geschwindigkeiten weiterentwickeln und gleichzeitig sicherstellen, dass das Gesamtsystem stabil bleibt.</span><span class="sxs-lookup"><span data-stu-id="085a1-289">This separation of the middleware components from each other and from the underlying infrastructure components enables the components to evolve at different velocities while ensuring that the overall system remains stable.</span></span>

## <a name="components--nuget-packages"></a><span data-ttu-id="085a1-290">Komponenten – nuget-Pakete</span><span class="sxs-lookup"><span data-stu-id="085a1-290">Components – NuGet Packages</span></span>

<span data-ttu-id="085a1-291">Wie viele aktuelle Bibliotheken und Frameworks werden die Katana-Projektkomponenten als Satz von nuget-Paketen übermittelt.</span><span class="sxs-lookup"><span data-stu-id="085a1-291">Like many current libraries and frameworks, the Katana project components are delivered as a set of NuGet packages.</span></span> <span data-ttu-id="085a1-292">Für die bevorstehende Version 2,0 sieht das Katana-Paket-Abhängigkeits Diagramm wie folgt aus.</span><span class="sxs-lookup"><span data-stu-id="085a1-292">For the upcoming version 2.0, the Katana package dependency graph looks as follows.</span></span> <span data-ttu-id="085a1-293">(Klicken Sie auf das Bild, um es zu vergrößern.)</span><span class="sxs-lookup"><span data-stu-id="085a1-293">(Click on image for larger view.)</span></span>

[![](an-overview-of-project-katana/_static/image6.png)](an-overview-of-project-katana/_static/image5.png)

<span data-ttu-id="085a1-294">Fast jedes Paket im Katana-Projekt hängt direkt oder indirekt vom owin-Paket ab.</span><span class="sxs-lookup"><span data-stu-id="085a1-294">Nearly every package in the Katana project depends, directly or indirectly, on the Owin package.</span></span> <span data-ttu-id="085a1-295">Möglicherweise denken Sie daran, dass es sich hierbei um das Paket mit der iappbuilder-Schnittstelle handelt, die eine konkrete Implementierung der Startsequenz der Anwendung bereitstellt, die in Abschnitt 4 der owin-Spezifikation beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="085a1-295">You may remember that this is the package that contains the IAppBuilder interface, which provides a concrete implementation of the application startup sequence described in section 4 of the OWIN specification.</span></span> <span data-ttu-id="085a1-296">Außerdem sind viele Pakete von Microsoft. owin abhängig, das eine Reihe von Hilfstypen zum Arbeiten mit HTTP-Anforderungen und-Antworten bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="085a1-296">Additionally, many of the packages depend on Microsoft.Owin, which provides a set of helper types for working with HTTP requests and responses.</span></span> <span data-ttu-id="085a1-297">Der Rest des Pakets kann entweder als Hosting-Infrastrukturpakete (Server oder Hosts) oder Middleware klassifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="085a1-297">The remainder of the package can be classified as either hosting infrastructure packages (servers or hosts) or middleware.</span></span> <span data-ttu-id="085a1-298">Pakete und Abhängigkeiten, die für das Katana-Projekt extern sind, werden in Orange angezeigt.</span><span class="sxs-lookup"><span data-stu-id="085a1-298">Packages and dependencies that are external to the Katana project are displayed in orange.</span></span>

<span data-ttu-id="085a1-299">Die Hostinginfrastruktur für Katana 2,0 umfasst sowohl den systemWeb-als auch den HttpListener-basierten Server, das owinhost-Paket zum Ausführen von owin-Anwendungen mithilfe von "owinhost. exe" und das Microsoft. owin. Hosting-Paket für Self-Hosting-owin-Anwendungen in einer benutzerdefinierter Host (z. b. Konsolenanwendung, Windows-Dienst usw.)</span><span class="sxs-lookup"><span data-stu-id="085a1-299">The hosting infrastructure for Katana 2.0 includes both the SystemWeb and HttpListener-based servers, the OwinHost package for running OWIN applications using OwinHost.exe, and the Microsoft.Owin.Hosting package for self-hosting OWIN applications in a custom host (e.g. console application, Windows service, etc.)</span></span>

<span data-ttu-id="085a1-300">Bei Katana 2,0 konzentrieren sich die Middleware-Komponenten hauptsächlich auf die Bereitstellung unterschiedlicher Authentifizierungsmöglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="085a1-300">For Katana 2.0, the middleware components are primarily focused on providing different means of authentication.</span></span> <span data-ttu-id="085a1-301">Es wird eine zusätzliche Middlewarekomponente für die Diagnose bereitgestellt, die die Unterstützung für eine Start-und Fehlerseite ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="085a1-301">One additional middleware component for diagnostics is provided, which enables support for a start and error page.</span></span> <span data-ttu-id="085a1-302">Wenn owin in die de-facto-Hosting-Abstraktion wächst, wächst auch das Ökosystem der middlewarekomponenten, sowohl von Microsoft als auch von Drittanbietern.</span><span class="sxs-lookup"><span data-stu-id="085a1-302">As OWIN grows into the de facto hosting abstraction, the ecosystem of middleware components, both those developed by Microsoft and third parties, will also grow in number.</span></span>

## <a name="conclusion"></a><span data-ttu-id="085a1-303">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="085a1-303">Conclusion</span></span>

 <span data-ttu-id="085a1-304">Von Anfang an war das Ziel des Katana-Projekts nicht, Entwickler zu erstellen und so zu erzwingen, dass Entwickler noch ein weiteres Webframework erlernen können.</span><span class="sxs-lookup"><span data-stu-id="085a1-304">From its beginning, the Katana project's goal has not been to create and thereby force developers to learn yet another Web framework.</span></span> <span data-ttu-id="085a1-305">Vielmehr war das Ziel, eine Abstraktion zu erstellen, um Entwicklern von .NET-Webanwendungen mehr Auswahl zu ermöglichen, als zuvor möglich war.</span><span class="sxs-lookup"><span data-stu-id="085a1-305">Rather, the goal has been to create an abstraction to give .NET Web application developers more choice than has previously been possible.</span></span> <span data-ttu-id="085a1-306">Durch die Aufteilung der logischen Ebenen eines typischen Webanwendungs Stapels in eine Reihe von ersetzbaren Komponenten ermöglicht das Katana-Projektkomponenten im gesamten Stapel, die für diese Komponenten sinnvollsten Raten zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="085a1-306">By breaking up the logical layers of a typical Web application stack into a set of replaceable components, the Katana project enables components throughout the stack to improve at whatever rate makes sense for those components.</span></span> <span data-ttu-id="085a1-307">Durch das Erstellen aller Komponenten um die einfache owin-Abstraktion ermöglicht Katana, dass Frameworks und die darauf erstellten Anwendungen über eine Vielzahl von Servern und Hosts portierbar sind.</span><span class="sxs-lookup"><span data-stu-id="085a1-307">By building all components around the simple OWIN abstraction, Katana enables frameworks and the applications built on top of them to be portable across a variety of different servers and hosts.</span></span> <span data-ttu-id="085a1-308">Durch den Entwickler, der die Kontrolle über den Stapel erhält, stellt Katana sicher, dass der Entwickler die ultimative Auswahl treffen kann, wie einfach oder wie Funktionsumfang der webstapel sein sollte.</span><span class="sxs-lookup"><span data-stu-id="085a1-308">By putting the developer in control of the stack, Katana ensures that the developer makes the ultimate choice about how lightweight or how feature-rich her Web stack should be.</span></span>  

## <a name="for-more-information-about-katana"></a><span data-ttu-id="085a1-309">Weitere Informationen zu Katana</span><span class="sxs-lookup"><span data-stu-id="085a1-309">For more information about Katana</span></span>

- <span data-ttu-id="085a1-310">Das Katana-Projekt auf GitHub: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span><span class="sxs-lookup"><span data-stu-id="085a1-310">The Katana project on GitHub: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span></span>
- <span data-ttu-id="085a1-311">Video: [das Katana-Projekt-owin für ASP.net](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET)von Howard Dierking.</span><span class="sxs-lookup"><span data-stu-id="085a1-311">Video: [The Katana Project - OWIN for ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), by Howard Dierking.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="085a1-312">Danksagung</span><span class="sxs-lookup"><span data-stu-id="085a1-312">Acknowledgements</span></span>

- <span data-ttu-id="085a1-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (Twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick ist Senior Programming Writer für Microsoft, der sich auf Azure und MVC konzentriert.</span><span class="sxs-lookup"><span data-stu-id="085a1-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick is a senior programming writer for Microsoft focusing on Azure and MVC.</span></span>
- <span data-ttu-id="085a1-314">[Scott Hanselman](http://www.hanselman.com/blog/): (Twitter- [@shanselman](https://twitter.com/shanselman) )</span><span class="sxs-lookup"><span data-stu-id="085a1-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [@shanselman](https://twitter.com/shanselman) )</span></span>
- <span data-ttu-id="085a1-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (Twitter- [@jongalloway](https://twitter.com/jongalloway) )</span><span class="sxs-lookup"><span data-stu-id="085a1-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [@jongalloway](https://twitter.com/jongalloway) )</span></span>
