---
uid: identity/overview/getting-started/introduction-to-aspnet-identity
title: Einführung in ASP.net Identity-ASP.NET 4. x
author: jongalloway
description: Das ASP.NET-Mitgliedschaftssystem wurde mit ASP.NET 2,0 zurück in 2005 eingeführt, und seitdem gab es viele Änderungen an den Verwendungsmöglichkeiten für Webanwendungen...
ms.author: riande
ms.date: 01/22/2019
ms.assetid: 38717fc1-5989-43cf-952d-4007cc1dd923
ms.custom: seoapril2019
msc.legacyurl: /identity/overview/getting-started/introduction-to-aspnet-identity
msc.type: authoredcontent
ms.openlocfilehash: 0268dfc16cd2cfb1e79ee14997a4c5eb247af950
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78471735"
---
# <a name="introduction-to-aspnet-identity"></a><span data-ttu-id="5004d-103">Einführung in ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="5004d-103">Introduction to ASP.NET Identity</span></span>

> <span data-ttu-id="5004d-104">Das ASP.NET-Mitgliedschaftssystem wurde mit ASP.NET 2,0 zurück in 2005 eingeführt, und seitdem gab es viele Änderungen an der Art und Weise, wie Webanwendungen die Authentifizierung und Autorisierung in der Regel verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="5004d-104">The ASP.NET membership system was introduced with ASP.NET 2.0 back in 2005, and since then there have been many changes in the ways web applications typically handle authentication and authorization.</span></span> <span data-ttu-id="5004d-105">ASP.net Identity ist ein neuer Einblick in das Mitgliedschaftssystem, wenn Sie moderne Anwendungen für das Web, das Telefon oder das Tablet entwickeln.</span><span class="sxs-lookup"><span data-stu-id="5004d-105">ASP.NET Identity is a fresh look at what the membership system should be when you are building modern applications for the web, phone, or tablet.</span></span>

## <a name="background-membership-in-aspnet"></a><span data-ttu-id="5004d-106">Hintergrund: Mitgliedschaft in ASP.net</span><span class="sxs-lookup"><span data-stu-id="5004d-106">Background: Membership in ASP.NET</span></span>

### <a name="aspnet-membership"></a><span data-ttu-id="5004d-107">ASP.NET-Mitgliedschaft</span><span class="sxs-lookup"><span data-stu-id="5004d-107">ASP.NET Membership</span></span>

<span data-ttu-id="5004d-108">Die [ASP.NET-Mitgliedschaft](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) wurde entwickelt, um die Anforderungen an die Website Mitgliedschaft zu lösen, die in 2005 üblich waren, die die Formular Authentifizierung umfasste, sowie eine SQL Server Datenbank für Benutzernamen, Kenn Wörter und Profildaten.</span><span class="sxs-lookup"><span data-stu-id="5004d-108">[ASP.NET Membership](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) was designed to solve site membership requirements that were common in 2005, which involved Forms Authentication, and a SQL Server database for user names, passwords, and profile data.</span></span> <span data-ttu-id="5004d-109">Heute gibt es eine weitaus größere Anzahl von Datenspeicher Optionen für Webanwendungen, und die meisten Entwickler möchten ihren Standorten die Verwendung sozialer Identitäts Anbieter für Authentifizierungs-und Autorisierungs Funktionen ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="5004d-109">Today there is a much broader array of data storage options for web applications, and most developers want to enable their sites to use social identity providers for authentication and authorization functionality.</span></span> <span data-ttu-id="5004d-110">Diese Umstellung wird durch die Einschränkungen des Entwurfs der ASP.NET-Mitgliedschaft erschwert:</span><span class="sxs-lookup"><span data-stu-id="5004d-110">The limitations of ASP.NET Membership's design make this transition difficult:</span></span>

- <span data-ttu-id="5004d-111">Das Datenbankschema wurde für SQL Server entwickelt und kann nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="5004d-111">The database schema was designed for SQL Server and you can't change it.</span></span> <span data-ttu-id="5004d-112">Sie können Profilinformationen hinzufügen, die zusätzlichen Daten werden jedoch in einer anderen Tabelle verpackt, wodurch der Zugriff auf alle Mittel, außer über die Profil Anbieter-API, erschwert wird.</span><span class="sxs-lookup"><span data-stu-id="5004d-112">You can add profile information, but the additional data is packed into a different table, which makes it difficult to access by any means except through the Profile Provider API.</span></span>
- <span data-ttu-id="5004d-113">Das Anbieter System ermöglicht es Ihnen, den Sicherungsdaten Speicher zu ändern, aber das System ist auf Annahmen zugeschnitten, die für eine relationale Datenbank geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="5004d-113">The provider system enables you to change the backing data store, but the system is designed around assumptions appropriate for a relational database.</span></span> <span data-ttu-id="5004d-114">Sie können einen Anbieter schreiben, um Mitgliedschafts Informationen in einem nicht relationalen Speichermechanismus (z. b. Azure Storage Tabellen) zu speichern, aber dann müssen Sie den relationalen Entwurf umgehen, indem Sie viel Code und viele `System.NotImplementedException` Ausnahmen für Methoden schreiben, die nicht für nosql-Datenbanken gelten.</span><span class="sxs-lookup"><span data-stu-id="5004d-114">You can write a provider to store membership information in a non-relational storage mechanism, such as Azure Storage Tables, but then you have to work around the relational design by writing much code and a lot of `System.NotImplementedException` exceptions for methods that don't apply to NoSQL databases.</span></span>
- <span data-ttu-id="5004d-115">Da die Anmelde-/Abmelde-Funktionalität auf der Formular Authentifizierung basiert, kann [owin](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md)vom Mitgliedschaftssystem nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5004d-115">Since the log-in/log-out functionality is based on Forms Authentication, the membership system can't use [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span></span> <span data-ttu-id="5004d-116">Owin enthält Middleware-Komponenten für die Authentifizierung, einschließlich der Unterstützung für Anmeldungen mit externen Identitäts Anbietern (wie Microsoft-Konten, Facebook, Google, Twitter) und Anmeldungen mithilfe von Organisations Konten aus lokalem Active Directory oder Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="5004d-116">OWIN includes middleware components for authentication, including support for log-ins using external identity providers (like Microsoft Accounts, Facebook, Google, Twitter), and log-ins using organizational accounts from on-premises Active Directory or Azure Active Directory.</span></span> <span data-ttu-id="5004d-117">Owin bietet auch Unterstützung für OAuth 2,0, JWT und cors.</span><span class="sxs-lookup"><span data-stu-id="5004d-117">OWIN also includes support for OAuth 2.0, JWT and CORS.</span></span>

### <a name="aspnet-simple-membership"></a><span data-ttu-id="5004d-118">ASP.net einfache Mitgliedschaft</span><span class="sxs-lookup"><span data-stu-id="5004d-118">ASP.NET Simple Membership</span></span>

<span data-ttu-id="5004d-119">[ASP.net die einfache Mitgliedschaft](../../../web-pages/overview/security/16-adding-security-and-membership.md) wurde als Mitgliedschaftssystem für ASP.net Web Pages entwickelt.</span><span class="sxs-lookup"><span data-stu-id="5004d-119">[ASP.NET simple membership](../../../web-pages/overview/security/16-adding-security-and-membership.md) was developed as a membership system for ASP.NET Web Pages.</span></span> <span data-ttu-id="5004d-120">Es wurde mit webmatrix und Visual Studio 2010 SP1 veröffentlicht.</span><span class="sxs-lookup"><span data-stu-id="5004d-120">It was released with WebMatrix and Visual Studio 2010 SP1.</span></span> <span data-ttu-id="5004d-121">Das Ziel der einfachen Mitgliedschaft war, das Hinzufügen von Mitgliedschafts Funktionen zu einer Web Pages-Anwendung zu erleichtern.</span><span class="sxs-lookup"><span data-stu-id="5004d-121">The goal of Simple Membership was to make it easy to add membership functionality to a Web Pages application.</span></span>

<span data-ttu-id="5004d-122">Die einfache Mitgliedschaft vereinfacht die Anpassung von Benutzerprofil Informationen, aber Sie gibt weiterhin die anderen Probleme mit der ASP.NET-Mitgliedschaft aus und weist einige Einschränkungen auf:</span><span class="sxs-lookup"><span data-stu-id="5004d-122">Simple Membership did make it easier to customize user profile information, but it still shares the other problems with ASP.NET Membership, and it has some limitations:</span></span>

- <span data-ttu-id="5004d-123">Es war schwierig, Mitgliedschaftssystem Daten in einem nicht relationalen Speicher beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="5004d-123">It was hard to persist membership system data in a non-relational store.</span></span>
- <span data-ttu-id="5004d-124">Die Verwendung mit owin ist nicht möglich.</span><span class="sxs-lookup"><span data-stu-id="5004d-124">You can't use it with OWIN.</span></span>
- <span data-ttu-id="5004d-125">Es funktioniert nicht gut für vorhandene ASP.net-Mitgliedschafts Anbieter und ist nicht erweiterbar.</span><span class="sxs-lookup"><span data-stu-id="5004d-125">It doesn't work well with existing ASP.NET Membership providers, and it's not extensible.</span></span>

### <a name="aspnet-universal-providers"></a><span data-ttu-id="5004d-126">ASP.NET-Universelle Anbieter</span><span class="sxs-lookup"><span data-stu-id="5004d-126">ASP.NET Universal Providers</span></span>

<span data-ttu-id="5004d-127">[ASP.net-universelle Anbieter](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) wurden entwickelt, um das Beibehalten von Mitgliedschafts Informationen in Microsoft Azure SQL-Datenbank zu ermöglichen, und Sie funktionieren auch mit SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="5004d-127">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) were developed to make it possible to persist membership information in Microsoft Azure SQL Database, and they also work with SQL Server Compact.</span></span> <span data-ttu-id="5004d-128">Die universelle Anbieter wurden auf Entity Framework Code First erstellt, was bedeutet, dass das universelle Anbieter verwendet werden kann, um Daten in jedem von EF unterstützten Speicher beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="5004d-128">The Universal Providers were built on Entity Framework Code First, which means that the Universal Providers can be used to persist data in any store supported by EF.</span></span> <span data-ttu-id="5004d-129">Mit dem universelle Anbieter wurde das Datenbankschema ebenfalls sehr viel bereinigt.</span><span class="sxs-lookup"><span data-stu-id="5004d-129">With the Universal Providers, the database schema was cleaned up quite a lot as well.</span></span>

<span data-ttu-id="5004d-130">Die universelle Anbieter basieren auf der ASP.net-Mitgliedschafts Infrastruktur, sodass Sie weiterhin dieselben Einschränkungen wie der sqlmembership-Anbieter aufweisen.</span><span class="sxs-lookup"><span data-stu-id="5004d-130">The Universal Providers are built on the ASP.NET Membership infrastructure, so they still carry the same limitations as the SqlMembership Provider.</span></span> <span data-ttu-id="5004d-131">Das heißt, Sie wurden für relationale Datenbanken entwickelt, und es ist schwierig, Profil-und Benutzerinformationen anzupassen.</span><span class="sxs-lookup"><span data-stu-id="5004d-131">That is, they were designed for relational databases and it's hard to customize profile and user information.</span></span> <span data-ttu-id="5004d-132">Diese Anbieter verwenden auch weiterhin die Formular Authentifizierung für die Anmelde-und Abmelde Funktionalität.</span><span class="sxs-lookup"><span data-stu-id="5004d-132">These providers also still use Forms Authentication for sign-in and sign-out functionality.</span></span>

## <a name="aspnet-identity"></a><span data-ttu-id="5004d-133">ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="5004d-133">ASP.NET Identity</span></span>

<span data-ttu-id="5004d-134">Da sich die Mitgliedschafts Story in ASP.net im Laufe der Jahre entwickelt hat, hat das ASP.net-Team viel von Feedback von Kunden gelernt.</span><span class="sxs-lookup"><span data-stu-id="5004d-134">As the membership story in ASP.NET has evolved over the years, the ASP.NET team has learned a lot from feedback from customers.</span></span>

<span data-ttu-id="5004d-135">Die Annahme, dass sich Benutzer anmelden, indem Sie einen Benutzernamen und ein Kennwort eingeben, die Sie in ihrer eigenen Anwendung registriert haben, sind nicht mehr gültig.</span><span class="sxs-lookup"><span data-stu-id="5004d-135">The assumption that users will sign in by entering a user name and password that they have registered in your own application is no longer valid.</span></span> <span data-ttu-id="5004d-136">Das Web ist sozialer geworden.</span><span class="sxs-lookup"><span data-stu-id="5004d-136">The web has become more social.</span></span> <span data-ttu-id="5004d-137">Benutzer interagieren in Echtzeit über soziale Netzwerke wie Facebook, Twitter und andere soziale Websites.</span><span class="sxs-lookup"><span data-stu-id="5004d-137">Users are interacting with each other in real time through social channels such as Facebook, Twitter, and other social web sites.</span></span> <span data-ttu-id="5004d-138">Entwickler möchten, dass sich Benutzer mit ihren Identitäten für soziale Netzwerke anmelden können, damit Sie auf ihren Websites eine umfassende Benutzer Darstellung haben können.</span><span class="sxs-lookup"><span data-stu-id="5004d-138">Developers want users to be able to sign in with their social identities so that they can have a rich experience on their web sites.</span></span> <span data-ttu-id="5004d-139">Ein modernes Mitgliedschaftssystem muss Umleitungs basierte Anmeldungen an Authentifizierungs Anbieter wie Facebook, Twitter und andere ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="5004d-139">A modern membership system must enable redirection-based log-ins to authentication providers such as Facebook, Twitter, and others.</span></span>

<span data-ttu-id="5004d-140">Bei der Entwicklung der Webentwicklung hat sich die Webentwicklung verändert.</span><span class="sxs-lookup"><span data-stu-id="5004d-140">As web development evolved, so did the patterns of web development.</span></span> <span data-ttu-id="5004d-141">Komponententests von Anwendungscode wurden Hauptanliegen für Anwendungsentwickler.</span><span class="sxs-lookup"><span data-stu-id="5004d-141">Unit testing of application code became a core concern for application developers.</span></span> <span data-ttu-id="5004d-142">In 2008 ASP.net wurde ein neues Framework basierend auf dem Model-View-Controller (MVC)-Muster hinzugefügt, um Entwickler dabei zu unterstützen, Komponenten testbare ASP.NET-Anwendungen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="5004d-142">In 2008 ASP.NET added a new framework based on the Model-View-Controller (MVC) pattern, in part to help developers build unit testable ASP.NET applications.</span></span> <span data-ttu-id="5004d-143">Entwickler, die eine Komponenten Test Ihrer Anwendungslogik durchführen wollten, wollten dies auch mit dem Mitgliedschaftssystem durchführen können.</span><span class="sxs-lookup"><span data-stu-id="5004d-143">Developers who wanted to unit test their application logic also wanted to be able to do that with the membership system.</span></span>

<span data-ttu-id="5004d-144">In Anbetracht dieser Änderungen bei der Entwicklung von Webanwendungen wurde ASP.net Identity mit den folgenden Zielen entwickelt:</span><span class="sxs-lookup"><span data-stu-id="5004d-144">Considering these changes in web application development, ASP.NET Identity was developed with the following goals:</span></span>

- <span data-ttu-id="5004d-145">**Ein ASP.net Identity System**</span><span class="sxs-lookup"><span data-stu-id="5004d-145">**One ASP.NET Identity system**</span></span>

    - <span data-ttu-id="5004d-146">ASP.net Identity können mit allen ASP.NET-Frameworks wie z. b. ASP.NET MVC, Web Forms, Webseiten, Web-API und signalr verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5004d-146">ASP.NET Identity can be used with all of the ASP.NET frameworks, such as ASP.NET MVC, Web Forms, Web Pages, Web API, and SignalR.</span></span>
    - <span data-ttu-id="5004d-147">ASP.net Identity können bei der Erstellung von Web-, Phone-, Store-oder Hybrid Anwendungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5004d-147">ASP.NET Identity can be used when you are building web, phone, store, or hybrid applications.</span></span>
- <span data-ttu-id="5004d-148">**Einfache Plug von Profildaten über den Benutzer**</span><span class="sxs-lookup"><span data-stu-id="5004d-148">**Ease of plugging in profile data about the user**</span></span>

    - <span data-ttu-id="5004d-149">Sie haben die Kontrolle über das Schema von Benutzer-und Profilinformationen.</span><span class="sxs-lookup"><span data-stu-id="5004d-149">You have control over the schema of user and profile information.</span></span> <span data-ttu-id="5004d-150">Beispielsweise können Sie das System zum Speichern von Geburtsdaten, die von Benutzern eingegeben werden, auf einfache Weise aktivieren, wenn Sie ein Konto in Ihrer Anwendung registrieren.</span><span class="sxs-lookup"><span data-stu-id="5004d-150">For example, you can easily enable the system to store birth dates entered by users when they register an account in your application.</span></span>

- <span data-ttu-id="5004d-151">**Persistenzsteuerung**</span><span class="sxs-lookup"><span data-stu-id="5004d-151">**Persistence control**</span></span>

    - <span data-ttu-id="5004d-152">Standardmäßig speichert das ASP.net Identity System alle Benutzerinformationen in einer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="5004d-152">By default, the ASP.NET Identity system stores all the user information in a database.</span></span> <span data-ttu-id="5004d-153">ASP.net Identity verwendet Entity Framework Code First, um den gesamten Persistenzmechanismus zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="5004d-153">ASP.NET Identity uses Entity Framework Code First to implement all of its persistence mechanism.</span></span>
    - <span data-ttu-id="5004d-154">Da Sie das Datenbankschema steuern, ist es einfach, häufige Aufgaben wie das Ändern von Tabellennamen oder das Ändern des Datentyps von primär Schlüsseln auszuführen.</span><span class="sxs-lookup"><span data-stu-id="5004d-154">Since you control the database schema, common tasks such as changing table names or changing the data type of primary keys is simple to do.</span></span>
    - <span data-ttu-id="5004d-155">Es ist einfach, unterschiedliche Speicher Mechanismen wie SharePoint, Azure Storage Tabellen Dienst, nosql-Datenbanken usw. einzuschließen, ohne `System.NotImplementedExceptions` Ausnahmen auslösen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="5004d-155">It's easy to plug in different storage mechanisms such as SharePoint, Azure Storage Table Service, NoSQL databases, etc., without having to throw `System.NotImplementedExceptions` exceptions.</span></span>
- <span data-ttu-id="5004d-156">**Einheiten Testability**</span><span class="sxs-lookup"><span data-stu-id="5004d-156">**Unit testability**</span></span>

    - <span data-ttu-id="5004d-157">ASP.net Identity bewirkt, dass die Webanwendung mehr Einheiten testfähig ist.</span><span class="sxs-lookup"><span data-stu-id="5004d-157">ASP.NET Identity makes the web application more unit testable.</span></span> <span data-ttu-id="5004d-158">Sie können Komponententests für die Teile Ihrer Anwendung schreiben, die ASP.net Identity verwenden.</span><span class="sxs-lookup"><span data-stu-id="5004d-158">You can write unit tests for the parts of your application that use ASP.NET Identity.</span></span>
- <span data-ttu-id="5004d-159">**Rollen Anbieter**</span><span class="sxs-lookup"><span data-stu-id="5004d-159">**Role provider**</span></span>

    - <span data-ttu-id="5004d-160">Es gibt einen Rollen Anbieter, mit dem Sie den Zugriff auf Teile Ihrer Anwendung durch Rollen einschränken können.</span><span class="sxs-lookup"><span data-stu-id="5004d-160">There is a role provider which lets you restrict access to parts of your application by roles.</span></span> <span data-ttu-id="5004d-161">Sie können problemlos Rollen wie "admin" erstellen und Rollen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="5004d-161">You can easily create roles such as "Admin" and add users to roles.</span></span>
- <span data-ttu-id="5004d-162">**Anspruchs basiert**</span><span class="sxs-lookup"><span data-stu-id="5004d-162">**Claims Based**</span></span>

    - <span data-ttu-id="5004d-163">ASP.net Identity unterstützt die Anspruchs basierte Authentifizierung, bei der die Identität des Benutzers als Satz von Ansprüchen dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="5004d-163">ASP.NET Identity supports claims-based authentication, where the user's identity is represented as a set of claims.</span></span> <span data-ttu-id="5004d-164">Ansprüche ermöglichen es Entwicklern, die Identität eines Benutzers zu beschreiben, als die Rollen zulassen.</span><span class="sxs-lookup"><span data-stu-id="5004d-164">Claims allow developers to be a lot more expressive in describing a user's identity than roles allow.</span></span> <span data-ttu-id="5004d-165">Während die Rollen Mitgliedschaft nur ein boolescher Wert (Member oder nicht Mitglied) ist, kann ein Anspruch umfassende Informationen über die Identität des Benutzers und die Mitgliedschaft enthalten.</span><span class="sxs-lookup"><span data-stu-id="5004d-165">Whereas role membership is just a boolean (member or non-member), a claim can include rich information about the user's identity and membership.</span></span>
- <span data-ttu-id="5004d-166">**Anmelde Anbieter für soziale Netzwerke**</span><span class="sxs-lookup"><span data-stu-id="5004d-166">**Social Login Providers**</span></span>

    - <span data-ttu-id="5004d-167">Sie können Ihrer Anwendung problemlos soziale Anmeldungen wie Microsoft-Konto, Facebook, Twitter, Google und andere hinzufügen und die benutzerspezifischen Daten in der Anwendung speichern.</span><span class="sxs-lookup"><span data-stu-id="5004d-167">You can easily add social log-ins such as Microsoft Account, Facebook, Twitter, Google, and others to your application, and store the user-specific data in your application.</span></span>

- <span data-ttu-id="5004d-168">**Owin-Integration**</span><span class="sxs-lookup"><span data-stu-id="5004d-168">**OWIN Integration**</span></span>

    - <span data-ttu-id="5004d-169">Die ASP.NET-Authentifizierung basiert jetzt auf der owin-Middleware, die auf einem beliebigen owin-basierten Host verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5004d-169">ASP.NET authentication is now based on OWIN middleware that can be used on any OWIN-based host.</span></span> <span data-ttu-id="5004d-170">ASP.net Identity hat keine Abhängigkeit von System. Web.</span><span class="sxs-lookup"><span data-stu-id="5004d-170">ASP.NET Identity does not have any dependency on System.Web.</span></span> <span data-ttu-id="5004d-171">Es handelt sich um ein vollständig kompatibles owin-Framework, das in jeder von owin gehosteten Anwendung verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5004d-171">It is a fully compliant OWIN framework and can be used in any OWIN hosted application.</span></span>
    - <span data-ttu-id="5004d-172">ASP.net Identity verwendet owin-Authentifizierung für die Anmeldung und die Abmeldung von Benutzern auf der Website.</span><span class="sxs-lookup"><span data-stu-id="5004d-172">ASP.NET Identity uses OWIN Authentication for log-in/log-out of users in the web site.</span></span> <span data-ttu-id="5004d-173">Dies bedeutet, dass die Anwendung zum Generieren des Cookies anstelle von FormsAuthentication die owin-Cookieauthentifizierung verwendet.</span><span class="sxs-lookup"><span data-stu-id="5004d-173">This means that instead of using FormsAuthentication to generate the cookie, the application uses OWIN CookieAuthentication to do that.</span></span>
- <span data-ttu-id="5004d-174">**NuGet-Paket**</span><span class="sxs-lookup"><span data-stu-id="5004d-174">**NuGet package**</span></span>

    - <span data-ttu-id="5004d-175">ASP.net Identity wird als ein nuget-Paket verteilt, das in den ASP.NET MVC-, Web Forms-und Web-API-Vorlagen, die mit Visual Studio 2017 ausgeliefert werden, installiert wird.</span><span class="sxs-lookup"><span data-stu-id="5004d-175">ASP.NET Identity is redistributed as a NuGet package which is installed in the ASP.NET MVC, Web Forms and Web API templates that ship with Visual Studio 2017.</span></span> <span data-ttu-id="5004d-176">Sie können dieses nuget-Paket aus dem nuget-Katalog herunterladen.</span><span class="sxs-lookup"><span data-stu-id="5004d-176">You can download this NuGet package from the NuGet gallery.</span></span>
    - <span data-ttu-id="5004d-177">Das Freigeben von ASP.net Identity als nuget-Paket vereinfacht das ASP.net-Team, neue Features und Fehlerbehebungen zu durchlaufen und diese auf agile Weise für Entwickler bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="5004d-177">Releasing ASP.NET Identity as a NuGet package makes it easier for the ASP.NET team to iterate on new features and bug fixes, and deliver these to developers in an agile manner.</span></span>

## <a name="get-started-with-aspnet-identity"></a><span data-ttu-id="5004d-178">Beginnen Sie mit ASP.net Identity</span><span class="sxs-lookup"><span data-stu-id="5004d-178">Get started with ASP.NET Identity</span></span>

<span data-ttu-id="5004d-179">ASP.net Identity wird in den Visual Studio 2017-Projektvorlagen für ASP.NET MVC, Web Forms, Web-API und Spa verwendet.</span><span class="sxs-lookup"><span data-stu-id="5004d-179">ASP.NET Identity is used in the Visual Studio 2017 project templates for ASP.NET MVC, Web Forms, Web API and SPA.</span></span> <span data-ttu-id="5004d-180">In dieser exemplarischen Vorgehensweise wird veranschaulicht, wie die Projektvorlagen ASP.net Identity verwenden, um Funktionen zum Registrieren, anmelden und Abmelden eines Benutzers hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="5004d-180">In this walkthrough, we'll illustrate how the project templates use ASP.NET Identity to add functionality to register, sign in and sign out a user.</span></span>

<span data-ttu-id="5004d-181">ASP.net Identity wird mithilfe des folgenden Verfahrens implementiert.</span><span class="sxs-lookup"><span data-stu-id="5004d-181">ASP.NET Identity is implemented using the following procedure.</span></span> <span data-ttu-id="5004d-182">Der Zweck dieses Artikels besteht darin, Ihnen einen allgemeinen Überblick über ASP.net Identity zu verschaffen. Sie können Sie Schritt für Schritt befolgen oder einfach die Details lesen.</span><span class="sxs-lookup"><span data-stu-id="5004d-182">The purpose of this article is to give you a high level overview of ASP.NET Identity; you can follow it step by step or just read the details.</span></span> <span data-ttu-id="5004d-183">Ausführlichere Anweisungen zum Erstellen von apps mit ASP.net Identity, einschließlich der Verwendung der neuen API zum Hinzufügen von Benutzern, Rollen und Profilinformationen, finden Sie im Abschnitt nächste Schritte am Ende dieses Artikels.</span><span class="sxs-lookup"><span data-stu-id="5004d-183">For more detailed instructions on creating apps using ASP.NET Identity, including using the new API to add users, roles and profile information, see the Next Steps section at the end of this article.</span></span>

1. <span data-ttu-id="5004d-184">Erstellen Sie eine ASP.NET MVC-Anwendung mit einzelnen Konten.</span><span class="sxs-lookup"><span data-stu-id="5004d-184">Create an ASP.NET MVC application with Individual Accounts.</span></span> <span data-ttu-id="5004d-185">Sie können ASP.net Identity in ASP.NET MVC, Web Forms, Web API, signalr usw. verwenden. In diesem Artikel beginnen wir mit einer ASP.NET MVC-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="5004d-185">You can use ASP.NET Identity in ASP.NET MVC, Web Forms, Web API, SignalR etc. In this article we will start with an ASP.NET MVC application.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image1.png)
2. <span data-ttu-id="5004d-186">Das erstellte Projekt enthält die folgenden drei Pakete für ASP.net Identity.</span><span class="sxs-lookup"><span data-stu-id="5004d-186">The created project contains the following three packages for ASP.NET Identity.</span></span>

    - [`Microsoft.AspNet.Identity.EntityFramework`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/)  
   <span data-ttu-id="5004d-187">Dieses Paket verfügt über die Entity Framework Implementierung von ASP.net Identity bei der die ASP.net Identity Daten und das Schema für SQL Server persistent gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="5004d-187">This package has the Entity Framework implementation of ASP.NET Identity which will persist the ASP.NET Identity data and schema to SQL Server.</span></span>
    - [`Microsoft.AspNet.Identity.Core`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Core/)  
   <span data-ttu-id="5004d-188">Dieses Paket verfügt über die Kern Schnittstellen für ASP.net Identity.</span><span class="sxs-lookup"><span data-stu-id="5004d-188">This package has the core interfaces for ASP.NET Identity.</span></span> <span data-ttu-id="5004d-189">Dieses Paket kann verwendet werden, um eine Implementierung für ASP.net Identity zu schreiben, die unterschiedliche Beibehaltungs Speicher wie Azure Table Storage, nosql-Datenbanken usw. als Ziel hat.</span><span class="sxs-lookup"><span data-stu-id="5004d-189">This package can be used to write an implementation for ASP.NET Identity that targets different persistence stores such as Azure Table Storage, NoSQL databases etc.</span></span>
    - [`Microsoft.AspNet.Identity.OWIN`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Owin/)  
   <span data-ttu-id="5004d-190">Dieses Paket enthält Funktionen, die zum Einbinden der owin-Authentifizierung mit ASP.net Identity in ASP.NET-Anwendungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5004d-190">This package contains functionality that is used to plug in OWIN authentication with ASP.NET Identity in ASP.NET applications.</span></span> <span data-ttu-id="5004d-191">Diese wird verwendet, wenn Sie Ihrer Anwendung Anmelde Funktionen hinzufügen und die owin-cookenauthentifizierungs-Middleware aufzurufen, um ein Cookie zu generieren.</span><span class="sxs-lookup"><span data-stu-id="5004d-191">This is used when you add sign in functionality to your application and call into OWIN Cookie Authentication middleware to generate a cookie.</span></span>
3. <span data-ttu-id="5004d-192">Erstellen eines Benutzers.</span><span class="sxs-lookup"><span data-stu-id="5004d-192">Creating a user.</span></span>  
   <span data-ttu-id="5004d-193">Starten Sie die Anwendung, und klicken Sie dann auf den Link **registrieren** , um einen Benutzer zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="5004d-193">Launch the application and then click on the **Register** link to create a user.</span></span> <span data-ttu-id="5004d-194">In der folgenden Abbildung wird die Register Seite angezeigt, auf der der Benutzername und das Kennwort erfasst werden.</span><span class="sxs-lookup"><span data-stu-id="5004d-194">The following image shows the Register page that collects the user name and password.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image2.png)  
  
   <span data-ttu-id="5004d-195">Wenn der Benutzer die Schaltfläche **registrieren** auswählt, erstellt die `Register` Aktion des Konto Controllers den Benutzer durch Aufrufen der ASP.net Identity-API, wie unten gezeigt:</span><span class="sxs-lookup"><span data-stu-id="5004d-195">When the user selects the **Register** button, the `Register` action of the Account controller creates the user by calling the ASP.NET Identity API, as highlighted below:</span></span>

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample1.cs?highlight=8-9)]
4. <span data-ttu-id="5004d-196">Melden Sie sich an.</span><span class="sxs-lookup"><span data-stu-id="5004d-196">Sign in.</span></span>  
   <span data-ttu-id="5004d-197">Wenn der Benutzer erfolgreich erstellt wurde, wird er durch die `SignInAsync`-Methode angemeldet.</span><span class="sxs-lookup"><span data-stu-id="5004d-197">If the user was successfully created, she is signed in by the `SignInAsync` method.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample6.cs?highlight=12)]

   <span data-ttu-id="5004d-198">Die `SignInManager.SignInAsync`-Methode generiert eine " [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx)".</span><span class="sxs-lookup"><span data-stu-id="5004d-198">The `SignInManager.SignInAsync` method generates a [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span></span> <span data-ttu-id="5004d-199">Da ASP.net Identity-und owin-Cookieauthentifizierung Anspruchs basiertes System sind, erfordert das Framework, dass die APP eine "ClaimsIdentity" für den Benutzer generiert.</span><span class="sxs-lookup"><span data-stu-id="5004d-199">Since ASP.NET Identity and OWIN Cookie Authentication are claims-based system, the framework requires the app to generate a ClaimsIdentity for the user.</span></span> <span data-ttu-id="5004d-200">ClaimsIdentity enthält Informationen über alle Ansprüche für den Benutzer, z. b. die Rollen, denen der Benutzer angehört.</span><span class="sxs-lookup"><span data-stu-id="5004d-200">ClaimsIdentity has information about all the claims for the user, such as what roles the user belongs to.</span></span>   
 
5. <span data-ttu-id="5004d-201">Melden Sie sich ab.</span><span class="sxs-lookup"><span data-stu-id="5004d-201">Log off.</span></span>  
   <span data-ttu-id="5004d-202">Wählen Sie den Link Abmelden aus, um die **Abmelde** Aktion im Konto Controller aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="5004d-202">Select the **Log off** link to call the LogOff action in the account controller.</span></span> 

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample5.cs?highlight=6)]

   <span data-ttu-id="5004d-203">Der hervorgehobene Code oben zeigt die owin-`AuthenticationManager.SignOut`-Methode.</span><span class="sxs-lookup"><span data-stu-id="5004d-203">The highlighted code above shows the OWIN `AuthenticationManager.SignOut` method.</span></span> <span data-ttu-id="5004d-204">Dies entspricht der [FormsAuthentication. SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) -Methode, die vom [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) -Modul in Web Forms verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="5004d-204">This is analogous to [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) method used by the [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) module in Web Forms.</span></span>

## <a name="components-of-aspnet-identity"></a><span data-ttu-id="5004d-205">Komponenten von ASP.net Identity</span><span class="sxs-lookup"><span data-stu-id="5004d-205">Components of ASP.NET Identity</span></span>

<span data-ttu-id="5004d-206">Das folgende Diagramm zeigt die Komponenten des ASP.net Identity Systems (Wählen Sie [dieses](introduction-to-aspnet-identity/_static/image3.png) oder im Diagramm aus, um es zu vergrößern).</span><span class="sxs-lookup"><span data-stu-id="5004d-206">The diagram below shows the components of the ASP.NET Identity system (select on [this](introduction-to-aspnet-identity/_static/image3.png) or on the diagram to enlarge it).</span></span> <span data-ttu-id="5004d-207">Die Pakete in grün bilden das ASP.net Identity System.</span><span class="sxs-lookup"><span data-stu-id="5004d-207">The packages in green make up the ASP.NET Identity system.</span></span> <span data-ttu-id="5004d-208">Alle anderen Pakete sind Abhängigkeiten, die für die Verwendung des ASP.net Identity Systems in ASP.NET-Anwendungen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="5004d-208">All the other packages are dependencies which are needed to use the ASP.NET Identity system in ASP.NET applications.</span></span>

[![](introduction-to-aspnet-identity/_static/image5.png)](introduction-to-aspnet-identity/_static/image4.png)

<span data-ttu-id="5004d-209">Im folgenden finden Sie eine kurze Beschreibung der nuget-Pakete, die nicht bereits erwähnt wurden:</span><span class="sxs-lookup"><span data-stu-id="5004d-209">The following is a brief description of the NuGet packages not mentioned previously:</span></span>

- [<span data-ttu-id="5004d-210">Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="5004d-210">Microsoft.Owin.Security.Cookies</span></span>](http://www.nuget.org/packages/Microsoft.Owin.Security.Cookies/)  
 <span data-ttu-id="5004d-211">Middleware, die einer Anwendung die Verwendung der cookiebasierten Authentifizierung ermöglicht, ähnlich wie bei ASP. Formular Authentifizierung von net.</span><span class="sxs-lookup"><span data-stu-id="5004d-211">Middleware that enables an application to use cookie based authentication, similar to ASP.NET's Forms Authentication.</span></span>
- [<span data-ttu-id="5004d-212">EntityFramework</span><span class="sxs-lookup"><span data-stu-id="5004d-212">EntityFramework</span></span>](http://www.nuget.org/packages/EntityFramework/)  
 <span data-ttu-id="5004d-213">Entity Framework ist die empfohlene Datenzugriffs Technologie von Microsoft für relationale Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="5004d-213">Entity Framework is Microsoft's recommended data access technology for relational databases.</span></span>

## <a name="migrating-from-membership-to-aspnet-identity"></a><span data-ttu-id="5004d-214">Migrieren von der Mitgliedschaft zu ASP.net Identity</span><span class="sxs-lookup"><span data-stu-id="5004d-214">Migrating from Membership to ASP.NET Identity</span></span>

<span data-ttu-id="5004d-215">Wir hoffen, bald eine Anleitung zum Migrieren vorhandener apps bereitzustellen, die ASP.NET-Mitgliedschaft oder einfache Mitgliedschaft beim neuen ASP.net Identity System verwenden.</span><span class="sxs-lookup"><span data-stu-id="5004d-215">We hope to soon provide guidance on migrating your existing apps that use ASP.NET Membership or Simple Membership to the new ASP.NET Identity system.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5004d-216">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="5004d-216">Next Steps</span></span>

- [<span data-ttu-id="5004d-217">Erstellen einer ASP.NET MVC 5-App mit Facebook und Google OAuth2 und OpenID-Anmeldung</span><span class="sxs-lookup"><span data-stu-id="5004d-217">Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md)  
 <span data-ttu-id="5004d-218">Das Tutorial verwendet die ASP.net Identity-API, um der Benutzerdatenbank Profilinformationen hinzuzufügen und zu erfahren, wie Sie sich mit Google und Facebook authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="5004d-218">The tutorial uses the ASP.NET Identity API to add profile information to the user database, and how to authenticate with Google and Facebook.</span></span>
- [<span data-ttu-id="5004d-219">Erstellen einer ASP.NET MVC-App mit Authentifizierung, SQL-Datenbank und Bereitstellung in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="5004d-219">Create an ASP.NET MVC app with auth and SQL DB and deploy to Azure App Service</span></span>](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)  
 <span data-ttu-id="5004d-220">In diesem Tutorial wird gezeigt, wie Sie die Identitäts-API verwenden, um Benutzer und Rollen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="5004d-220">This tutorial shows how to use the Identity API to add users and roles.</span></span>
- [https://github.com/rustd/AspnetIdentitySample](https://github.com/rustd/AspnetIdentitySample)  
 <span data-ttu-id="5004d-221">Beispielanwendung, die zeigt, wie Sie grundlegende Rollen und Benutzerunterstützung hinzufügen und wie Sie Rollen und Benutzerverwaltung durchführen.</span><span class="sxs-lookup"><span data-stu-id="5004d-221">Sample application that shows how to add basic roles and user support and how to do roles and user management.</span></span>
