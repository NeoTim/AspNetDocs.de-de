---
uid: mvc/overview/getting-started/database-first-development/generating-views
title: 'Tutorial: Generieren von Ansichten für EF Database First mit ASP.NET MVC-app'
description: Dieses Tutorial konzentriert sich auf ASP.NET-Gerüstbau verwenden, um die Controller und Ansichten zu generieren.
author: Rick-Anderson
ms.author: riande
ms.date: 01/28/2019
ms.topic: tutorial
ms.assetid: 669367cf-8e30-4eb6-821d-10a7d9bb906c
msc.legacyurl: /mvc/overview/getting-started/database-first-development/generating-views
msc.type: authoredcontent
ms.openlocfilehash: 7a56c0f9197a99427bcde6103ebc69d245e8ce63
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/01/2019
ms.locfileid: "57025757"
---
# <a name="tutorial-generate-views-for-ef-database-first-with-aspnet-mvc-app"></a><span data-ttu-id="f4972-103">Tutorial: Generieren von Ansichten für EF Database First mit ASP.NET MVC-app</span><span class="sxs-lookup"><span data-stu-id="f4972-103">Tutorial: Generate views for EF Database First with ASP.NET MVC app</span></span>

<span data-ttu-id="f4972-104">Verwenden MVC, Entity Framework und ASP.NET-Gerüstbau, können Sie eine Webanwendung erstellen, die eine Schnittstelle für eine vorhandene Datenbank bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="f4972-104">Using MVC, Entity Framework, and ASP.NET Scaffolding, you can create a web application that provides an interface to an existing database.</span></span> <span data-ttu-id="f4972-105">Dieser tutorialreihe erfahren Sie, wie Sie automatisch generierter Code, der ermöglicht Benutzern das anzeigen, bearbeiten, erstellen und Löschen von Daten, die in einer Datenbanktabelle gespeichert.</span><span class="sxs-lookup"><span data-stu-id="f4972-105">This tutorial series shows you how to automatically generate code that enables users to display, edit, create, and delete data that resides in a database table.</span></span> <span data-ttu-id="f4972-106">Der generierte Code entspricht die Spalten in der Datenbanktabelle.</span><span class="sxs-lookup"><span data-stu-id="f4972-106">The generated code corresponds to the columns in the database table.</span></span>

<span data-ttu-id="f4972-107">Dieses Tutorial konzentriert sich auf ASP.NET-Gerüstbau verwenden, um die Controller und Ansichten zu generieren.</span><span class="sxs-lookup"><span data-stu-id="f4972-107">This tutorial focuses on using ASP.NET Scaffolding to generate the controllers and views.</span></span>

<span data-ttu-id="f4972-108">In diesem Tutorial:</span><span class="sxs-lookup"><span data-stu-id="f4972-108">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="f4972-109">Gerüst hinzufügen</span><span class="sxs-lookup"><span data-stu-id="f4972-109">Add scaffold</span></span>
> * <span data-ttu-id="f4972-110">Hinzufügen von Links zu den neuen Ansichten</span><span class="sxs-lookup"><span data-stu-id="f4972-110">Add links to new views</span></span>
> * <span data-ttu-id="f4972-111">Anzeigen von für Schüler und Studenten-Ansichten</span><span class="sxs-lookup"><span data-stu-id="f4972-111">Display student views</span></span>
> * <span data-ttu-id="f4972-112">Anzeigen von Ansichten der Registrierung</span><span class="sxs-lookup"><span data-stu-id="f4972-112">Display enrollment views</span></span>

## <a name="prerequisite"></a><span data-ttu-id="f4972-113">Vorbereitungsmaßnahme</span><span class="sxs-lookup"><span data-stu-id="f4972-113">Prerequisite</span></span>

* [<span data-ttu-id="f4972-114">Erstellen Sie die Anwendungs- und Datenmodelle</span><span class="sxs-lookup"><span data-stu-id="f4972-114">Create the web application and data models</span></span>](creating-the-web-application.md)

## <a name="add-scaffold"></a><span data-ttu-id="f4972-115">Gerüst hinzufügen</span><span class="sxs-lookup"><span data-stu-id="f4972-115">Add scaffold</span></span>

<span data-ttu-id="f4972-116">Sie können zum Generieren von Code, die standard-Vorgänge für die Modellklassen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="f4972-116">You are ready to generate code that will provide standard data operations for the model classes.</span></span> <span data-ttu-id="f4972-117">Sie können den Code durch Hinzufügen eines Elements Gerüst hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f4972-117">You add the code by adding a scaffold item.</span></span> <span data-ttu-id="f4972-118">Es gibt viele Optionen für den Typ der Gerüstbau, die Sie hinzufügen können. In diesem Tutorial enthält das Gerüst, einen Controller und Ansichten, die die Modelle "Student" und der Registrierung entsprechen, die Sie im vorherigen Abschnitt erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="f4972-118">There are many options for the type of scaffolding you can add; in this tutorial, the scaffold will include a controller and views that correspond to the Student and Enrollment models you created in the previous section.</span></span>

<span data-ttu-id="f4972-119">Um Konsistenz in Ihrem Projekt zu gewährleisten, fügen Sie den neuen Controller hinzu, die vorhandene **Controller** Ordner.</span><span class="sxs-lookup"><span data-stu-id="f4972-119">To maintain consistency in your project, you will add the new controller to the existing **Controllers** folder.</span></span> <span data-ttu-id="f4972-120">Mit der rechten Maustaste die **Controller** Ordner, und wählen **hinzufügen** > **neues Gerüstelement**.</span><span class="sxs-lookup"><span data-stu-id="f4972-120">Right-click the **Controllers** folder, and select **Add** > **New Scaffolded Item**.</span></span>

<span data-ttu-id="f4972-121">Wählen Sie die **MVC 5-Controller mit Ansichten unter Verwendung von Entity Framework** Option.</span><span class="sxs-lookup"><span data-stu-id="f4972-121">Select the **MVC 5 Controller with views, using Entity Framework** option.</span></span> <span data-ttu-id="f4972-122">Diese Option wird die Controller und Ansichten zum Aktualisieren, löschen, erstellen und Anzeigen der Daten in Ihrem Modell generiert.</span><span class="sxs-lookup"><span data-stu-id="f4972-122">This option will generate the controller and views for updating, deleting, creating and displaying the data in your model.</span></span>

![Hinzufügen der Mvc-controller](generating-views/_static/image2.png)

<span data-ttu-id="f4972-124">Wählen Sie **für Schüler und Studenten (ContosoSite.Models)** für die Model-Klasse, und wählen die **ContosoUniversityDataEntities (ContosoSite.Models)** für der Context-Klasse.</span><span class="sxs-lookup"><span data-stu-id="f4972-124">Select **Student (ContosoSite.Models)** for the model class and select the **ContosoUniversityDataEntities (ContosoSite.Models)** for the context class.</span></span> <span data-ttu-id="f4972-125">Behalten Sie den Namen der Controller als **StudentsController**.</span><span class="sxs-lookup"><span data-stu-id="f4972-125">Keep the controller name as **StudentsController**.</span></span>

<span data-ttu-id="f4972-126">Klicken Sie auf **Hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="f4972-126">Click **Add**.</span></span>

<span data-ttu-id="f4972-127">Wenn Sie eine Fehlermeldung erhalten, kann es sein, da Sie nicht auf das Projekt im vorherigen Abschnitt erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="f4972-127">If you receive an error, it may be because you did not build the project in the previous section.</span></span> <span data-ttu-id="f4972-128">Wenn dies der Fall ist, versuchen Sie es beim Erstellen des Projekts, und klicken Sie dann das erstellte Element erneut hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f4972-128">If so, try building the project, and then add the scaffolded item again.</span></span>

<span data-ttu-id="f4972-129">Nachdem der Prozess der codegenerierung abgeschlossen ist, sehen Sie einen neuen Controller und Ansichten in Ihrem Projekts die **Controller** und **Ansichten** > **Schüler/Studenten** Ordner .</span><span class="sxs-lookup"><span data-stu-id="f4972-129">After the code generation process is complete, you will see a new controller and views in your project's **Controllers** and **Views** > **Students** folders.</span></span>


<span data-ttu-id="f4972-130">Führen Sie die gleichen Schritte erneut aus, aber fügen Sie ein Gerüst für die **Registrierung** Klasse.</span><span class="sxs-lookup"><span data-stu-id="f4972-130">Perform the same steps again, but add a scaffold for the **Enrollment** class.</span></span> <span data-ttu-id="f4972-131">Wenn Sie fertig sind, müssen Sie eine **EnrollmentsController.cs** Datei sowie einen Ordner unter **Ansichten** mit dem Namen **Registrierungen** mit den Ansichten erstellen "," Delete "," Details "," Bearbeiten "und" Index.</span><span class="sxs-lookup"><span data-stu-id="f4972-131">When finished, you have an **EnrollmentsController.cs** file, and a folder under **Views** named **Enrollments** with the Create, Delete, Details, Edit and Index views.</span></span>

## <a name="add-links-to-new-views"></a><span data-ttu-id="f4972-132">Hinzufügen von Links zu den neuen Ansichten</span><span class="sxs-lookup"><span data-stu-id="f4972-132">Add links to new views</span></span>

<span data-ttu-id="f4972-133">Um für die Navigation zu Ihrer neuen Ansichten vereinfachen, können Sie eine Reihe von Links für Schüler/Studenten und Registrierungen, die den Index Ansichten hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f4972-133">To make it easier for you to navigate to your new views, you can add a couple of hyperlinks to the Index views for students and enrollments.</span></span> <span data-ttu-id="f4972-134">Öffnen Sie die Datei unter **Ansichten** > **Home** > *"Index.cshtml"*, dies ist die Startseite für Ihre Website.</span><span class="sxs-lookup"><span data-stu-id="f4972-134">Open the file at **Views** > **Home** > *Index.cshtml*, which is the home page for your site.</span></span> <span data-ttu-id="f4972-135">Fügen Sie den folgenden Code unter den Jumbotron hinzu.</span><span class="sxs-lookup"><span data-stu-id="f4972-135">Add the following code below the jumbotron.</span></span>

[!code-cshtml[Main](generating-views/samples/sample1.cshtml)]

<span data-ttu-id="f4972-136">Für die ActionLink-Methode ist der erste Parameter der im Link anzuzeigende Text.</span><span class="sxs-lookup"><span data-stu-id="f4972-136">For the ActionLink method, the first parameter is the text to display in the link.</span></span> <span data-ttu-id="f4972-137">Der zweite Parameter ist die Aktion aus, und der dritte Parameter ist der Name des Controllers.</span><span class="sxs-lookup"><span data-stu-id="f4972-137">The second parameter is the action and the third parameter is the name of the controller.</span></span> <span data-ttu-id="f4972-138">Zeigt beispielsweise der erste Link zu der Aktion Index StudentsController an.</span><span class="sxs-lookup"><span data-stu-id="f4972-138">For example, the first link points to the Index action in StudentsController.</span></span> <span data-ttu-id="f4972-139">Der tatsächlichen Link wird unter folgenden Werten erstellt.</span><span class="sxs-lookup"><span data-stu-id="f4972-139">The actual hyperlink is constructed from these values.</span></span> <span data-ttu-id="f4972-140">Die erste Verknüpfung letztendlich gelangen Benutzer zum die **"Index.cshtml"** Datei innerhalb der **Ansichten/Schüler/Studenten** Ordner.</span><span class="sxs-lookup"><span data-stu-id="f4972-140">The first link ultimately takes users to the **Index.cshtml** file within the **Views/Students** folder.</span></span>

## <a name="display-student-views"></a><span data-ttu-id="f4972-141">Anzeigen von für Schüler und Studenten-Ansichten</span><span class="sxs-lookup"><span data-stu-id="f4972-141">Display student views</span></span>

<span data-ttu-id="f4972-142">Sie werden überprüfen, dass der Code ordnungsgemäß zu Ihrem Projekt hinzugefügt wird eine Liste der Studenten angezeigt, und Benutzern ermöglicht das Bearbeiten, erstellen oder löschen Sie die Studentendatensätze für Schüler und in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="f4972-142">You will verify that the code added to your project correctly displays a list of the students, and enables users to edit, create, or delete the student records in the database.</span></span>

<span data-ttu-id="f4972-143">Mit der rechten Maustaste die **Ansichten** > **Startseite** > *"Index.cshtml"* , und wählen Sie **in Browser anzeigen**.</span><span class="sxs-lookup"><span data-stu-id="f4972-143">Right-click the **Views** > **Home** > *Index.cshtml* file, and select **View in Browser**.</span></span> <span data-ttu-id="f4972-144">Wählen Sie auf der Startseite der Anwendung **Liste der Studenten**.</span><span class="sxs-lookup"><span data-stu-id="f4972-144">On the application home page, select **List of students**.</span></span>

![](generating-views/_static/image6.png)

<span data-ttu-id="f4972-145">Auf der **Index** Seite, beachten Sie, dass die Liste der Schüler/Studenten und Links zum Ändern dieser Daten.</span><span class="sxs-lookup"><span data-stu-id="f4972-145">On the **Index** page, notice the list of the students and links to modify this data.</span></span> <span data-ttu-id="f4972-146">Wählen Sie die **neu erstellen** verknüpfen, und geben Sie einige Werte für einen neuen Studenten.</span><span class="sxs-lookup"><span data-stu-id="f4972-146">Select the **Create New** link and provide some values for a new student.</span></span> <span data-ttu-id="f4972-147">Klicken Sie auf **erstellen**, und beachten Sie, dass die neue Studenten zur Liste hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="f4972-147">Click **Create**, and notice the new student is added to your list.</span></span>

<span data-ttu-id="f4972-148">Auf der **Index** Seite die **bearbeiten** verknüpfen, und einige der Werte für Schüler/Student ändern.</span><span class="sxs-lookup"><span data-stu-id="f4972-148">Back on the **Index** page, select the **Edit** link, and change some of the values for a student.</span></span> <span data-ttu-id="f4972-149">Klicken Sie auf **speichern**, und beachten Sie, dass der Student-Datensatz geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="f4972-149">Click **Save**, and notice the student record has been changed.</span></span>

<span data-ttu-id="f4972-150">Wählen Sie abschließend die **löschen** verknüpfen, und bestätigen Sie den Datensatz zu löschen, indem Sie auf die **löschen** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="f4972-150">Finally, select the **Delete** link and confirm that you want to delete the record by clicking the **Delete** button.</span></span>

<span data-ttu-id="f4972-151">Ohne Code schreiben zu müssen, haben Sie die Sichten hinzugefügt, die allgemeine Vorgänge auf die Daten in der Tabelle "Student" ausführen.</span><span class="sxs-lookup"><span data-stu-id="f4972-151">Without writing any code, you have added views that perform common operations on the data in the Student table.</span></span>

<span data-ttu-id="f4972-152">Ihnen möglicherweise aufgefallen, dass das die textbezeichnung für ein Feld auf die Datenbankeigenschaft (z. B. **"LastName"**) dem ist nicht unbedingt auf der Webseite anzeigen möchten.</span><span class="sxs-lookup"><span data-stu-id="f4972-152">You may have noticed that the text label for a field is based on the database property (such as **LastName**) which is not necessarily what you want to display on the web page.</span></span> <span data-ttu-id="f4972-153">Z. B. möglicherweise bevorzugen Sie die Bezeichnung sein **Nachname**.</span><span class="sxs-lookup"><span data-stu-id="f4972-153">For example, you may prefer the label to be **Last Name**.</span></span> <span data-ttu-id="f4972-154">Sie werden später im Tutorial dieses Anzeigeproblems behoben.</span><span class="sxs-lookup"><span data-stu-id="f4972-154">You will fix this display issue later in the tutorial.</span></span>

## <a name="display-enrollment-views"></a><span data-ttu-id="f4972-155">Anzeigen von Ansichten der Registrierung</span><span class="sxs-lookup"><span data-stu-id="f4972-155">Display enrollment views</span></span>

<span data-ttu-id="f4972-156">Ihre Datenbank enthält eine 1: n Beziehung zwischen den Tabellen "Student" und Registrierung, und eine 1: n Beziehung zwischen den Tabellen Kurs- und Registrierungsentitäten.</span><span class="sxs-lookup"><span data-stu-id="f4972-156">Your database includes a one-to-many relationship between the Student and Enrollment tables, and a one-to-many relationship between the Course and Enrollment tables.</span></span> <span data-ttu-id="f4972-157">Die Ansichten für die Registrierung zu diese Beziehungen verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f4972-157">The views for Enrollment correctly handle these relationships.</span></span> <span data-ttu-id="f4972-158">Navigieren Sie zur Startseite für Ihre Website, und wählen die **Liste der Registrierungen** Link und klicken Sie dann die **neu erstellen** Link.</span><span class="sxs-lookup"><span data-stu-id="f4972-158">Navigate to the home page for your site and select the **List of enrollments** link and then the **Create New** link.</span></span>

<span data-ttu-id="f4972-159">Die Ansicht zeigt ein Formular zum Erstellen eines neuen Eintrags für die Registrierung.</span><span class="sxs-lookup"><span data-stu-id="f4972-159">The view displays a form for creating a new enrollment record.</span></span> <span data-ttu-id="f4972-160">Beachten Sie insbesondere die, dass das Formular enthält eine **CourseID** Dropdown-Liste und eine **"StudentID"** Dropdown-Liste.</span><span class="sxs-lookup"><span data-stu-id="f4972-160">In particular, notice that the form contains a **CourseID** drop-down list and a **StudentID** drop-down list.</span></span> <span data-ttu-id="f4972-161">Beide werden mit Werten aus der verknüpften Tabellen aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="f4972-161">Both are populated with values from the related tables.</span></span>

<span data-ttu-id="f4972-162">Darüber hinaus wird die Überprüfung der bereitgestellten Werte automatisch basierend auf dem Datentyp des Felds angewendet.</span><span class="sxs-lookup"><span data-stu-id="f4972-162">Furthermore, validation of the provided values is automatically applied based on the data type of the field.</span></span> <span data-ttu-id="f4972-163">**Professionelle** erfordert eine Zahl ist, eine Fehlermeldung angezeigt wird, wenn Sie versuchen, einen nicht kompatiblen Wert angeben: *Das Feld "Grade" muss eine Zahl sein.*</span><span class="sxs-lookup"><span data-stu-id="f4972-163">**Grade** requires a number, so an error message is displayed if you try to provide an incompatible value: *The field Grade must be a number.*</span></span>

<span data-ttu-id="f4972-164">Sie haben sichergestellt, dass die automatisch generierte Ansichten für die Arbeit mit den Daten in der Datenbank ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="f4972-164">You have verified that the automatically-generated views enable users to work with the data in the database.</span></span> <span data-ttu-id="f4972-165">Im nächsten Tutorial dieser Reihe Sie die Datenbank aktualisieren, und nehmen die entsprechenden Änderungen in der Webanwendung.</span><span class="sxs-lookup"><span data-stu-id="f4972-165">In the next tutorial in this series, you will update the database and make the corresponding changes in the web application.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f4972-166">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="f4972-166">Next steps</span></span>

<span data-ttu-id="f4972-167">In diesem Tutorial:</span><span class="sxs-lookup"><span data-stu-id="f4972-167">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="f4972-168">Hinzugefügten scaffold</span><span class="sxs-lookup"><span data-stu-id="f4972-168">Added scaffold</span></span>
> * <span data-ttu-id="f4972-169">Links zu neuen Funktionen hinzugefügt</span><span class="sxs-lookup"><span data-stu-id="f4972-169">Added links to new views</span></span>
> * <span data-ttu-id="f4972-170">Ansichten der angezeigten für Schüler und Studenten</span><span class="sxs-lookup"><span data-stu-id="f4972-170">Displayed student views</span></span>
> * <span data-ttu-id="f4972-171">Angezeigte Registrierung-Ansichten</span><span class="sxs-lookup"><span data-stu-id="f4972-171">Displayed enrollment views</span></span>

<span data-ttu-id="f4972-172">Fahren Sie fort mit dem nächsten Tutorial erfahren, wie die Datenbank ändern.</span><span class="sxs-lookup"><span data-stu-id="f4972-172">Advance to the next tutorial to learn how to change the database.</span></span>
> [!div class="nextstepaction"]
> [<span data-ttu-id="f4972-173">Ändern Sie die Datenbank</span><span class="sxs-lookup"><span data-stu-id="f4972-173">Change the database</span></span>](changing-the-database.md)