---
uid: mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
title: 'Tutorial: Verwenden von EF-Migrationen in einer ASP.NET MVC-app und Bereitstellen in Azure'
author: tdykstra
description: In diesem Tutorial haben Sie Code First-Migrationen zu aktivieren und Bereitstellen der Anwendung in der Cloud in Azure.
ms.author: riande
ms.date: 01/16/2019
ms.topic: tutorial
ms.assetid: d4dfc435-bda6-4621-9762-9ba270f8de4e
msc.legacyurl: /mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
msc.type: authoredcontent
ms.openlocfilehash: 1f25a9afdf379d725496bd88f6ac192ab19930ca
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59384512"
---
# <a name="tutorial-use-ef-migrations-in-an-aspnet-mvc-app-and-deploy-to-azure"></a><span data-ttu-id="6ba43-103">Tutorial: Verwenden von EF-Migrationen in einer ASP.NET MVC-app und Bereitstellen in Azure</span><span class="sxs-lookup"><span data-stu-id="6ba43-103">Tutorial: Use EF Migrations in an ASP.NET MVC app and deploy to Azure</span></span>

<span data-ttu-id="6ba43-104">Bisher wurde die Contoso University-Beispielwebanwendung lokal in IIS Express auf Ihrem Entwicklungscomputer ausgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="6ba43-104">So far the Contoso University sample web application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="6ba43-105">Um eine reale Anwendung für andere Benutzer über das Internet verfügbar zu machen, müssen Sie es auf einen Webhostinganbieter bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-105">To make a real application available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="6ba43-106">In diesem Tutorial haben Sie Code First-Migrationen zu aktivieren und Bereitstellen der Anwendung in der Cloud in Azure:</span><span class="sxs-lookup"><span data-stu-id="6ba43-106">In this tutorial, you enable Code First migrations and deploy the application to the cloud in Azure:</span></span>

- <span data-ttu-id="6ba43-107">Aktivieren Sie Code First-Migrationen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-107">Enable Code First Migrations.</span></span> <span data-ttu-id="6ba43-108">Das Migrationsfeature können Sie das Datenmodell ändern und die Änderungen für die Produktion bereitstellen, indem Sie das Datenbankschema ohne löschen und Neuerstellen der Datenbank aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="6ba43-108">The Migrations feature enables you to change the data model and deploy your changes to production by updating the database schema without having to drop and re-create the database.</span></span>
- <span data-ttu-id="6ba43-109">In Azure bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-109">Deploy to Azure.</span></span> <span data-ttu-id="6ba43-110">Dieser Schritt ist optional. Sie können mit den restlichen Tutorials fortfahren, ohne dass das Projekt bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-110">This step is optional; you can continue with the remaining tutorials without having deployed the project.</span></span>

<span data-ttu-id="6ba43-111">Es wird empfohlen, dass Sie eine continuous Integration-Prozesses mit der quellcodeverwaltung für die Bereitstellung verwenden, aber diese Themen in diesem Tutorial nicht behandelt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-111">We recommend that you use a continuous integration process with source control for deployment, but this tutorial does not cover those topics.</span></span> <span data-ttu-id="6ba43-112">Weitere Informationen finden Sie unter den [quellcodeverwaltung](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) und [fortlaufende Integration](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) Kapiteln [Building Real-World Cloud-Apps mit Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction).</span><span class="sxs-lookup"><span data-stu-id="6ba43-112">For more information, see the [source control](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) and [continuous integration](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) chapters of [Building Real-World Cloud Apps with Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction).</span></span>

<span data-ttu-id="6ba43-113">In diesem Tutorial:</span><span class="sxs-lookup"><span data-stu-id="6ba43-113">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="6ba43-114">Aktivieren Sie Code First-Migrationen</span><span class="sxs-lookup"><span data-stu-id="6ba43-114">Enable Code First migrations</span></span>
> * <span data-ttu-id="6ba43-115">Bereitstellen der app in Azure (optional)</span><span class="sxs-lookup"><span data-stu-id="6ba43-115">Deploy the app in Azure (optional)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="6ba43-116">Vorraussetzungen</span><span class="sxs-lookup"><span data-stu-id="6ba43-116">Prerequisites</span></span>

- [<span data-ttu-id="6ba43-117">Verbindungsresilienz und Abfangen von Befehlen</span><span class="sxs-lookup"><span data-stu-id="6ba43-117">Connection Resiliency and Command Interception</span></span>](connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md)

## <a name="enable-code-first-migrations"></a><span data-ttu-id="6ba43-118">Aktivieren Sie Code First-Migrationen</span><span class="sxs-lookup"><span data-stu-id="6ba43-118">Enable Code First migrations</span></span>

<span data-ttu-id="6ba43-119">Wenn Sie eine neue Anwendung entwickeln, ändert sich Ihr Datenmodell häufig. Jedes Mal, wenn das Datenmodell geändert wird, ist es nicht mehr synchron mit der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6ba43-119">When you develop a new application, your data model changes frequently, and each time the model changes, it gets out of sync with the database.</span></span> <span data-ttu-id="6ba43-120">Sie haben konfiguriert, dass das Entity Framework für das automatische Löschen und Neuerstellen der Datenbank jedes Mal, die Sie das Datenmodell ändern.</span><span class="sxs-lookup"><span data-stu-id="6ba43-120">You have configured the Entity Framework to automatically drop and re-create the database each time you change the data model.</span></span> <span data-ttu-id="6ba43-121">Wenn Sie hinzufügen, entfernen oder Ändern von Entitätsklassen oder Ändern Ihrer `DbContext` Klasse, die beim nächsten der Anwendung ausführen es automatisch die vorhandene Datenbank gelöscht wird, erstellt eine neue Ressourcengruppe, die dem Modell entspricht, und startet diese mit Testdaten.</span><span class="sxs-lookup"><span data-stu-id="6ba43-121">When you add, remove, or change entity classes or change your `DbContext` class, the next time you run the application it automatically deletes your existing database, creates a new one that matches the model, and seeds it with test data.</span></span>

<span data-ttu-id="6ba43-122">Diese Methode, bei der die Datenbank mit dem Datenmodell synchron gehalten wird, funktioniert so lange, bis Sie die Anwendung für die Produktion bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-122">This method of keeping the database in sync with the data model works well until you deploy the application to production.</span></span> <span data-ttu-id="6ba43-123">Wenn die Anwendung in der Produktion ausgeführt wird, wird es in der Regel Speichern von Daten, die Sie beibehalten möchten, und nicht alles, was jedes Mal verloren gehen, die Sie z. B. das Hinzufügen einer neuen Spalteninhalts ändern möchten.</span><span class="sxs-lookup"><span data-stu-id="6ba43-123">When the application is running in production, it is usually storing data that you want to keep, and you don't want to lose everything each time you make a change such as adding a new column.</span></span> <span data-ttu-id="6ba43-124">Die [Code First-Migrationen](https://msdn.microsoft.com/data/jj591621) löst dieses Problem durch Code First zum Aktualisieren des Datenbankschemas löschen und Neuerstellen der Datenbank aktivieren.</span><span class="sxs-lookup"><span data-stu-id="6ba43-124">The [Code First Migrations](https://msdn.microsoft.com/data/jj591621) feature solves this problem by enabling Code First to update the database schema instead of dropping and re-creating the database.</span></span> <span data-ttu-id="6ba43-125">In diesem Tutorial stellen Sie die Anwendung bereit, und aktivieren, die Sie die Vorbereitung Migrationen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-125">In this tutorial, you'll deploy the application, and to prepare for that you'll enable Migrations.</span></span>

1. <span data-ttu-id="6ba43-126">Deaktivieren Sie den Initialisierer, die Sie zuvor eingerichtet haben durch auskommentieren oder Löschen der `contexts` -Element, das Sie die Datei Web.config der Anwendung hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-126">Disable the initializer that you set up earlier by commenting out or deleting the `contexts` element that you added to the application Web.config file.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample1.xml?highlight=2,6)]
2. <span data-ttu-id="6ba43-127">Auch in der Anwendung *"Web.config"* Datei, ändern Sie den Namen der Datenbank in der Verbindungszeichenfolge in "contosouniversity2".</span><span class="sxs-lookup"><span data-stu-id="6ba43-127">Also in the application *Web.config* file, change the name of the database in the connection string to ContosoUniversity2.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample2.xml?highlight=2)]

    <span data-ttu-id="6ba43-128">Diese Änderung wird das Projekt eingerichtet, sodass die erste Migration eine neue Datenbank erstellt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-128">This change sets up the project so that the first migration creates a new database.</span></span> <span data-ttu-id="6ba43-129">Dies ist nicht erforderlich, aber Sie werden später sehen, warum es eine gute Idee ist.</span><span class="sxs-lookup"><span data-stu-id="6ba43-129">This isn't required but you'll see later why it's a good idea.</span></span>
3. <span data-ttu-id="6ba43-130">Öffnen Sie das Menü **Extras**, und wählen Sie **NuGet-Paket-Manager** > **Paket-Manager-Konsole** aus.</span><span class="sxs-lookup"><span data-stu-id="6ba43-130">From the **Tools** menu, select **NuGet Package Manager** > **Package Manager Console**.</span></span>

1. <span data-ttu-id="6ba43-131">Auf der `PM>` Eingabeaufforderung Geben Sie die folgenden Befehle aus:</span><span class="sxs-lookup"><span data-stu-id="6ba43-131">At the `PM>` prompt enter the following commands:</span></span>

    ```text
    enable-migrations
    add-migration InitialCreate
    ```

    <span data-ttu-id="6ba43-132">Die `enable-migrations` Befehl erstellt eine *Migrationen* Ordner im Projekt ContosoUniversity, und es wird in diesem Ordner eine *Configuration.cs* -Datei, die Sie bearbeiten können, um die Migrationen zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="6ba43-132">The `enable-migrations` command creates a *Migrations* folder in the ContosoUniversity project, and it puts in that folder a *Configuration.cs* file that you can edit to configure Migrations.</span></span>

    <span data-ttu-id="6ba43-133">(Falls Sie die oben genannten Schritt, die Sie zum Ändern des Datenbanknamens weiterleitet übersehen, Migrationen findet die vorhandene Datenbank und automatisch die `add-migration` Befehl.</span><span class="sxs-lookup"><span data-stu-id="6ba43-133">(If you missed the step above that directs you to change the database name, Migrations will find the existing database and automatically do the `add-migration` command.</span></span> <span data-ttu-id="6ba43-134">Das ist in Ordnung, es bedeutet lediglich, dass Sie einen Test des Codes Migrationen ausführen wird nicht, bevor Sie die Datenbank bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-134">That's okay, it just means you won't run a test of the migrations code before you deploy the database.</span></span> <span data-ttu-id="6ba43-135">Später beim Ausführen der `update-database` Befehls geschieht nichts, da die Datenbank bereits vorhanden ist.)</span><span class="sxs-lookup"><span data-stu-id="6ba43-135">Later when you run the `update-database` command nothing will happen because the database already exists.)</span></span>

    <span data-ttu-id="6ba43-136">Öffnen der *ContosoUniversity\Migrations\Configuration.cs* Datei.</span><span class="sxs-lookup"><span data-stu-id="6ba43-136">Open the *ContosoUniversity\Migrations\Configuration.cs* file.</span></span> <span data-ttu-id="6ba43-137">Initialisiererklasse, die Sie schon kennen wie die `Configuration` Klasse enthält eine `Seed` Methode.</span><span class="sxs-lookup"><span data-stu-id="6ba43-137">Like the initializer class that you saw earlier, the `Configuration` class includes a `Seed` method.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample3.cs)]

    <span data-ttu-id="6ba43-138">Der Zweck der [Ausgangswert](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) Methode besteht darin, ermöglichen es Ihnen, einfügen oder aktualisieren Testdaten aus, nach dem Code First erstellt oder die Datenbank aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="6ba43-138">The purpose of the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is to enable you to insert or update test data after Code First creates or updates the database.</span></span> <span data-ttu-id="6ba43-139">Die Methode wird aufgerufen, wenn die Datenbank erstellt wird, und jedes Mal, wenn das Datenbankschema aktualisiert wird, nachdem ein Datenmodell ändern.</span><span class="sxs-lookup"><span data-stu-id="6ba43-139">The method is called when the database is created and every time the database schema is updated after a data model change.</span></span>

### <a name="set-up-the-seed-method"></a><span data-ttu-id="6ba43-140">Richten Sie die Seed-Methode</span><span class="sxs-lookup"><span data-stu-id="6ba43-140">Set up the Seed method</span></span>

<span data-ttu-id="6ba43-141">Wenn Sie löschen und die Datenbank für jede datenmodelländerung Neuerstellen, Sie verwenden die Initialisiererklasse `Seed` Methode, um Testdaten einzufügen, da nach jeder modelländerung die Datenbank gelöscht wird und die Testdaten geht verloren.</span><span class="sxs-lookup"><span data-stu-id="6ba43-141">When you drop and re-create the database for every data model change, you use the initializer class's `Seed` method to insert test data, because after every model change the database is dropped and all the test data is lost.</span></span> <span data-ttu-id="6ba43-142">Code First-Migrationen, Test, der Daten, nachdem Änderungen in der Datenbank beibehalten werden, also mit den Testdaten in die [Ausgangswert](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) Methode ist in der Regel nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="6ba43-142">With Code First Migrations, test data is retained after database changes, so including test data in the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is typically not necessary.</span></span> <span data-ttu-id="6ba43-143">In der Tat nicht sollen die `Seed` Methode, um Testdaten einzufügen, wenn Sie Migrationen zum Bereitstellen der Datenbank für die Produktion, verwenden da die `Seed` Methode in der Produktion ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-143">In fact, you don't want the `Seed` method to insert test data if you'll be using Migrations to deploy the database to production, because the `Seed` method will run in production.</span></span> <span data-ttu-id="6ba43-144">In diesem Fall soll die `Seed` -Methode in der Datenbank nur die Daten in der Produktion.</span><span class="sxs-lookup"><span data-stu-id="6ba43-144">In that case, you want the `Seed` method to insert into the database only the data that you need in production.</span></span> <span data-ttu-id="6ba43-145">Sie können z. B. die Datenbank im tatsächlichen Abteilungsnamen enthalten die `Department` Tabelle, wenn die Anwendung in der Produktion verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="6ba43-145">For example, you might want the database to include actual department names in the `Department` table when the application becomes available in production.</span></span>

<span data-ttu-id="6ba43-146">In diesem Tutorial verwenden Sie Migrationen für die Bereitstellung, aber das `Seed` Methode fügt Testdaten ohnehin um leichter sehen, wie die Funktionalität der Anwendung funktioniert, ohne eine große Datenmenge manuell einfügen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-146">For this tutorial, you'll be using Migrations for deployment, but your `Seed` method will insert test data anyway in order to make it easier to see how application functionality works without having to manually insert a lot of data.</span></span>

1. <span data-ttu-id="6ba43-147">Ersetzen Sie die *Configuration.cs* Datei durch den folgenden Code, der Daten in die neue Datenbank lädt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-147">Replace the contents of the *Configuration.cs* file with the following code, which loads test data into the new database.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample4.cs)]

    <span data-ttu-id="6ba43-148">Die [Ausgangswert](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) Methode nimmt das Datenbank-Context-Objekt als Eingabeparameter und der Code in der Methode verwendet das Objekt auf der Datenbank neue Entitäten hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-148">The [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method takes the database context object as an input parameter, and the code in the method uses that object to add new entities to the database.</span></span> <span data-ttu-id="6ba43-149">Für jeden Entitätstyp, der Code erstellt eine Auflistung von neuen Entitäten, fügt diese an die entsprechende ["DbSet"](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) Eigenschaft, und klicken Sie dann speichert die Änderungen an der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6ba43-149">For each entity type, the code creates a collection of new entities, adds them to the appropriate [DbSet](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) property, and then saves the changes to the database.</span></span> <span data-ttu-id="6ba43-150">Es ist nicht notwendig, die ["SaveChanges"](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) Methode nach jeder Gruppe von Entitäten, wie hier geschehen ist, aber dies hilft Ihnen, die Ursache eines Problems zu suchen, wenn eine Ausnahme auftritt, während der Code in die Datenbank geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-150">It isn't necessary to call the [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) method after each group of entities, as is done here, but doing that helps you locate the source of a problem if an exception occurs while the code is writing to the database.</span></span>

    <span data-ttu-id="6ba43-151">Verwenden Sie einige der Anweisungen, die Daten einfügen der [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) Methode zum Ausführen eines Vorgangs "Upsert".</span><span class="sxs-lookup"><span data-stu-id="6ba43-151">Some of the statements that insert data use the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method to perform an "upsert" operation.</span></span> <span data-ttu-id="6ba43-152">Da die `Seed` Methode wird bei jedem Ausführen der `update-database` Befehl nach der jede Migration in der Regel Daten, können nicht nur eingefügt werden, da die Zeilen, die Sie hinzufügen möchten es nach der ersten Migration sein werden, der die Datenbank erstellt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-152">Because the `Seed` method runs every time you execute the `update-database` command, typically after each migration, you can't just insert data, because the rows you are trying to add will already be there after the first migration that creates the database.</span></span> <span data-ttu-id="6ba43-153">Der Vorgang "Upsert" wird verhindert, dass Fehler, die passieren würde, wenn Sie versuchen, fügen Sie eine Zeile, die bereits vorhanden ist, aber es ***überschreibt*** Änderungen an Daten, die Sie möglicherweise beim Testen der Anwendung vorgenommen haben.</span><span class="sxs-lookup"><span data-stu-id="6ba43-153">The "upsert" operation prevents errors that would happen if you try to insert a row that already exists, but it ***overrides*** any changes to data that you may have made while testing the application.</span></span> <span data-ttu-id="6ba43-154">Mit Testdaten in einigen Tabellen möchten Sie vielleicht nicht so: in einigen Fällen, wenn Sie Daten während des Tests ändern, sollen die Änderungen, um nach Datenbankupdates bleiben.</span><span class="sxs-lookup"><span data-stu-id="6ba43-154">With test data in some tables you might not want that to happen: in some cases when you change data while testing you want your changes to remain after database updates.</span></span> <span data-ttu-id="6ba43-155">In diesem Fall einen bedingte Insert-Vorgang ausgeführt werden soll: Fügen Sie eine Zeile nur dann, wenn er nicht bereits vorhanden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-155">In that case you want to do a conditional insert operation: insert a row only if it doesn't already exist.</span></span> <span data-ttu-id="6ba43-156">Die Seed-Methode verwendet beide Ansätze.</span><span class="sxs-lookup"><span data-stu-id="6ba43-156">The Seed method uses both approaches.</span></span>

    <span data-ttu-id="6ba43-157">Der erste Parameter zu übergeben, um die [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) Methode gibt die Eigenschaft zu verwenden, um zu überprüfen, ob eine Zeile bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="6ba43-157">The first parameter passed to the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method specifies the property to use to check if a row already exists.</span></span> <span data-ttu-id="6ba43-158">Für die Testdaten für "Student", die Sie bereitstellen, die `LastName` Eigenschaft kann für diesen Zweck verwendet werden, da jedes Nachnamens in der Liste eindeutig ist:</span><span class="sxs-lookup"><span data-stu-id="6ba43-158">For the test student data that you are providing, the `LastName` property can be used for this purpose since each last name in the list is unique:</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample5.cs)]

    <span data-ttu-id="6ba43-159">Dieser Code wird davon ausgegangen, dass die Nachnamen eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="6ba43-159">This code assumes that last names are unique.</span></span> <span data-ttu-id="6ba43-160">Wenn ein Kursteilnehmer mit doppelten Nachnamen manuell erhalten Sie die folgende Ausnahme beim nächsten eine Migration durchzuführen:</span><span class="sxs-lookup"><span data-stu-id="6ba43-160">If you manually add a student with a duplicate last name, you'll get the following exception the next time you perform a migration:</span></span>

    <span data-ttu-id="6ba43-161">**Die Sequenz enthält mehr als ein element**</span><span class="sxs-lookup"><span data-stu-id="6ba43-161">**Sequence contains more than one element**</span></span>

    <span data-ttu-id="6ba43-162">Weitere Informationen zur Behandlung von redundanter Daten wie z. B. zwei Schüler/Studenten, die mit dem Namen "Alexander Carson" finden Sie unter [Seeding and Debugging Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) andersons Blog.</span><span class="sxs-lookup"><span data-stu-id="6ba43-162">For information about how to handle redundant data such as two students named "Alexander Carson", see [Seeding and Debugging Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="6ba43-163">Weitere Informationen zu den `AddOrUpdate` -Methode finden Sie unter [kümmern mit EF 4.3 AddOrUpdate Methode](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) Julie lermans Blog.</span><span class="sxs-lookup"><span data-stu-id="6ba43-163">For more information about the `AddOrUpdate` method, see [Take care with EF 4.3 AddOrUpdate Method](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) on Julie Lerman's blog.</span></span>

    <span data-ttu-id="6ba43-164">Der Code, der erstellt `Enrollment` Entitäten wird vorausgesetzt, dass die `ID` Wert in den Entitäten der `students` -Auflistung, obwohl Sie diese Eigenschaft im Code festgelegt haben, die die Auflistung erstellt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-164">The code that creates `Enrollment` entities assumes you have the `ID` value in the entities in the `students` collection, although you didn't set that property in the code that creates the collection.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample6.cs?highlight=2)]

    <span data-ttu-id="6ba43-165">Können Sie die `ID` hier Eigenschaft da die `ID` Wert wird festgelegt, wenn Sie aufrufen `SaveChanges` für die `students` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="6ba43-165">You can use the `ID` property here because the `ID` value is set when you call `SaveChanges` for the `students` collection.</span></span> <span data-ttu-id="6ba43-166">EF ruft automatisch der primäre Schlüsselwert ab, wenn eine Entität in die Datenbank eingefügt und aktualisiert die `ID` Eigenschaft der Entität im Speicher.</span><span class="sxs-lookup"><span data-stu-id="6ba43-166">EF automatically gets the primary key value when it inserts an entity into the database, and it updates the `ID` property of the entity in memory.</span></span>

    <span data-ttu-id="6ba43-167">Der Code, der den hinzugefügt `Enrollment` Entität, die die `Enrollments` Entitätenmenge verwendet nicht die `AddOrUpdate` Methode.</span><span class="sxs-lookup"><span data-stu-id="6ba43-167">The code that adds each `Enrollment` entity to the `Enrollments` entity set doesn't use the `AddOrUpdate` method.</span></span> <span data-ttu-id="6ba43-168">Es überprüft, ob eine Entität bereits vorhanden ist und die Entität eingefügt, wenn er nicht vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="6ba43-168">It checks if an entity already exists and inserts the entity if it doesn't exist.</span></span> <span data-ttu-id="6ba43-169">Dieser Ansatz wird vorgenommene Änderungen beizubehalten, die Sie an einer Registrierung auf Unternehmensniveau mit der Benutzeroberfläche der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="6ba43-169">This approach will preserve changes you make to an enrollment grade by using the application UI.</span></span> <span data-ttu-id="6ba43-170">Der Code durchläuft jedes Element der `Enrollment` [Liste](https://msdn.microsoft.com/library/6sh2ey19.aspx) und wenn die Registrierung in der Datenbank nicht gefunden wird, wird die Registrierung mit der Datenbank hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-170">The code loops through each member of the `Enrollment`[List](https://msdn.microsoft.com/library/6sh2ey19.aspx) and if the enrollment is not found in the database, it adds the enrollment to the database.</span></span> <span data-ttu-id="6ba43-171">Beim ersten der Datenbank Aktualisierung, wird die Datenbank leer sein, sodass jede Registrierung hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-171">The first time you update the database, the database will be empty, so it will add each enrollment.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample7.cs)]

2. <span data-ttu-id="6ba43-172">Erstellen Sie das Projekt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-172">Build the project.</span></span>

### <a name="execute-the-first-migration"></a><span data-ttu-id="6ba43-173">Führen Sie die erste migration</span><span class="sxs-lookup"><span data-stu-id="6ba43-173">Execute the first migration</span></span>

<span data-ttu-id="6ba43-174">Beim Ausführen der `add-migration` Befehl Migrationen generiert den Code, der die Datenbank von Grund auf neu erstellen würden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-174">When you executed the `add-migration` command, Migrations generated the code that would create the database from scratch.</span></span> <span data-ttu-id="6ba43-175">Dieser Code befindet sich auch in der *Migrationen* Ordner, in der Datei, die mit dem Namen  *&lt;Zeitstempel&gt;\_InitialCreate.cs*.</span><span class="sxs-lookup"><span data-stu-id="6ba43-175">This code is also in the *Migrations* folder, in the file named *&lt;timestamp&gt;\_InitialCreate.cs*.</span></span> <span data-ttu-id="6ba43-176">Die `Up` Methode der `InitialCreate` Klasse erstellt, die Datenbanktabellen, die den datenmodellentitätenmengen entsprechen, und die `Down` Methode löscht sie.</span><span class="sxs-lookup"><span data-stu-id="6ba43-176">The `Up` method of the `InitialCreate` class creates the database tables that correspond to the data model entity sets, and the `Down` method deletes them.</span></span>

[!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample8.cs)]

<span data-ttu-id="6ba43-177">Die Migrationsfunktion ruft die Methode `Up` auf, um die Datenmodelländerungen für eine Migration zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="6ba43-177">Migrations calls the `Up` method to implement the data model changes for a migration.</span></span> <span data-ttu-id="6ba43-178">Wenn Sie einen Befehl eingeben, um ein Rollback für das Update auszuführen, ruft die Migrationsfunktion die Methode `Down` auf.</span><span class="sxs-lookup"><span data-stu-id="6ba43-178">When you enter a command to roll back the update, Migrations calls the `Down` method.</span></span>

<span data-ttu-id="6ba43-179">Dies ist die ursprüngliche Migration erstellt wurde, als Sie eingegeben haben, die die `add-migration InitialCreate` Befehl.</span><span class="sxs-lookup"><span data-stu-id="6ba43-179">This is the initial migration that was created when you entered the `add-migration InitialCreate` command.</span></span> <span data-ttu-id="6ba43-180">Der Parameter (`InitialCreate` im Beispiel) wird verwendet, für die Datei benennen und kann beliebig, die Sie in der Regel wählen Sie ein Wort oder Ausdruck, der zusammengefasst, was bei der Migration erfolgt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-180">The parameter (`InitialCreate` in the example) is used for the file name and can be whatever you want; you typically choose a word or phrase that summarizes what is being done in the migration.</span></span> <span data-ttu-id="6ba43-181">Sie können z. B. eine spätere Migration nennen &quot;AddDepartmentTable&quot;.</span><span class="sxs-lookup"><span data-stu-id="6ba43-181">For example, you might name a later migration &quot;AddDepartmentTable&quot;.</span></span>

<span data-ttu-id="6ba43-182">Wenn Sie die ursprüngliche Migration erstellt haben, als die Datenbank bereits vorhanden war, wird der Code für die Datenbankerstellung zwar generiert, allerdings muss er nicht ausgeführt werden, da die Datenbank bereits dem Datenmodell entspricht.</span><span class="sxs-lookup"><span data-stu-id="6ba43-182">If you created the initial migration when the database already exists, the database creation code is generated but it doesn't have to run because the database already matches the data model.</span></span> <span data-ttu-id="6ba43-183">Wenn Sie die App in einer anderen Umgebung bereitstellen, in der die Datenbank noch nicht vorhanden ist, wird dieser Code ausgeführt, um Ihre Datenbank zu erstellen. Daher sollte dieser zunächst getestet werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-183">When you deploy the app to another environment where the database doesn't exist yet, this code will run to create your database, so it's a good idea to test it first.</span></span> <span data-ttu-id="6ba43-184">Deshalb Sie geändert haben, den Namen der Datenbank in der Verbindungszeichenfolge zuvor&mdash;, damit Migrationen eine von Grund auf neu erstellen können.</span><span class="sxs-lookup"><span data-stu-id="6ba43-184">That's why you changed the name of the database in the connection string earlier&mdash;so that migrations can create a new one from scratch.</span></span>

1. <span data-ttu-id="6ba43-185">In der **-Paket-Manager-Konsole** Fenster, geben Sie den folgenden Befehl aus:</span><span class="sxs-lookup"><span data-stu-id="6ba43-185">In the **Package Manager Console** window, enter the following command:</span></span>

    `update-database`

    <span data-ttu-id="6ba43-186">Die `update-database` Befehl führt die `Up` Methode zum Erstellen der Datenbank aus, und klicken Sie dann es ausgeführt wird die `Seed` Methode, um die Datenbank zu füllen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-186">The `update-database` command runs the `Up` method to create the database and then it runs the `Seed` method to populate the database.</span></span> <span data-ttu-id="6ba43-187">Der gleiche Prozess wird automatisch dann in der Produktion ausgeführt, nach der Bereitstellung der Anwendung, wie Sie im folgenden Abschnitt sehen werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-187">The same process will run automatically in production after you deploy the application, as you'll see in the following section.</span></span>
2. <span data-ttu-id="6ba43-188">Verwendung **Server-Explorer** auf die Datenbank zu untersuchen, wie im ersten Tutorial aus, und führen Sie die Anwendung aus, um sicherzustellen, dass alles weiterhin wie zuvor gleichermaßen funktioniert.</span><span class="sxs-lookup"><span data-stu-id="6ba43-188">Use **Server Explorer** to inspect the database as you did in the first tutorial, and run the application to verify that everything still works the same as before.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="6ba43-189">Bereitstellung in Azure</span><span class="sxs-lookup"><span data-stu-id="6ba43-189">Deploy to Azure</span></span>

<span data-ttu-id="6ba43-190">Bisher wurde die Anwendung lokal in IIS Express auf Ihrem Entwicklungscomputer ausgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="6ba43-190">So far the application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="6ba43-191">Um es für andere Benutzer über das Internet verfügbar zu machen, müssen Sie es auf einen Webhostinganbieter bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-191">To make it available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="6ba43-192">In diesem Abschnitt des Tutorials stellen Sie es in Azure bereit.</span><span class="sxs-lookup"><span data-stu-id="6ba43-192">In this section of the tutorial, you'll deploy it to Azure.</span></span> <span data-ttu-id="6ba43-193">In diesem Abschnitt ist optional. Sie können diesen Schritt überspringen, und fahren Sie mit dem folgenden Tutorial fort, oder können Sie die Anweisungen in diesem Abschnitt für einen anderen Hostinganbieter Ihrer Wahl anpassen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-193">This section is optional; you can skip this and continue with the following tutorial, or you can adapt the instructions in this section for a different hosting provider of your choice.</span></span>

### <a name="use-code-first-migrations-to-deploy-the-database"></a><span data-ttu-id="6ba43-194">Verwenden von Code First-Migrationen zum Bereitstellen der Datenbank</span><span class="sxs-lookup"><span data-stu-id="6ba43-194">Use Code First migrations to deploy the database</span></span>

<span data-ttu-id="6ba43-195">Um die Datenbank bereitzustellen, verwenden Sie Code First-Migrationen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-195">To deploy the database, you'll use Code First Migrations.</span></span> <span data-ttu-id="6ba43-196">Wenn Sie das Veröffentlichungsprofil, die Sie zum Konfigurieren von Einstellungen erstellen für die Bereitstellung aus Visual Studio verwenden, wählen Sie das Kontrollkästchen mit der Bezeichnung **Update Database**.</span><span class="sxs-lookup"><span data-stu-id="6ba43-196">When you create the publish profile that you use to configure settings for deploying from Visual Studio, you'll select a check box labeled **Update Database**.</span></span> <span data-ttu-id="6ba43-197">Diese Einstellung bewirkt, dass den Bereitstellungsprozess so konfigurieren Sie die Anwendung automatisch *"Web.config"* Datei auf dem Zielserver so, dass Code First verwendet die `MigrateDatabaseToLatestVersion` datenbankinitialisiererklasse.</span><span class="sxs-lookup"><span data-stu-id="6ba43-197">This setting causes the deployment process to automatically configure the application *Web.config* file on the destination server so that Code First uses the `MigrateDatabaseToLatestVersion` initializer class.</span></span>

<span data-ttu-id="6ba43-198">Visual Studio nichts mit der Datenbank während des Bereitstellungsprozesses, während sie Ihr Projekt auf den Zielserver kopiert.</span><span class="sxs-lookup"><span data-stu-id="6ba43-198">Visual Studio doesn't do anything with the database during the deployment process while it is copying your project to the destination server.</span></span> <span data-ttu-id="6ba43-199">Wenn Sie die bereitgestellte Anwendung ausführen, und greift auf die Datenbank zum ersten Mal nach der Bereitstellung, überprüft Code First, wenn die Datenbank mit dem Datenmodell übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-199">When you run the deployed application and it accesses the database for the first time after deployment, Code First checks if the database matches the data model.</span></span> <span data-ttu-id="6ba43-200">Wenn ein Konflikt vorliegt, Code First erstellt automatisch die Datenbank (sofern noch keiner vorhanden ist) oder das Datenbankschema auf die neueste Version aktualisiert wird, (Wenn eine Datenbank vorhanden ist, aber es nicht das Modell entspricht).</span><span class="sxs-lookup"><span data-stu-id="6ba43-200">If there's a mismatch, Code First automatically creates the database (if it doesn't exist yet) or updates the database schema to the latest version (if a database exists but doesn't match the model).</span></span> <span data-ttu-id="6ba43-201">Wenn die Anwendung eine Migrationen implementiert `Seed` -Methode, die Methode ausgeführt wird, nachdem die Datenbank wird erstellt, oder das Schema wird aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="6ba43-201">If the application implements a Migrations `Seed` method, the method runs after the database is created or the schema is updated.</span></span>

<span data-ttu-id="6ba43-202">Ihre Migrationen `Seed` -Methode fügt die Testdaten.</span><span class="sxs-lookup"><span data-stu-id="6ba43-202">Your Migrations `Seed` method inserts test data.</span></span> <span data-ttu-id="6ba43-203">Wenn Sie in einer produktionsumgebung bereitstellen, müssten Sie ändern die `Seed` Methode, sodass die It nur Daten einfügt, die in der-Datenbank eingefügt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-203">If you were deploying to a production environment, you would have to change the `Seed` method so that it only inserts data that you want to be inserted into your production database.</span></span> <span data-ttu-id="6ba43-204">Z. B. in Ihrem aktuellen Datenmodell empfiehlt um echte Kurse, aber fiktive Schüler/Studenten in der Entwicklungsdatenbank zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="6ba43-204">For example, in your current data model you might want to have real courses but fictional students in the development database.</span></span> <span data-ttu-id="6ba43-205">Können Sie schreiben eine `Seed` Methode, um sowohl in der Entwicklung zu laden und kommentieren Sie die fiktiven Schüler/Studenten, bevor Sie in der produktionsumgebung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-205">You can write a `Seed` method to load both in development, and then comment out the fictional students before you deploy to production.</span></span> <span data-ttu-id="6ba43-206">Oder Sie schreiben eine `Seed` Methode, um nur Kurse zu laden, und geben die fiktiven Schüler/Studenten in der Testdatenbank manuell mithilfe der Benutzeroberfläche der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="6ba43-206">Or you can write a `Seed` method to load only courses, and enter the fictional students in the test database manually by using the application's UI.</span></span>

### <a name="get-an-azure-account"></a><span data-ttu-id="6ba43-207">Ein Azure-Konto erhalten</span><span class="sxs-lookup"><span data-stu-id="6ba43-207">Get an Azure account</span></span>

<span data-ttu-id="6ba43-208">Sie benötigen ein Azure-Konto.</span><span class="sxs-lookup"><span data-stu-id="6ba43-208">You'll need an Azure account.</span></span> <span data-ttu-id="6ba43-209">Wenn diese nicht bereits vorhanden, aber Sie Visual Studio-Abonnement müssen, können Sie [aktivieren Sie die Vorteile der Subscription](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
).</span><span class="sxs-lookup"><span data-stu-id="6ba43-209">If you don't already have one, but you do have a Visual Studio subscription, you can [activate your subscription benefits](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
).</span></span> <span data-ttu-id="6ba43-210">Andernfalls können Sie in wenigen Minuten ein kostenloses Testkonto erstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-210">Otherwise, you can create a free trial account in just a couple of minutes.</span></span> <span data-ttu-id="6ba43-211">Weitere Informationen finden Sie unter [kostenlose Azure-Testversion](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="6ba43-211">For details, see [Azure Free Trial](https://azure.microsoft.com/free/).</span></span>

### <a name="create-a-web-site-and-a-sql-database-in-azure"></a><span data-ttu-id="6ba43-212">Erstellen Sie eine Website und einer SQL-Datenbank in Azure</span><span class="sxs-lookup"><span data-stu-id="6ba43-212">Create a web site and a SQL database in Azure</span></span>

<span data-ttu-id="6ba43-213">Ihre Web-app in Azure wird in einer freigegebenen Hostingumgebung ausgeführt, was bedeutet, dass sie auf virtuellen Computern (VMs) ausgeführt wird, die gemeinsam mit anderen Azure-Clients verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-213">Your web app in Azure will run in a shared hosting environment, which means it runs on virtual machines (VMs) that are shared with other Azure clients.</span></span> <span data-ttu-id="6ba43-214">Eine freigegebene Hostingumgebung ist eine kostengünstige Möglichkeit für den Einstieg in die Cloud.</span><span class="sxs-lookup"><span data-stu-id="6ba43-214">A shared hosting environment is a low-cost way to get started in the cloud.</span></span> <span data-ttu-id="6ba43-215">Wenn der Webdatenverkehr zunimmt, kann später die Anwendung skalieren, um die Anforderungen zu erfüllen, indem Sie auf dedizierten virtuellen Computern ausführen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-215">Later, if your web traffic increases, the application can scale to meet the need by running on dedicated VMs.</span></span> <span data-ttu-id="6ba43-216">Weitere Informationen zu den Preisoptionen für Azure App Service finden unter [App Service-Preise](https://azure.microsoft.com/pricing/details/app-service/).</span><span class="sxs-lookup"><span data-stu-id="6ba43-216">To learn more about Pricing Options for Azure App Service, read [App Service pricing](https://azure.microsoft.com/pricing/details/app-service/).</span></span>

<span data-ttu-id="6ba43-217">Sie stellen die Datenbank in Azure SQL-Datenbank bereit.</span><span class="sxs-lookup"><span data-stu-id="6ba43-217">You'll deploy the database to Azure SQL database.</span></span> <span data-ttu-id="6ba43-218">SQL-Datenbank ist eine cloudbasierte relationale Datenbank-Dienst, der auf SQL Server-Technologien basiert.</span><span class="sxs-lookup"><span data-stu-id="6ba43-218">SQL database is a cloud-based relational database service that is built on SQL Server technologies.</span></span> <span data-ttu-id="6ba43-219">Tools und Anwendungen, die Arbeit mit SQL Server funktionieren auch mit SQL-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6ba43-219">Tools and applications that work with SQL Server also work with SQL database.</span></span>

1. <span data-ttu-id="6ba43-220">In der [Azure-Verwaltungsportal](https://portal.azure.com), wählen Sie **erstellen Sie eine Ressource** in der linken Registerkarte, und wählen Sie dann **alle** auf die **neu** Bereich (oder *Blatt*) auf alle verfügbaren Ressourcen finden Sie unter.</span><span class="sxs-lookup"><span data-stu-id="6ba43-220">In the [Azure Management Portal](https://portal.azure.com), choose **Create a resource** in the left tab and then choose **See all** on the **New** pane (or *blade*) to see all available resources.</span></span> <span data-ttu-id="6ba43-221">Wählen Sie **Web-App + SQL** in die **Web** Teil der **alles** auf dem Blatt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-221">Choose **Web App + SQL** in the **Web** section of the **Everything** blade.</span></span> <span data-ttu-id="6ba43-222">Wählen Sie abschließend **erstellen**.</span><span class="sxs-lookup"><span data-stu-id="6ba43-222">Finally, choose **Create**.</span></span>

    ![Erstellen Sie eine Ressource im Azure-portal](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/create-azure-resource.png)

   <span data-ttu-id="6ba43-224">Das Formular zum Erstellen eines neuen **neue Web-App + SQL** Ressource wird geöffnet.</span><span class="sxs-lookup"><span data-stu-id="6ba43-224">The form to create a new **New Web App + SQL** resource opens.</span></span>

2. <span data-ttu-id="6ba43-225">Geben Sie eine Zeichenfolge in die **Anwendungsnamen** Feld als eindeutige URL für Ihre Anwendung verwenden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-225">Enter a string in the **App name** box to use as the unique URL for your application.</span></span> <span data-ttu-id="6ba43-226">Die vollständige URL besteht aus der hier sowie die Standarddomäne von Azure App Services eingegebenen (. azurewebsites.net).</span><span class="sxs-lookup"><span data-stu-id="6ba43-226">The complete URL will consist of what you enter here plus the default domain of Azure App Services (.azurewebsites.net).</span></span> <span data-ttu-id="6ba43-227">Wenn die **Anwendungsnamen** bereits erstellt ist, wird der Assistent benachrichtigt Sie mit einem roten *der app-Name ist nicht verfügbar* Nachricht.</span><span class="sxs-lookup"><span data-stu-id="6ba43-227">If the **App name** is already taken, the Wizard notifies you with a red *The app name is not available* message.</span></span> <span data-ttu-id="6ba43-228">Wenn die **Anwendungsnamen** ist verfügbar, Sie ein grünes Häkchen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-228">If the **App name** is available, you see a green checkmark.</span></span>

3. <span data-ttu-id="6ba43-229">In der **Abonnement** wählen Sie das Azure-Abonnement, in denen Sie möchten, die **App Service** befinden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-229">In the **Subscription** box, choose the Azure Subscription in which you want the **App Service** to reside.</span></span>

4. <span data-ttu-id="6ba43-230">In der **Ressourcengruppe** Textfeld, wählen Sie eine Ressourcengruppe oder ein neues erstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-230">In the **Resource Group** text box, choose a Resource Group or create a new one.</span></span> <span data-ttu-id="6ba43-231">Diese Einstellung gibt an, welches Datencenter Ihrer Website ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="6ba43-231">This setting specifies which data center your web site will run in.</span></span> <span data-ttu-id="6ba43-232">Weitere Informationen zu Ressourcengruppen finden Sie unter [Ressourcengruppen](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span><span class="sxs-lookup"><span data-stu-id="6ba43-232">For more information about Resource Groups, see [Resource groups](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span></span>

5. <span data-ttu-id="6ba43-233">Erstellen Sie ein neues **App Service-Plan** durch Klicken auf die *App Service-Abschnitt*, **neu erstellen**, und geben Sie **App Service-Plan** (kann denselben Namen wie sein App Service), **Speicherort**, und **Tarif** (besteht eine Option "free").</span><span class="sxs-lookup"><span data-stu-id="6ba43-233">Create a new **App Service Plan** by clicking the *App Service section*, **Create New**, and fill in **App Service plan** (can be same name as App Service), **Location**, and **Pricing tier** (there is a free option).</span></span>

6. <span data-ttu-id="6ba43-234">Klicken Sie auf **SQL-Datenbank**, und wählen Sie dann **Erstellen einer neuen Datenbank** oder eine vorhandene Datenbank auswählen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-234">Click **SQL Database**, and then choose **Create a new database** or select an existing database.</span></span>

7. <span data-ttu-id="6ba43-235">In der **Namen** Geben Sie einen Namen für Ihre Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6ba43-235">In the **Name** box, enter a name for your database.</span></span>
8. <span data-ttu-id="6ba43-236">Klicken Sie auf die **Zielserver** Feld, und wählen Sie dann **Erstellen eines neuen Servers**.</span><span class="sxs-lookup"><span data-stu-id="6ba43-236">Click the **Target Server** box, and then select **Create a new server**.</span></span> <span data-ttu-id="6ba43-237">Wenn Sie einen Server zuvor erstellt haben, können Sie auch diesen Server aus der Liste der verfügbaren Server auswählen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-237">Alternatively, if you previously created a server, you can select that server from list of available servers.</span></span>
9. <span data-ttu-id="6ba43-238">Wählen Sie **Tarif** Abschnitt *Free*.</span><span class="sxs-lookup"><span data-stu-id="6ba43-238">Choose **Pricing tier** section, choose *Free*.</span></span> <span data-ttu-id="6ba43-239">Wenn zusätzliche Ressourcen erforderlich sind, kann die Datenbank bis zu einem beliebigen Zeitpunkt hochskaliert werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-239">If additional resources are needed, the database can be scaled up at any time.</span></span> <span data-ttu-id="6ba43-240">Informationen zu Azure SQL-Preisen finden Sie unter [Azure SQL-Datenbank – Preise](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span><span class="sxs-lookup"><span data-stu-id="6ba43-240">To learn more on Azure SQL Pricing, see [Azure SQL Database pricing](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span></span>
10. <span data-ttu-id="6ba43-241">Ändern Sie [Sortierreihenfolge](/sql/relational-databases/collations/collation-and-unicode-support) je nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="6ba43-241">Modify [collation](/sql/relational-databases/collations/collation-and-unicode-support) as needed.</span></span>
11. <span data-ttu-id="6ba43-242">Geben Sie einen Administrator **SQL-Administratorname** und **SQL-Administratorkennwort**.</span><span class="sxs-lookup"><span data-stu-id="6ba43-242">Enter an administrator **SQL Admin Username** and **SQL Admin Password**.</span></span>

    - <span data-ttu-id="6ba43-243">Wenn Sie ausgewählt haben **neue SQL-Datenbankserver**, definieren Sie einen neuen Namen und das Kennwort, das Sie später verwenden werden, wenn Sie die Datenbank zugreifen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-243">If you selected **New SQL Database server**, define a new name and password that you'll use later when you access the database.</span></span>
    - <span data-ttu-id="6ba43-244">Wenn Sie einen Server, den Sie zuvor erstellt haben ausgewählt, geben Sie Anmeldeinformationen für diesen Server.</span><span class="sxs-lookup"><span data-stu-id="6ba43-244">If you selected a server that you created previously, enter credentials for that server.</span></span>

12. <span data-ttu-id="6ba43-245">Erfassung von Telemetriedaten kann für App Service mithilfe von Application Insights aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-245">Telemetry collection can be enabled for App Service using Application Insights.</span></span> <span data-ttu-id="6ba43-246">Mit wenig Konfiguration erfasst Application Insights wertvolle-Ereignis, Ausnahme, Abhängigkeit, Anforderung und Ablaufverfolgungsinformationen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-246">With little configuration, Application Insights collects valuable event, exception, dependency, request, and trace information.</span></span> <span data-ttu-id="6ba43-247">Weitere Informationen zu Application Insights finden Sie unter [Azure Monitor](https://azure.microsoft.com/services/monitor/).</span><span class="sxs-lookup"><span data-stu-id="6ba43-247">To learn more about Application Insights, see [Azure Monitor](https://azure.microsoft.com/services/monitor/).</span></span>
13. <span data-ttu-id="6ba43-248">Klicken Sie auf **erstellen** unten, um anzugeben, dass Sie fertig sind.</span><span class="sxs-lookup"><span data-stu-id="6ba43-248">Click **Create** at the bottom to indicate that you're finished.</span></span>

    <span data-ttu-id="6ba43-249">Das Verwaltungsportal gibt zurück, auf der Dashboard-Seite, und die **Benachrichtigungen** Bereich am oberen Rand der Seite zeigt, dass die Website erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="6ba43-249">The Management Portal returns to the Dashboard page, and the **Notifications** area at the top of the page shows that the site is being created.</span></span> <span data-ttu-id="6ba43-250">Nach einer Weile (in der Regel weniger als einer Minute) wird eine Benachrichtigung, die die Bereitstellung erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="6ba43-250">After a while (typically less than a minute), there's a notification that the Deployment succeeded.</span></span> <span data-ttu-id="6ba43-251">In der Navigationsleiste auf der linken Seite der neuen App Service wird angezeigt, der **Anwendungsdienste** Abschnitt und die neue SQL-Datenbank wird in der **SQL-Datenbanken** Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-251">In the navigation bar at the left, the new App Service appears in the **App Services** section and the new SQL database appears in the **SQL databases** section.</span></span>

### <a name="deploy-the-app-to-azure"></a><span data-ttu-id="6ba43-252">Bereitstellen der App in Azure</span><span class="sxs-lookup"><span data-stu-id="6ba43-252">Deploy the app to Azure</span></span>

1. <span data-ttu-id="6ba43-253">In Visual Studio mit der Maustaste des Projekts im **Projektmappen-Explorer** , und wählen Sie **veröffentlichen** aus dem Kontextmenü.</span><span class="sxs-lookup"><span data-stu-id="6ba43-253">In Visual Studio, right-click the project in **Solution Explorer** and select **Publish** from the context menu.</span></span>

2. <span data-ttu-id="6ba43-254">Auf der **Veröffentlichungsziel** Seite **App Service** und dann **vorhandene auswählen**, und wählen Sie dann **veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="6ba43-254">On the **Pick a publish target** page, choose **App Service** and then **Select Existing**, and then choose **Publish**.</span></span>

    ![Wählen Sie eine Seite "Ziel veröffentlichen"](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/publish-select-existing-azure-app-service.png)

3. <span data-ttu-id="6ba43-256">Falls Sie zuvor in Visual Studio Ihre Azure-Abonnement hinzugefügt haben, führen Sie die Schritte aus, auf dem Bildschirm.</span><span class="sxs-lookup"><span data-stu-id="6ba43-256">If you haven't previously added your Azure subscription in Visual Studio, perform the steps on the screen.</span></span> <span data-ttu-id="6ba43-257">Die folgenden Schritte ermöglichen die Visual Studio für Azure-Abonnement, also, die mit die Liste der **Anwendungsdienste** Ihrer Website enthalten.</span><span class="sxs-lookup"><span data-stu-id="6ba43-257">These steps enable Visual Studio to connect to your Azure subscription so that the list of **App Services** will include your web site.</span></span>

4. <span data-ttu-id="6ba43-258">Auf der **App Service** Seite die **Abonnement** App Service hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-258">On the **App Service** page, select the **Subscription** you added the App Service to.</span></span> <span data-ttu-id="6ba43-259">Klicken Sie unter **Ansicht**Option **Ressourcengruppe**.</span><span class="sxs-lookup"><span data-stu-id="6ba43-259">Under **View**, select **Resource Group**.</span></span> <span data-ttu-id="6ba43-260">Erweitern Sie die Ressourcengruppe, die, der Sie App Service hinzugefügt, und wählen Sie dann die App Service.</span><span class="sxs-lookup"><span data-stu-id="6ba43-260">Expand the resource group you added the App Service to, and then select the App Service.</span></span> <span data-ttu-id="6ba43-261">Wählen Sie **OK** zum Veröffentlichen der app.</span><span class="sxs-lookup"><span data-stu-id="6ba43-261">Choose **OK** to publish the app.</span></span>

5. <span data-ttu-id="6ba43-262">Die **Ausgabe** Fenster zeigt, welche Bereitstellungsaktionen ausgeführt wurden, und meldet die erfolgreiche Durchführung der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="6ba43-262">The **Output** window shows what deployment actions were taken and reports successful completion of the deployment.</span></span>

6. <span data-ttu-id="6ba43-263">Nach der erfolgreichen Bereitstellung wird der Standardbrowser automatisch an die URL der bereitgestellten Website geöffnet.</span><span class="sxs-lookup"><span data-stu-id="6ba43-263">Upon successful deployment, the default browser automatically opens to the URL of the deployed web site.</span></span>

    ![Students_index_page_with_paging](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/cloud-app-browser.png)

    <span data-ttu-id="6ba43-265">Ihre app wird jetzt in der Cloud ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-265">Your app is now running in the cloud.</span></span>

<span data-ttu-id="6ba43-266">An diesem Punkt die *SchoolContext* Datenbank wurde in der Azure SQL-Datenbank erstellt wurde, da Sie ausgewählt haben **Code First-Migrationen ausführen (wird beim Anwendungsstart ausgeführt)**.</span><span class="sxs-lookup"><span data-stu-id="6ba43-266">At this point, the *SchoolContext* database has been created in the Azure SQL database because you selected **Execute Code First Migrations (runs on app start)**.</span></span> <span data-ttu-id="6ba43-267">Die *"Web.config"* -Datei in die bereitgestellte Website geändert wurde, damit die [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) Initialisierer ausgeführt wird, zum ersten Mal Code liest oder schreibt Daten in der Datenbank (die aufgetreten sind Bei Auswahl der **Schüler/Studenten** Registerkarte "):</span><span class="sxs-lookup"><span data-stu-id="6ba43-267">The *Web.config* file in the deployed web site has been changed so that the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer runs the first time your code reads or writes data in the database (which happened when you selected the **Students** tab):</span></span>

![Auszug aus der Konfigurationsdatei "Web.config"](https://asp.net/media/4367421/mig.png)

<span data-ttu-id="6ba43-269">Der Bereitstellungsprozess erstellt auch eine neue Verbindungszeichenfolge *(SchoolContext\_DatabasePublish*) für Code First-Migrationen zum Aktualisieren des Datenbankschemas und das seeding der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6ba43-269">The deployment process also created a new connection string *(SchoolContext\_DatabasePublish*) for Code First Migrations to use for updating the database schema and seeding the database.</span></span>

![Verbindungszeichenfolge in der Datei "Web.config"](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image26.png)

<span data-ttu-id="6ba43-271">Sie finden die bereitgestellte Version der Datei "Web.config" auf dem lokalen Computer in *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*. Sie können die bereitgestellte zugreifen *"Web.config"* Datei selbst unter Verwendung von FTP.</span><span class="sxs-lookup"><span data-stu-id="6ba43-271">You can find the deployed version of the Web.config file on your own computer in *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*. You can access the deployed *Web.config* file itself by using FTP.</span></span> <span data-ttu-id="6ba43-272">Anweisungen hierzu finden Sie unter [ASP.NET-webbereitstellung mithilfe von Visual Studio: Bereitstellen eines Codeupdates](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update).</span><span class="sxs-lookup"><span data-stu-id="6ba43-272">For instructions, see [ASP.NET Web Deployment using Visual Studio: Deploying a Code Update](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update).</span></span> <span data-ttu-id="6ba43-273">Befolgen Sie die Anweisungen, die mit beginnen "um ein FTP-Tool verwenden zu können, benötigen Sie drei Dinge: der FTP-URL, den Benutzernamen und das Kennwort."</span><span class="sxs-lookup"><span data-stu-id="6ba43-273">Follow the instructions that start with "To use an FTP tool, you need three things: the FTP URL, the user name, and the password."</span></span>

> [!NOTE]
> <span data-ttu-id="6ba43-274">Die Web-app implementieren nicht Sicherheit, damit jeder, der die URL findet die Daten ändern kann.</span><span class="sxs-lookup"><span data-stu-id="6ba43-274">The web app doesn't implement security, so anyone who finds the URL can change the data.</span></span> <span data-ttu-id="6ba43-275">Anweisungen dazu, wie Sie die Website zu schützen, finden Sie unter [bereitstellen eine sicheren ASP.NET MVC-app mit Mitgliedschaft, OAuth und SQL-Datenbank in Azure](/aspnet/core/security/authorization/secure-data).</span><span class="sxs-lookup"><span data-stu-id="6ba43-275">For instructions on how to secure the web site, see [Deploy a Secure ASP.NET MVC app with Membership, OAuth, and SQL database to Azure](/aspnet/core/security/authorization/secure-data).</span></span> <span data-ttu-id="6ba43-276">Sie können verhindern, dass andere Personen über die Website durch Beenden des Diensts über das Azure-Verwaltungsportal oder **Server-Explorer** in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6ba43-276">You can prevent other people from using the site by stopping the service using the Azure Management Portal or **Server Explorer** in Visual Studio.</span></span>

![Beenden Sie die app Service-Menüelement](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/server-explorer-stop-app-service.png)

## <a name="advanced-migrations-scenarios"></a><span data-ttu-id="6ba43-278">Erweiterte Migrationsszenarien</span><span class="sxs-lookup"><span data-stu-id="6ba43-278">Advanced migrations scenarios</span></span>

<span data-ttu-id="6ba43-279">Wenn Sie eine Datenbank durch Ausführen von Migrationen automatisch durchführen, wie in diesem Tutorial gezeigt bereitstellen, und Sie bereitstellen auf einer Website, die auf mehreren Servern ausgeführt wird, konnte Sie mehrere Server, die beim Ausführen von Migrationen zur gleichen Zeit abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="6ba43-279">If you deploy a database by running migrations automatically as shown in this tutorial, and you are deploying to a web site that runs on multiple servers, you could get multiple servers trying to run migrations at the same time.</span></span> <span data-ttu-id="6ba43-280">Migrationen sind atomisch –, also wenn zwei Server versuchen, die die gleiche Migration ausführen, eine erfolgreich ausgeführt, und die andere fehl schlägt, (vorausgesetzt, dass die Vorgänge können nicht zweimal ausgeführt werden).</span><span class="sxs-lookup"><span data-stu-id="6ba43-280">Migrations are atomic, so if two servers try to run the same migration, one will succeed and the other will fail (assuming the operations can't be done twice).</span></span> <span data-ttu-id="6ba43-281">In diesem Szenario sollten Sie diese Probleme zu vermeiden können Sie Migrationen manuell aufrufen, und richten Ihren eigenen Code, sodass es nur einmal durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="6ba43-281">In that scenario if you want to avoid those issues, you can call migrations manually and set up your own code so that it only happens once.</span></span> <span data-ttu-id="6ba43-282">Weitere Informationen finden Sie unter [ausgeführt wird und Scripting von Migrationen aus Code](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) Blog von Rowan Miller des und [Migrate.exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) (für das Ausführen von Migrationen über die Befehlszeile).</span><span class="sxs-lookup"><span data-stu-id="6ba43-282">For more information, see [Running and Scripting Migrations from Code](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) on Rowan Miller's blog and [Migrate.exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) (for executing migrations from the command line).</span></span>

<span data-ttu-id="6ba43-283">Weitere Informationen zu anderen Migrationsszenarien finden Sie unter [Migrationen Screencast-Reihe](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span><span class="sxs-lookup"><span data-stu-id="6ba43-283">For information about other migrations scenarios, see [Migrations Screencast Series](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span></span>

## <a name="code-first-initializers"></a><span data-ttu-id="6ba43-284">Code First-Initialisierer</span><span class="sxs-lookup"><span data-stu-id="6ba43-284">Code First initializers</span></span>

<span data-ttu-id="6ba43-285">In den Abschnitt zur Bereitstellung, Sie haben gesehen, die [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) Initialisierer, die verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6ba43-285">In the deployment section, you saw the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer being used.</span></span> <span data-ttu-id="6ba43-286">Code stellt zunächst auch weitere Initialisierungen, einschließlich ["createDatabaseIfNotExists"](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (Standardeinstellung), [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (die Sie zuvor verwendet haben) und [ DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx).</span><span class="sxs-lookup"><span data-stu-id="6ba43-286">Code First also provides other initializers, including [CreateDatabaseIfNotExists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (the default), [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (which you used earlier) and [DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx).</span></span> <span data-ttu-id="6ba43-287">Die `DropCreateAlways` Initialisierer für das Einrichten von Bedingungen für die Komponententests nützlich sein kann.</span><span class="sxs-lookup"><span data-stu-id="6ba43-287">The `DropCreateAlways` initializer can be useful for setting up conditions for unit tests.</span></span> <span data-ttu-id="6ba43-288">Sie können auch eigene Initialisierer schreiben, und Sie können keinen Initialisierer explizit aufrufen, wenn Sie nicht warten, bis die Anwendung liest bzw. in die Datenbank geschrieben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-288">You can also write your own initializers, and you can call an initializer explicitly if you don't want to wait until the application reads from or writes to the database.</span></span>

<span data-ttu-id="6ba43-289">Weitere Informationen zu Initialisierern finden Sie unter [Grundlegendes zu Datenbank-Initialisierer in Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) und Kapitel 6 des Buchs [Programming Entity Framework: Code First](http://shop.oreilly.com/product/0636920022220.do) von Julie Lerman und Rowan Miller.</span><span class="sxs-lookup"><span data-stu-id="6ba43-289">For more information about initializers, see [Understanding Database Initializers in Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) and chapter 6 of the book [Programming Entity Framework: Code First](http://shop.oreilly.com/product/0636920022220.do) by Julie Lerman and Rowan Miller.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="6ba43-290">Abrufen des Codes</span><span class="sxs-lookup"><span data-stu-id="6ba43-290">Get the code</span></span>

[<span data-ttu-id="6ba43-291">Herunterladen des abgeschlossenen Projekts</span><span class="sxs-lookup"><span data-stu-id="6ba43-291">Download the Completed Project</span></span>](https://webpifeed.blob.core.windows.net/webpifeed/Partners/ASP.NET%20MVC%20Application%20Using%20Entity%20Framework%20Code%20First.zip)

## <a name="additional-resources"></a><span data-ttu-id="6ba43-292">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="6ba43-292">Additional resources</span></span>

<span data-ttu-id="6ba43-293">Links zu anderen Ressourcen des Entity Framework finden Sie im [ASP.NET-Datenzugriff – empfohlene Ressourcen](xref:whitepapers/aspnet-data-access-content-map).</span><span class="sxs-lookup"><span data-stu-id="6ba43-293">Links to other Entity Framework resources can be found in [ASP.NET Data Access - Recommended Resources](xref:whitepapers/aspnet-data-access-content-map).</span></span>

## <a name="next-steps"></a><span data-ttu-id="6ba43-294">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="6ba43-294">Next steps</span></span>

<span data-ttu-id="6ba43-295">In diesem Tutorial:</span><span class="sxs-lookup"><span data-stu-id="6ba43-295">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="6ba43-296">Aktivierte Code First-Migrationen</span><span class="sxs-lookup"><span data-stu-id="6ba43-296">Enabled Code First migrations</span></span>
> * <span data-ttu-id="6ba43-297">Bereitgestellt von der app in Azure (optional)</span><span class="sxs-lookup"><span data-stu-id="6ba43-297">Deployed the app in Azure (optional)</span></span>

<span data-ttu-id="6ba43-298">Wechseln Sie zum nächsten Artikel erfahren, wie Sie ein komplexeres Datenmodell für eine ASP.NET MVC-Anwendung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6ba43-298">Advance to the next article to learn how to create a more complex data model for an ASP.NET MVC Application.</span></span>
> [!div class="nextstepaction"]
> [<span data-ttu-id="6ba43-299">Erstellen eines komplexeren Datenmodells</span><span class="sxs-lookup"><span data-stu-id="6ba43-299">Create a more complex data model</span></span>](creating-a-more-complex-data-model-for-an-asp-net-mvc-application.md)
