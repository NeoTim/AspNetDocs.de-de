---
uid: mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
title: 'Tutorial: Verwenden von EF-Migrationen in einer ASP.NET MVC-APP und Bereitstellen in Azure'
author: tdykstra
description: In diesem Tutorial aktivieren Sie Code First Migrationen und stellen die Anwendung in der Cloud in Azure bereit.
ms.author: riande
ms.date: 01/16/2019
ms.topic: tutorial
ms.assetid: d4dfc435-bda6-4621-9762-9ba270f8de4e
msc.legacyurl: /mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
msc.type: authoredcontent
ms.openlocfilehash: 989dd0f0e18b338be057b9c5657586eff996d8ea
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78499365"
---
# <a name="tutorial-use-ef-migrations-in-an-aspnet-mvc-app-and-deploy-to-azure"></a><span data-ttu-id="406ce-103">Tutorial: Verwenden von EF-Migrationen in einer ASP.NET MVC-APP und Bereitstellen in Azure</span><span class="sxs-lookup"><span data-stu-id="406ce-103">Tutorial: Use EF Migrations in an ASP.NET MVC app and deploy to Azure</span></span>

<span data-ttu-id="406ce-104">Bisher wurde die Beispiel-Webanwendung der Beispiel-Web-App lokal in IIS Express auf Ihrem Entwicklungs Computer ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="406ce-104">So far the Contoso University sample web application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="406ce-105">Um eine echte Anwendung für andere Personen über das Internet zur Verfügung zu stellen, müssen Sie Sie für einen Webhostinganbieter bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-105">To make a real application available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="406ce-106">In diesem Tutorial aktivieren Sie Code First Migrationen und stellen die Anwendung in der Cloud in Azure bereit:</span><span class="sxs-lookup"><span data-stu-id="406ce-106">In this tutorial, you enable Code First migrations and deploy the application to the cloud in Azure:</span></span>

- <span data-ttu-id="406ce-107">Aktivieren Sie Code First-Migrationen.</span><span class="sxs-lookup"><span data-stu-id="406ce-107">Enable Code First Migrations.</span></span> <span data-ttu-id="406ce-108">Mithilfe der Migrations Funktion können Sie das Datenmodell ändern und die Änderungen in der Produktionsumgebung bereitstellen, indem Sie das Datenbankschema aktualisieren, ohne die Datenbank löschen und neu erstellen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="406ce-108">The Migrations feature enables you to change the data model and deploy your changes to production by updating the database schema without having to drop and re-create the database.</span></span>
- <span data-ttu-id="406ce-109">In Azure bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-109">Deploy to Azure.</span></span> <span data-ttu-id="406ce-110">Dieser Schritt ist optional. Sie können mit den verbleibenden Tutorials fortfahren, ohne das Projekt bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-110">This step is optional; you can continue with the remaining tutorials without having deployed the project.</span></span>

<span data-ttu-id="406ce-111">Es wird empfohlen, dass Sie einen Continuous Integration Prozess mit der Quell Code Verwaltung für die Bereitstellung verwenden, aber dieses Tutorial behandelt diese Themen nicht.</span><span class="sxs-lookup"><span data-stu-id="406ce-111">We recommend that you use a continuous integration process with source control for deployment, but this tutorial does not cover those topics.</span></span> <span data-ttu-id="406ce-112">Weitere Informationen finden Sie in der [Quell](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) Code Verwaltung und in den [Continuous Integration](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) Kapiteln zum entwickeln [realer Cloud-apps mit Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction).</span><span class="sxs-lookup"><span data-stu-id="406ce-112">For more information, see the [source control](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) and [continuous integration](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) chapters of [Building Real-World Cloud Apps with Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction).</span></span>

<span data-ttu-id="406ce-113">In diesem Tutorial führen Sie Folgendes durch:</span><span class="sxs-lookup"><span data-stu-id="406ce-113">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="406ce-114">Code First Migrationen aktivieren</span><span class="sxs-lookup"><span data-stu-id="406ce-114">Enable Code First migrations</span></span>
> * <span data-ttu-id="406ce-115">Bereitstellen der app in Azure (optional)</span><span class="sxs-lookup"><span data-stu-id="406ce-115">Deploy the app in Azure (optional)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="406ce-116">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="406ce-116">Prerequisites</span></span>

- [<span data-ttu-id="406ce-117">Verbindungsresilienz und Abfangen von Befehlen</span><span class="sxs-lookup"><span data-stu-id="406ce-117">Connection Resiliency and Command Interception</span></span>](connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md)

## <a name="enable-code-first-migrations"></a><span data-ttu-id="406ce-118">Code First Migrationen aktivieren</span><span class="sxs-lookup"><span data-stu-id="406ce-118">Enable Code First migrations</span></span>

<span data-ttu-id="406ce-119">Wenn Sie eine neue Anwendung entwickeln, ändert sich Ihr Datenmodell häufig. Jedes Mal, wenn das Datenmodell geändert wird, ist es nicht mehr synchron mit der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="406ce-119">When you develop a new application, your data model changes frequently, and each time the model changes, it gets out of sync with the database.</span></span> <span data-ttu-id="406ce-120">Sie haben die Entity Framework so konfiguriert, dass die Datenbank jedes Mal, wenn Sie das Datenmodell ändern, automatisch gelöscht und neu erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-120">You have configured the Entity Framework to automatically drop and re-create the database each time you change the data model.</span></span> <span data-ttu-id="406ce-121">Wenn Sie Entitäts Klassen hinzufügen, entfernen oder ändern oder die `DbContext` Klasse ändern, wird beim nächsten Ausführen der Anwendung automatisch die vorhandene Datenbank gelöscht, eine neue erstellt, die mit dem Modell übereinstimmt, und mit Testdaten versehen.</span><span class="sxs-lookup"><span data-stu-id="406ce-121">When you add, remove, or change entity classes or change your `DbContext` class, the next time you run the application it automatically deletes your existing database, creates a new one that matches the model, and seeds it with test data.</span></span>

<span data-ttu-id="406ce-122">Diese Methode, bei der die Datenbank mit dem Datenmodell synchron gehalten wird, funktioniert so lange, bis Sie die Anwendung für die Produktion bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-122">This method of keeping the database in sync with the data model works well until you deploy the application to production.</span></span> <span data-ttu-id="406ce-123">Wenn die Anwendung in der Produktionsumgebung ausgeführt wird, speichert Sie in der Regel Daten, die Sie behalten möchten, und Sie möchten nicht jedes Mal alles verlieren, wenn Sie eine Änderung vornehmen, wie z. b. das Hinzufügen einer neuen Spalte.</span><span class="sxs-lookup"><span data-stu-id="406ce-123">When the application is running in production, it is usually storing data that you want to keep, and you don't want to lose everything each time you make a change such as adding a new column.</span></span> <span data-ttu-id="406ce-124">Das [Code First-Migrationen](https://msdn.microsoft.com/data/jj591621) Feature löst dieses Problem, indem es Code First das Aktualisieren des Datenbankschemas ermöglicht, anstatt die Datenbank zu löschen und neu zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-124">The [Code First Migrations](https://msdn.microsoft.com/data/jj591621) feature solves this problem by enabling Code First to update the database schema instead of dropping and re-creating the database.</span></span> <span data-ttu-id="406ce-125">In diesem Tutorial stellen Sie die Anwendung bereit, um die Migration zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="406ce-125">In this tutorial, you'll deploy the application, and to prepare for that you'll enable Migrations.</span></span>

1. <span data-ttu-id="406ce-126">Deaktivieren Sie den zuvor eingerichteten Initialisierer, indem Sie das `contexts`-Element, das Sie der Web. config-Datei der Anwendung hinzugefügt haben, auskommentieren oder löschen.</span><span class="sxs-lookup"><span data-stu-id="406ce-126">Disable the initializer that you set up earlier by commenting out or deleting the `contexts` element that you added to the application Web.config file.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample1.xml?highlight=2,6)]
2. <span data-ttu-id="406ce-127">Ändern Sie in der Datei " *Web. config* " der Anwendung auch den Namen der Datenbank in der Verbindungs Zeichenfolge in "contosouniversity2".</span><span class="sxs-lookup"><span data-stu-id="406ce-127">Also in the application *Web.config* file, change the name of the database in the connection string to ContosoUniversity2.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample2.xml?highlight=2)]

    <span data-ttu-id="406ce-128">Durch diese Änderung wird das Projekt so eingerichtet, dass bei der ersten Migration eine neue Datenbank erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-128">This change sets up the project so that the first migration creates a new database.</span></span> <span data-ttu-id="406ce-129">Dies ist nicht erforderlich, aber Sie werden später sehen, warum es eine gute Idee ist.</span><span class="sxs-lookup"><span data-stu-id="406ce-129">This isn't required but you'll see later why it's a good idea.</span></span>
3. <span data-ttu-id="406ce-130">Öffnen Sie das Menü **Extras**, und wählen Sie **NuGet-Paket-Manager** > **Paket-Manager-Konsole** aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-130">From the **Tools** menu, select **NuGet Package Manager** > **Package Manager Console**.</span></span>

1. <span data-ttu-id="406ce-131">Geben Sie an der `PM>` Eingabeaufforderung die folgenden Befehle ein:</span><span class="sxs-lookup"><span data-stu-id="406ce-131">At the `PM>` prompt enter the following commands:</span></span>

    ```text
    enable-migrations
    add-migration InitialCreate
    ```

    <span data-ttu-id="406ce-132">Der `enable-migrations`-Befehl erstellt einen *Migrations* Ordner im condesouniversity-Projekt und fügt diesen Ordner in den Ordner eine *Configuration.cs* -Datei ein, die Sie zum Konfigurieren von Migrationen bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="406ce-132">The `enable-migrations` command creates a *Migrations* folder in the ContosoUniversity project, and it puts in that folder a *Configuration.cs* file that you can edit to configure Migrations.</span></span>

    <span data-ttu-id="406ce-133">(Wenn Sie den obigen Schritt verpasst haben, der Sie auffordert, den Datenbanknamen zu ändern, wird die vorhandene Datenbank durch Migrationen ermittelt, und der `add-migration` Befehl wird automatisch durchführen.</span><span class="sxs-lookup"><span data-stu-id="406ce-133">(If you missed the step above that directs you to change the database name, Migrations will find the existing database and automatically do the `add-migration` command.</span></span> <span data-ttu-id="406ce-134">Das bedeutet, dass Sie keinen Test des Migrations Codes durchführen, bevor Sie die Datenbank bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-134">That's okay, it just means you won't run a test of the migrations code before you deploy the database.</span></span> <span data-ttu-id="406ce-135">Wenn Sie den `update-database`-Befehl später ausführen, geschieht nichts, weil die Datenbank bereits vorhanden ist.)</span><span class="sxs-lookup"><span data-stu-id="406ce-135">Later when you run the `update-database` command nothing will happen because the database already exists.)</span></span>

    <span data-ttu-id="406ce-136">Öffnen Sie die Datei *contosouniversity\migrations\configuration.cs* .</span><span class="sxs-lookup"><span data-stu-id="406ce-136">Open the *ContosoUniversity\Migrations\Configuration.cs* file.</span></span> <span data-ttu-id="406ce-137">Wie die Initialisiererklasse, die Sie zuvor gesehen haben, enthält die `Configuration`-Klasse eine `Seed`-Methode.</span><span class="sxs-lookup"><span data-stu-id="406ce-137">Like the initializer class that you saw earlier, the `Configuration` class includes a `Seed` method.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample3.cs)]

    <span data-ttu-id="406ce-138">Der Zweck der [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) -Methode besteht darin, dass Sie Testdaten einfügen oder aktualisieren können, nachdem Code First die Datenbank erstellt oder aktualisiert hat.</span><span class="sxs-lookup"><span data-stu-id="406ce-138">The purpose of the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is to enable you to insert or update test data after Code First creates or updates the database.</span></span> <span data-ttu-id="406ce-139">Die-Methode wird aufgerufen, wenn die Datenbank erstellt wird, und jedes Mal, wenn das Datenbankschema nach einer Datenmodell Änderung aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-139">The method is called when the database is created and every time the database schema is updated after a data model change.</span></span>

### <a name="set-up-the-seed-method"></a><span data-ttu-id="406ce-140">Einrichten der Seed-Methode</span><span class="sxs-lookup"><span data-stu-id="406ce-140">Set up the Seed method</span></span>

<span data-ttu-id="406ce-141">Wenn Sie die Datenbank für jede Datenmodell Änderung löschen und neu erstellen, verwenden Sie die `Seed`-Methode der Initialisiererklasse, um Testdaten einzufügen, da die Datenbank nach jeder Modell Änderung gelöscht wird und alle Testdaten verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="406ce-141">When you drop and re-create the database for every data model change, you use the initializer class's `Seed` method to insert test data, because after every model change the database is dropped and all the test data is lost.</span></span> <span data-ttu-id="406ce-142">Mit Code First-Migrationen werden Testdaten nach der Daten Bank Änderung beibehalten, sodass das Einschließen von Testdaten in die [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) -Methode in der Regel nicht erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="406ce-142">With Code First Migrations, test data is retained after database changes, so including test data in the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is typically not necessary.</span></span> <span data-ttu-id="406ce-143">Sie möchten nicht, dass die `Seed`-Methode Testdaten einfügt, wenn Sie Migrationen verwenden, um die Datenbank in der Produktionsumgebung bereitzustellen, da die `Seed`-Methode in der Produktionsumgebung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-143">In fact, you don't want the `Seed` method to insert test data if you'll be using Migrations to deploy the database to production, because the `Seed` method will run in production.</span></span> <span data-ttu-id="406ce-144">In diesem Fall möchten Sie, dass die `Seed`-Methode nur die Daten, die Sie in der Produktionsumgebung benötigen, in die Datenbank einfügt.</span><span class="sxs-lookup"><span data-stu-id="406ce-144">In that case, you want the `Seed` method to insert into the database only the data that you need in production.</span></span> <span data-ttu-id="406ce-145">Beispielsweise kann es vorkommen, dass die Datenbank tatsächliche Abteilungsnamen in die `Department` Tabelle einschließen soll, wenn die Anwendung in der Produktionsumgebung verfügbar wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-145">For example, you might want the database to include actual department names in the `Department` table when the application becomes available in production.</span></span>

<span data-ttu-id="406ce-146">In diesem Tutorial verwenden Sie Migrationen für die Bereitstellung, aber ihre `Seed`-Methode fügt trotzdem Testdaten ein, um die Funktionsweise der Anwendungs Funktionalität zu vereinfachen, ohne dass viele Daten manuell eingefügt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="406ce-146">For this tutorial, you'll be using Migrations for deployment, but your `Seed` method will insert test data anyway in order to make it easier to see how application functionality works without having to manually insert a lot of data.</span></span>

1. <span data-ttu-id="406ce-147">Ersetzen Sie den Inhalt der *Configuration.cs* -Datei durch den folgenden Code, der Testdaten in die neue Datenbank lädt.</span><span class="sxs-lookup"><span data-stu-id="406ce-147">Replace the contents of the *Configuration.cs* file with the following code, which loads test data into the new database.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample4.cs)]

    <span data-ttu-id="406ce-148">Die [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) -Methode nimmt das Daten Bank Kontext Objekt als Eingabeparameter an, und der Code in der-Methode verwendet dieses Objekt, um der Datenbank neue Entitäten hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="406ce-148">The [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method takes the database context object as an input parameter, and the code in the method uses that object to add new entities to the database.</span></span> <span data-ttu-id="406ce-149">Für jeden Entitätstyp erstellt der Code eine Auflistung von neuen Entitäten, fügt Sie der entsprechenden [dbset](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) -Eigenschaft hinzu und speichert die Änderungen dann in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="406ce-149">For each entity type, the code creates a collection of new entities, adds them to the appropriate [DbSet](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) property, and then saves the changes to the database.</span></span> <span data-ttu-id="406ce-150">Es ist nicht erforderlich, die [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) -Methode nach jeder Gruppe von Entitäten aufzurufen, wie hier beschrieben, aber damit können Sie die Ursache eines Problems ermitteln, wenn eine Ausnahme auftritt, während der Code in die Datenbank schreibt.</span><span class="sxs-lookup"><span data-stu-id="406ce-150">It isn't necessary to call the [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) method after each group of entities, as is done here, but doing that helps you locate the source of a problem if an exception occurs while the code is writing to the database.</span></span>

    <span data-ttu-id="406ce-151">Einige der Anweisungen, die Daten einfügen, verwenden die [addorupdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) -Methode, um einen Upsert-Vorgang auszuführen.</span><span class="sxs-lookup"><span data-stu-id="406ce-151">Some of the statements that insert data use the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method to perform an "upsert" operation.</span></span> <span data-ttu-id="406ce-152">Da die `Seed`-Methode bei jeder Ausführung des `update-database`-Befehls ausgeführt wird, können Sie in der Regel nach jeder Migration keine Daten einfügen, da die Zeilen, die Sie hinzufügen möchten, nach der ersten Migration, mit der die Datenbank erstellt wird, bereits vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="406ce-152">Because the `Seed` method runs every time you execute the `update-database` command, typically after each migration, you can't just insert data, because the rows you are trying to add will already be there after the first migration that creates the database.</span></span> <span data-ttu-id="406ce-153">Der Upsert-Vorgang verhindert Fehler, die auftreten würden, wenn Sie versuchen, eine Zeile einzufügen, die bereits vorhanden ist, aber alle Änderungen an Daten ***über*** schreibt, die Sie beim Testen der Anwendung möglicherweise vorgenommen haben.</span><span class="sxs-lookup"><span data-stu-id="406ce-153">The "upsert" operation prevents errors that would happen if you try to insert a row that already exists, but it ***overrides*** any changes to data that you may have made while testing the application.</span></span> <span data-ttu-id="406ce-154">Mit Testdaten in einigen Tabellen sollten Sie dies möglicherweise nicht tun: in einigen Fällen, in denen Sie Daten während des Tests ändern, möchten Sie, dass Ihre Änderungen nach Datenbankaktualisierungen verbleiben.</span><span class="sxs-lookup"><span data-stu-id="406ce-154">With test data in some tables you might not want that to happen: in some cases when you change data while testing you want your changes to remain after database updates.</span></span> <span data-ttu-id="406ce-155">In diesem Fall möchten Sie einen bedingten Einfügevorgang durchführen: Fügen Sie eine Zeile nur ein, wenn Sie nicht bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="406ce-155">In that case you want to do a conditional insert operation: insert a row only if it doesn't already exist.</span></span> <span data-ttu-id="406ce-156">Die Seed-Methode verwendet beide Ansätze.</span><span class="sxs-lookup"><span data-stu-id="406ce-156">The Seed method uses both approaches.</span></span>

    <span data-ttu-id="406ce-157">Der erste Parameter, der an die [addorupdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) -Methode übergeben wird, gibt die Eigenschaft an, mit der überprüft wird, ob eine Zeile bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="406ce-157">The first parameter passed to the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method specifies the property to use to check if a row already exists.</span></span> <span data-ttu-id="406ce-158">Für die von Ihnen bereitgestellten Test Studenten Daten kann die `LastName`-Eigenschaft für diesen Zweck verwendet werden, da jeder Nachname in der Liste eindeutig ist:</span><span class="sxs-lookup"><span data-stu-id="406ce-158">For the test student data that you are providing, the `LastName` property can be used for this purpose since each last name in the list is unique:</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample5.cs)]

    <span data-ttu-id="406ce-159">Bei diesem Code wird davon ausgegangen, dass die Nachnamen eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="406ce-159">This code assumes that last names are unique.</span></span> <span data-ttu-id="406ce-160">Wenn Sie einen Studenten mit einem doppelten Nachnamen manuell hinzufügen, erhalten Sie die folgende Ausnahme, wenn Sie das nächste Mal eine Migration ausführen:</span><span class="sxs-lookup"><span data-stu-id="406ce-160">If you manually add a student with a duplicate last name, you'll get the following exception the next time you perform a migration:</span></span>

    <span data-ttu-id="406ce-161">**Die Sequenz enthält mehr als ein Element.**</span><span class="sxs-lookup"><span data-stu-id="406ce-161">**Sequence contains more than one element**</span></span>

    <span data-ttu-id="406ce-162">Informationen zum Verarbeiten von redundanten Daten wie z. b. zwei Studenten mit dem Namen "Alexander Carson" finden Sie unter [Seeding und Debugging Entity Framework (EF)-DSB](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) im Blog von Rick Anderson.</span><span class="sxs-lookup"><span data-stu-id="406ce-162">For information about how to handle redundant data such as two students named "Alexander Carson", see [Seeding and Debugging Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="406ce-163">Weitere Informationen zur `AddOrUpdate`-Methode finden Sie im Blog von Julie Lerman im Blogbeitrag zur [EF 4,3 addorupdate-Methode](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) .</span><span class="sxs-lookup"><span data-stu-id="406ce-163">For more information about the `AddOrUpdate` method, see [Take care with EF 4.3 AddOrUpdate Method](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) on Julie Lerman's blog.</span></span>

    <span data-ttu-id="406ce-164">Der Code, der `Enrollment` Entitäten erstellt, setzt voraus, dass Sie über den `ID` Wert in den Entitäten in der `students` Collection verfügen, obwohl Sie diese Eigenschaft nicht im Code festgelegt haben, der die Auflistung erstellt.</span><span class="sxs-lookup"><span data-stu-id="406ce-164">The code that creates `Enrollment` entities assumes you have the `ID` value in the entities in the `students` collection, although you didn't set that property in the code that creates the collection.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample6.cs?highlight=2)]

    <span data-ttu-id="406ce-165">Sie können hier die `ID`-Eigenschaft verwenden, da der `ID` Wert festgelegt wird, wenn Sie `SaveChanges` für die `students` Auflistung aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="406ce-165">You can use the `ID` property here because the `ID` value is set when you call `SaveChanges` for the `students` collection.</span></span> <span data-ttu-id="406ce-166">EF Ruft den Primärschlüssel Wert automatisch ab, wenn eine Entität in die Datenbank eingefügt wird, und aktualisiert die `ID`-Eigenschaft der Entität im Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="406ce-166">EF automatically gets the primary key value when it inserts an entity into the database, and it updates the `ID` property of the entity in memory.</span></span>

    <span data-ttu-id="406ce-167">Der Code, der die einzelnen `Enrollment` Entitäten der `Enrollments` Entitätenmenge hinzufügt, verwendet nicht die `AddOrUpdate`-Methode.</span><span class="sxs-lookup"><span data-stu-id="406ce-167">The code that adds each `Enrollment` entity to the `Enrollments` entity set doesn't use the `AddOrUpdate` method.</span></span> <span data-ttu-id="406ce-168">Er überprüft, ob bereits eine Entität vorhanden ist, und fügt die Entität ein, wenn Sie nicht vorhanden ist</span><span class="sxs-lookup"><span data-stu-id="406ce-168">It checks if an entity already exists and inserts the entity if it doesn't exist.</span></span> <span data-ttu-id="406ce-169">Bei diesem Ansatz werden die Änderungen, die Sie an einer Registrierungs Qualität vornehmen, mithilfe der Benutzeroberfläche der Anwendung beibehalten.</span><span class="sxs-lookup"><span data-stu-id="406ce-169">This approach will preserve changes you make to an enrollment grade by using the application UI.</span></span> <span data-ttu-id="406ce-170">Der Code durchläuft die einzelnen Mitglieder der `Enrollment`[Liste](https://msdn.microsoft.com/library/6sh2ey19.aspx) , und wenn die Registrierung nicht in der Datenbank gefunden wird, wird die Registrierung der Datenbank hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="406ce-170">The code loops through each member of the `Enrollment`[List](https://msdn.microsoft.com/library/6sh2ey19.aspx) and if the enrollment is not found in the database, it adds the enrollment to the database.</span></span> <span data-ttu-id="406ce-171">Wenn Sie die Datenbank zum ersten Mal aktualisieren, ist die Datenbank leer, sodass jede Registrierung hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-171">The first time you update the database, the database will be empty, so it will add each enrollment.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample7.cs)]

2. <span data-ttu-id="406ce-172">Erstellen Sie das Projekt.</span><span class="sxs-lookup"><span data-stu-id="406ce-172">Build the project.</span></span>

### <a name="execute-the-first-migration"></a><span data-ttu-id="406ce-173">Erste Migration ausführen</span><span class="sxs-lookup"><span data-stu-id="406ce-173">Execute the first migration</span></span>

<span data-ttu-id="406ce-174">Wenn Sie den `add-migration` Befehl ausgeführt haben, haben Migrationen den Code generiert, mit dem die Datenbank von Grund auf neu erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-174">When you executed the `add-migration` command, Migrations generated the code that would create the database from scratch.</span></span> <span data-ttu-id="406ce-175">Dieser Code befindet sich auch im Ordner *Migrationen* in der Datei mit dem Namen *&lt;Zeitstempel&gt;\_InitialCreate.cs*.</span><span class="sxs-lookup"><span data-stu-id="406ce-175">This code is also in the *Migrations* folder, in the file named *&lt;timestamp&gt;\_InitialCreate.cs*.</span></span> <span data-ttu-id="406ce-176">Mit der `Up`-Methode der `InitialCreate`-Klasse werden die Datenbanktabellen erstellt, die den Datenmodell-Entitätenmengen entsprechen. Diese werden von der `Down`-Methode gelöscht.</span><span class="sxs-lookup"><span data-stu-id="406ce-176">The `Up` method of the `InitialCreate` class creates the database tables that correspond to the data model entity sets, and the `Down` method deletes them.</span></span>

[!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample8.cs)]

<span data-ttu-id="406ce-177">Die Migrationsfunktion ruft die Methode `Up` auf, um die Datenmodelländerungen für eine Migration zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="406ce-177">Migrations calls the `Up` method to implement the data model changes for a migration.</span></span> <span data-ttu-id="406ce-178">Wenn Sie einen Befehl eingeben, um ein Rollback für das Update auszuführen, ruft die Migrationsfunktion die Methode `Down` auf.</span><span class="sxs-lookup"><span data-stu-id="406ce-178">When you enter a command to roll back the update, Migrations calls the `Down` method.</span></span>

<span data-ttu-id="406ce-179">Dies ist die anfängliche Migration, die erstellt wurde, als Sie den `add-migration InitialCreate`-Befehl eingegeben haben.</span><span class="sxs-lookup"><span data-stu-id="406ce-179">This is the initial migration that was created when you entered the `add-migration InitialCreate` command.</span></span> <span data-ttu-id="406ce-180">Der-Parameter (im Beispiel`InitialCreate`) wird als Dateiname verwendet und kann von Ihnen verwendet werden. in der Regel wählen Sie ein Wort oder einen Ausdruck aus, das zusammenfasst, was bei der Migration erfolgt.</span><span class="sxs-lookup"><span data-stu-id="406ce-180">The parameter (`InitialCreate` in the example) is used for the file name and can be whatever you want; you typically choose a word or phrase that summarizes what is being done in the migration.</span></span> <span data-ttu-id="406ce-181">Beispielsweise können Sie eine spätere Migration &quot;adddepartmenttable-&quot;benennen.</span><span class="sxs-lookup"><span data-stu-id="406ce-181">For example, you might name a later migration &quot;AddDepartmentTable&quot;.</span></span>

<span data-ttu-id="406ce-182">Wenn Sie die ursprüngliche Migration erstellt haben, als die Datenbank bereits vorhanden war, wird der Code für die Datenbankerstellung zwar generiert, allerdings muss er nicht ausgeführt werden, da die Datenbank bereits dem Datenmodell entspricht.</span><span class="sxs-lookup"><span data-stu-id="406ce-182">If you created the initial migration when the database already exists, the database creation code is generated but it doesn't have to run because the database already matches the data model.</span></span> <span data-ttu-id="406ce-183">Wenn Sie die App in einer anderen Umgebung bereitstellen, in der die Datenbank noch nicht vorhanden ist, wird dieser Code ausgeführt, um Ihre Datenbank zu erstellen. Daher sollte dieser zunächst getestet werden.</span><span class="sxs-lookup"><span data-stu-id="406ce-183">When you deploy the app to another environment where the database doesn't exist yet, this code will run to create your database, so it's a good idea to test it first.</span></span> <span data-ttu-id="406ce-184">Aus diesem Grund haben Sie den Namen der Datenbank in der Verbindungs Zeichenfolge zuvor&mdash;geändert, damit Migrationen von Grund auf neu erstellt werden können.</span><span class="sxs-lookup"><span data-stu-id="406ce-184">That's why you changed the name of the database in the connection string earlier&mdash;so that migrations can create a new one from scratch.</span></span>

1. <span data-ttu-id="406ce-185">Geben Sie im Fenster **Paket-Manager-Konsole** den folgenden Befehl ein:</span><span class="sxs-lookup"><span data-stu-id="406ce-185">In the **Package Manager Console** window, enter the following command:</span></span>

    `update-database`

    <span data-ttu-id="406ce-186">Der `update-database`-Befehl führt die `Up`-Methode aus, um die Datenbank zu erstellen, und führt dann die `Seed`-Methode aus, um die Datenbank aufzufüllen.</span><span class="sxs-lookup"><span data-stu-id="406ce-186">The `update-database` command runs the `Up` method to create the database and then it runs the `Seed` method to populate the database.</span></span> <span data-ttu-id="406ce-187">Der gleiche Prozess wird automatisch in der Produktionsumgebung ausgeführt, nachdem Sie die Anwendung bereitgestellt haben, wie im folgenden Abschnitt zu sehen ist.</span><span class="sxs-lookup"><span data-stu-id="406ce-187">The same process will run automatically in production after you deploy the application, as you'll see in the following section.</span></span>
2. <span data-ttu-id="406ce-188">Verwenden Sie **Server-Explorer** , um die Datenbank wie im ersten Tutorial zu überprüfen, und führen Sie die Anwendung aus, um sicherzustellen, dass alles wie zuvor funktioniert.</span><span class="sxs-lookup"><span data-stu-id="406ce-188">Use **Server Explorer** to inspect the database as you did in the first tutorial, and run the application to verify that everything still works the same as before.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="406ce-189">Bereitstellung in Azure</span><span class="sxs-lookup"><span data-stu-id="406ce-189">Deploy to Azure</span></span>

<span data-ttu-id="406ce-190">Bisher wurde die Anwendung lokal in IIS Express auf dem Entwicklungs Computer ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="406ce-190">So far the application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="406ce-191">Um es anderen Benutzern die Verwendung über das Internet zur Verfügung zu stellen, müssen Sie Sie für einen Webhostinganbieter bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-191">To make it available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="406ce-192">In diesem Abschnitt des Tutorials stellen Sie die Anwendung in Azure bereit.</span><span class="sxs-lookup"><span data-stu-id="406ce-192">In this section of the tutorial, you'll deploy it to Azure.</span></span> <span data-ttu-id="406ce-193">Dieser Abschnitt ist optional. Sie können dies überspringen und mit dem folgenden Tutorial fortfahren, oder Sie können die Anweisungen in diesem Abschnitt für einen anderen Hostinganbieter Ihrer Wahl anpassen.</span><span class="sxs-lookup"><span data-stu-id="406ce-193">This section is optional; you can skip this and continue with the following tutorial, or you can adapt the instructions in this section for a different hosting provider of your choice.</span></span>

### <a name="use-code-first-migrations-to-deploy-the-database"></a><span data-ttu-id="406ce-194">Verwenden von Code First Migrationen zum Bereitstellen der Datenbank</span><span class="sxs-lookup"><span data-stu-id="406ce-194">Use Code First migrations to deploy the database</span></span>

<span data-ttu-id="406ce-195">Zum Bereitstellen der-Datenbank verwenden Sie Code First-Migrationen.</span><span class="sxs-lookup"><span data-stu-id="406ce-195">To deploy the database, you'll use Code First Migrations.</span></span> <span data-ttu-id="406ce-196">Wenn Sie das Veröffentlichungs Profil erstellen, das Sie zum Konfigurieren der Einstellungen für die Bereitstellung von Visual Studio verwenden, wählen Sie ein Kontrollkästchen mit der Bezeichnung **Datenbank aktualisieren**aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-196">When you create the publish profile that you use to configure settings for deploying from Visual Studio, you'll select a check box labeled **Update Database**.</span></span> <span data-ttu-id="406ce-197">Diese Einstellung bewirkt, dass der Bereitstellungs Prozess die *Web. config* -Datei der Anwendung auf dem Zielserver automatisch konfiguriert, sodass Code First die `MigrateDatabaseToLatestVersion` Initialisierer-Klasse verwendet.</span><span class="sxs-lookup"><span data-stu-id="406ce-197">This setting causes the deployment process to automatically configure the application *Web.config* file on the destination server so that Code First uses the `MigrateDatabaseToLatestVersion` initializer class.</span></span>

<span data-ttu-id="406ce-198">Visual Studio führt während des Bereitstellungs Prozesses keine Schritte mit der Datenbank durch, während das Projekt auf den Zielserver kopiert wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-198">Visual Studio doesn't do anything with the database during the deployment process while it is copying your project to the destination server.</span></span> <span data-ttu-id="406ce-199">Wenn Sie die bereitgestellte Anwendung ausführen und zum ersten Mal nach der Bereitstellung auf die Datenbank zugreifen, überprüft Code First, ob die Datenbank mit dem Datenmodell übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="406ce-199">When you run the deployed application and it accesses the database for the first time after deployment, Code First checks if the database matches the data model.</span></span> <span data-ttu-id="406ce-200">Wenn keine Übereinstimmung vorliegt, erstellt Code First die Datenbank automatisch (sofern noch nicht vorhanden) oder aktualisiert das Datenbankschema auf die neueste Version (wenn eine Datenbank vorhanden ist, aber nicht mit dem Modell übereinstimmt).</span><span class="sxs-lookup"><span data-stu-id="406ce-200">If there's a mismatch, Code First automatically creates the database (if it doesn't exist yet) or updates the database schema to the latest version (if a database exists but doesn't match the model).</span></span> <span data-ttu-id="406ce-201">Wenn die Anwendung eine Migrations `Seed`-Methode implementiert, wird die-Methode ausgeführt, nachdem die Datenbank erstellt oder das Schema aktualisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="406ce-201">If the application implements a Migrations `Seed` method, the method runs after the database is created or the schema is updated.</span></span>

<span data-ttu-id="406ce-202">Die Migrations `Seed` Methode fügt Testdaten ein.</span><span class="sxs-lookup"><span data-stu-id="406ce-202">Your Migrations `Seed` method inserts test data.</span></span> <span data-ttu-id="406ce-203">Wenn Sie in einer Produktionsumgebung bereitgestellt haben, müssten Sie die `Seed`-Methode so ändern, dass nur Daten eingefügt werden, die in die Produktionsdatenbank eingefügt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="406ce-203">If you were deploying to a production environment, you would have to change the `Seed` method so that it only inserts data that you want to be inserted into your production database.</span></span> <span data-ttu-id="406ce-204">Beispielsweise können Sie in Ihrem aktuellen Datenmodell echte Kurse, aber fiktive Studenten in der Entwicklungs Datenbank haben.</span><span class="sxs-lookup"><span data-stu-id="406ce-204">For example, in your current data model you might want to have real courses but fictional students in the development database.</span></span> <span data-ttu-id="406ce-205">Sie können eine `Seed` Methode schreiben, um beide in der Entwicklung zu laden und dann die fiktiven Studenten vor der Bereitstellung in der Produktion auszukommentieren.</span><span class="sxs-lookup"><span data-stu-id="406ce-205">You can write a `Seed` method to load both in development, and then comment out the fictional students before you deploy to production.</span></span> <span data-ttu-id="406ce-206">Sie können auch eine `Seed` Methode schreiben, um nur Kurse zu laden, und die fiktiven Studenten in der Testdatenbank manuell über die Benutzeroberfläche der Anwendung eingeben.</span><span class="sxs-lookup"><span data-stu-id="406ce-206">Or you can write a `Seed` method to load only courses, and enter the fictional students in the test database manually by using the application's UI.</span></span>

### <a name="get-an-azure-account"></a><span data-ttu-id="406ce-207">Azure-Konto erhalten</span><span class="sxs-lookup"><span data-stu-id="406ce-207">Get an Azure account</span></span>

<span data-ttu-id="406ce-208">Sie benötigen ein Azure-Konto.</span><span class="sxs-lookup"><span data-stu-id="406ce-208">You'll need an Azure account.</span></span> <span data-ttu-id="406ce-209">Wenn Sie noch nicht über ein Visual Studio-Abonnement verfügen, können Sie [Ihre Abonnement Vorteile aktivieren](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
).</span><span class="sxs-lookup"><span data-stu-id="406ce-209">If you don't already have one, but you do have a Visual Studio subscription, you can [activate your subscription benefits](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
).</span></span> <span data-ttu-id="406ce-210">Andernfalls können Sie in wenigen Minuten ein kostenloses Testkonto erstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-210">Otherwise, you can create a free trial account in just a couple of minutes.</span></span> <span data-ttu-id="406ce-211">Ausführliche Informationen finden Sie unter [Einen Monat kostenlos testen](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="406ce-211">For details, see [Azure Free Trial](https://azure.microsoft.com/free/).</span></span>

### <a name="create-a-web-site-and-a-sql-database-in-azure"></a><span data-ttu-id="406ce-212">Erstellen einer Website und einer SQL-Datenbank in Azure</span><span class="sxs-lookup"><span data-stu-id="406ce-212">Create a web site and a SQL database in Azure</span></span>

<span data-ttu-id="406ce-213">Ihre Web-App in Azure wird in einer freigegebenen Hostingumgebung ausgeführt, was bedeutet, dass Sie auf virtuellen Computern (VMS) ausgeführt wird, die gemeinsam mit anderen Azure-Clients verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="406ce-213">Your web app in Azure will run in a shared hosting environment, which means it runs on virtual machines (VMs) that are shared with other Azure clients.</span></span> <span data-ttu-id="406ce-214">Eine freigegebene Hostingumgebung ist eine kostengünstige Möglichkeit, mit der Verwendung der Cloud zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="406ce-214">A shared hosting environment is a low-cost way to get started in the cloud.</span></span> <span data-ttu-id="406ce-215">Später kann die Anwendung skaliert werden, sobald der Webdatenverkehr zunimmt, um die Anforderungen durch die Ausführung dedizierter virtueller Maschinen zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="406ce-215">Later, if your web traffic increases, the application can scale to meet the need by running on dedicated VMs.</span></span> <span data-ttu-id="406ce-216">Weitere Informationen zu den Preisoptionen für Azure App Service finden Sie unter [App Service Preise](https://azure.microsoft.com/pricing/details/app-service/).</span><span class="sxs-lookup"><span data-stu-id="406ce-216">To learn more about Pricing Options for Azure App Service, read [App Service pricing](https://azure.microsoft.com/pricing/details/app-service/).</span></span>

<span data-ttu-id="406ce-217">Sie stellen die Datenbank in Azure SQL-Datenbank bereit.</span><span class="sxs-lookup"><span data-stu-id="406ce-217">You'll deploy the database to Azure SQL database.</span></span> <span data-ttu-id="406ce-218">SQL-Datenbank ist ein cloudbasierter relationaler Datenbankdienst, der auf SQL Server-Technologien aufbaut.</span><span class="sxs-lookup"><span data-stu-id="406ce-218">SQL database is a cloud-based relational database service that is built on SQL Server technologies.</span></span> <span data-ttu-id="406ce-219">Tools und Anwendungen, die mit SQL Server arbeiten, funktionieren auch mit der SQL-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="406ce-219">Tools and applications that work with SQL Server also work with SQL database.</span></span>

1. <span data-ttu-id="406ce-220">Wählen Sie im [Azure-Verwaltungsportal](https://portal.azure.com)auf der linken Registerkarte **Ressource erstellen** aus, und wählen Sie dann im **neuen** Bereich (oder im *Blatt*) die Option **alle** anzeigen aus, um alle verfügbaren Ressourcen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="406ce-220">In the [Azure Management Portal](https://portal.azure.com), choose **Create a resource** in the left tab and then choose **See all** on the **New** pane (or *blade*) to see all available resources.</span></span> <span data-ttu-id="406ce-221">Wählen Sie im Abschnitt **Web** des Blatts **alles** die Option Web- **App und SQL** aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-221">Choose **Web App + SQL** in the **Web** section of the **Everything** blade.</span></span> <span data-ttu-id="406ce-222">Klicken Sie abschließend auf **Erstellen**.</span><span class="sxs-lookup"><span data-stu-id="406ce-222">Finally, choose **Create**.</span></span>

    ![Erstellen einer Ressource im Azure-Portal](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/create-azure-resource.png)

   <span data-ttu-id="406ce-224">Das Formular zum Erstellen einer neuen **neuen Web-App und SQL** -Ressource wird geöffnet.</span><span class="sxs-lookup"><span data-stu-id="406ce-224">The form to create a new **New Web App + SQL** resource opens.</span></span>

2. <span data-ttu-id="406ce-225">Geben Sie eine Zeichenfolge in das Feld **App-Name** ein, um Sie als eindeutige URL für Ihre Anwendung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="406ce-225">Enter a string in the **App name** box to use as the unique URL for your application.</span></span> <span data-ttu-id="406ce-226">Die gesamte URL besteht aus den hier eingegebenen Optionen und der Standard Domäne Azure-App Services (. azurewebsites.net).</span><span class="sxs-lookup"><span data-stu-id="406ce-226">The complete URL will consist of what you enter here plus the default domain of Azure App Services (.azurewebsites.net).</span></span> <span data-ttu-id="406ce-227">Wenn der **App-Name** bereits verwendet wird, werden Sie vom Assistenten mit einem roten Hinweis benachrichtigt, dass *der App-Name nicht verfügbar ist* .</span><span class="sxs-lookup"><span data-stu-id="406ce-227">If the **App name** is already taken, the Wizard notifies you with a red *The app name is not available* message.</span></span> <span data-ttu-id="406ce-228">Wenn der **App-Name** verfügbar ist, wird ein grünes Häkchensymbol angezeigt.</span><span class="sxs-lookup"><span data-stu-id="406ce-228">If the **App name** is available, you see a green checkmark.</span></span>

3. <span data-ttu-id="406ce-229">Wählen Sie im Feld **Abonnement** das Azure-Abonnement aus, in dem sich die **App Service** befinden soll.</span><span class="sxs-lookup"><span data-stu-id="406ce-229">In the **Subscription** box, choose the Azure Subscription in which you want the **App Service** to reside.</span></span>

4. <span data-ttu-id="406ce-230">Wählen Sie im Textfeld **Ressourcengruppe** eine Ressourcengruppe aus, oder erstellen Sie eine neue Ressourcengruppe.</span><span class="sxs-lookup"><span data-stu-id="406ce-230">In the **Resource Group** text box, choose a Resource Group or create a new one.</span></span> <span data-ttu-id="406ce-231">Mit dieser Einstellung wird festgelegt, in welchem Rechenzentrum die Website ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-231">This setting specifies which data center your web site will run in.</span></span> <span data-ttu-id="406ce-232">Weitere Informationen zu Ressourcengruppen finden Sie unter [Ressourcengruppen](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span><span class="sxs-lookup"><span data-stu-id="406ce-232">For more information about Resource Groups, see [Resource groups](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span></span>

5. <span data-ttu-id="406ce-233">Erstellen Sie einen neuen **App Service Plan** , indem Sie auf den *Abschnitt App Service*klicken, **neu erstellen**und **App Service Plan** (kann denselben Namen wie App Service), **Speicherort**und Tarif **ausfüllen (es** gibt eine kostenlose Option).</span><span class="sxs-lookup"><span data-stu-id="406ce-233">Create a new **App Service Plan** by clicking the *App Service section*, **Create New**, and fill in **App Service plan** (can be same name as App Service), **Location**, and **Pricing tier** (there is a free option).</span></span>

6. <span data-ttu-id="406ce-234">Klicken Sie auf **SQL-Datenbank**und dann auf **neue Datenbank erstellen** , oder wählen Sie eine vorhandene Datenbank aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-234">Click **SQL Database**, and then choose **Create a new database** or select an existing database.</span></span>

7. <span data-ttu-id="406ce-235">Geben Sie im Feld **Name** einen Namen für Ihre Datenbank ein.</span><span class="sxs-lookup"><span data-stu-id="406ce-235">In the **Name** box, enter a name for your database.</span></span>
8. <span data-ttu-id="406ce-236">Klicken Sie auf das Feld **Ziel Server** , und wählen Sie dann **neuen Server erstellen**aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-236">Click the **Target Server** box, and then select **Create a new server**.</span></span> <span data-ttu-id="406ce-237">Wenn Sie zuvor einen Server erstellt haben, können Sie alternativ diesen Server aus der Liste der verfügbaren Server auswählen.</span><span class="sxs-lookup"><span data-stu-id="406ce-237">Alternatively, if you previously created a server, you can select that server from list of available servers.</span></span>
9. <span data-ttu-id="406ce-238">Wählen Sie Tarif aus, und **Klicken Sie auf** *kostenlos*.</span><span class="sxs-lookup"><span data-stu-id="406ce-238">Choose **Pricing tier** section, choose *Free*.</span></span> <span data-ttu-id="406ce-239">Wenn zusätzliche Ressourcen benötigt werden, kann die Datenbank jederzeit zentral hochskaliert werden.</span><span class="sxs-lookup"><span data-stu-id="406ce-239">If additional resources are needed, the database can be scaled up at any time.</span></span> <span data-ttu-id="406ce-240">Weitere Informationen zu den Preisen von Azure SQL finden Sie unter [Preise für Azure SQL-Datenbank](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span><span class="sxs-lookup"><span data-stu-id="406ce-240">To learn more on Azure SQL Pricing, see [Azure SQL Database pricing](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span></span>
10. <span data-ttu-id="406ce-241">Ändern Sie die [Sortierung](/sql/relational-databases/collations/collation-and-unicode-support) nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="406ce-241">Modify [collation](/sql/relational-databases/collations/collation-and-unicode-support) as needed.</span></span>
11. <span data-ttu-id="406ce-242">Geben Sie den Administrator **Benutzernamen** des Administrators und das SQL-Administrator **Kennwort**ein</span><span class="sxs-lookup"><span data-stu-id="406ce-242">Enter an administrator **SQL Admin Username** and **SQL Admin Password**.</span></span>

    - <span data-ttu-id="406ce-243">Wenn Sie **neuer SQL-Datenbankserver**ausgewählt haben, definieren Sie einen neuen Namen und ein Kennwort, die Sie später beim Zugriff auf die Datenbank verwenden.</span><span class="sxs-lookup"><span data-stu-id="406ce-243">If you selected **New SQL Database server**, define a new name and password that you'll use later when you access the database.</span></span>
    - <span data-ttu-id="406ce-244">Wenn Sie einen Server ausgewählt haben, den Sie zuvor erstellt haben, geben Sie die Anmelde Informationen für diesen Server ein.</span><span class="sxs-lookup"><span data-stu-id="406ce-244">If you selected a server that you created previously, enter credentials for that server.</span></span>

12. <span data-ttu-id="406ce-245">Die telemetrieauflistung kann mithilfe Application Insights für App Service aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="406ce-245">Telemetry collection can be enabled for App Service using Application Insights.</span></span> <span data-ttu-id="406ce-246">Bei geringem Konfigurationsaufwand sammelt Application Insights wertvolle Informationen zu Ereignissen, Ausnahmen, Abhängigkeiten, Anforderungen und Ablauf Verfolgungen.</span><span class="sxs-lookup"><span data-stu-id="406ce-246">With little configuration, Application Insights collects valuable event, exception, dependency, request, and trace information.</span></span> <span data-ttu-id="406ce-247">Weitere Informationen zu Application Insights finden Sie unter [Azure Monitor](https://azure.microsoft.com/services/monitor/).</span><span class="sxs-lookup"><span data-stu-id="406ce-247">To learn more about Application Insights, see [Azure Monitor](https://azure.microsoft.com/services/monitor/).</span></span>
13. <span data-ttu-id="406ce-248">Klicken Sie unten auf **Erstellen** , um anzugeben, dass Sie fertig sind.</span><span class="sxs-lookup"><span data-stu-id="406ce-248">Click **Create** at the bottom to indicate that you're finished.</span></span>

    <span data-ttu-id="406ce-249">Der Verwaltungsportal wird zur Seite Dashboard zurückgegeben, und im Bereich **Benachrichtigungen** oben auf der Seite wird angezeigt, dass die Website erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-249">The Management Portal returns to the Dashboard page, and the **Notifications** area at the top of the page shows that the site is being created.</span></span> <span data-ttu-id="406ce-250">Nach einer Weile (in der Regel weniger als eine Minute) gibt es eine Benachrichtigung, dass die Bereitstellung erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="406ce-250">After a while (typically less than a minute), there's a notification that the Deployment succeeded.</span></span> <span data-ttu-id="406ce-251">In der Navigationsleiste auf der linken Seite wird der neue APP Service im Abschnitt **App Services** angezeigt, und die neue SQL-Datenbank wird im Abschnitt **SQL-Datenbanken** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="406ce-251">In the navigation bar at the left, the new App Service appears in the **App Services** section and the new SQL database appears in the **SQL databases** section.</span></span>

### <a name="deploy-the-app-to-azure"></a><span data-ttu-id="406ce-252">Bereitstellen der Anwendung in Azure</span><span class="sxs-lookup"><span data-stu-id="406ce-252">Deploy the app to Azure</span></span>

1. <span data-ttu-id="406ce-253">Klicken Sie im **Projektmappen-Explorer** von Visual Studio mit der rechten Maustaste auf das Projekt, und wählen Sie im Kontextmenü **Veröffentlichen** aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-253">In Visual Studio, right-click the project in **Solution Explorer** and select **Publish** from the context menu.</span></span>

2. <span data-ttu-id="406ce-254">Wählen Sie auf der Seite **Veröffentlichungsziel auswählen** die Option **App Service** aus, und wählen **Sie dann vorhandene**und dann **veröffentlichen**aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-254">On the **Pick a publish target** page, choose **App Service** and then **Select Existing**, and then choose **Publish**.</span></span>

    ![Seite "Veröffentlichungsziel auswählen"](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/publish-select-existing-azure-app-service.png)

3. <span data-ttu-id="406ce-256">Wenn Sie Ihr Azure-Abonnement nicht bereits in Visual Studio hinzugefügt haben, führen Sie die Schritte auf dem Bildschirm aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-256">If you haven't previously added your Azure subscription in Visual Studio, perform the steps on the screen.</span></span> <span data-ttu-id="406ce-257">Mit diesen Schritten kann Visual Studio eine Verbindung mit Ihrem Azure-Abonnement herstellen, sodass die Liste der **App Services** Ihre Website enthält.</span><span class="sxs-lookup"><span data-stu-id="406ce-257">These steps enable Visual Studio to connect to your Azure subscription so that the list of **App Services** will include your web site.</span></span>

4. <span data-ttu-id="406ce-258">Wählen Sie auf der Seite **App Service** das **Abonnement** aus, dem Sie die APP Service hinzugefügt haben.</span><span class="sxs-lookup"><span data-stu-id="406ce-258">On the **App Service** page, select the **Subscription** you added the App Service to.</span></span> <span data-ttu-id="406ce-259">Wählen Sie unter **Ansicht**die Option **Ressourcengruppe**aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-259">Under **View**, select **Resource Group**.</span></span> <span data-ttu-id="406ce-260">Erweitern Sie die Ressourcengruppe, der Sie die APP Service hinzugefügt haben, und wählen Sie dann den App Service aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-260">Expand the resource group you added the App Service to, and then select the App Service.</span></span> <span data-ttu-id="406ce-261">Wählen Sie **OK** aus, um die APP zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="406ce-261">Choose **OK** to publish the app.</span></span>

5. <span data-ttu-id="406ce-262">Im Fenster **Ausgabe** wird angezeigt, welche Bereitstellungsaktionen ausgeführt wurden, und es wird die erfolgreiche Durchführung der Bereitstellung gemeldet.</span><span class="sxs-lookup"><span data-stu-id="406ce-262">The **Output** window shows what deployment actions were taken and reports successful completion of the deployment.</span></span>

6. <span data-ttu-id="406ce-263">Nach erfolgreicher Bereitstellung wird der Standardbrowser automatisch mit der URL der bereitgestellten Website geöffnet.</span><span class="sxs-lookup"><span data-stu-id="406ce-263">Upon successful deployment, the default browser automatically opens to the URL of the deployed web site.</span></span>

    ![Students_index_page_with_paging](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/cloud-app-browser.png)

    <span data-ttu-id="406ce-265">Ihre APP wird jetzt in der Cloud ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="406ce-265">Your app is now running in the cloud.</span></span>

<span data-ttu-id="406ce-266">An diesem Punkt wurde die *schoolContext* -Datenbank in der Azure SQL-Datenbank erstellt, weil Sie die Option **Code First-Migrationen ausführen ausgewählt haben (wird beim APP-Start ausgeführt)** .</span><span class="sxs-lookup"><span data-stu-id="406ce-266">At this point, the *SchoolContext* database has been created in the Azure SQL database because you selected **Execute Code First Migrations (runs on app start)**.</span></span> <span data-ttu-id="406ce-267">Die Datei " *Web. config* " auf der bereitgestellten Website wurde geändert, sodass der [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) -Initialisierer beim ersten Lesen oder Schreiben von Daten in der Datenbank ausgeführt wird (was geschah, als Sie die Registerkarte " **Students** " ausgewählt haben):</span><span class="sxs-lookup"><span data-stu-id="406ce-267">The *Web.config* file in the deployed web site has been changed so that the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer runs the first time your code reads or writes data in the database (which happened when you selected the **Students** tab):</span></span>

![Auszug der Datei "Web. config"](https://asp.net/media/4367421/mig.png)

<span data-ttu-id="406ce-269">Beim Bereitstellungs Prozess wurde außerdem eine neue Verbindungs Zeichenfolge *(schoolContext\_databasepublish*) erstellt, um Code First-Migrationen zum Aktualisieren des Datenbankschemas und zum Seeding der Datenbank zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="406ce-269">The deployment process also created a new connection string *(SchoolContext\_DatabasePublish*) for Code First Migrations to use for updating the database schema and seeding the database.</span></span>

![Verbindungs Zeichenfolge in der Datei "Web. config"](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image26.png)

<span data-ttu-id="406ce-271">Die bereitgestellte Version der Datei "Web. config" finden Sie auf Ihrem eigenen Computer unter *condesouniversity\obj\release\package\packagetmp\web.config*. Sie können auf die bereitgestellte *Web. config* -Datei selbst über FTP zugreifen.</span><span class="sxs-lookup"><span data-stu-id="406ce-271">You can find the deployed version of the Web.config file on your own computer in *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*. You can access the deployed *Web.config* file itself by using FTP.</span></span> <span data-ttu-id="406ce-272">Anweisungen finden Sie unter [ASP.net Web Deployment using Visual Studio: Deployment a Code Update](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update).</span><span class="sxs-lookup"><span data-stu-id="406ce-272">For instructions, see [ASP.NET Web Deployment using Visual Studio: Deploying a Code Update](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update).</span></span> <span data-ttu-id="406ce-273">Befolgen Sie die Anweisungen, die mit "So verwenden Sie ein FTP-Tool" beginnen: die FTP-URL, der Benutzername und das Kennwort. "</span><span class="sxs-lookup"><span data-stu-id="406ce-273">Follow the instructions that start with "To use an FTP tool, you need three things: the FTP URL, the user name, and the password."</span></span>

> [!NOTE]
> <span data-ttu-id="406ce-274">Die Web-App implementiert keine Sicherheit, sodass jeder, der die URL findet, die Daten ändern kann.</span><span class="sxs-lookup"><span data-stu-id="406ce-274">The web app doesn't implement security, so anyone who finds the URL can change the data.</span></span> <span data-ttu-id="406ce-275">Anweisungen zum Sichern der Website finden Sie unter Bereitstellen [einer Secure ASP.NET MVC-App mit Mitgliedschaft, OAuth und SQL-Datenbank in Azure](/aspnet/core/security/authorization/secure-data).</span><span class="sxs-lookup"><span data-stu-id="406ce-275">For instructions on how to secure the web site, see [Deploy a Secure ASP.NET MVC app with Membership, OAuth, and SQL database to Azure](/aspnet/core/security/authorization/secure-data).</span></span> <span data-ttu-id="406ce-276">Sie können verhindern, dass andere Personen die Website verwenden, indem Sie den Dienst mithilfe des Azure-Verwaltungsportal oder **Server-Explorer** in Visual Studio beenden.</span><span class="sxs-lookup"><span data-stu-id="406ce-276">You can prevent other people from using the site by stopping the service using the Azure Management Portal or **Server Explorer** in Visual Studio.</span></span>

![Menü Element "App Service" Abbrechen](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/server-explorer-stop-app-service.png)

## <a name="advanced-migrations-scenarios"></a><span data-ttu-id="406ce-278">Erweiterte Migrations Szenarios</span><span class="sxs-lookup"><span data-stu-id="406ce-278">Advanced migrations scenarios</span></span>

<span data-ttu-id="406ce-279">Wenn Sie eine Datenbank bereitstellen, indem Sie wie in diesem Tutorial gezeigt automatisch Migrationen ausführen und die Bereitstellung auf einer Website durchführen, die auf mehreren Servern ausgeführt wird, können Sie mehrere Server abrufen, die versuchen, Migrationen gleichzeitig auszuführen.</span><span class="sxs-lookup"><span data-stu-id="406ce-279">If you deploy a database by running migrations automatically as shown in this tutorial, and you are deploying to a web site that runs on multiple servers, you could get multiple servers trying to run migrations at the same time.</span></span> <span data-ttu-id="406ce-280">Migrationen sind atomarisch. Wenn also zwei Server versuchen, dieselbe Migration auszuführen, wird eine solche Migration erfolgreich ausgeführt, die andere schlägt fehl (vorausgesetzt, die Vorgänge können nicht zweimal ausgeführt werden).</span><span class="sxs-lookup"><span data-stu-id="406ce-280">Migrations are atomic, so if two servers try to run the same migration, one will succeed and the other will fail (assuming the operations can't be done twice).</span></span> <span data-ttu-id="406ce-281">Wenn Sie diese Probleme vermeiden möchten, können Sie Migrationen manuell aufzurufen und ihren eigenen Code so einrichten, dass er nur einmal ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-281">In that scenario if you want to avoid those issues, you can call migrations manually and set up your own code so that it only happens once.</span></span> <span data-ttu-id="406ce-282">Weitere Informationen finden Sie unter [ausführen und Durchführen von Skript Migrationen aus Code](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) im Blog von Rowan Miller und [Migrieren der exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) -Datei (zum Ausführen von Migrationen über die Befehlszeile).</span><span class="sxs-lookup"><span data-stu-id="406ce-282">For more information, see [Running and Scripting Migrations from Code](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) on Rowan Miller's blog and [Migrate.exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) (for executing migrations from the command line).</span></span>

<span data-ttu-id="406ce-283">Weitere Informationen zu anderen Migrationsszenarien finden Sie unter [Migrationen von screencastreihen](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span><span class="sxs-lookup"><span data-stu-id="406ce-283">For information about other migrations scenarios, see [Migrations Screencast Series](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span></span>

## <a name="update-specific-migration"></a><span data-ttu-id="406ce-284">Bestimmte Migration aktualisieren</span><span class="sxs-lookup"><span data-stu-id="406ce-284">Update specific migration</span></span>

`update-database -target MigrationName`

<span data-ttu-id="406ce-285">Der `update-database -target MigrationName`-Befehl führt die gezielte Migration aus.</span><span class="sxs-lookup"><span data-stu-id="406ce-285">The `update-database -target MigrationName` command runs the targeted migration.</span></span>

## <a name="ignore-migration-changes-to-database"></a><span data-ttu-id="406ce-286">Migrations Änderungen in Datenbank ignorieren</span><span class="sxs-lookup"><span data-stu-id="406ce-286">Ignore migration changes to database</span></span>

`Add-migration MigrationName -ignoreChanges`

<span data-ttu-id="406ce-287">`ignoreChanges` erstellt eine leere Migration mit dem aktuellen Modell als Momentaufnahme.</span><span class="sxs-lookup"><span data-stu-id="406ce-287">`ignoreChanges` creates an empty migration with the current model as a snapshot.</span></span>

## <a name="code-first-initializers"></a><span data-ttu-id="406ce-288">Code First-Initialisierer</span><span class="sxs-lookup"><span data-stu-id="406ce-288">Code First initializers</span></span>

<span data-ttu-id="406ce-289">Im Abschnitt Bereitstellung sehen Sie, dass der [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) -Initialisierer verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="406ce-289">In the deployment section, you saw the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer being used.</span></span> <span data-ttu-id="406ce-290">Code First bietet auch andere Initialisierer, einschließlich " [kreatedatabaseifnotexists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) " (Standardeinstellung), " [dropkreatedatabaseifmodelchanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) " (die Sie zuvor verwendet haben) und " [dropkreatedatabasealways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx)".</span><span class="sxs-lookup"><span data-stu-id="406ce-290">Code First also provides other initializers, including [CreateDatabaseIfNotExists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (the default), [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (which you used earlier) and [DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx).</span></span> <span data-ttu-id="406ce-291">Der `DropCreateAlways` Initialisierer kann beim Einrichten von Bedingungen für Komponententests hilfreich sein.</span><span class="sxs-lookup"><span data-stu-id="406ce-291">The `DropCreateAlways` initializer can be useful for setting up conditions for unit tests.</span></span> <span data-ttu-id="406ce-292">Sie können auch eigene Initialisierer schreiben, und Sie können einen Initialisierer explizit aufzurufen, wenn Sie nicht warten möchten, bis die Anwendung aus der Datenbank liest oder in diese schreibt.</span><span class="sxs-lookup"><span data-stu-id="406ce-292">You can also write your own initializers, and you can call an initializer explicitly if you don't want to wait until the application reads from or writes to the database.</span></span>

<span data-ttu-id="406ce-293">Weitere Informationen zu Initialisierern finden Sie Untergrund Legendes zu [datenbankinitialisierern in Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) und Kapitel 6 der Buch [Programmierung Entity Framework: Code First](http://shop.oreilly.com/product/0636920022220.do) von Julie Lerman und Rowan Miller.</span><span class="sxs-lookup"><span data-stu-id="406ce-293">For more information about initializers, see [Understanding Database Initializers in Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) and chapter 6 of the book [Programming Entity Framework: Code First](http://shop.oreilly.com/product/0636920022220.do) by Julie Lerman and Rowan Miller.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="406ce-294">Abrufen des Codes</span><span class="sxs-lookup"><span data-stu-id="406ce-294">Get the code</span></span>

[<span data-ttu-id="406ce-295">Herunterladen des abgeschlossenen Projekts</span><span class="sxs-lookup"><span data-stu-id="406ce-295">Download the Completed Project</span></span>](https://webpifeed.blob.core.windows.net/webpifeed/Partners/ASP.NET%20MVC%20Application%20Using%20Entity%20Framework%20Code%20First.zip)

## <a name="additional-resources"></a><span data-ttu-id="406ce-296">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="406ce-296">Additional resources</span></span>

<span data-ttu-id="406ce-297">Links zu anderen Entity Framework Ressourcen finden Sie unter [ASP.NET Data Access-Empfohlene Ressourcen](xref:whitepapers/aspnet-data-access-content-map).</span><span class="sxs-lookup"><span data-stu-id="406ce-297">Links to other Entity Framework resources can be found in [ASP.NET Data Access - Recommended Resources](xref:whitepapers/aspnet-data-access-content-map).</span></span>

## <a name="next-steps"></a><span data-ttu-id="406ce-298">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="406ce-298">Next steps</span></span>

<span data-ttu-id="406ce-299">In diesem Tutorial führen Sie Folgendes durch:</span><span class="sxs-lookup"><span data-stu-id="406ce-299">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="406ce-300">Aktivierte Code First Migrationen</span><span class="sxs-lookup"><span data-stu-id="406ce-300">Enabled Code First migrations</span></span>
> * <span data-ttu-id="406ce-301">Bereitstellung der app in Azure (optional)</span><span class="sxs-lookup"><span data-stu-id="406ce-301">Deployed the app in Azure (optional)</span></span>

<span data-ttu-id="406ce-302">Fahren Sie mit dem nächsten Artikel fort, um zu erfahren, wie Sie ein komplexeres Datenmodell für eine ASP.NET MVC-Anwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="406ce-302">Advance to the next article to learn how to create a more complex data model for an ASP.NET MVC Application.</span></span>
> [!div class="nextstepaction"]
> [<span data-ttu-id="406ce-303">Erstellen eines komplexeren Datenmodells</span><span class="sxs-lookup"><span data-stu-id="406ce-303">Create a more complex data model</span></span>](creating-a-more-complex-data-model-for-an-asp-net-mvc-application.md)
