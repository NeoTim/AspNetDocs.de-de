---
title: Hinzufügen einer Ansicht zu einer MVC-App
author: Rick-Anderson
description: Hinzufügen einer Ansicht zu einer MVC-App
ms.author: riande
ms.date: 01/23/2019
uid: mvc/overview/getting-started/introduction/adding-a-view
ms.openlocfilehash: 4b369028aca1e8a6cace60466b8049ccc02a2ec2
ms.sourcegitcommit: 88fc80e3f65aebdf61ec9414810ddbc31c543f04
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/22/2020
ms.locfileid: "76519062"
---
# <a name="adding-a-view"></a><span data-ttu-id="1576b-103">Hinzufügen einer Ansicht</span><span class="sxs-lookup"><span data-stu-id="1576b-103">Adding a View</span></span>

<span data-ttu-id="1576b-104">von [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="1576b-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

[!INCLUDE [Tutorial Note](index.md)]

<span data-ttu-id="1576b-105">In diesem Abschnitt ändern Sie die `HelloWorldController`-Klasse so, dass Sie Vorlagen Dateien anzeigen verwendet, um den Prozess der Erstellung von HTML-Antworten für einen Client zu bereinigen.</span><span class="sxs-lookup"><span data-stu-id="1576b-105">In this section you're going to modify the `HelloWorldController` class to use view template files to cleanly encapsulate the process of generating HTML responses to a client.</span></span> 

<span data-ttu-id="1576b-106">Sie erstellen mithilfe der [Razor-Ansichts-Engine](../../../../web-pages/overview/getting-started/introducing-razor-syntax-c.md)eine Ansichts Vorlagen Datei.</span><span class="sxs-lookup"><span data-stu-id="1576b-106">You'll create a view template file using the [Razor view engine](../../../../web-pages/overview/getting-started/introducing-razor-syntax-c.md).</span></span> <span data-ttu-id="1576b-107">Razor-basierte Ansichts Vorlagen verfügen über die Dateierweiterung " *. cshtml* " und bieten eine elegante Möglichkeit zum Erstellen C#einer HTML-Ausgabe mithilfe von.</span><span class="sxs-lookup"><span data-stu-id="1576b-107">Razor-based view templates have a *.cshtml* file extension, and provide an elegant way to create HTML output using C#.</span></span> <span data-ttu-id="1576b-108">Razor minimiert die Anzahl der zum Schreiben einer Ansichts Vorlage erforderlichen Zeichen und Tastatureingaben und ermöglicht einen schnellen, fließenden Codierungs Workflow.</span><span class="sxs-lookup"><span data-stu-id="1576b-108">Razor minimizes the number of characters and keystrokes required when writing a view template, and enables a fast, fluid coding workflow.</span></span>

<span data-ttu-id="1576b-109">Derzeit gibt die `Index`-Methode eine Zeichenfolge mit der Meldung zurück, die in der Controllerklasse hartcodiert ist.</span><span class="sxs-lookup"><span data-stu-id="1576b-109">Currently the `Index` method returns a string with a message that is hard-coded in the controller class.</span></span> <span data-ttu-id="1576b-110">Ändern Sie die `Index`-Methode so, dass Sie die Controller [Ansichts](/dotnet/api/microsoft.aspnetcore.mvc.controller.view#Microsoft_AspNetCore_Mvc_Controller_View) Methode aufruft, wie im folgenden Code gezeigt:</span><span class="sxs-lookup"><span data-stu-id="1576b-110">Change the `Index` method to call the controllers [View](/dotnet/api/microsoft.aspnetcore.mvc.controller.view#Microsoft_AspNetCore_Mvc_Controller_View) method, as shown in the following code:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample1.cs?highlight=1,3)]

<span data-ttu-id="1576b-111">Die oben beschriebene `Index` Methode verwendet eine Ansichts Vorlage, um eine HTML-Antwort an den Browser zu generieren.</span><span class="sxs-lookup"><span data-stu-id="1576b-111">The `Index` method above uses a view template to generate an HTML response to the browser.</span></span> <span data-ttu-id="1576b-112">Controller Methoden (auch [Aktionsmethoden](http://rachelappel.com/asp.net-mvc-actionresults-explained)genannt), wie z. b. die oben genannte `Index` Methode, geben im Allgemeinen ein [Action result](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx) (oder eine von " [Action result](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx)" abgeleitete Klasse) und keine primitiven Typen wie String zurück.</span><span class="sxs-lookup"><span data-stu-id="1576b-112">Controller methods (also known as [action methods](http://rachelappel.com/asp.net-mvc-actionresults-explained)), such as the `Index` method above, generally return an [ActionResult](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx) (or a class derived from [ActionResult](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx)), not primitive types like string.</span></span>

<span data-ttu-id="1576b-113">Klicken Sie mit der rechten Maustaste auf den Ordner *views\helloworld* , klicken Sie auf **Hinzufügen**, und klicken Sie dann auf **MVC 5-Ansichts Seite mit Layout**</span><span class="sxs-lookup"><span data-stu-id="1576b-113">Right click the *Views\HelloWorld* folder and click **Add**, then click **MVC 5 View Page with Layout (Razor)**.</span></span>
  
![](adding-a-view/_static/image1.png)   
  
<span data-ttu-id="1576b-114">Geben Sie im Dialogfeld **Name für Element angeben** den Wert *Index*ein, und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="1576b-114">In the **Specify Name for Item** dialog box, enter *Index*, and then click **OK**.</span></span>  
  
![](adding-a-view/_static/image2.png)  
  
<span data-ttu-id="1576b-115">Akzeptieren Sie im Dialogfeld **Layoutseite auswählen** die Standard **\_Layout. cshtml** , und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="1576b-115">In the **Select a Layout Page** dialog, accept the default **\_Layout.cshtml** and click **OK**.</span></span>  
  
![](adding-a-view/_static/image3.png)  
  
<span data-ttu-id="1576b-116">Im obigen Dialogfeld wird im linken Bereich der Ordner " *views\shared* " ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="1576b-116">In the dialog above, the *Views\Shared* folder is selected in the left pane.</span></span> <span data-ttu-id="1576b-117">Wenn Sie über eine benutzerdefinierte Layoutdatei in einem anderen Ordner verfügen, können Sie Sie auswählen.</span><span class="sxs-lookup"><span data-stu-id="1576b-117">If you had a custom layout file in another folder, you could select it.</span></span> <span data-ttu-id="1576b-118">Die Layoutdatei wird später in diesem Tutorial erläutert.</span><span class="sxs-lookup"><span data-stu-id="1576b-118">We'll talk about the layout file later in the tutorial</span></span>

<span data-ttu-id="1576b-119">Die *mvcmuvie\views\helloworld\index.cshtml* -Datei wird erstellt.</span><span class="sxs-lookup"><span data-stu-id="1576b-119">The *MvcMovie\Views\HelloWorld\Index.cshtml* file is created.</span></span>

![](adding-a-view/_static/image4.png)

<span data-ttu-id="1576b-120">Fügen Sie das folgende hervorgehobene Markup hinzu.</span><span class="sxs-lookup"><span data-stu-id="1576b-120">Add the following highlighted markup.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample2.cshtml?highlight=4-11)]

<span data-ttu-id="1576b-121">Klicken Sie mit der rechten Maustaste auf die Datei *Index. cshtml* , und wählen Sie **in Browser anzeigen**.</span><span class="sxs-lookup"><span data-stu-id="1576b-121">Right click the *Index.cshtml* file and select **View in Browser**.</span></span>

![PI](adding-a-view/_static/image5.png)

<span data-ttu-id="1576b-123">Sie können auch mit der rechten Maustaste auf die Datei *Index. cshtml* klicken und **in Seitenprüfung** die Option Ansicht auswählen.</span><span class="sxs-lookup"><span data-stu-id="1576b-123">You can also right click the *Index.cshtml* file and select **View in Page Inspector.**</span></span> <span data-ttu-id="1576b-124">Weitere Informationen finden Sie im [Seitenprüfung-Tutorial](../../views/using-page-inspector-in-aspnet-mvc.md) .</span><span class="sxs-lookup"><span data-stu-id="1576b-124">See the [Page Inspector tutorial](../../views/using-page-inspector-in-aspnet-mvc.md) for more information.</span></span>

<span data-ttu-id="1576b-125">Alternativ können Sie die Anwendung ausführen und zum `HelloWorld` Controller (`http://localhost:xxxx/HelloWorld`) navigieren.</span><span class="sxs-lookup"><span data-stu-id="1576b-125">Alternatively, run the application and browse to the `HelloWorld` controller (`http://localhost:xxxx/HelloWorld`).</span></span> <span data-ttu-id="1576b-126">Die `Index`-Methode in Ihrem Controller hat nicht viel funktioniert. Es wurde einfach die-Anweisung `return View()`ausgeführt, mit der angegeben wurde, dass die Methode eine Ansichts Vorlagen Datei verwenden soll, um eine Antwort an den Browser auszugeben.</span><span class="sxs-lookup"><span data-stu-id="1576b-126">The `Index` method in your controller didn't do much work; it simply ran the statement `return View()`, which specified that the method should use a view template file to render a response to the browser.</span></span> <span data-ttu-id="1576b-127">Da Sie den Namen der zu verwendenden Ansichts Vorlagen Datei nicht explizit angegeben haben, verwendet ASP.NET MVC standardmäßig die Ansichts Datei " *Index. cshtml* " im Ordner " *\views\helloworld* ".</span><span class="sxs-lookup"><span data-stu-id="1576b-127">Because you didn't explicitly specify the name of the view template file to use, ASP.NET MVC defaulted to using the *Index.cshtml* view file in the *\Views\HelloWorld* folder.</span></span> <span data-ttu-id="1576b-128">Die folgende Abbildung zeigt die Zeichenfolge &quot;Hello aus unserer Ansichts Vorlage.&quot; in der-Sicht hart codiert.</span><span class="sxs-lookup"><span data-stu-id="1576b-128">The image below shows the string &quot;Hello from our View Template!&quot; hard-coded in the view.</span></span>

![](adding-a-view/_static/image6.png)

<span data-ttu-id="1576b-129">Sieht ziemlich gut aus.</span><span class="sxs-lookup"><span data-stu-id="1576b-129">Looks pretty good.</span></span> <span data-ttu-id="1576b-130">Beachten Sie jedoch, dass in der Titelleiste des Browsers "Index-My ASP.NET Application" und der große Link oben auf der Seite "Anwendungsname" angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-130">However, notice that the browser's title bar shows "Index - My ASP.NET Application," and the big link at the top of the page says "Application name."</span></span> <span data-ttu-id="1576b-131">Je nachdem, wie klein Sie das Browserfenster machen, müssen Sie möglicherweise auf die drei Balken in der oberen rechten Ecke klicken, um die Links zu den Links **Start** **, Info,** **Contact**, **Register** und **Log in** anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="1576b-131">Depending on how small you make your browser window, you might need to click the three bars in the upper right to see the to the **Home**, **About**, **Contact**, **Register** and **Log in** links.</span></span>

## <a name="changing-views-and-layout-pages"></a><span data-ttu-id="1576b-132">Ändern von Ansichten und Layoutseiten</span><span class="sxs-lookup"><span data-stu-id="1576b-132">Changing Views and Layout Pages</span></span>

<span data-ttu-id="1576b-133">Zuerst möchten Sie den &quot;Anwendungsnamen&quot; Links oben auf der Seite ändern.</span><span class="sxs-lookup"><span data-stu-id="1576b-133">First, you want to change the &quot;Application name&quot; link at the top of the page.</span></span> <span data-ttu-id="1576b-134">Dieser Text ist für jede Seite üblich.</span><span class="sxs-lookup"><span data-stu-id="1576b-134">That text is common to every page.</span></span> <span data-ttu-id="1576b-135">Es wird tatsächlich nur an einer Stelle im Projekt implementiert, auch wenn es auf jeder Seite in der Anwendung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-135">It's actually implemented in only one place in the project, even though it appears on every page in the application.</span></span> <span data-ttu-id="1576b-136">Wechseln Sie in **Projektmappen-Explorer** zum Ordner */views/Shared* , und öffnen Sie die Datei *\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="1576b-136">Go to the */Views/Shared* folder in **Solution Explorer** and open the *\_Layout.cshtml* file.</span></span> <span data-ttu-id="1576b-137">Diese Datei wird als *Layoutseite* bezeichnet und befindet sich im freigegebenen Ordner, der von allen anderen Seiten verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-137">This file is called a *layout page* and it's in the shared folder that all other pages use.</span></span>

![_LayoutCshtml](adding-a-view/_static/image7.png)

<span data-ttu-id="1576b-139">Mit Layoutvorlagen können Sie das HTML-Container Layout Ihrer Website an einem Ort angeben und dann auf mehrere Seiten auf Ihrer Website anwenden.</span><span class="sxs-lookup"><span data-stu-id="1576b-139">Layout templates allow you to specify the HTML container layout of your site in one place and then apply it across multiple pages in your site.</span></span> <span data-ttu-id="1576b-140">Suchen Sie die Zeile `@RenderBody()`.</span><span class="sxs-lookup"><span data-stu-id="1576b-140">Find the `@RenderBody()` line.</span></span> <span data-ttu-id="1576b-141">`RenderBody` ist ein Platzhalter, bei dem alle ansichtsspezifischen Seiten, die Sie erstellen, von der Layoutseite &quot;umschlossen&quot; angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="1576b-141">`RenderBody` is a placeholder where all the view-specific pages you create show up, &quot;wrapped&quot; in the layout page.</span></span> <span data-ttu-id="1576b-142">Wenn Sie z. b. den **Link info** auswählen, wird die Ansicht *views\home\about.cshtml* innerhalb der `RenderBody`-Methode gerendert.</span><span class="sxs-lookup"><span data-stu-id="1576b-142">For example, if you select the **About** link, the *Views\Home\About.cshtml* view is rendered inside the `RenderBody` method.</span></span>

<span data-ttu-id="1576b-143">Ändern Sie den Inhalt des Elements „title“.</span><span class="sxs-lookup"><span data-stu-id="1576b-143">Change the contents of the title element.</span></span> <span data-ttu-id="1576b-144">Ändern Sie den [Aktionslink](https://msdn.microsoft.com/library/dd504972(v=vs.108).aspx) in der Layoutvorlage von &quot;Anwendungsname&quot; in &quot;MVC Movie&quot; und den Controller von `Home` zu `Movies`.</span><span class="sxs-lookup"><span data-stu-id="1576b-144">Change the [ActionLink](https://msdn.microsoft.com/library/dd504972(v=vs.108).aspx) in the layout template from &quot;Application name&quot; to &quot;MVC Movie&quot; and the controller from `Home` to `Movies`.</span></span> <span data-ttu-id="1576b-145">Die komplette Layoutdatei ist unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="1576b-145">The complete layout file is shown below:</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample3.cshtml?highlight=6,20)]

<span data-ttu-id="1576b-146">Führen Sie die Anwendung aus, und beachten Sie, dass Sie jetzt &quot;MVC Movie &quot;heißt.</span><span class="sxs-lookup"><span data-stu-id="1576b-146">Run the application and notice that it now says &quot;MVC Movie &quot;.</span></span> <span data-ttu-id="1576b-147">Klicken Sie auf **den Link info** , und Sie sehen, dass auf dieser Seite auch &quot;MVC Movie&quot;angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-147">Click the **About** link, and you see how that page shows &quot;MVC Movie&quot;, too.</span></span> <span data-ttu-id="1576b-148">Wir konnten die Änderung einmal in der Layoutvorlage vornehmen, sodass alle Seiten auf der Website den neuen Titel widerspiegeln.</span><span class="sxs-lookup"><span data-stu-id="1576b-148">We were able to make the change once in the layout template and have all pages on the site reflect the new title.</span></span>

![](adding-a-view/_static/image8.png)

<span data-ttu-id="1576b-149">Beim ersten Erstellen der Datei " *views\helloworld\index.cshtml* " enthielt Sie den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="1576b-149">When we first created the *Views\HelloWorld\Index.cshtml* file, it contained the following code:</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample4.cshtml)]

<span data-ttu-id="1576b-150">Der obige Razor-Code legt die Layoutseite explizit fest.</span><span class="sxs-lookup"><span data-stu-id="1576b-150">The Razor code above is explicitly setting the layout page.</span></span> <span data-ttu-id="1576b-151">Überprüfen Sie die *Ansichten\\_ViewStart cshtml* -Datei, die genau dasselbe Razor-Markup enthält.</span><span class="sxs-lookup"><span data-stu-id="1576b-151">Examine the *Views\\_ViewStart.cshtml* file, it contains the exact same Razor markup.</span></span> <span data-ttu-id="1576b-152">Die *[Ansichten\\_ViewStart. cshtml](https://weblogs.asp.net/scottgu/archive/2010/10/22/asp-net-mvc-3-layouts.aspx)* -Datei definiert das gemeinsame Layout, das von allen Ansichten verwendet wird. Daher können Sie diesen Code aus der Datei " *views\helloworld\index.cshtml* " auskommentieren oder entfernen.</span><span class="sxs-lookup"><span data-stu-id="1576b-152">The *[Views\\_ViewStart.cshtml](https://weblogs.asp.net/scottgu/archive/2010/10/22/asp-net-mvc-3-layouts.aspx)* file defines the common layout that all views will use, therefore you can comment out or remove that code from the *Views\HelloWorld\Index.cshtml* file.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample5.cshtml?highlight=1-3)]

<span data-ttu-id="1576b-153">Sie können mithilfe der `Layout`-Eigenschaft eine andere Layoutansicht festlegen oder diese auf `null` festlegen, damit keine Layoutdatei verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-153">You can use the `Layout` property to set a different layout view, or set it to `null` so no layout file will be used.</span></span>

<span data-ttu-id="1576b-154">Nun ändern wir den Titel der Index Sicht.</span><span class="sxs-lookup"><span data-stu-id="1576b-154">Now, let's change the title of the Index view.</span></span>

<span data-ttu-id="1576b-155">Öffnen Sie *mvcmuvie\views\helloworld\index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="1576b-155">Open *MvcMovie\Views\HelloWorld\Index.cshtml*.</span></span> <span data-ttu-id="1576b-156">Es gibt zwei Möglichkeiten, eine Änderung vorzunehmen: zuerst den Text, der im Titel des Browsers angezeigt wird, und dann im sekundären Header (das `<h2>`-Element).</span><span class="sxs-lookup"><span data-stu-id="1576b-156">There are two places to make a change: first, the text that appears in the title of the browser, and then in the secondary header (the `<h2>` element).</span></span> <span data-ttu-id="1576b-157">Sie nehmen diese geringfügig anders vor, damit Sie erkennen können, welcher Teil der App mithilfe einer Codebearbeitung geändert wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-157">You'll make them slightly different so you can see which bit of code changes which part of the app.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample6.cshtml?highlight=2,5)]

<span data-ttu-id="1576b-158">Um den HTML-Titel anzugeben, der angezeigt werden soll, legt der obige Code eine `Title` Eigenschaft des `ViewBag` Objekts fest (in der Ansichts Vorlage *Index. cshtml* ).</span><span class="sxs-lookup"><span data-stu-id="1576b-158">To indicate the HTML title to display, the code above sets a `Title` property of the `ViewBag` object (which is in the *Index.cshtml* view template).</span></span> <span data-ttu-id="1576b-159">Beachten Sie, dass die Layoutvorlage ( *views\shared\\_Layout. cshtml* ) diesen Wert im `<title>`-Element als Teil des `<head>` Abschnitts von HTML verwendet, den wir zuvor geändert haben.</span><span class="sxs-lookup"><span data-stu-id="1576b-159">Notice that the layout template ( *Views\Shared\\_Layout.cshtml* ) uses this value in the `<title>` element as part of the `<head>` section of the HTML that we modified previously.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample7.cshtml?highlight=6)]

<span data-ttu-id="1576b-160">Mithilfe dieses `ViewBag` Ansatzes können Sie problemlos andere Parameter zwischen der Ansichts Vorlage und der Layoutdatei übergeben.</span><span class="sxs-lookup"><span data-stu-id="1576b-160">Using this `ViewBag` approach, you can easily pass other parameters between your view template and your layout file.</span></span>

<span data-ttu-id="1576b-161">Führen Sie die Anwendung aus.</span><span class="sxs-lookup"><span data-stu-id="1576b-161">Run the application.</span></span> <span data-ttu-id="1576b-162">Sie sehen, dass sich der Browsertitel, die primäre Überschrift und die sekundären Überschriften geändert haben.</span><span class="sxs-lookup"><span data-stu-id="1576b-162">Notice that the browser title, the primary heading, and the secondary headings have changed.</span></span> <span data-ttu-id="1576b-163">(Wenn die Änderungen nicht im Browser angezeigt werden, zeigen Sie ggf. zwischengespeicherten Inhalt an.</span><span class="sxs-lookup"><span data-stu-id="1576b-163">(If you don't see changes in the browser, you might be viewing cached content.</span></span> <span data-ttu-id="1576b-164">Drücken Sie in Ihrem Browser STRG + F5, um das Laden der Antwort vom Server zu erzwingen.) Der Browser Titel wird mit dem `ViewBag.Title` erstellt, den wir in der Ansichts Vorlage *Index. cshtml* festgelegt haben, und der zusätzlichen &quot;-Movie-App&quot; in der Layoutdatei hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="1576b-164">Press Ctrl+F5 in your browser to force the response from the server to be loaded.) The browser title is created with the `ViewBag.Title` we set in the *Index.cshtml* view template and the additional &quot;- Movie App&quot; added in the layout file.</span></span>

<span data-ttu-id="1576b-165">Beachten Sie auch, wie der Inhalt in der Ansichts Vorlage *Index. cshtml* mit der Ansichts Vorlage *\_Layout. cshtml* zusammengeführt und eine einzelne HTML-Antwort an den Browser gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="1576b-165">Also notice how the content in the *Index.cshtml* view template was merged with the *\_Layout.cshtml* view template and a single HTML response was sent to the browser.</span></span> <span data-ttu-id="1576b-166">Layoutvorlagen erleichtern ungemein das Vornehmen von Änderungen an allen Seiten in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="1576b-166">Layout templates make it really easy to make changes that apply across all of the pages in your application.</span></span>

![](adding-a-view/_static/image9.png)

<span data-ttu-id="1576b-167">Unser wenig &quot;Daten&quot; (in diesem Fall die &quot;Hello aus unserer Ansichts Vorlage!&quot; Nachricht) ist jedoch hart codiert.</span><span class="sxs-lookup"><span data-stu-id="1576b-167">Our little bit of &quot;data&quot; (in this case the &quot;Hello from our View Template!&quot; message) is hard-coded, though.</span></span> <span data-ttu-id="1576b-168">Die MVC-Anwendung verfügt über eine &quot;V-&quot; (Ansicht), und Sie haben eine &quot;C-&quot; (Controller), aber noch keine &quot;M&quot; (Model).</span><span class="sxs-lookup"><span data-stu-id="1576b-168">The MVC application has a &quot;V&quot; (view) and you've got a &quot;C&quot; (controller), but no &quot;M&quot; (model) yet.</span></span> <span data-ttu-id="1576b-169">In Kürze wird erläutert, wie Sie eine Datenbank erstellen und Modelldaten daraus abrufen.</span><span class="sxs-lookup"><span data-stu-id="1576b-169">Shortly, we'll walk through how to create a database and retrieve model data from it.</span></span>

## <a name="passing-data-from-the-controller-to-the-view"></a><span data-ttu-id="1576b-170">Übergeben von Daten vom Controller an die Ansicht</span><span class="sxs-lookup"><span data-stu-id="1576b-170">Passing Data from the Controller to the View</span></span>

<span data-ttu-id="1576b-171">Bevor wir zu einer Datenbank gehen und über Modelle sprechen, sollten wir uns jedoch zunächst mit der Übergabe von Informationen vom Controller an eine Ansicht beschäftigen.</span><span class="sxs-lookup"><span data-stu-id="1576b-171">Before we go to a database and talk about models, though, let's first talk about passing information from the controller to a view.</span></span> <span data-ttu-id="1576b-172">Controller Klassen werden als Antwort auf eine eingehende URL-Anforderung aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="1576b-172">Controller classes are invoked in response to an incoming URL request.</span></span> <span data-ttu-id="1576b-173">Eine Controller Klasse ist der Ort, an dem Sie den Code schreiben, der die eingehenden Browser Anforderungen verarbeitet, Daten aus einer Datenbank abruft und letztendlich entscheidet, welche Art von Antwort an den Browser zurückgesendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="1576b-173">A controller class is where you write the code that handles the incoming browser requests, retrieves data from a database, and ultimately decides what type of response to send back to the browser.</span></span> <span data-ttu-id="1576b-174">Ansichts Vorlagen können dann von einem Controller verwendet werden, um eine HTML-Antwort an den Browser zu generieren und zu formatieren.</span><span class="sxs-lookup"><span data-stu-id="1576b-174">View templates can then be used from a controller to generate and format an HTML response to the browser.</span></span>

<span data-ttu-id="1576b-175">Controller sind dafür verantwortlich, welche Daten oder Objekte erforderlich sind, damit eine Ansichts Vorlage eine Antwort an den Browser Rendering.</span><span class="sxs-lookup"><span data-stu-id="1576b-175">Controllers are responsible for providing whatever data or objects are required in order for a view template to render a response to the browser.</span></span> <span data-ttu-id="1576b-176">Eine bewährte Vorgehens **Weise: eine Ansichts Vorlage sollte niemals Geschäftslogik durchführen oder direkt mit einer Datenbank interagieren**.</span><span class="sxs-lookup"><span data-stu-id="1576b-176">A best practice: **A view template should never perform business logic or interact with a database directly**.</span></span> <span data-ttu-id="1576b-177">Stattdessen sollte eine Ansichts Vorlage nur mit den Daten arbeiten, die für den Controller bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="1576b-177">Instead, a view template should work only with the data that's provided to it by the controller.</span></span> <span data-ttu-id="1576b-178">Wenn Sie diese &quot;Trennung von Anliegen beibehalten&quot;, können Sie Ihren Code bereinigen, testen und besser verwalten.</span><span class="sxs-lookup"><span data-stu-id="1576b-178">Maintaining this &quot;separation of concerns&quot; helps keep your code clean, testable and more maintainable.</span></span>

<span data-ttu-id="1576b-179">Derzeit nimmt die `Welcome` Aktionsmethode in der `HelloWorldController`-Klasse eine `name` und einen `numTimes` Parameter an und gibt die Werte dann direkt an den Browser aus.</span><span class="sxs-lookup"><span data-stu-id="1576b-179">Currently, the `Welcome` action method in the `HelloWorldController` class takes a `name` and a `numTimes` parameter and then outputs the values directly to the browser.</span></span> <span data-ttu-id="1576b-180">Anstatt den Controller diese Antwort als Zeichenfolge zu erzeugen, ändern wir den Controller so, dass stattdessen eine Ansichts Vorlage verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-180">Rather than have the controller render this response as a string, let's change the controller to use a view template instead.</span></span> <span data-ttu-id="1576b-181">Die Ansichtsvorlage generiert eine dynamische Antwort. Das bedeutet, dass Sie die entsprechenden Datenelemente vom Controller an die Ansicht übergeben müssen, um die Antwort zu generieren.</span><span class="sxs-lookup"><span data-stu-id="1576b-181">The view template will generate a dynamic response, which means that you need to pass appropriate bits of data from the controller to the view in order to generate the response.</span></span> <span data-ttu-id="1576b-182">Hierzu können Sie den Controller die dynamischen Daten (Parameter), die die Ansichts Vorlage benötigt, in einem `ViewBag` Objekt ablegen, auf das die Ansichts Vorlage zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="1576b-182">You can do this by having the controller put the dynamic data (parameters) that the view template needs in a `ViewBag` object that the view template can then access.</span></span>

<span data-ttu-id="1576b-183">Kehren Sie zur Datei *HelloWorldController.cs* zurück, und ändern Sie die `Welcome`-Methode, um dem `ViewBag` Objekt eine `Message` und `NumTimes` Wert hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="1576b-183">Return to the *HelloWorldController.cs* file and change the `Welcome` method to add a `Message` and `NumTimes` value to the `ViewBag` object.</span></span> <span data-ttu-id="1576b-184">`ViewBag` ist ein dynamisches Objekt, d. h., Sie können den gewünschten Wert für die Anwendung einfügen. Das `ViewBag`-Objekt hat keine definierten Eigenschaften, bis Sie etwas darin ablegen.</span><span class="sxs-lookup"><span data-stu-id="1576b-184">`ViewBag` is a dynamic object, which means you can put whatever you want in to it; the `ViewBag` object has no defined properties until you put something inside it.</span></span> <span data-ttu-id="1576b-185">Das [ASP.NET MVC-Modell Bindungssystem](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx) ordnet automatisch die benannten Parameter (`name` und `numTimes`) aus der Abfrage Zeichenfolge in der Adressleiste den Parametern in der-Methode zu.</span><span class="sxs-lookup"><span data-stu-id="1576b-185">The [ASP.NET MVC model binding system](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx) automatically maps the named parameters (`name` and `numTimes`) from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="1576b-186">Die vollständige Datei *HelloWorldController.cs* sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="1576b-186">The complete *HelloWorldController.cs* file looks like this:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample8.cs)]

<span data-ttu-id="1576b-187">Nun enthält das `ViewBag` Objektdaten, die automatisch an die Ansicht übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="1576b-187">Now the `ViewBag` object contains data that will be passed to the view automatically.</span></span> <span data-ttu-id="1576b-188">Als nächstes benötigen Sie eine Willkommens Ansichts Vorlage.</span><span class="sxs-lookup"><span data-stu-id="1576b-188">Next, you need a Welcome view template!</span></span> <span data-ttu-id="1576b-189">Wählen Sie im Menü **Erstellen** die Option Projekt Mappe **Erstellen** aus (oder drücken Sie STRG + UMSCHALT + B), um sicherzustellen, dass das Projekt kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="1576b-189">In the **Build** menu, select **Build Solution** (or Ctrl+Shift+B) to make sure the project is compiled.</span></span> <span data-ttu-id="1576b-190">Klicken Sie mit der rechten Maustaste auf den Ordner *views\helloworld* , klicken Sie auf **Hinzufügen**, und klicken Sie dann auf **MVC 5-Ansichts Seite mit Layout**</span><span class="sxs-lookup"><span data-stu-id="1576b-190">Right click the *Views\HelloWorld* folder and click **Add**, then click **MVC 5 View Page with Layout (Razor)**.</span></span>
  
![](adding-a-view/_static/image10.png)   
  
<span data-ttu-id="1576b-191">Geben Sie im Dialogfeld **Name für Element angeben die Bezeichnung** *Willkommen*ein, und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="1576b-191">In the **Specify Name for Item** dialog box, enter *Welcome*, and then click **OK**.</span></span>   
  
<span data-ttu-id="1576b-192">Akzeptieren Sie im Dialogfeld **Layoutseite auswählen** die Standard **\_Layout. cshtml** , und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="1576b-192">In the **Select a Layout Page** dialog, accept the default **\_Layout.cshtml** and click **OK**.</span></span>  
  
![](adding-a-view/_static/image11.png)   

<span data-ttu-id="1576b-193">Die *mvcmuvie\views\helloworld\welcome.cshtml* -Datei wird erstellt.</span><span class="sxs-lookup"><span data-stu-id="1576b-193">The *MvcMovie\Views\HelloWorld\Welcome.cshtml* file is created.</span></span>

<span data-ttu-id="1576b-194">Ersetzen Sie das Markup in der Datei " *Welcome. cshtml* ".</span><span class="sxs-lookup"><span data-stu-id="1576b-194">Replace the markup in the *Welcome.cshtml* file.</span></span> <span data-ttu-id="1576b-195">Sie erstellen eine Schleife, die &quot;Hello&quot; so oft wie der Benutzer sagt, dass dies der Fall sein sollte.</span><span class="sxs-lookup"><span data-stu-id="1576b-195">You'll create a loop that says &quot;Hello&quot; as many times as the user says it should.</span></span> <span data-ttu-id="1576b-196">Die vollständige Datei " *Welcome. cshtml* " ist unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="1576b-196">The complete *Welcome.cshtml* file is shown below.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample9.cshtml)]

<span data-ttu-id="1576b-197">Führen Sie die Anwendung aus, und navigieren Sie zur folgenden URL:</span><span class="sxs-lookup"><span data-stu-id="1576b-197">Run the application and browse to the following URL:</span></span>

`http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4`

<span data-ttu-id="1576b-198">Nun werden die Daten aus der URL entnommen und mithilfe des [Modell Binders](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx)an den Controller übermittelt.</span><span class="sxs-lookup"><span data-stu-id="1576b-198">Now data is taken from the URL and passed to the controller using the [model binder](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx).</span></span> <span data-ttu-id="1576b-199">Der Controller packt die Daten in ein `ViewBag` Objekt und übergibt dieses Objekt an die Ansicht.</span><span class="sxs-lookup"><span data-stu-id="1576b-199">The controller packages the data into a `ViewBag` object and passes that object to the view.</span></span> <span data-ttu-id="1576b-200">Die Ansicht zeigt dann die Daten für den Benutzer als HTML an.</span><span class="sxs-lookup"><span data-stu-id="1576b-200">The view then displays the data as HTML to the user.</span></span>

![](adding-a-view/_static/image12.png)

<span data-ttu-id="1576b-201">Im obigen Beispiel haben wir ein `ViewBag` Objekt verwendet, um Daten vom Controller an eine Ansicht zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="1576b-201">In the sample above, we used a `ViewBag` object to pass data from the controller to a view.</span></span> <span data-ttu-id="1576b-202">Später in diesem Tutorial verwenden wir eine Ansichtsmodell, um Daten von einem Controller an eine Ansicht zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="1576b-202">Later in the tutorial, we will use a view model to pass data from a controller to a view.</span></span> <span data-ttu-id="1576b-203">Der Ansatz zum Anzeigen von Modellen für das Übergeben von Daten wird im Allgemeinen vor dem Ansichts Behälter bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="1576b-203">The view model approach to passing data is generally much preferred over the view bag approach.</span></span> <span data-ttu-id="1576b-204">Weitere Informationen finden Sie im Blogeintrag [Dynamic V-Ansichten mit starker Typisierung](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) .</span><span class="sxs-lookup"><span data-stu-id="1576b-204">See the blog entry [Dynamic V Strongly Typed Views](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) for more information.</span></span> 

<span data-ttu-id="1576b-205">Nun, das war eine Art &quot;M&quot; für das Modell, aber nicht die Daten Bank Art.</span><span class="sxs-lookup"><span data-stu-id="1576b-205">Well, that was a kind of an &quot;M&quot; for model, but not the database kind.</span></span> <span data-ttu-id="1576b-206">Lassen Sie uns das Gelernte umsetzen und eine Filmdatenbank erstellen.</span><span class="sxs-lookup"><span data-stu-id="1576b-206">Let's take what we've learned and create a database of movies.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1576b-207">[Zurück](adding-a-controller.md)
> [Weiter](adding-a-model.md)</span><span class="sxs-lookup"><span data-stu-id="1576b-207">[Previous](adding-a-controller.md)
[Next](adding-a-model.md)</span></span>
