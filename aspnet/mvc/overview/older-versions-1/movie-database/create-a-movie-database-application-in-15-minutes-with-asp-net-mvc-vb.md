---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
title: Erstellen einer Film Datenbankanwendung in 15 Minuten mit ASP.NET MVC (VB) | Microsoft-Dokumentation
author: StephenWalther
description: Stephen Walther erstellt eine gesamte datenbankgesteuerte ASP.NET MVC-Anwendung von Anfang bis Ende. Dieses Tutorial ist eine gute Einführung für Personen, die neu sind...
ms.author: riande
ms.date: 01/27/2009
ms.assetid: e4ba9786-734c-4eb3-91bb-089793325d0d
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
msc.type: authoredcontent
ms.openlocfilehash: 0ce8161d29a8ab4005e2b20462b08c9e10ee815a
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74595733"
---
# <a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-vb"></a><span data-ttu-id="64b91-104">Erstellen einer Filmdatenbankanwendung mit ASP.NET MVC in 15 Minuten (VB)</span><span class="sxs-lookup"><span data-stu-id="64b91-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (VB)</span></span>

<span data-ttu-id="64b91-105">von [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="64b91-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="64b91-106">Code herunterladen</span><span class="sxs-lookup"><span data-stu-id="64b91-106">Download Code</span></span>](https://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_VB.zip)

> <span data-ttu-id="64b91-107">Stephen Walther erstellt eine gesamte datenbankgesteuerte ASP.NET MVC-Anwendung von Anfang bis Ende.</span><span class="sxs-lookup"><span data-stu-id="64b91-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="64b91-108">Dieses Tutorial ist eine gute Einführung für Personen, die mit dem ASP.NET MVC-Framework noch nicht vertraut sind und einen Eindruck von der Vorgehensweise zum Entwickeln einer ASP.NET MVC-Anwendung erhalten möchten.</span><span class="sxs-lookup"><span data-stu-id="64b91-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>

<span data-ttu-id="64b91-109">Der Zweck dieses Tutorials besteht darin, Ihnen einen Eindruck davon zu vermitteln, wie Sie eine ASP.NET MVC-Anwendung erstellen können.</span><span class="sxs-lookup"><span data-stu-id="64b91-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="64b91-110">In diesem Tutorial erstelle ich eine ganze ASP.NET MVC-Anwendung von Anfang bis Ende.</span><span class="sxs-lookup"><span data-stu-id="64b91-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="64b91-111">Ich zeige Ihnen, wie Sie eine einfache datenbankgesteuerte Anwendung erstellen, die veranschaulicht, wie Sie Datenbankeinträge auflisten, erstellen und bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="64b91-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="64b91-112">Um den Prozess der Anwendungs Bildung zu vereinfachen, nutzen wir die Gerüstbau Features von Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="64b91-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="64b91-113">Wir lassen zu, dass Visual Studio den anfänglichen Code und Inhalt für unsere Controller, Modelle und Ansichten generiert.</span><span class="sxs-lookup"><span data-stu-id="64b91-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="64b91-114">Wenn Sie mit Active Server Seiten oder ASP.net gearbeitet haben, sollten Sie ASP.NET MVC sehr vertraut finden.</span><span class="sxs-lookup"><span data-stu-id="64b91-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="64b91-115">ASP.NET MVC-Ansichten sind den Seiten in einer Active Server Pages-Anwendung sehr ähnlich.</span><span class="sxs-lookup"><span data-stu-id="64b91-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="64b91-116">Ebenso wie eine herkömmliche ASP.net-Web Forms Anwendung bietet ASP.NET MVC Ihnen vollständigen Zugriff auf die umfangreichen Sprachen und Klassen, die von .NET Framework bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="64b91-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="64b91-117">Meine Hoffnung ist, dass Sie in diesem Tutorial einen Eindruck davon erhalten, wie sich das Entwickeln einer ASP.NET MVC-Anwendung ähnlich und unterscheidet, als das Entwickeln einer Active Server Seiten oder einer ASP.net-Web Forms Anwendung.</span><span class="sxs-lookup"><span data-stu-id="64b91-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="64b91-118">Übersicht über die Movie Database-Anwendung</span><span class="sxs-lookup"><span data-stu-id="64b91-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="64b91-119">Da unser Ziel darin besteht, die Dinge einfach zu halten, erstellen wir eine sehr einfache Film Datenbankanwendung.</span><span class="sxs-lookup"><span data-stu-id="64b91-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="64b91-120">Mit unserer Simple Movie Database-Anwendung können drei Dinge ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="64b91-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="64b91-121">Auflisten eines Satzes von Movie Database-Datensätzen</span><span class="sxs-lookup"><span data-stu-id="64b91-121">List a set of movie database records</span></span>
2. <span data-ttu-id="64b91-122">Neuen Film Datenbankdaten Satz erstellen</span><span class="sxs-lookup"><span data-stu-id="64b91-122">Create a new movie database record</span></span>
3. <span data-ttu-id="64b91-123">Bearbeiten eines vorhandenen Movie Database-Datensatzes</span><span class="sxs-lookup"><span data-stu-id="64b91-123">Edit an existing movie database record</span></span>

<span data-ttu-id="64b91-124">Da wir die Dinge auf einfache Weise beibehalten möchten, profitieren wir von der minimalen Anzahl von Features des ASP.NET MVC-Frameworks, das zum Erstellen der Anwendung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="64b91-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="64b91-125">Beispielsweise wird die Test gesteuerte Entwicklung nicht genutzt.</span><span class="sxs-lookup"><span data-stu-id="64b91-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="64b91-126">Zum Erstellen der Anwendung müssen Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="64b91-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="64b91-127">Erstellen des ASP.NET MVC-Webanwendungs Projekts</span><span class="sxs-lookup"><span data-stu-id="64b91-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="64b91-128">Erstellen der Datenbank</span><span class="sxs-lookup"><span data-stu-id="64b91-128">Create the database</span></span>
3. <span data-ttu-id="64b91-129">Erstellen des Datenbankmodells</span><span class="sxs-lookup"><span data-stu-id="64b91-129">Create the database model</span></span>
4. <span data-ttu-id="64b91-130">Erstellen des ASP.NET-MVC-Controllers</span><span class="sxs-lookup"><span data-stu-id="64b91-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="64b91-131">Erstellen der ASP.NET-MVC-Ansichten</span><span class="sxs-lookup"><span data-stu-id="64b91-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="64b91-132">Vorbereitende Maßnahmen</span><span class="sxs-lookup"><span data-stu-id="64b91-132">Preliminaries</span></span>

<span data-ttu-id="64b91-133">Sie benötigen entweder Visual Studio 2008 oder Visual Web Developer 2008 Express, um eine ASP.NET MVC-Anwendung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="64b91-134">Außerdem müssen Sie das ASP.NET-MVC-Framework herunterladen.</span><span class="sxs-lookup"><span data-stu-id="64b91-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="64b91-135">Wenn Sie nicht über Visual Studio 2008 verfügen, können Sie eine 90-Tage-Testversion von Visual Studio 2008 von dieser Website herunterladen:</span><span class="sxs-lookup"><span data-stu-id="64b91-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[https://msdn.microsoft.com/vs2008/products/cc268305.aspx](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

<span data-ttu-id="64b91-136">Alternativ können Sie ASP.NET MVC-Anwendungen mit Visual Web Developer Express 2008 erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-136">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="64b91-137">Wenn Sie sich für die Verwendung von Visual Web Developer Express entscheiden, muss Service Pack 1 installiert sein.</span><span class="sxs-lookup"><span data-stu-id="64b91-137">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="64b91-138">Sie können Visual Web Developer 2008 Express mit Service Pack 1 von dieser Website herunterladen:</span><span class="sxs-lookup"><span data-stu-id="64b91-138">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="64b91-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;d isplaylang = en</span><span class="sxs-lookup"><span data-stu-id="64b91-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="64b91-140">Nachdem Sie entweder Visual Studio 2008 oder Visual Web Developer 2008 installiert haben, müssen Sie das ASP.NET-MVC-Framework installieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-140">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="64b91-141">Sie können das ASP.NET MVC-Framework von der folgenden Website herunterladen:</span><span class="sxs-lookup"><span data-stu-id="64b91-141">You can download the ASP.NET MVC framework from the following website:</span></span>

[https://www.asp.net/mvc/](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="64b91-142">Anstatt das ASP.NET Framework und das ASP.NET MVC-Framework einzeln herunterzuladen, können Sie den Webplattform-Installer nutzen.</span><span class="sxs-lookup"><span data-stu-id="64b91-142">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="64b91-143">Der Webplattform-Installer ist eine Anwendung, mit der Sie die installierten Anwendungen auf einfache Weise verwalten können:</span><span class="sxs-lookup"><span data-stu-id="64b91-143">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [https://www.microsoft.com/web/gallery/Install.aspx](https://www.microsoft.com/web/gallery/Install.aspx)

## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="64b91-144">Erstellen eines ASP.NET-MVC-Webanwendungs Projekts</span><span class="sxs-lookup"><span data-stu-id="64b91-144">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="64b91-145">Erstellen Sie zunächst ein neues ASP.NET MVC-Webanwendungs Projekt in Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="64b91-145">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="64b91-146">Wählen Sie die Menü Options **Datei, neues Projekt aus,** und das Dialogfeld Neues Projekt in Abbildung 1 wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="64b91-146">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="64b91-147">Wählen Sie Visual Basic als Programmiersprache aus, und wählen Sie die Projektvorlage ASP.NET MVC-Webanwendung aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-147">Select Visual Basic as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="64b91-148">Benennen Sie Ihr Projekt mit dem Namen "", und klicken Sie auf die Schaltfläche OK.</span><span class="sxs-lookup"><span data-stu-id="64b91-148">Give your project the name MovieApp and click the OK button.</span></span>

<span data-ttu-id="64b91-149">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-149">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span></span>

<span data-ttu-id="64b91-150">**Abbildung 01**: das Dialogfeld "Neues Projekt" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-150">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span></span>

<span data-ttu-id="64b91-151">Stellen Sie sicher, dass Sie in der Dropdown Liste am oberen Rand des Dialog Felds "Neues Projekt" die Option "3,5" .NET Framework auswählen oder die Projektvorlage ASP.NET MVC-Webanwendung nicht angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="64b91-151">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>

<span data-ttu-id="64b91-152">Wenn Sie ein neues MVC-Webanwendungs Projekt erstellen, werden Sie von Visual Studio aufgefordert, ein separates Komponenten Testprojekt zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-152">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="64b91-153">Das Dialogfeld in Abbildung 2 wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="64b91-153">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="64b91-154">Da in diesem Tutorial aufgrund von Zeiteinschränkungen keine Tests erstellt werden (und, ja, wir sollten uns etwas schuldig machen), wählen Sie die Option **Nein** aus, und klicken Sie auf die Schaltfläche **OK** .</span><span class="sxs-lookup"><span data-stu-id="64b91-154">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="64b91-155">Visual Web Developer unterstützt keine Testprojekte.</span><span class="sxs-lookup"><span data-stu-id="64b91-155">Visual Web Developer does not support test projects.</span></span>

<span data-ttu-id="64b91-156">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-156">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span></span>

<span data-ttu-id="64b91-157">**Abbildung 02**: das Dialogfeld zum Erstellen eines Komponenten Test Projekts ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-157">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span></span>

<span data-ttu-id="64b91-158">Eine ASP.NET MVC-Anwendung verfügt über einen Standardsatz von Ordnern: einen Ordner "Models", "Views" und "Controllers".</span><span class="sxs-lookup"><span data-stu-id="64b91-158">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="64b91-159">Sie können diesen Standardsatz von Ordnern im Projektmappen-Explorer Fenster sehen.</span><span class="sxs-lookup"><span data-stu-id="64b91-159">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="64b91-160">Wir müssen jedem der Ordner "Models", "Views" und "Controllers" Dateien hinzufügen, um die Film Datenbankanwendung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-160">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="64b91-161">Wenn Sie eine neue MVC-Anwendung mit Visual Studio erstellen, erhalten Sie eine Beispielanwendung.</span><span class="sxs-lookup"><span data-stu-id="64b91-161">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="64b91-162">Da wir von Grund auf neu beginnen möchten, müssen wir den Inhalt für diese Beispielanwendung löschen.</span><span class="sxs-lookup"><span data-stu-id="64b91-162">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="64b91-163">Sie müssen die folgende Datei und den folgenden Ordner löschen:</span><span class="sxs-lookup"><span data-stu-id="64b91-163">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="64b91-164">Controllers\homecontroller.vb</span><span class="sxs-lookup"><span data-stu-id="64b91-164">Controllers\HomeController.vb</span></span>
- <span data-ttu-id="64b91-165">Views\Home</span><span class="sxs-lookup"><span data-stu-id="64b91-165">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="64b91-166">Erstellen der Datenbank</span><span class="sxs-lookup"><span data-stu-id="64b91-166">Creating the Database</span></span>

<span data-ttu-id="64b91-167">Wir müssen eine Datenbank erstellen, die unsere Movie Database-Datensätze enthält.</span><span class="sxs-lookup"><span data-stu-id="64b91-167">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="64b91-168">Glücklicherweise enthält Visual Studio eine kostenlose Datenbank mit dem Namen SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="64b91-168">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="64b91-169">Führen Sie diese Schritte aus, um die Datenbank zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="64b91-169">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="64b91-170">Klicken Sie mit der rechten Maustaste auf den Ordner App\_Daten im Fenster Projektmappen-Explorer, und wählen Sie die Menüoption **hinzufügen, neues Element**aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-170">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="64b91-171">Wählen Sie die Kategorie **Daten** aus, und wählen Sie die Vorlage **SQL Server Datenbanken** aus (siehe Abbildung 3).</span><span class="sxs-lookup"><span data-stu-id="64b91-171">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="64b91-172">Nennen Sie die neue Datenbank " *moviesdb. mdf* ", und klicken Sie auf die Schaltfläche **Hinzufügen**</span><span class="sxs-lookup"><span data-stu-id="64b91-172">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="64b91-173">Nachdem Sie die Datenbank erstellt haben, können Sie eine Verbindung mit der Datenbank herstellen, indem Sie auf die Datei "moviesdb. mdf" doppelklicken, die sich im Ordner App\_Data befindet.</span><span class="sxs-lookup"><span data-stu-id="64b91-173">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="64b91-174">Wenn Sie auf die Datei "moviesdb. mdf" doppelklicken, wird das Server-Explorer Fenster geöffnet.</span><span class="sxs-lookup"><span data-stu-id="64b91-174">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="64b91-175">Das Fenster Server-Explorer wird im Fall von Visual Web Developer als Datenbank-Explorer Fenster bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="64b91-175">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>

<span data-ttu-id="64b91-176">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-176">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span></span>

<span data-ttu-id="64b91-177">**Abbildung 03**: Erstellen einer Microsoft SQL Server Datenbank ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-177">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span></span>

<span data-ttu-id="64b91-178">Als nächstes müssen wir eine neue Datenbanktabelle erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-178">Next, we need to create a new database table.</span></span> <span data-ttu-id="64b91-179">Klicken Sie im Fenster "Server-Explorer" mit der rechten Maustaste auf den Ordner Tabellen, und wählen Sie die Menüoption **neue Tabelle hinzufügen**aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-179">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="64b91-180">Durch Auswahl dieser Menüoption wird der Datenbanktabellen-Designer geöffnet.</span><span class="sxs-lookup"><span data-stu-id="64b91-180">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="64b91-181">Erstellen Sie die folgenden Daten Bank Spalten:</span><span class="sxs-lookup"><span data-stu-id="64b91-181">Create the following database columns:</span></span>

<a id="0.2_table01"></a>

| <span data-ttu-id="64b91-182">**Spalten Name**</span><span class="sxs-lookup"><span data-stu-id="64b91-182">**Column Name**</span></span> | <span data-ttu-id="64b91-183">**Datentyp**</span><span class="sxs-lookup"><span data-stu-id="64b91-183">**Data Type**</span></span> | <span data-ttu-id="64b91-184">**NULL-Werten zulassen**</span><span class="sxs-lookup"><span data-stu-id="64b91-184">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="64b91-185">Id</span><span class="sxs-lookup"><span data-stu-id="64b91-185">Id</span></span> | <span data-ttu-id="64b91-186">Int</span><span class="sxs-lookup"><span data-stu-id="64b91-186">Int</span></span> | <span data-ttu-id="64b91-187">Falsch</span><span class="sxs-lookup"><span data-stu-id="64b91-187">False</span></span> |
| <span data-ttu-id="64b91-188">Title</span><span class="sxs-lookup"><span data-stu-id="64b91-188">Title</span></span> | <span data-ttu-id="64b91-189">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="64b91-189">Nvarchar(100)</span></span> | <span data-ttu-id="64b91-190">Falsch</span><span class="sxs-lookup"><span data-stu-id="64b91-190">False</span></span> |
| <span data-ttu-id="64b91-191">Direktors</span><span class="sxs-lookup"><span data-stu-id="64b91-191">Director</span></span> | <span data-ttu-id="64b91-192">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="64b91-192">Nvarchar(100)</span></span> | <span data-ttu-id="64b91-193">Falsch</span><span class="sxs-lookup"><span data-stu-id="64b91-193">False</span></span> |
| <span data-ttu-id="64b91-194">Datereleasing</span><span class="sxs-lookup"><span data-stu-id="64b91-194">DateReleased</span></span> | <span data-ttu-id="64b91-195">DateTime</span><span class="sxs-lookup"><span data-stu-id="64b91-195">DateTime</span></span> | <span data-ttu-id="64b91-196">Falsch</span><span class="sxs-lookup"><span data-stu-id="64b91-196">False</span></span> |

<span data-ttu-id="64b91-197">Die erste Spalte, die ID-Spalte, verfügt über zwei spezielle Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="64b91-197">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="64b91-198">Zuerst müssen Sie die ID-Spalte als Primärschlüssel Spalte markieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-198">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="64b91-199">Nachdem Sie die Spalte ID ausgewählt haben, klicken Sie auf die Schaltfläche **Primärschlüssel festlegen** (es handelt sich dabei um das Symbol, das wie ein Schlüssel aussieht).</span><span class="sxs-lookup"><span data-stu-id="64b91-199">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="64b91-200">Zweitens müssen Sie die ID-Spalte als Identitäts Spalte markieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-200">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="64b91-201">Scrollen Sie in der Eigenschaftenfenster Spalte nach unten zum Abschnitt Identitäts Angabe, und erweitern Sie ihn.</span><span class="sxs-lookup"><span data-stu-id="64b91-201">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="64b91-202">Ändern Sie die Eigenschaft **ist Identity** in den Wert **Ja**.</span><span class="sxs-lookup"><span data-stu-id="64b91-202">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="64b91-203">Wenn Sie fertig sind, sollte die Tabelle wie in Abbildung 4 aussehen.</span><span class="sxs-lookup"><span data-stu-id="64b91-203">When you are finished, the table should look like Figure 4.</span></span>

<span data-ttu-id="64b91-204">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-204">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span></span>

<span data-ttu-id="64b91-205">**Abbildung 04**: die Datenbanktabelle "Movies" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-205">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span></span>

<span data-ttu-id="64b91-206">Der letzte Schritt ist das Speichern der neuen Tabelle.</span><span class="sxs-lookup"><span data-stu-id="64b91-206">The final step is to save the new table.</span></span> <span data-ttu-id="64b91-207">Klicken Sie auf die Schaltfläche Speichern (das Symbol der Diskette), und benennen Sie die neue Tabelle mit dem Namen Movies.</span><span class="sxs-lookup"><span data-stu-id="64b91-207">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="64b91-208">Nachdem Sie die Tabelle erstellt haben, fügen Sie der Tabelle einige Film Datensätze hinzu.</span><span class="sxs-lookup"><span data-stu-id="64b91-208">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="64b91-209">Klicken Sie im Fenster Server-Explorer mit der rechten Maustaste auf die Tabelle Filme, und wählen Sie die Menüoption **Tabellendaten anzeigen**aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-209">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="64b91-210">Geben Sie eine Liste Ihrer bevorzugten Filme ein (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="64b91-210">Enter a list of your favorite movies (see Figure 5).</span></span>

<span data-ttu-id="64b91-211">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-211">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span></span>

<span data-ttu-id="64b91-212">**Abbildung 05**: eingeben von Movie-Datensätzen ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-212">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span></span>

## <a name="creating-the-model"></a><span data-ttu-id="64b91-213">Erstellen des Modells</span><span class="sxs-lookup"><span data-stu-id="64b91-213">Creating the Model</span></span>

<span data-ttu-id="64b91-214">Wir müssen als nächstes eine Reihe von Klassen erstellen, die unsere Datenbank darstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-214">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="64b91-215">Wir müssen ein Datenbankmodell erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-215">We need to create a database model.</span></span> <span data-ttu-id="64b91-216">Wir nutzen die Microsoft-Entity Framework, um die Klassen für das Datenbankmodell automatisch zu generieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-216">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="64b91-217">Das ASP.NET-MVC-Framework ist nicht an die Microsoft-Entity Framework gebunden.</span><span class="sxs-lookup"><span data-stu-id="64b91-217">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="64b91-218">Sie können Ihre Datenbankmodell Klassen erstellen, indem Sie eine Vielzahl von Tools für die relationale Objekt Zuordnung (oder/M) nutzen, einschließlich LINQ to SQL, Subsonic und NHibernate.</span><span class="sxs-lookup"><span data-stu-id="64b91-218">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>

<span data-ttu-id="64b91-219">Führen Sie die folgenden Schritte aus, um den Entity Data Model Assistenten zu starten:</span><span class="sxs-lookup"><span data-stu-id="64b91-219">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="64b91-220">Klicken Sie im Fenster Projektmappen-Explorer mit der rechten Maustaste auf den Ordner Modelle, und wählen Sie die Menüoption **hinzufügen, neues Element**aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-220">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="64b91-221">Wählen Sie die Kategorie **Daten** aus, und wählen Sie die Vorlage **ADO.NET Entity Data Model** aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-221">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="64b91-222">Geben Sie Ihrem Datenmodell den Namen " *moviesdbmodel. edmx* ", und klicken Sie auf die Schaltfläche **Hinzufügen** .</span><span class="sxs-lookup"><span data-stu-id="64b91-222">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="64b91-223">Nachdem Sie auf die Schaltfläche Hinzufügen geklickt haben, wird der Entity Data Model-Assistent angezeigt (siehe Abbildung 6).</span><span class="sxs-lookup"><span data-stu-id="64b91-223">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="64b91-224">Führen Sie die folgenden Schritte aus, um den Assistenten abzuschließen:</span><span class="sxs-lookup"><span data-stu-id="64b91-224">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="64b91-225">Wählen Sie im Schritt **Modell Inhalt auswählen** die Option **aus Datenbank generieren aus** .</span><span class="sxs-lookup"><span data-stu-id="64b91-225">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="64b91-226">Verwenden Sie im Schritt **Wählen Sie Ihre Datenverbindung** aus die Datenverbindung " *moviesdb. mdf* " und den Namen " *moviesdbentities* " für die Verbindungseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="64b91-226">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="64b91-227">Klicken Sie auf die Schaltfläche **weiter** .</span><span class="sxs-lookup"><span data-stu-id="64b91-227">Click the **Next** button.</span></span>
3. <span data-ttu-id="64b91-228">Erweitern Sie im Schritt **Wählen Sie Ihre Datenbankobjekte** aus den Knoten Tabellen, und wählen Sie die Tabelle Movies aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-228">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="64b91-229">Geben Sie den Namespace " *muvieapp. Models* " ein, und klicken Sie auf **Fertig** stellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-229">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>

<span data-ttu-id="64b91-230">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-230">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span></span>

<span data-ttu-id="64b91-231">**Abbildung 06**: Erstellen eines Datenbankmodells mit dem Assistenten für Entity Data Model ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-231">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span></span>

<span data-ttu-id="64b91-232">Nachdem Sie den Entity Data Model-Assistenten beendet haben, wird der Entity Data Model-Designer geöffnet.</span><span class="sxs-lookup"><span data-stu-id="64b91-232">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="64b91-233">Der Designer sollte die Datenbanktabelle "Movies" anzeigen (siehe Abbildung 7).</span><span class="sxs-lookup"><span data-stu-id="64b91-233">The Designer should display the Movies database table (see Figure 7).</span></span>

<span data-ttu-id="64b91-234">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-234">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span></span>

<span data-ttu-id="64b91-235">**Abbildung 07**: der Entity Data Model-Designer ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-235">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span></span>

<span data-ttu-id="64b91-236">Wir müssen eine Änderung vornehmen, bevor wir fortfahren.</span><span class="sxs-lookup"><span data-stu-id="64b91-236">We need to make one change before we continue.</span></span> <span data-ttu-id="64b91-237">Der Assistent für Entitäts Daten generiert eine Modell Klasse mit dem Namen Filme, die die Datenbanktabelle "Movies" darstellt</span><span class="sxs-lookup"><span data-stu-id="64b91-237">The Entity Data Wizard generates a model class named Movies that represents the Movies database table.</span></span> <span data-ttu-id="64b91-238">Da wir die Klasse "Movies" verwenden, um einen bestimmten Film darzustellen, müssen wir den Namen der Klasse in *Movie* anstelle von *Movies* (Singular anstelle von Plural) ändern.</span><span class="sxs-lookup"><span data-stu-id="64b91-238">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="64b91-239">Doppelklicken Sie auf den Namen der Klasse auf der Designer Oberfläche, und ändern Sie den Namen der Klasse von Movies in Movie.</span><span class="sxs-lookup"><span data-stu-id="64b91-239">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="64b91-240">Nachdem Sie diese Änderung vorgenommen haben, klicken Sie auf die Schaltfläche **Speichern** (das Symbol der Diskette), um die Movie-Klasse zu generieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-240">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="64b91-241">Erstellen des ASP.NET-MVC-Controllers</span><span class="sxs-lookup"><span data-stu-id="64b91-241">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="64b91-242">Der nächste Schritt besteht darin, den ASP.NET-MVC-Controller zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-242">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="64b91-243">Ein Controller ist dafür verantwortlich, zu steuern, wie ein Benutzer mit einer ASP.NET MVC-Anwendung interagiert.</span><span class="sxs-lookup"><span data-stu-id="64b91-243">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="64b91-244">Führen Sie folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="64b91-244">Follow these steps:</span></span>

1. <span data-ttu-id="64b91-245">Klicken Sie im Projektmappen-Explorer Fenster mit der rechten Maustaste auf den Ordner Controllers, und wählen Sie die Menüoption **Controller hinzufügen**aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-245">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="64b91-246">Geben Sie im Dialogfeld Controller hinzufügen den Namen *HomeController* ein, und aktivieren Sie das Kontrollkästchen **Aktionsmethoden hinzufügen für Erstellungs-, Aktualisierungs-und Detail Szenarien** (siehe Abbildung 8).</span><span class="sxs-lookup"><span data-stu-id="64b91-246">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="64b91-247">Klicken Sie auf die Schaltfläche **Hinzufügen** , um dem Projekt den neuen Controller hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="64b91-247">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="64b91-248">Nachdem Sie diese Schritte ausgeführt haben, wird der Controller in der Liste 1 erstellt.</span><span class="sxs-lookup"><span data-stu-id="64b91-248">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="64b91-249">Beachten Sie, dass Sie Methoden namens Index, Details, CREATE und Edit enthält.</span><span class="sxs-lookup"><span data-stu-id="64b91-249">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="64b91-250">In den folgenden Abschnitten fügen Sie den erforderlichen Code hinzu, damit diese Methoden funktionieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-250">In the following sections, we'll add the necessary code to get these methods to work.</span></span>

<span data-ttu-id="64b91-251">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-251">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span></span>

<span data-ttu-id="64b91-252">**Abbildung 08**: Hinzufügen eines neuen ASP.NET MVC-Controllers ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-252">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span></span>

<span data-ttu-id="64b91-253">**Codebeispiel 1 – controllers\homecontroller.vb**</span><span class="sxs-lookup"><span data-stu-id="64b91-253">**Listing 1 – Controllers\HomeController.vb**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample1.vb)]

## <a name="listing-database-records"></a><span data-ttu-id="64b91-254">Auflisten von Datenbankeinträgen</span><span class="sxs-lookup"><span data-stu-id="64b91-254">Listing Database Records</span></span>

<span data-ttu-id="64b91-255">Die Index ()-Methode des Home-Controllers ist die Standardmethode für eine ASP.NET MVC-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="64b91-255">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="64b91-256">Wenn Sie eine ASP.NET MVC-Anwendung ausführen, ist die Index ()-Methode die erste Controller Methode, die aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="64b91-256">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="64b91-257">Wir verwenden die Index ()-Methode, um die Liste der Datensätze aus der Datenbanktabelle "Movies" anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="64b91-257">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="64b91-258">Wir nutzen die Datenbankmodell Klassen, die wir zuvor erstellt haben, um die Movie Database-Datensätze mit der Index ()-Methode abzurufen.</span><span class="sxs-lookup"><span data-stu-id="64b91-258">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="64b91-259">Ich habe die HomeController-Klasse in der Liste 2 geändert, sodass Sie ein neues privates Feld mit dem Namen \_DB enthält.</span><span class="sxs-lookup"><span data-stu-id="64b91-259">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="64b91-260">Die Klasse "moviesdbentities" repräsentiert unser Datenbankmodell, und wir verwenden diese Klasse, um mit unserer Datenbank zu kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-260">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="64b91-261">Außerdem habe ich die Index ()-Methode in der Liste 2 geändert.</span><span class="sxs-lookup"><span data-stu-id="64b91-261">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="64b91-262">Die Index ()-Methode verwendet die Klasse "moviesdbentities", um alle Film Datensätze aus der Datenbanktabelle "Movies" abzurufen.</span><span class="sxs-lookup"><span data-stu-id="64b91-262">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="64b91-263">Der Ausdruck *\_DB. "Movieset. Start List ()* " gibt eine Liste aller Film Datensätze aus der Datenbanktabelle "Movies" zurück.</span><span class="sxs-lookup"><span data-stu-id="64b91-263">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="64b91-264">Die Liste der Filme wird an die Ansicht übermittelt.</span><span class="sxs-lookup"><span data-stu-id="64b91-264">The list of movies is passed to the view.</span></span> <span data-ttu-id="64b91-265">Alle Elemente, die an die View ()-Methode übermittelt werden, werden als Ansichts Daten an die Ansicht übermittelt.</span><span class="sxs-lookup"><span data-stu-id="64b91-265">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="64b91-266">**Listing 2 – Controllers/HomeController. vb (geänderte Index Methode)**</span><span class="sxs-lookup"><span data-stu-id="64b91-266">**Listing 2 – Controllers/HomeController.vb (modified Index method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample2.vb)]

<span data-ttu-id="64b91-267">Die Index ()-Methode gibt eine Sicht mit dem Namen Index zurück.</span><span class="sxs-lookup"><span data-stu-id="64b91-267">The Index() method returns a view named Index.</span></span> <span data-ttu-id="64b91-268">Wir müssen diese Ansicht erstellen, um die Liste der Movie Database-Datensätze anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="64b91-268">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="64b91-269">Führen Sie folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="64b91-269">Follow these steps:</span></span>

<span data-ttu-id="64b91-270">Sie sollten das Projekt erstellen (Wählen Sie die Menüoption **erstellen,** Projekt Mappe erstellen), bevor Sie das Dialog **Feld Ansicht hinzufügen** öffnen. in der Dropdown Liste **Datenklasse anzeigen** werden keine Klassen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="64b91-270">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>

1. <span data-ttu-id="64b91-271">Klicken Sie mit der rechten Maustaste auf die Index ()-Methode im Code-Editor, und wählen Sie die Menüoption **Ansicht hinzufügen** (siehe Abbildung 9).</span><span class="sxs-lookup"><span data-stu-id="64b91-271">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="64b91-272">Überprüfen Sie im Dialogfeld Ansicht hinzufügen, ob das Kontrollkästchen mit der Bezeichnung **eine stark typisierte Ansicht erstellen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="64b91-272">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="64b91-273">Wählen Sie in der Dropdown Liste **Inhalt anzeigen** die *Liste*Wert aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-273">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="64b91-274">Wählen Sie in der Dropdown Liste **Datenklasse anzeigen** den Wert " *muvieapp. Movie*" aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-274">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="64b91-275">Klicken Sie auf die Schaltfläche hinzufügen, um die neue Ansicht zu erstellen (siehe Abbildung 10).</span><span class="sxs-lookup"><span data-stu-id="64b91-275">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="64b91-276">Nachdem Sie diese Schritte ausgeführt haben, wird dem Ordner "views\home" eine neue Ansicht mit dem Namen "index. aspx" hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="64b91-276">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="64b91-277">Der Inhalt der Index Ansicht ist in der Liste 3 enthalten.</span><span class="sxs-lookup"><span data-stu-id="64b91-277">The contents of the Index view are included in Listing 3.</span></span>

<span data-ttu-id="64b91-278">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-278">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span></span>

<span data-ttu-id="64b91-279">**Abbildung 09**: Hinzufügen einer Ansicht aus einer Controller Aktion ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-279">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span></span>

<span data-ttu-id="64b91-280">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-280">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span></span>

<span data-ttu-id="64b91-281">**Abbildung 10**: Erstellen einer neuen Ansicht mit dem Dialogfeld "Ansicht hinzufügen" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-281">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample3.aspx)]

<span data-ttu-id="64b91-282">In der Index Sicht werden alle Film Datensätze aus der Datenbanktabelle "Movies" in einer HTML-Tabelle angezeigt.</span><span class="sxs-lookup"><span data-stu-id="64b91-282">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="64b91-283">Die Sicht enthält eine for Each-Schleife, die die einzelnen Filme durchläuft, die von der ViewData. Model-Eigenschaft dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="64b91-283">The view contains a For Each loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="64b91-284">Wenn Sie die Anwendung durch Drücken der F5-Taste ausführen, sehen Sie die Webseite in Abbildung 11.</span><span class="sxs-lookup"><span data-stu-id="64b91-284">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>

<span data-ttu-id="64b91-285">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-285">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span></span>

<span data-ttu-id="64b91-286">**Abbildung 11**: Index Ansicht ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-286">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span></span>

## <a name="creating-new-database-records"></a><span data-ttu-id="64b91-287">Erstellen neuer Datenbankdaten Sätze</span><span class="sxs-lookup"><span data-stu-id="64b91-287">Creating New Database Records</span></span>

<span data-ttu-id="64b91-288">Die Index Sicht, die wir im vorherigen Abschnitt erstellt haben, enthält einen Link zum Erstellen neuer Datenbankdaten Sätze.</span><span class="sxs-lookup"><span data-stu-id="64b91-288">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="64b91-289">Nun implementieren wir die Logik und erstellen die Sicht, die zum Erstellen neuer Movie Database-Datensätze erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="64b91-289">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="64b91-290">Der Home-Controller enthält zwei Methoden mit dem Namen Create ().</span><span class="sxs-lookup"><span data-stu-id="64b91-290">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="64b91-291">Die erste Create ()-Methode hat keine Parameter.</span><span class="sxs-lookup"><span data-stu-id="64b91-291">The first Create() method has no parameters.</span></span> <span data-ttu-id="64b91-292">Diese Überladung der Create ()-Methode wird verwendet, um das HTML-Formular zum Erstellen eines neuen Movie Database-Datensatzes anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="64b91-292">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="64b91-293">Die zweite Create ()-Methode verfügt über einen FormCollection-Parameter.</span><span class="sxs-lookup"><span data-stu-id="64b91-293">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="64b91-294">Diese Überladung der Create ()-Methode wird aufgerufen, wenn das HTML-Formular zum Erstellen eines neuen Films an den Server gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="64b91-294">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="64b91-295">Beachten Sie, dass diese zweite Create ()-Methode über ein-Attribut verfügt, das verhindert, dass die Methode aufgerufen wird, es sei denn, es wird ein HTTP Post-Vorgang ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="64b91-295">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP Post operation is performed.</span></span>

<span data-ttu-id="64b91-296">Diese zweite Create ()-Methode wurde in der aktualisierten HomeController-Klasse in der Liste 4 geändert.</span><span class="sxs-lookup"><span data-stu-id="64b91-296">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="64b91-297">Die neue Version der Create ()-Methode akzeptiert einen Movie-Parameter und enthält die Logik für das Einfügen eines neuen Films in die "Movies"-Datenbanktabelle.</span><span class="sxs-lookup"><span data-stu-id="64b91-297">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="64b91-298">Beachten Sie das Bindungs Attribut.</span><span class="sxs-lookup"><span data-stu-id="64b91-298">Notice the Bind attribute.</span></span> <span data-ttu-id="64b91-299">Da wir die Movie ID-Eigenschaft nicht aus dem HTML-Formular aktualisieren möchten, muss diese Eigenschaft explizit ausgeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="64b91-299">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>

<span data-ttu-id="64b91-300">**Codebeispiel 4 – controllers\homecontroller.vb (geänderte Create-Methode)**</span><span class="sxs-lookup"><span data-stu-id="64b91-300">**Listing 4 – Controllers\HomeController.vb (modified Create method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample4.vb)]

<span data-ttu-id="64b91-301">Mit Visual Studio können Sie das Formular zum Erstellen eines neuen Filmdaten Bank Datensatzes ganz einfach erstellen (siehe Abbildung 12).</span><span class="sxs-lookup"><span data-stu-id="64b91-301">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="64b91-302">Führen Sie folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="64b91-302">Follow these steps:</span></span>

1. <span data-ttu-id="64b91-303">Klicken Sie mit der rechten Maustaste auf die Create ()-Methode im Code-Editor, und wählen Sie die Menüoption **Ansicht hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="64b91-303">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="64b91-304">Vergewissern Sie sich, dass das Kontrollkästchen mit der Bezeichnung **eine stark typisierte Ansicht erstellen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="64b91-304">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="64b91-305">Wählen Sie in der Dropdown Liste **Inhalt anzeigen** den Wert *Erstellen*aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-305">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="64b91-306">Wählen Sie in der Dropdown Liste **Datenklasse anzeigen** den Wert " *muvieapp. Movie*" aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-306">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="64b91-307">Klicken Sie auf **Hinzufügen** , um die neue Ansicht zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-307">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="64b91-308">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-308">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span></span>

<span data-ttu-id="64b91-309">**Abbildung 12**: Hinzufügen der Ansicht "erstellen" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-309">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span></span>

<span data-ttu-id="64b91-310">Visual Studio generiert die Ansicht automatisch in Auflistung 5.</span><span class="sxs-lookup"><span data-stu-id="64b91-310">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="64b91-311">Diese Sicht enthält ein HTML-Formular, das die Felder enthält, die den einzelnen Eigenschaften der Movie-Klasse entsprechen.</span><span class="sxs-lookup"><span data-stu-id="64b91-311">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="64b91-312">**Codebeispiel 5 – views\home\kreate.aspx**</span><span class="sxs-lookup"><span data-stu-id="64b91-312">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="64b91-313">Das HTML-Formular, das im Dialogfeld Ansicht hinzufügen generiert wird, generiert ein ID-Formularfeld.</span><span class="sxs-lookup"><span data-stu-id="64b91-313">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="64b91-314">Da die ID-Spalte eine Identitäts Spalte ist, benötigen wir dieses Formularfeld nicht, und Sie können es problemlos entfernen.</span><span class="sxs-lookup"><span data-stu-id="64b91-314">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>

<span data-ttu-id="64b91-315">Nachdem Sie die CREATE VIEW-Sicht hinzugefügt haben, können Sie der Datenbank neue Film Datensätze hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="64b91-315">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="64b91-316">Führen Sie die Anwendung aus, indem Sie die Taste F5 drücken, und klicken Sie auf den Link neu erstellen, um das Formular in Abbildung 13 anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="64b91-316">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="64b91-317">Wenn Sie das Formular ausfüllen und übermitteln, wird ein neuer Film Datenbankdaten Satz erstellt.</span><span class="sxs-lookup"><span data-stu-id="64b91-317">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="64b91-318">Beachten Sie, dass Sie die Formular Validierung automatisch erhalten.</span><span class="sxs-lookup"><span data-stu-id="64b91-318">Notice that you get form validation automatically.</span></span> <span data-ttu-id="64b91-319">Wenn Sie nicht vergessen, ein Veröffentlichungsdatum für einen Film einzugeben, oder wenn Sie ein ungültiges Veröffentlichungsdatum eingeben, wird das Formular erneut angezeigt, und das Feld Releasedatum wird hervorgehoben.</span><span class="sxs-lookup"><span data-stu-id="64b91-319">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>

<span data-ttu-id="64b91-320">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-320">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span></span>

<span data-ttu-id="64b91-321">**Abbildung 13**: Erstellen eines neuen Films Database-Datensatzes ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-321">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span></span>

## <a name="editing-existing-database-records"></a><span data-ttu-id="64b91-322">Bearbeiten vorhandener Datenbankdaten Sätze</span><span class="sxs-lookup"><span data-stu-id="64b91-322">Editing Existing Database Records</span></span>

<span data-ttu-id="64b91-323">In den vorherigen Abschnitten wurde erläutert, wie Sie neue Datenbankeinträge auflisten und erstellen können.</span><span class="sxs-lookup"><span data-stu-id="64b91-323">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="64b91-324">In diesem letzten Abschnitt wird erläutert, wie Sie vorhandene Datenbankeinträge bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="64b91-324">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="64b91-325">Zuerst muss das Bearbeitungs Formular generiert werden.</span><span class="sxs-lookup"><span data-stu-id="64b91-325">First, we need to generate the Edit form.</span></span> <span data-ttu-id="64b91-326">Dieser Schritt ist einfach, da Visual Studio das Bearbeitungs Formular automatisch für uns generiert.</span><span class="sxs-lookup"><span data-stu-id="64b91-326">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="64b91-327">Öffnen Sie die Klasse HomeController. vb im Code-Editor von Visual Studio, und führen Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="64b91-327">Open the HomeController.vb class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="64b91-328">Klicken Sie mit der rechten Maustaste auf die Edit ()-Methode im Code-Editor, und wählen Sie die Menüoption **Ansicht hinzufügen** (siehe Abbildung 14).</span><span class="sxs-lookup"><span data-stu-id="64b91-328">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="64b91-329">Aktivieren Sie das Kontrollkästchen mit der Bezeichnung **eine stark typisierte Ansicht erstellen**.</span><span class="sxs-lookup"><span data-stu-id="64b91-329">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="64b91-330">Wählen Sie in der Dropdown Liste **Inhalt anzeigen** den Wert *Bearbeiten*aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-330">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="64b91-331">Wählen Sie in der Dropdown Liste **Datenklasse anzeigen** den Wert " *muvieapp. Movie*" aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-331">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="64b91-332">Klicken Sie auf **Hinzufügen** , um die neue Ansicht zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="64b91-332">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="64b91-333">Durch Ausführen dieser Schritte wird dem Ordner "views\home" eine neue Ansicht mit dem Namen "Edit. aspx" hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="64b91-333">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="64b91-334">Diese Ansicht enthält ein HTML-Formular zum Bearbeiten eines Film Datensatzes.</span><span class="sxs-lookup"><span data-stu-id="64b91-334">This view contains an HTML form for editing a movie record.</span></span>

<span data-ttu-id="64b91-335">[![des Dialog Felds "Neues Projekt"](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="64b91-335">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span></span>

<span data-ttu-id="64b91-336">**Abbildung 14**: Hinzufügen der Bearbeitungs Ansicht ([Klicken Sie, um das Bild in voller Größe anzuzeigen](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="64b91-336">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="64b91-337">Die Bearbeitungs Ansicht enthält ein HTML-Formularfeld, das der Eigenschaft Movie ID entspricht.</span><span class="sxs-lookup"><span data-stu-id="64b91-337">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="64b91-338">Da Sie nicht möchten, dass Benutzer den Wert der ID-Eigenschaft bearbeiten, sollten Sie dieses Formularfeld entfernen.</span><span class="sxs-lookup"><span data-stu-id="64b91-338">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>

<span data-ttu-id="64b91-339">Schließlich müssen wir den Home-Controller so ändern, dass er das Bearbeiten eines Datenbankdaten Satzes unterstützt.</span><span class="sxs-lookup"><span data-stu-id="64b91-339">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="64b91-340">Die aktualisierte HomeController-Klasse ist in der Liste 6 enthalten.</span><span class="sxs-lookup"><span data-stu-id="64b91-340">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="64b91-341">**Codebeispiel 6 – controllers\homecontroller.vb (Methoden bearbeiten)**</span><span class="sxs-lookup"><span data-stu-id="64b91-341">**Listing 6 – Controllers\HomeController.vb (Edit methods)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample6.vb)]

<span data-ttu-id="64b91-342">In der Liste 6 habe ich für beide über Ladungen der Edit ()-Methode zusätzliche Logik hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="64b91-342">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="64b91-343">Die erste Edit ()-Methode gibt den Movie Database-Datensatz zurück, der dem an die Methode übergebenen ID-Parameter entspricht.</span><span class="sxs-lookup"><span data-stu-id="64b91-343">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="64b91-344">Die zweite Überladung führt die Aktualisierungen an einem Film Daten Satz in der Datenbank aus.</span><span class="sxs-lookup"><span data-stu-id="64b91-344">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="64b91-345">Beachten Sie, dass Sie den ursprünglichen Film abrufen und dann ApplyPropertyChanges () aufrufen müssen, um den vorhandenen Film in der Datenbank zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="64b91-345">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="64b91-346">Summary</span><span class="sxs-lookup"><span data-stu-id="64b91-346">Summary</span></span>

<span data-ttu-id="64b91-347">In diesem Tutorial haben Sie einen Eindruck von der Vorgehensweise beim Aufbau einer ASP.NET MVC-Anwendung gemacht.</span><span class="sxs-lookup"><span data-stu-id="64b91-347">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="64b91-348">Ich hoffe, dass Sie festgestellt haben, dass das Entwickeln einer ASP.NET-MVC-Webanwendung dem Aufbau einer Active Server-oder ASP.NET-Anwendung sehr ähnlich ist.</span><span class="sxs-lookup"><span data-stu-id="64b91-348">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="64b91-349">In diesem Tutorial haben wir nur die grundlegendsten Features des ASP.NET-MVC-Frameworks untersucht.</span><span class="sxs-lookup"><span data-stu-id="64b91-349">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="64b91-350">In zukünftigen Tutorials werden Themen wie Controller, Controller Aktionen, Ansichten, Ansichts Daten und HTML-Hilfsprogramme ausführlicher erläutert.</span><span class="sxs-lookup"><span data-stu-id="64b91-350">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="64b91-351">Vorheriges</span><span class="sxs-lookup"><span data-stu-id="64b91-351">Previous</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs.md)
