---
uid: mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-vb
title: Verhindern von JavaScript Injection-Angriffen (VB) | Microsoft-Dokumentation
author: StephenWalther
description: Verhindern Sie das Auftreten von JavaScript Injection-Angriffen und Site übergreifenden Skript Angriffen. In diesem Tutorial erläutert Stephen Walther, wie Sie ganz einfach
ms.author: riande
ms.date: 08/19/2008
ms.assetid: 9274a72e-34dd-4dae-8452-ed733ae71377
msc.legacyurl: /mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-vb
msc.type: authoredcontent
ms.openlocfilehash: dfe09085f26c62c566649bc6f570aa25367a0f07
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78506223"
---
# <a name="preventing-javascript-injection-attacks-vb"></a><span data-ttu-id="28d0e-104">Verhindern von Angriffen durch Einschleusung von JavaScript-Codes (VB)</span><span class="sxs-lookup"><span data-stu-id="28d0e-104">Preventing JavaScript Injection Attacks (VB)</span></span>

<span data-ttu-id="28d0e-105">von [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="28d0e-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="28d0e-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="28d0e-106">Download PDF</span></span>](https://download.microsoft.com/download/8/4/8/84843d8d-1575-426c-bcb5-9d0c42e51416/ASPNET_MVC_Tutorial_06_VB.pdf)

> <span data-ttu-id="28d0e-107">Verhindern Sie das Auftreten von JavaScript Injection-Angriffen und Site übergreifenden Skript Angriffen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-107">Prevent JavaScript Injection Attacks and Cross-Site Scripting Attacks from happening to you.</span></span> <span data-ttu-id="28d0e-108">In diesem Tutorial erläutert Stephen Walther, wie Sie diese Arten von Angriffen leicht durch HTML-Codierung Ihrer Inhalte besiegen können.</span><span class="sxs-lookup"><span data-stu-id="28d0e-108">In this tutorial, Stephen Walther explains how you can easily defeat these types of attacks by HTML encoding your content.</span></span>

<span data-ttu-id="28d0e-109">In diesem Tutorial wird erläutert, wie Sie JavaScript Injection-Angriffe in Ihren ASP.NET-MVC-Anwendungen verhindern können.</span><span class="sxs-lookup"><span data-stu-id="28d0e-109">The goal of this tutorial is to explain how you can prevent JavaScript injection attacks in your ASP.NET MVC applications.</span></span> <span data-ttu-id="28d0e-110">In diesem Tutorial werden zwei Ansätze erläutert, um Ihre Website gegen einen JavaScript Injection-Angriff zu verteidigen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-110">This tutorial discusses two approaches to defending your website against a JavaScript injection attack.</span></span> <span data-ttu-id="28d0e-111">Sie erfahren, wie Sie JavaScript Injection-Angriffe vermeiden, indem Sie die Daten codieren, die Sie anzeigen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-111">You learn how to prevent JavaScript injection attacks by encoding the data that you display.</span></span> <span data-ttu-id="28d0e-112">Außerdem erfahren Sie, wie Sie JavaScript Injection-Angriffe verhindern, indem Sie die von Ihnen akzeptierten Daten codieren.</span><span class="sxs-lookup"><span data-stu-id="28d0e-112">You also learn how to prevent JavaScript injection attacks by encoding the data that you accept.</span></span>

## <a name="what-is-a-javascript-injection-attack"></a><span data-ttu-id="28d0e-113">Was ist ein JavaScript Injection-Angriff?</span><span class="sxs-lookup"><span data-stu-id="28d0e-113">What is a JavaScript Injection Attack?</span></span>

<span data-ttu-id="28d0e-114">Wenn Sie Benutzereingaben akzeptieren und die Benutzereingaben erneut anzeigen, öffnen Sie Ihre Website für JavaScript Injection-Angriffe.</span><span class="sxs-lookup"><span data-stu-id="28d0e-114">Whenever you accept user input and redisplay the user input, you open your website to JavaScript injection attacks.</span></span> <span data-ttu-id="28d0e-115">Betrachten wir eine konkrete Anwendung, die für JavaScript Injection-Angriffe geöffnet ist.</span><span class="sxs-lookup"><span data-stu-id="28d0e-115">Let's examine a concrete application that is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="28d0e-116">Stellen Sie sich vor, Sie haben eine Kundenfeedback-Website erstellt (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="28d0e-116">Imagine that you have created a customer feedback website (see Figure 1).</span></span> <span data-ttu-id="28d0e-117">Kunden können die Website besuchen und Feedback zur Nutzung ihrer Produkte geben.</span><span class="sxs-lookup"><span data-stu-id="28d0e-117">Customers can visit the website and enter feedback on their experience using your products.</span></span> <span data-ttu-id="28d0e-118">Wenn ein Kunde sein Feedback sendet, wird das Feedback erneut auf der Feedbackseite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="28d0e-118">When a customer submits their feedback, the feedback is redisplayed on the feedback page.</span></span>

<span data-ttu-id="28d0e-119">[![Kunden Feedback-Website](preventing-javascript-injection-attacks-vb/_static/image2.png)](preventing-javascript-injection-attacks-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="28d0e-119">[![Customer Feedback Website](preventing-javascript-injection-attacks-vb/_static/image2.png)](preventing-javascript-injection-attacks-vb/_static/image1.png)</span></span>

<span data-ttu-id="28d0e-120">**Abbildung 01**: Kunden Feedback-Website ([Klicken Sie, um das Bild in voller Größe anzuzeigen](preventing-javascript-injection-attacks-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="28d0e-120">**Figure 01**: Customer Feedback Website ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image3.png))</span></span>

<span data-ttu-id="28d0e-121">Die Kundenfeedback-Website verwendet die `controller` in der Liste 1.</span><span class="sxs-lookup"><span data-stu-id="28d0e-121">The customer feedback website uses the `controller` in Listing 1.</span></span> <span data-ttu-id="28d0e-122">Diese `controller` enthält zwei Aktionen namens `Index()` und `Create()`.</span><span class="sxs-lookup"><span data-stu-id="28d0e-122">This `controller` contains two actions named `Index()` and `Create()`.</span></span>

<span data-ttu-id="28d0e-123">**Codebeispiel 1 – `HomeController.vb`**</span><span class="sxs-lookup"><span data-stu-id="28d0e-123">**Listing 1 – `HomeController.vb`**</span></span>

[!code-vb[Main](preventing-javascript-injection-attacks-vb/samples/sample1.vb)]

<span data-ttu-id="28d0e-124">Die `Index()`-Methode zeigt die `Index` Ansicht an.</span><span class="sxs-lookup"><span data-stu-id="28d0e-124">The `Index()` method displays the `Index` view.</span></span> <span data-ttu-id="28d0e-125">Diese Methode übergibt das vorherige Kundenfeedback an die `Index` Ansicht, indem das Feedback aus der Datenbank abgerufen wird (mithilfe einer LINQ to SQL Abfrage).</span><span class="sxs-lookup"><span data-stu-id="28d0e-125">This method passes all of the previous customer feedback to the `Index` view by retrieving the feedback from the database (using a LINQ to SQL query).</span></span>

<span data-ttu-id="28d0e-126">Mit der `Create()`-Methode wird ein neues Feedback Element erstellt und der Datenbank hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="28d0e-126">The `Create()` method creates a new Feedback item and adds it to the database.</span></span> <span data-ttu-id="28d0e-127">Die Meldung, die der Kunde in das Formular eingibt, wird im Message-Parameter an die `Create()`-Methode übergeben.</span><span class="sxs-lookup"><span data-stu-id="28d0e-127">The message that the customer enters in the form is passed to the `Create()` method in the message parameter.</span></span> <span data-ttu-id="28d0e-128">Es wird ein Feedback Element erstellt, und die Nachricht wird der `Message`-Eigenschaft des Feedback Elements zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-128">A Feedback item is created and the message is assigned to the Feedback item's `Message` property.</span></span> <span data-ttu-id="28d0e-129">Das Feedback Element wird mit dem `DataContext.SubmitChanges()`-Methodenaufrufe an die Datenbank übermittelt.</span><span class="sxs-lookup"><span data-stu-id="28d0e-129">The Feedback item is submitted to the database with the `DataContext.SubmitChanges()` method call.</span></span> <span data-ttu-id="28d0e-130">Schließlich wird der Besucher zurück zur `Index` Ansicht umgeleitet, in der das gesamte Feedback angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="28d0e-130">Finally, the visitor is redirected back to the `Index` view where all of the feedback is displayed.</span></span>

<span data-ttu-id="28d0e-131">Die `Index` Ansicht ist in der Liste 2 enthalten.</span><span class="sxs-lookup"><span data-stu-id="28d0e-131">The `Index` view is contained in Listing 2.</span></span>

<span data-ttu-id="28d0e-132">**Codebeispiel 2 – `Index.aspx`**</span><span class="sxs-lookup"><span data-stu-id="28d0e-132">**Listing 2 – `Index.aspx`**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample2.aspx)]

<span data-ttu-id="28d0e-133">Die `Index` Ansicht besteht aus zwei Abschnitten.</span><span class="sxs-lookup"><span data-stu-id="28d0e-133">The `Index` view has two sections.</span></span> <span data-ttu-id="28d0e-134">Der obere Abschnitt enthält das tatsächliche Kundenfeedback Formular.</span><span class="sxs-lookup"><span data-stu-id="28d0e-134">The top section contains the actual customer feedback form.</span></span> <span data-ttu-id="28d0e-135">Der untere Abschnitt enthält eine für. Jede Schleife durchläuft alle vorherigen Kundenfeedback Elemente und zeigt die Eigenschaften entrydate und Message für jedes Feedback Element an.</span><span class="sxs-lookup"><span data-stu-id="28d0e-135">The bottom section contains a For..Each loop that loops through all of the previous customer feedback items and displays the EntryDate and Message properties for each feedback item.</span></span>

<span data-ttu-id="28d0e-136">Die Kundenfeedback-Website ist eine einfache Website.</span><span class="sxs-lookup"><span data-stu-id="28d0e-136">The customer feedback website is a simple website.</span></span> <span data-ttu-id="28d0e-137">Leider ist die Website für JavaScript Injection-Angriffe offen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-137">Unfortunately, the website is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="28d0e-138">Stellen Sie sich vor, dass Sie den folgenden Text in das Kundenfeedback Formular eingeben:</span><span class="sxs-lookup"><span data-stu-id="28d0e-138">Imagine that you enter the following text into the customer feedback form:</span></span>

[!code-html[Main](preventing-javascript-injection-attacks-vb/samples/sample3.html)]

<span data-ttu-id="28d0e-139">Dieser Text stellt ein JavaScript-Skript dar, das ein Warn Meldungs Feld anzeigt.</span><span class="sxs-lookup"><span data-stu-id="28d0e-139">This text represents a JavaScript script that displays an alert message box.</span></span> <span data-ttu-id="28d0e-140">Nachdem jemand dieses Skript in das Feedback Formular übermittelt hat, wird die Nachricht <em>Boo!</em> wird immer dann angezeigt, wenn jemand in Zukunft auf die Kundenfeedback-Website zugreift (siehe Abbildung 2).</span><span class="sxs-lookup"><span data-stu-id="28d0e-140">After someone submits this script into the feedback form, the message <em>Boo!</em>will appear whenever anyone visits the customer feedback website in the future (see Figure 2).</span></span>

<span data-ttu-id="28d0e-141">[![JavaScript Injection](preventing-javascript-injection-attacks-vb/_static/image5.png)](preventing-javascript-injection-attacks-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="28d0e-141">[![JavaScript Injection](preventing-javascript-injection-attacks-vb/_static/image5.png)](preventing-javascript-injection-attacks-vb/_static/image4.png)</span></span>

<span data-ttu-id="28d0e-142">**Abbildung 02**: JavaScript Injection ([Klicken Sie, um das Bild in voller Größe anzuzeigen](preventing-javascript-injection-attacks-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="28d0e-142">**Figure 02**: JavaScript Injection ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image6.png))</span></span>

<span data-ttu-id="28d0e-143">Ihre erste Reaktion auf JavaScript Injection-Angriffe könnte eine Apathie sein.</span><span class="sxs-lookup"><span data-stu-id="28d0e-143">Now, your initial response to JavaScript injection attacks might be apathy.</span></span> <span data-ttu-id="28d0e-144">Vielleicht denken Sie daran, dass es sich bei JavaScript Injection-Angriffen einfach um einen Typ von *defakseangriffen* handelt</span><span class="sxs-lookup"><span data-stu-id="28d0e-144">You might think that JavaScript injection attacks are simply a type of *defacement* attack.</span></span> <span data-ttu-id="28d0e-145">Vielleicht glauben Sie, dass niemand etwas wirklich böse machen kann, indem er einen JavaScript-Injection-Angriff committet.</span><span class="sxs-lookup"><span data-stu-id="28d0e-145">You might believe that no one can do anything truly evil by committing a JavaScript injection attack.</span></span>

<span data-ttu-id="28d0e-146">Leider kann ein Hacker etwas wirklich böse machen, indem er JavaScript in eine Website einfügt.</span><span class="sxs-lookup"><span data-stu-id="28d0e-146">Unfortunately, a hacker can do some really, really evil things by injecting JavaScript into a website.</span></span> <span data-ttu-id="28d0e-147">Sie können einen JavaScript Injection-Angriff verwenden, um einen XSS-Angriff (Cross-Site Scripting) auszuführen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-147">You can use a JavaScript injection attack to perform a Cross-Site Scripting (XSS) attack.</span></span> <span data-ttu-id="28d0e-148">Bei einem Website übergreifenden Scripting-Angriff stehlen Sie vertrauliche Benutzerinformationen und senden die Informationen an eine andere Website.</span><span class="sxs-lookup"><span data-stu-id="28d0e-148">In a Cross-Site Scripting attack, you steal confidential user information and send the information to another website.</span></span>

<span data-ttu-id="28d0e-149">Beispielsweise kann ein Hacker einen JavaScript Injection-Angriff verwenden, um die Werte von Browser Cookies von anderen Benutzern zu stehlen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-149">For example, a hacker can use a JavaScript injection attack to steal the values of browser cookies from other users.</span></span> <span data-ttu-id="28d0e-150">Wenn vertrauliche Informationen wie Kenn Wörter, Kreditkartennummern oder Sozialversicherungsnummern – in den Browser Cookies gespeichert werden, kann ein Hacker einen JavaScript Injection-Angriff verwenden, um diese Informationen zu stehlen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-150">If sensitive information -- such as passwords, credit card numbers, or social security numbers – is stored in the browser cookies, then a hacker can use a JavaScript injection attack to steal this information.</span></span> <span data-ttu-id="28d0e-151">Wenn ein Benutzer vertrauliche Informationen in ein Formularfeld eingibt, das in einer Seite enthalten ist, die mit einem JavaScript-Angriff kompromittiert wurde, kann der Hacker das eingefügte JavaScript verwenden, um die Formulardaten abzurufen und an eine andere Website zu senden.</span><span class="sxs-lookup"><span data-stu-id="28d0e-151">Or, if a user enters sensitive information in a form field contained in a page that has been compromised with a JavaScript attack, then the hacker can use the injected JavaScript to grab the form data and send it to another website.</span></span>

<span data-ttu-id="28d0e-152">*Seien Sie ängstlich*.</span><span class="sxs-lookup"><span data-stu-id="28d0e-152">*Please be scared*.</span></span> <span data-ttu-id="28d0e-153">Nehmen Sie JavaScript Injection-Angriffe Ernst, und schützen Sie vertrauliche Informationen Ihres Benutzers.</span><span class="sxs-lookup"><span data-stu-id="28d0e-153">Take JavaScript injection attacks seriously and protect your user's confidential information.</span></span> <span data-ttu-id="28d0e-154">In den nächsten beiden Abschnitten werden zwei Verfahren erläutert, die Sie verwenden können, um Ihre ASP.NET MVC-Anwendungen vor JavaScript Injection-Angriffen zu schützen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-154">In the next two sections, we discuss two techniques that you can use to defend your ASP.NET MVC applications from JavaScript injection attacks.</span></span>

## <a name="approach-1-html-encode-in-the-view"></a><span data-ttu-id="28d0e-155">Ansatz #1: HTML-Codierung in der Ansicht</span><span class="sxs-lookup"><span data-stu-id="28d0e-155">Approach #1: HTML Encode in the View</span></span>

<span data-ttu-id="28d0e-156">Eine einfache Methode zum Verhindern von JavaScript Injection-Angriffen besteht darin, alle Daten, die von Website Benutzern eingegeben werden, in HTML zu codieren, wenn Sie die Daten in einer Ansicht erneut anzeigen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-156">One easy method of preventing JavaScript injection attacks is to HTML encode any data entered by website users when you redisplay the data in a view.</span></span> <span data-ttu-id="28d0e-157">Die aktualisierte `Index` Ansicht in der Liste 3 folgt diesem Ansatz.</span><span class="sxs-lookup"><span data-stu-id="28d0e-157">The updated `Index` view in Listing 3 follows this approach.</span></span>

<span data-ttu-id="28d0e-158">**Codebeispiel 3 – `Index.aspx` (HTML-codiert)**</span><span class="sxs-lookup"><span data-stu-id="28d0e-158">**Listing 3 – `Index.aspx` (HTML Encoded)**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample4.aspx)]

<span data-ttu-id="28d0e-159">Beachten Sie, dass der Wert von `feedback.Message` HTML-codiert ist, bevor der Wert mit folgendem Code angezeigt wird:</span><span class="sxs-lookup"><span data-stu-id="28d0e-159">Notice that the value of `feedback.Message` is HTML encoded before the value is displayed with the following code:</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample5.aspx)]

<span data-ttu-id="28d0e-160">Was bedeutet es, eine Zeichenfolge in HTML zu codieren?</span><span class="sxs-lookup"><span data-stu-id="28d0e-160">What does it mean to HTML encode a string?</span></span> <span data-ttu-id="28d0e-161">Wenn Sie eine Zeichenfolge in HTML codieren, werden gefährliche Zeichen wie `<` und `>` durch HTML-Entitäts Verweise ersetzt, z. b. `&lt;` und `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="28d0e-161">When you HTML encode a string, dangerous characters such as `<` and `>` are replaced by HTML entity references such as `&lt;` and `&gt;`.</span></span> <span data-ttu-id="28d0e-162">Wenn die Zeichenfolge `<script>alert("Boo!")</script>` also HTML-codiert ist, wird Sie in `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`konvertiert.</span><span class="sxs-lookup"><span data-stu-id="28d0e-162">So when the string `<script>alert("Boo!")</script>` is HTML encoded, it gets converted to `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span></span> <span data-ttu-id="28d0e-163">Die codierte Zeichenfolge wird nicht mehr als JavaScript-Skript ausgeführt, wenn Sie von einem Browser interpretiert wird.</span><span class="sxs-lookup"><span data-stu-id="28d0e-163">The encoded string no longer executes as a JavaScript script when interpreted by a browser.</span></span> <span data-ttu-id="28d0e-164">Stattdessen erhalten Sie die harmlose Seite in Abbildung 3.</span><span class="sxs-lookup"><span data-stu-id="28d0e-164">Instead, you get the harmless page in Figure 3.</span></span>

<span data-ttu-id="28d0e-165">[![besiegten JavaScript-Angriff](preventing-javascript-injection-attacks-vb/_static/image8.png)](preventing-javascript-injection-attacks-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="28d0e-165">[![Defeated JavaScript Attack](preventing-javascript-injection-attacks-vb/_static/image8.png)](preventing-javascript-injection-attacks-vb/_static/image7.png)</span></span>

<span data-ttu-id="28d0e-166">**Abbildung 03**: übersetzte JavaScript-Angriffe ([Klicken Sie, um das Bild in voller Größe anzuzeigen](preventing-javascript-injection-attacks-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="28d0e-166">**Figure 03**: Defeated JavaScript Attack ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image9.png))</span></span>

<span data-ttu-id="28d0e-167">Beachten Sie, dass in der `Index` Ansicht in der Liste 3 nur der Wert `feedback.Message` codiert ist.</span><span class="sxs-lookup"><span data-stu-id="28d0e-167">Notice that in the `Index` view in Listing 3 only the value of `feedback.Message` is encoded.</span></span> <span data-ttu-id="28d0e-168">Der Wert von `feedback.EntryDate` ist nicht codiert.</span><span class="sxs-lookup"><span data-stu-id="28d0e-168">The value of `feedback.EntryDate` is not encoded.</span></span> <span data-ttu-id="28d0e-169">Sie müssen nur die von einem Benutzer eingegebenen Daten codieren.</span><span class="sxs-lookup"><span data-stu-id="28d0e-169">You only need to encode data entered by a user.</span></span> <span data-ttu-id="28d0e-170">Da der Wert von entrydate im Controller generiert wurde, müssen Sie diesen Wert nicht in HTML codieren.</span><span class="sxs-lookup"><span data-stu-id="28d0e-170">Because the value of EntryDate was generated in the controller, you don't need to HTML encode this value.</span></span>

## <a name="approach-2-html-encode-in-the-controller"></a><span data-ttu-id="28d0e-171">Ansatz #2: HTML-Codierung im Controller</span><span class="sxs-lookup"><span data-stu-id="28d0e-171">Approach #2: HTML Encode in the Controller</span></span>

<span data-ttu-id="28d0e-172">Anstelle von HTML-Codierungs Daten, wenn Sie die Daten in einer Ansicht anzeigen, können Sie die Daten direkt vor dem Senden der Daten an die Datenbank in HTML codieren.</span><span class="sxs-lookup"><span data-stu-id="28d0e-172">Instead of HTML encoding data when you display the data in a view, you can HTML encode the data just before you submit the data to the database.</span></span> <span data-ttu-id="28d0e-173">Dieser zweite Ansatz wird im Fall der `controller` in der Liste 4 berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="28d0e-173">This second approach is taken in the case of the `controller` in Listing 4.</span></span>

<span data-ttu-id="28d0e-174">**Codebeispiel 4 – `HomeController.cs` (HTML-codiert)**</span><span class="sxs-lookup"><span data-stu-id="28d0e-174">**Listing 4 – `HomeController.cs` (HTML Encoded)**</span></span>

[!code-vb[Main](preventing-javascript-injection-attacks-vb/samples/sample6.vb)]

<span data-ttu-id="28d0e-175">Beachten Sie, dass der Wert von Message HTML-codiert ist, bevor der Wert in der `Create()` Aktion an die Datenbank übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="28d0e-175">Notice that the value of Message is HTML encoded before the value is submitted to the database within the `Create()` action.</span></span> <span data-ttu-id="28d0e-176">Wenn die Meldung erneut in der Ansicht angezeigt wird, ist die Nachricht HTML-codiert, und JavaScript-Code, der in die Nachricht eingefügt wird, wird nicht ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="28d0e-176">When the Message is redisplayed in the view, the Message is HTML encoded and any JavaScript injected in the Message is not executed.</span></span>

<span data-ttu-id="28d0e-177">In der Regel sollten Sie den ersten Ansatz bevorzugen, der in diesem Tutorial in diesem zweiten Ansatz erläutert wird.</span><span class="sxs-lookup"><span data-stu-id="28d0e-177">Typically, you should favor the first approach discussed in this tutorial over this second approach.</span></span> <span data-ttu-id="28d0e-178">Das Problem bei diesem zweiten Ansatz besteht darin, dass Sie in Ihrer Datenbank über HTML-codierte Daten verfügen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-178">The problem with this second approach is that you end up with HTML encoded data in your database.</span></span> <span data-ttu-id="28d0e-179">Mit anderen Worten, die Datenbankdaten werden mit lustigen Zeichen verknüpft.</span><span class="sxs-lookup"><span data-stu-id="28d0e-179">In other words, your database data is dirtied with funny looking characters.</span></span>

<span data-ttu-id="28d0e-180">Warum ist das nicht schlecht?</span><span class="sxs-lookup"><span data-stu-id="28d0e-180">Why is this bad?</span></span> <span data-ttu-id="28d0e-181">Wenn Sie die Datenbankdaten auf einer anderen Seite als einer Webseite anzeigen müssen, treten Probleme auf.</span><span class="sxs-lookup"><span data-stu-id="28d0e-181">If you ever need to display the database data in something other than a web page, then you will have problems.</span></span> <span data-ttu-id="28d0e-182">Beispielsweise können Sie die Daten nicht mehr problemlos in einer Windows Forms-Anwendung anzeigen.</span><span class="sxs-lookup"><span data-stu-id="28d0e-182">For example, you can no longer easily display the data in a Windows Forms application.</span></span>

## <a name="summary"></a><span data-ttu-id="28d0e-183">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="28d0e-183">Summary</span></span>

<span data-ttu-id="28d0e-184">Der Zweck dieses Tutorials war, Sie vor der Aussicht eines JavaScript Injection-Angriffs zu erschrecken.</span><span class="sxs-lookup"><span data-stu-id="28d0e-184">The purpose of this tutorial was to scare you about the prospect of a JavaScript injection attack.</span></span> <span data-ttu-id="28d0e-185">In diesem Tutorial wurden zwei Ansätze zum verteidigen Ihrer ASP.NET MVC-Anwendungen gegen JavaScript Injection-Angriffe erläutert: Sie können entweder die von Benutzern gesendeten Daten in der Ansicht codieren oder die Benutzer übermittelten Daten im Controller codieren.</span><span class="sxs-lookup"><span data-stu-id="28d0e-185">This tutorial discussed two approaches for defending your ASP.NET MVC applications against JavaScript injection attacks: you can either HTML encode user submitted data in the view or you can HTML encode user submitted data in the controller.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="28d0e-186">Previous</span><span class="sxs-lookup"><span data-stu-id="28d0e-186">Previous</span></span>](authenticating-users-with-windows-authentication-vb.md)
