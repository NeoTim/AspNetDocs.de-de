---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc4/adding-a-view
title: Hinzufügen einer Ansicht | Microsoft-Dokumentation
author: Rick-Anderson
description: 'Hinweis: Eine aktualisierte Version dieses Tutorials steht hier, dass das ASP.NET MVC 5 und Visual Studio 2013 verwendet. Es ist eine sicherere, viel einfacher zu folgen und demo...'
ms.author: riande
ms.date: 08/28/2012
ms.assetid: dde851d7-882e-4d99-9b96-cf96daed81cc
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc4/adding-a-view
msc.type: authoredcontent
ms.openlocfilehash: 1ab1ea8b277b48b3b72edb9dd45aa4cc2937ffa8
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59418052"
---
# <a name="adding-a-view"></a><span data-ttu-id="9d139-104">Hinzufügen einer Ansicht</span><span class="sxs-lookup"><span data-stu-id="9d139-104">Adding a View</span></span>

<span data-ttu-id="9d139-105">durch [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="9d139-105">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> > [!NOTE]
> > <span data-ttu-id="9d139-106">Eine aktualisierte Version dieses Tutorials finden Sie [hier](../../getting-started/introduction/getting-started.md) , ASP.NET MVC 5 und Visual Studio 2013 verwendet.</span><span class="sxs-lookup"><span data-stu-id="9d139-106">An updated version of this tutorial is available [here](../../getting-started/introduction/getting-started.md) that uses ASP.NET MVC 5 and Visual Studio 2013.</span></span> <span data-ttu-id="9d139-107">Dabei handelt es sich eine sicherere, einfacher, führen weitere Funktionen veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="9d139-107">It's more secure, much simpler to follow and demonstrates more features.</span></span>


<span data-ttu-id="9d139-108">In diesem Abschnitt also ändern Sie die `HelloWorldController` anzeigen, die Vorlagendateien an sauber zu kapseln den Prozess der Generierung von HTML-Antworten an einen Client zu verwendende Klasse an.</span><span class="sxs-lookup"><span data-stu-id="9d139-108">In this section you're going to modify the `HelloWorldController` class to use view template files to cleanly encapsulate the process of generating HTML responses to a client.</span></span>

<span data-ttu-id="9d139-109">Erstellen Sie eine Ansicht Vorlage mithilfe der [Razor-ansichtsengine](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx) mit ASP.NET MVC 3 eingeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="9d139-109">You'll create a view template file using the [Razor view engine](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx) introduced with ASP.NET MVC 3.</span></span> <span data-ttu-id="9d139-110">Razor-basierte Ansichtsvorlagen haben eine *.cshtml* Dateierweiterung aus, und geben Sie eine elegante Methode zum Erstellen von HTML-Ausgabe mithilfe von c#.</span><span class="sxs-lookup"><span data-stu-id="9d139-110">Razor-based view templates have a *.cshtml* file extension, and provide an elegant way to create HTML output using C#.</span></span> <span data-ttu-id="9d139-111">Razor minimiert die Anzahl von Zeichen und Tastaturanschläge erforderlich, wenn eine ansichtsvorlage zu schreiben und ermöglicht eine schnelle, fließende Workflows programmieren.</span><span class="sxs-lookup"><span data-stu-id="9d139-111">Razor minimizes the number of characters and keystrokes required when writing a view template, and enables a fast, fluid coding workflow.</span></span>

<span data-ttu-id="9d139-112">Derzeit gibt die `Index`-Methode eine Zeichenfolge mit der Meldung zurück, die in der Controllerklasse hartcodiert ist.</span><span class="sxs-lookup"><span data-stu-id="9d139-112">Currently the `Index` method returns a string with a message that is hard-coded in the controller class.</span></span> <span data-ttu-id="9d139-113">Ändern der `Index` -Methode zur Rückgabe einer `View` Objekt, wie im folgenden Code gezeigt:</span><span class="sxs-lookup"><span data-stu-id="9d139-113">Change the `Index` method to return a `View` object, as shown in the following code:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample1.cs)]

<span data-ttu-id="9d139-114">Die `Index` oben genannte Methode verwendet eine ansichtsvorlage zum Generieren einer HTML-Antwortinhalts an den Browser.</span><span class="sxs-lookup"><span data-stu-id="9d139-114">The `Index` method above uses a view template to generate an HTML response to the browser.</span></span> <span data-ttu-id="9d139-115">Controllermethoden (auch bekannt als [Aktionsmethoden](http://rachelappel.com/asp.net-mvc-actionresults-explained)), wie z. B. die `Index` oben in der Regel Methodenrückgabewert ein [ActionResult](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx) (oder eine abgeleitete Klasse [ActionResult](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx)), keine primitiven Typen wie Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="9d139-115">Controller methods (also known as [action methods](http://rachelappel.com/asp.net-mvc-actionresults-explained)), such as the `Index` method above, generally return an [ActionResult](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx) (or a class derived from [ActionResult](https://msdn.microsoft.com/library/system.web.mvc.actionresult.aspx)), not primitive types like string.</span></span>

<span data-ttu-id="9d139-116">Fügen Sie in das Projekt eine ansichtsvorlage, mit denen Sie mit der `Index` Methode.</span><span class="sxs-lookup"><span data-stu-id="9d139-116">In the project, add a view template that you can use with the `Index` method.</span></span> <span data-ttu-id="9d139-117">Klicken Sie dazu auf, auf die `Index` -Methode, und klicken Sie auf **Ansicht hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="9d139-117">To do this, right-click inside the `Index` method and click **Add View**.</span></span>

![](adding-a-view/_static/image1.png)

<span data-ttu-id="9d139-118">Die **Ansicht hinzufügen** Dialogfeld wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9d139-118">The **Add View** dialog box appears.</span></span> <span data-ttu-id="9d139-119">Behalten Sie die Möglichkeit, sie sind, und klicken Sie auf, die Standardwerte der **hinzufügen** Schaltfläche:</span><span class="sxs-lookup"><span data-stu-id="9d139-119">Leave the defaults the way they are and click the **Add** button:</span></span>

![](adding-a-view/_static/image2.png)

<span data-ttu-id="9d139-120">Die *MvcMovie\Views\HelloWorld* Ordner und die *MvcMovie\Views\HelloWorld\Index.cshtml* -Datei erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="9d139-120">The *MvcMovie\Views\HelloWorld* folder and the *MvcMovie\Views\HelloWorld\Index.cshtml* file are created.</span></span> <span data-ttu-id="9d139-121">Sie finden diese in **Projektmappen-Explorer**:</span><span class="sxs-lookup"><span data-stu-id="9d139-121">You can see them in **Solution Explorer**:</span></span>

![](adding-a-view/_static/image3.png)

<span data-ttu-id="9d139-122">Im folgenden dargestellt die *"Index.cshtml"* -Datei, die erstellt wurde:</span><span class="sxs-lookup"><span data-stu-id="9d139-122">The following shows the *Index.cshtml* file that was created:</span></span>

![HelloWorldIndex](adding-a-view/_static/image4.png)

<span data-ttu-id="9d139-124">Fügen Sie folgenden HTML-Code unter der `<h2>` Tag.</span><span class="sxs-lookup"><span data-stu-id="9d139-124">Add the following HTML under the `<h2>` tag.</span></span>

[!code-html[Main](adding-a-view/samples/sample2.html)]

<span data-ttu-id="9d139-125">Die vollständige *MvcMovie\Views\HelloWorld\Index.cshtml* Datei ist unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="9d139-125">The complete *MvcMovie\Views\HelloWorld\Index.cshtml* file is shown below.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample3.cshtml?highlight=7-8)]

<span data-ttu-id="9d139-126">Wenn Sie Visual Studio 2012 im Projektmappen-Explorer verwenden, mit der rechten Maustaste die *"Index.cshtml"* und wählen Sie **in Seitenprüfung anzeigen**.</span><span class="sxs-lookup"><span data-stu-id="9d139-126">If you are using Visual Studio 2012, in solution explorer, right click the *Index.cshtml* file and select **View in Page Inspector**.</span></span>

![PI](adding-a-view/_static/image5.png)

<span data-ttu-id="9d139-128">Die [Page Inspector Tutorial](../../views/using-page-inspector-in-aspnet-mvc.md) finden Sie weitere Informationen zu diesem neuen Tool.</span><span class="sxs-lookup"><span data-stu-id="9d139-128">The [Page Inspector tutorial](../../views/using-page-inspector-in-aspnet-mvc.md) has more information about this new tool.</span></span>

<span data-ttu-id="9d139-129">Alternativ führen Sie die Anwendung, und navigieren Sie zu der `HelloWorld` Controller (`http://localhost:xxxx/HelloWorld`).</span><span class="sxs-lookup"><span data-stu-id="9d139-129">Alternatively, run the application and browse to the `HelloWorld` controller (`http://localhost:xxxx/HelloWorld`).</span></span> <span data-ttu-id="9d139-130">Die `Index` -Methode in Ihrer Controller nicht viel Arbeit ausführen; es einfach ausgeführt wurde, die Anweisung `return View()`, die angab, dass die Methode eine ansichtsvorlagendatei verwenden soll, um eine Antwort an den Browser auszugeben.</span><span class="sxs-lookup"><span data-stu-id="9d139-130">The `Index` method in your controller didn't do much work; it simply ran the statement `return View()`, which specified that the method should use a view template file to render a response to the browser.</span></span> <span data-ttu-id="9d139-131">Da Sie den Namen der ansichtsvorlagendatei mit nicht explizit angegeben haben, ASP.NET MVC standardmäßig die *"Index.cshtml"* -Datei in die *\Views\HelloWorld* Ordner.</span><span class="sxs-lookup"><span data-stu-id="9d139-131">Because you didn't explicitly specify the name of the view template file to use, ASP.NET MVC defaulted to using the *Index.cshtml* view file in the *\Views\HelloWorld* folder.</span></span> <span data-ttu-id="9d139-132">Die folgende Abbildung zeigt die Zeichenfolge &quot;Hello from our View Template!&quot; in der Ansicht hartcodiert.</span><span class="sxs-lookup"><span data-stu-id="9d139-132">The image below shows the string &quot;Hello from our View Template!&quot; hard-coded in the view.</span></span>

![](adding-a-view/_static/image6.png)

<span data-ttu-id="9d139-133">Das sieht recht gut.</span><span class="sxs-lookup"><span data-stu-id="9d139-133">Looks pretty good.</span></span> <span data-ttu-id="9d139-134">Beachten Sie jedoch, dass die Titelleiste des Browsers wird &quot;Index-meine ASP.NET A&quot; und der große Link oben auf der Seite &quot;Ihr Logo hier einfügen.&quot; Unterhalb der &quot;Ihr Logo hier.&quot; Link etwa werden von Registrierung und melden Sie sich in der Links, und klicken Sie unten, Links zur Startseite, und wenden Sie sich an Seiten.</span><span class="sxs-lookup"><span data-stu-id="9d139-134">However, notice that the browser's title bar shows &quot;Index My ASP.NET A&quot; and the big link on the top of the page says &quot;your logo here.&quot; Below the &quot;your logo here.&quot; link are registration and log in links, and below that links to Home, About and Contact pages.</span></span> <span data-ttu-id="9d139-135">Ändern wir einige dieser.</span><span class="sxs-lookup"><span data-stu-id="9d139-135">Let's change some of these.</span></span>

## <a name="changing-views-and-layout-pages"></a><span data-ttu-id="9d139-136">Ändern von Ansichten und Layoutseiten</span><span class="sxs-lookup"><span data-stu-id="9d139-136">Changing Views and Layout Pages</span></span>

<span data-ttu-id="9d139-137">Zunächst, den Sie ändern möchten die &quot;Ihr Logo hier.&quot; Titel am oberen Rand der Seite.</span><span class="sxs-lookup"><span data-stu-id="9d139-137">First, you want to change the &quot;your logo here.&quot; title at the top of the page.</span></span> <span data-ttu-id="9d139-138">Dieser Text ist üblich, jede Seite.</span><span class="sxs-lookup"><span data-stu-id="9d139-138">That text is common to every page.</span></span> <span data-ttu-id="9d139-139">Es ist tatsächlich in nur an einer Stelle im Projekt implementiert, obwohl er auf jeder Seite in der Anwendung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="9d139-139">It's actually implemented in only one place in the project, even though it appears on every page in the application.</span></span> <span data-ttu-id="9d139-140">Wechseln Sie zu der */Views/Shared* Ordner **Projektmappen-Explorer** , und öffnen Sie die  *\_Layout.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="9d139-140">Go to the */Views/Shared* folder in **Solution Explorer** and open the *\_Layout.cshtml* file.</span></span> <span data-ttu-id="9d139-141">Diese Datei heißt eine *Layoutseite* und ist der gemeinsam verwendeten &quot;Shell&quot; , die alle anderen Seiten zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="9d139-141">This file is called a *layout page* and it's the shared &quot;shell&quot; that all other pages use.</span></span>

![_LayoutCshtml](adding-a-view/_static/image7.png)

<span data-ttu-id="9d139-143">Layoutvorlagen können Sie die HTML-Containerlayout Ihrer Website zentral anzugeben und wenden Sie es über mehrere Seiten auf Ihrer Website.</span><span class="sxs-lookup"><span data-stu-id="9d139-143">Layout templates allow you to specify the HTML container layout of your site in one place and then apply it across multiple pages in your site.</span></span> <span data-ttu-id="9d139-144">Suchen Sie die Zeile `@RenderBody()`.</span><span class="sxs-lookup"><span data-stu-id="9d139-144">Find the `@RenderBody()` line.</span></span> <span data-ttu-id="9d139-145">`RenderBody` ist ein Platzhalter, bei dem alle ansichtsspezifischen Seiten, die Sie erstellen, von der Layoutseite &quot;umschlossen&quot; angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="9d139-145">`RenderBody` is a placeholder where all the view-specific pages you create show up, &quot;wrapped&quot; in the layout page.</span></span> <span data-ttu-id="9d139-146">Wenn Sie auswählen, auf den Link Info, z. B. der *Views\Home\About.cshtml* Ansicht gerendert wird, in der `RenderBody` Methode.</span><span class="sxs-lookup"><span data-stu-id="9d139-146">For example, if you select the About link, the *Views\Home\About.cshtml* view is rendered inside the `RenderBody` method.</span></span>

<span data-ttu-id="9d139-147">Ändern Sie die Titel der Site Überschrift in der Layoutvorlage aus &quot;Ihr Logo hier einfügen&quot; zu &quot;MVC Movie&quot;.</span><span class="sxs-lookup"><span data-stu-id="9d139-147">Change the site-title heading in the layout template from &quot;your logo here&quot; to &quot;MVC Movie&quot;.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample4.cshtml)]

<span data-ttu-id="9d139-148">Ersetzen Sie den Inhalt der Title-Elements, durch das folgende Markup:</span><span class="sxs-lookup"><span data-stu-id="9d139-148">Replace the contents of the title element with the following markup:</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample5.cshtml)]

<span data-ttu-id="9d139-149">Ausführen der Anwendung und beachten Sie, der jetzt angeblich &quot;MVC Movie &quot;.</span><span class="sxs-lookup"><span data-stu-id="9d139-149">Run the application and notice that it now says &quot;MVC Movie &quot;.</span></span> <span data-ttu-id="9d139-150">Klicken Sie auf die **zu** Link, und Sie sehen wie diese Seite zeigt &quot;MVC Movie&quot;ebenfalls.</span><span class="sxs-lookup"><span data-stu-id="9d139-150">Click the **About** link, and you see how that page shows &quot;MVC Movie&quot;, too.</span></span> <span data-ttu-id="9d139-151">Wir konnten für die Änderung einmal in der Layoutvorlage aus, und haben alle Seiten auf der Website entsprechend den neuen Titel.</span><span class="sxs-lookup"><span data-stu-id="9d139-151">We were able to make the change once in the layout template and have all pages on the site reflect the new title.</span></span>

![](adding-a-view/_static/image8.png)

<span data-ttu-id="9d139-152">Jetzt ändern wir den Titel der Ansicht "Index".</span><span class="sxs-lookup"><span data-stu-id="9d139-152">Now, let's change the title of the Index view.</span></span>

<span data-ttu-id="9d139-153">Open *MvcMovie\Views\HelloWorld\Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="9d139-153">Open *MvcMovie\Views\HelloWorld\Index.cshtml*.</span></span> <span data-ttu-id="9d139-154">Es gibt zwei Bereiche zu ändern: zuerst der Text, der angezeigt wird in der Titelleiste des Browsers, und klicken Sie dann in die sekundäre Kopfzeile (die `<h2>` Element).</span><span class="sxs-lookup"><span data-stu-id="9d139-154">There are two places to make a change: first, the text that appears in the title of the browser, and then in the secondary header (the `<h2>` element).</span></span> <span data-ttu-id="9d139-155">Sie nehmen diese geringfügig anders vor, damit Sie erkennen können, welcher Teil der App mithilfe einer Codebearbeitung geändert wird.</span><span class="sxs-lookup"><span data-stu-id="9d139-155">You'll make them slightly different so you can see which bit of code changes which part of the app.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample6.cshtml)]

<span data-ttu-id="9d139-156">An die HTML-Titel angezeigt werden, den Code oben legt ein `Title` Eigenschaft der `ViewBag` Objekt (dieser befindet sich in der *"Index.cshtml"* Vorlage anzeigen).</span><span class="sxs-lookup"><span data-stu-id="9d139-156">To indicate the HTML title to display, the code above sets a `Title` property of the `ViewBag` object (which is in the *Index.cshtml* view template).</span></span> <span data-ttu-id="9d139-157">Wenn Sie wieder den Quellcode der Layoutvorlage betrachten, werden Sie feststellen, dass die Vorlage wird, diesen Wert in verwendet der `<title>` -Element als Teil der `<head>` Teil der HTML-Code, die wir zuvor geändert.</span><span class="sxs-lookup"><span data-stu-id="9d139-157">If you look back at the source code of the layout template, you'll notice that the template uses this value in the `<title>` element as part of the `<head>` section of the HTML that we modified previously.</span></span> <span data-ttu-id="9d139-158">Mit diesem `ViewBag` Ansatz können Sie problemlos andere Parameter übergeben zwischen Ihrer Vorlage anzeigen und die Layoutdatei.</span><span class="sxs-lookup"><span data-stu-id="9d139-158">Using this `ViewBag` approach, you can easily pass other parameters between your view template and your layout file.</span></span>

<span data-ttu-id="9d139-159">Führen Sie die Anwendung, und navigieren Sie zu `http://localhost:xx/HelloWorld`.</span><span class="sxs-lookup"><span data-stu-id="9d139-159">Run the application and browse to `http://localhost:xx/HelloWorld`.</span></span> <span data-ttu-id="9d139-160">Sie sehen, dass sich der Browsertitel, die primäre Überschrift und die sekundären Überschriften geändert haben.</span><span class="sxs-lookup"><span data-stu-id="9d139-160">Notice that the browser title, the primary heading, and the secondary headings have changed.</span></span> <span data-ttu-id="9d139-161">(Wenn die Änderungen nicht im Browser angezeigt werden, zeigen Sie ggf. zwischengespeicherten Inhalt an.</span><span class="sxs-lookup"><span data-stu-id="9d139-161">(If you don't see changes in the browser, you might be viewing cached content.</span></span> <span data-ttu-id="9d139-162">Drücken Sie in Ihrem Browser STRG+F5, um das Laden der Antwort vom Server zu erzwingen.) Der Titel des Browsers wird erstellt, mit der `ViewBag.Title` legen wir den *"Index.cshtml"* Anzeigen der Vorlage und die zusätzlichen &quot;-Movie App&quot; in der Layoutdatei hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="9d139-162">Press Ctrl+F5 in your browser to force the response from the server to be loaded.) The browser title is created with the `ViewBag.Title` we set in the *Index.cshtml* view template and the additional &quot;- Movie App&quot; added in the layout file.</span></span>

<span data-ttu-id="9d139-163">Beachten Sie außerdem wie der Inhalt in die *"Index.cshtml"* ansichtsvorlage zusammengeführt wurde, mit der  *\_Layout.cshtml* Vorlage anzeigen und eine einzelne HTML-Antwort an den Browser gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="9d139-163">Also notice how the content in the *Index.cshtml* view template was merged with the *\_Layout.cshtml* view template and a single HTML response was sent to the browser.</span></span> <span data-ttu-id="9d139-164">Layoutvorlagen erleichtern ungemein das Vornehmen von Änderungen an allen Seiten in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9d139-164">Layout templates make it really easy to make changes that apply across all of the pages in your application.</span></span>

![](adding-a-view/_static/image9.png)

<span data-ttu-id="9d139-165">Unsere wenig &quot;Daten&quot; (in diesem Fall die &quot;Hello from our View Template!&quot; Nachricht) ist hartcodiert, jedoch.</span><span class="sxs-lookup"><span data-stu-id="9d139-165">Our little bit of &quot;data&quot; (in this case the &quot;Hello from our View Template!&quot; message) is hard-coded, though.</span></span> <span data-ttu-id="9d139-166">Die MVC-Anwendung verfügt über eine &quot;V&quot; (Ansicht), verfügen Sie über eine &quot;C&quot; (Controller), aber kein &quot;M&quot; (model) noch.</span><span class="sxs-lookup"><span data-stu-id="9d139-166">The MVC application has a &quot;V&quot; (view) and you've got a &quot;C&quot; (controller), but no &quot;M&quot; (model) yet.</span></span> <span data-ttu-id="9d139-167">Kurz darauf begleiten wir erläutert, wie eine Datenbank erstellen und Modellieren von Daten daraus abrufen.</span><span class="sxs-lookup"><span data-stu-id="9d139-167">Shortly, we'll walk through how create a database and retrieve model data from it.</span></span>

## <a name="passing-data-from-the-controller-to-the-view"></a><span data-ttu-id="9d139-168">Übergeben von Daten vom Controller an die Ansicht</span><span class="sxs-lookup"><span data-stu-id="9d139-168">Passing Data from the Controller to the View</span></span>

<span data-ttu-id="9d139-169">Bevor wir mit einer Datenbank und über Modelle sprechen, jedoch zunächst sprechen wir über Informationen vom Controller an eine Ansicht übergeben.</span><span class="sxs-lookup"><span data-stu-id="9d139-169">Before we go to a database and talk about models, though, let's first talk about passing information from the controller to a view.</span></span> <span data-ttu-id="9d139-170">Controller-Klassen werden als Reaktion auf eine eingehende URL-Anforderung aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="9d139-170">Controller classes are invoked in response to an incoming URL request.</span></span> <span data-ttu-id="9d139-171">Eine Controllerklasse ist, Schreiben Sie der Code, der den eingehende Browser verarbeitet, angefordert wird, ruft Daten aus einer Datenbank ab, und letztlich entscheidet, welche Art der Antwort zurück an den Browser senden.</span><span class="sxs-lookup"><span data-stu-id="9d139-171">A controller class is where you write the code that handles the incoming browser requests, retrieves data from a database, and ultimately decides what type of response to send back to the browser.</span></span> <span data-ttu-id="9d139-172">Anzeigen von Vorlagen können dann verwendet werden von einem Controller zum Generieren und Formatieren einer HTML-Antwortinhalts an den Browser.</span><span class="sxs-lookup"><span data-stu-id="9d139-172">View templates can then be used from a controller to generate and format an HTML response to the browser.</span></span>

<span data-ttu-id="9d139-173">Controller sind verantwortlich für das Bereitstellen der beliebige Daten oder Objekte erforderlich sind, in der Reihenfolge für eine ansichtsvorlage eine Antwort an den Browser auszugeben.</span><span class="sxs-lookup"><span data-stu-id="9d139-173">Controllers are responsible for providing whatever data or objects are required in order for a view template to render a response to the browser.</span></span> <span data-ttu-id="9d139-174">Eine bewährte Methode: **Eine ansichtsvorlage sollte nie Geschäftslogik ausführen bzw. interagieren mit einer Datenbank direkt**.</span><span class="sxs-lookup"><span data-stu-id="9d139-174">A best practice: **A view template should never perform business logic or interact with a database directly**.</span></span> <span data-ttu-id="9d139-175">Stattdessen sollte eine ansichtsvorlage nur mit den Daten arbeiten, die sie durch den Controller bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="9d139-175">Instead, a view template should work only with the data that's provided to it by the controller.</span></span> <span data-ttu-id="9d139-176">Verwalten diese &quot;Trennung der Belange&quot; bleibt der Code übersichtlich, testfähig und besser verwaltbar.</span><span class="sxs-lookup"><span data-stu-id="9d139-176">Maintaining this &quot;separation of concerns&quot; helps keep your code clean, testable and more maintainable.</span></span>

<span data-ttu-id="9d139-177">Derzeit den `Welcome` Aktionsmethode in der `HelloWorldController` -Klasse eine `name` und `numTimes` Parameter und gibt anschließend die Werte direkt an den Browser.</span><span class="sxs-lookup"><span data-stu-id="9d139-177">Currently, the `Welcome` action method in the `HelloWorldController` class takes a `name` and a `numTimes` parameter and then outputs the values directly to the browser.</span></span> <span data-ttu-id="9d139-178">Anstatt den Controller diese Antwort als Zeichenfolge Rendern zu lassen, ändern wir den Controller, um stattdessen eine ansichtsvorlage zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="9d139-178">Rather than have the controller render this response as a string, let's change the controller to use a view template instead.</span></span> <span data-ttu-id="9d139-179">Die Ansichtsvorlage generiert eine dynamische Antwort. Das bedeutet, dass Sie die entsprechenden Datenelemente vom Controller an die Ansicht übergeben müssen, um die Antwort zu generieren.</span><span class="sxs-lookup"><span data-stu-id="9d139-179">The view template will generate a dynamic response, which means that you need to pass appropriate bits of data from the controller to the view in order to generate the response.</span></span> <span data-ttu-id="9d139-180">Hierzu können Sie den Controller die dynamischen Daten (Parameter) zu platzieren, die die ansichtsvorlage, in benötigt einem `ViewBag` -Objekt, das die ansichtsvorlage zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="9d139-180">You can do this by having the controller put the dynamic data (parameters) that the view template needs in a `ViewBag` object that the view template can then access.</span></span>

<span data-ttu-id="9d139-181">Wechseln Sie zurück zur der *HelloWorldController.cs* und zu ändern der `Welcome` -Methode zum Hinzufügen einer `Message` und `NumTimes` Wert der `ViewBag` Objekt.</span><span class="sxs-lookup"><span data-stu-id="9d139-181">Return to the *HelloWorldController.cs* file and change the `Welcome` method to add a `Message` and `NumTimes` value to the `ViewBag` object.</span></span> <span data-ttu-id="9d139-182">`ViewBag` ist ein dynamisches Objekt, was bedeutet, dass die gewünschten, Sie platzieren können. die `ViewBag` Objekt verfügt über keine definierten Eigenschaften aus, bis Sie etwas darin einfügen.</span><span class="sxs-lookup"><span data-stu-id="9d139-182">`ViewBag` is a dynamic object, which means you can put whatever you want in to it; the `ViewBag` object has no defined properties until you put something inside it.</span></span> <span data-ttu-id="9d139-183">Die [ASP.NET MVC-modellbindungssystem](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx) ordnet automatisch die benannten Parameter (`name` und `numTimes`) aus der Abfragezeichenfolge in der Adressleiste den Parametern der Methode.</span><span class="sxs-lookup"><span data-stu-id="9d139-183">The [ASP.NET MVC model binding system](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx) automatically maps the named parameters (`name` and `numTimes`) from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="9d139-184">Die vollständige Datei *HelloWorldController.cs* sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="9d139-184">The complete *HelloWorldController.cs* file looks like this:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample7.cs)]

<span data-ttu-id="9d139-185">Jetzt die `ViewBag` Objekt enthält Daten, die automatisch an die Ansicht übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="9d139-185">Now the `ViewBag` object contains data that will be passed to the view automatically.</span></span>

<span data-ttu-id="9d139-186">Als Nächstes fügen Sie eine ansichtsvorlage!</span><span class="sxs-lookup"><span data-stu-id="9d139-186">Next, you need a Welcome view template!</span></span> <span data-ttu-id="9d139-187">In der **erstellen** , wählen Sie im Menü **erstellen MvcMovie** um sicherzustellen, dass das Projekt kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="9d139-187">In the **Build** menu, select **Build MvcMovie** to make sure the project is compiled.</span></span>

<span data-ttu-id="9d139-188">Klicken Sie dann mit der rechten Maustaste innerhalb der `Welcome` -Methode, und klicken Sie auf **Ansicht hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="9d139-188">Then right-click inside the `Welcome` method and click **Add View**.</span></span>

![](adding-a-view/_static/image10.png)

<span data-ttu-id="9d139-189">Dabei handelt es sich die **Ansicht hinzufügen** das Dialogfeld sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="9d139-189">Here's what the **Add View** dialog box looks like:</span></span>

![](adding-a-view/_static/image11.png)

<span data-ttu-id="9d139-190">Klicken Sie auf **hinzufügen**, und fügen Sie den folgenden Code unter der `<h2>` Element in der neuen *Welcome.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="9d139-190">Click **Add**, and then add the following code under the `<h2>` element in the new *Welcome.cshtml* file.</span></span> <span data-ttu-id="9d139-191">Erstellen Sie eine Schleife, die besagt, &quot;Hello&quot; so oft wie der Benutzer sagt sollte.</span><span class="sxs-lookup"><span data-stu-id="9d139-191">You'll create a loop that says &quot;Hello&quot; as many times as the user says it should.</span></span> <span data-ttu-id="9d139-192">Die vollständige *Welcome.cshtml* Datei ist unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="9d139-192">The complete *Welcome.cshtml* file is shown below.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample8.cshtml)]

<span data-ttu-id="9d139-193">Führen Sie die Anwendung, und navigieren Sie zur folgenden URL:</span><span class="sxs-lookup"><span data-stu-id="9d139-193">Run the application and browse to the following URL:</span></span>

`http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4`

<span data-ttu-id="9d139-194">Jetzt Daten der URL entnommen und übergeben dem Controller mithilfe der [model Binders](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d139-194">Now data is taken from the URL and passed to the controller using the [model binder](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx).</span></span> <span data-ttu-id="9d139-195">Der Controller Packt die Daten in einem `ViewBag` Objekt und übergibt das Objekt an die Ansicht.</span><span class="sxs-lookup"><span data-stu-id="9d139-195">The controller packages the data into a `ViewBag` object and passes that object to the view.</span></span> <span data-ttu-id="9d139-196">Die Ansicht zeigt dann die Daten im HTML-Format für den Benutzer.</span><span class="sxs-lookup"><span data-stu-id="9d139-196">The view then displays the data as HTML to the user.</span></span>

![](adding-a-view/_static/image12.png)

<span data-ttu-id="9d139-197">Im obigen Beispiel haben wir verwendet eine `ViewBag` Objekt, das Daten vom Controller an eine Ansicht zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="9d139-197">In the sample above, we used a `ViewBag` object to pass data from the controller to a view.</span></span> <span data-ttu-id="9d139-198">In diesem Tutorial letzteren Fall ein Ansichtsmodell verwenden wir Daten von einem Controller an eine Ansicht zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="9d139-198">Latter in the tutorial, we will use a view model to pass data from a controller to a view.</span></span> <span data-ttu-id="9d139-199">Die ViewModel-Ansatz zum Übergeben von Daten wird über den Ansicht-Behälter-Ansatz im Allgemeinen vorzuziehen.</span><span class="sxs-lookup"><span data-stu-id="9d139-199">The view model approach to passing data is generally much preferred over the view bag approach.</span></span> <span data-ttu-id="9d139-200">Finden Sie im Blogeintrag [dynamische V stark typisierte Ansichten](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) für Weitere Informationen.</span><span class="sxs-lookup"><span data-stu-id="9d139-200">See the blog entry [Dynamic V Strongly Typed Views](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) for more information.</span></span>

<span data-ttu-id="9d139-201">Nun, das eine Art wurde von einem &quot;M&quot; für Modell, jedoch nicht der Art Datenbank.</span><span class="sxs-lookup"><span data-stu-id="9d139-201">Well, that was a kind of an &quot;M&quot; for model, but not the database kind.</span></span> <span data-ttu-id="9d139-202">Lassen Sie uns das Gelernte umsetzen und eine Filmdatenbank erstellen.</span><span class="sxs-lookup"><span data-stu-id="9d139-202">Let's take what we've learned and create a database of movies.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9d139-203">[Zurück](adding-a-controller.md)
> [Weiter](adding-a-model.md)</span><span class="sxs-lookup"><span data-stu-id="9d139-203">[Previous](adding-a-controller.md)
[Next](adding-a-model.md)</span></span>
