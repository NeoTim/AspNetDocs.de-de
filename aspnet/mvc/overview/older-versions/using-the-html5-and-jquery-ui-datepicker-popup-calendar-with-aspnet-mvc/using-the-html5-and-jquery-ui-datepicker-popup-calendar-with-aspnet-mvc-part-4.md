---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Verwenden des HTML5 und jQuery UI DatePicker-Popup Kalenders mit ASP.NET MVC-Part 4 | Microsoft-Dokumentation
author: Rick-Anderson
description: Dieses Tutorial vermittelt Ihnen die Grundlagen der Arbeit mit Editor-Vorlagen, Anzeige Vorlagen und des jQuery UI DatePicker-Popup Kalenders in einer ASP.net MV...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 583e782641efea9a9517edb31f7718b28203d756
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78433251"
---
# <a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="9a57e-103">Verwenden des HTML5 und jQuery UI DatePicker-Popup Kalenders mit ASP.NET MVC-Part 4</span><span class="sxs-lookup"><span data-stu-id="9a57e-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>

<span data-ttu-id="9a57e-104">von [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="9a57e-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="9a57e-105">Dieses Tutorial vermittelt Ihnen die Grundlagen der Arbeit mit Editor-Vorlagen, Anzeige Vorlagen und des jQuery UI DatePicker-Popup Kalenders in einer ASP.NET MVC-Webanwendung.</span><span class="sxs-lookup"><span data-stu-id="9a57e-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>

### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="9a57e-106">Hinzufügen einer Vorlage zum Bearbeiten von Datumsangaben</span><span class="sxs-lookup"><span data-stu-id="9a57e-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="9a57e-107">In diesem Abschnitt erstellen Sie eine Vorlage zum Bearbeiten von Datumsangaben, die angewendet werden, wenn ASP.NET MVC eine Benutzeroberfläche zum Bearbeiten von Modell Eigenschaften anzeigt, die mit der **Date** -Enumeration des [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) -Attributs gekennzeichnet sind.</span><span class="sxs-lookup"><span data-stu-id="9a57e-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="9a57e-108">Die Vorlage stellt nur das Datum dar. die Zeit wird nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9a57e-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="9a57e-109">In der Vorlage verwenden Sie den [jQuery UI DatePicker](http://jqueryui.com/demos/datepicker/) -Popup Kalender, um eine Möglichkeit zum Bearbeiten von Datumsangaben zu bieten.</span><span class="sxs-lookup"><span data-stu-id="9a57e-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="9a57e-110">Öffnen Sie zunächst die Datei *Movie.cs* , und fügen Sie das [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) -Attribut mit der **Date** -Enumeration der `ReleaseDate`-Eigenschaft hinzu, wie im folgenden Code gezeigt:</span><span class="sxs-lookup"><span data-stu-id="9a57e-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="9a57e-111">Dieser Code bewirkt, dass das `ReleaseDate`-Feld in Anzeige Vorlagen und Bearbeitungs Vorlagen ohne die Uhrzeit angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="9a57e-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="9a57e-112">Wenn Ihre Anwendung eine *Date. cshtml* -Vorlage im Ordner " *views\shared\editortemplates* " oder im Ordner " *views\movies\editortemplates* " enthält, wird diese Vorlage zum renderingbeliebiger `DateTime` Eigenschaft während der Bearbeitung verwendet.</span><span class="sxs-lookup"><span data-stu-id="9a57e-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="9a57e-113">Andernfalls zeigt das integrierte ASP.net-Vorlagen System die Eigenschaft als Datum an.</span><span class="sxs-lookup"><span data-stu-id="9a57e-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="9a57e-114">Drücken Sie STRG+F5, um die Anwendung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="9a57e-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="9a57e-115">Wählen Sie einen Link bearbeiten aus, um zu überprüfen, ob im Eingabefeld für das Veröffentlichungsdatum nur das Datum angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="9a57e-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="9a57e-116">Erweitern Sie in **Projektmappen-Explorer**den Ordner *Ansichten* , erweitern Sie den Ordner frei *gegeben* , und klicken Sie dann mit der rechten Maustaste auf den Ordner *views\shared\editortemplates* .</span><span class="sxs-lookup"><span data-stu-id="9a57e-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="9a57e-117">Klicken Sie auf **Hinzufügen**und dann **auf anzeigen**.</span><span class="sxs-lookup"><span data-stu-id="9a57e-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="9a57e-118">Das Dialogfeld **Ansicht hinzufügen** wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9a57e-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="9a57e-119">Geben Sie im Feld **Ansichts Name** &quot;Datum&quot;ein.</span><span class="sxs-lookup"><span data-stu-id="9a57e-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="9a57e-120">Aktivieren Sie das Kontrollkästchen **als Teilansicht erstellen** .</span><span class="sxs-lookup"><span data-stu-id="9a57e-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="9a57e-121">Stellen Sie sicher, dass die Kontrollkästchen **Layout oder Master Seite verwenden** und **eine stark typisierte Ansicht erstellen** nicht aktiviert sind.</span><span class="sxs-lookup"><span data-stu-id="9a57e-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="9a57e-122">Klicken Sie auf **Hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="9a57e-122">Click **Add**.</span></span> <span data-ttu-id="9a57e-123">Die Vorlage " *views\shared\editor templates\date.cshtml* " wird erstellt.</span><span class="sxs-lookup"><span data-stu-id="9a57e-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="9a57e-124">Fügen Sie der Vorlage " *views\shared\editor templates\date.cshtml* " den folgenden Code hinzu.</span><span class="sxs-lookup"><span data-stu-id="9a57e-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="9a57e-125">In der ersten Zeile wird das Modell als `DateTime` Typ deklariert.</span><span class="sxs-lookup"><span data-stu-id="9a57e-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="9a57e-126">Obwohl Sie den Modelltyp nicht in Bearbeitungs-und Anzeige Vorlagen deklarieren müssen, ist es eine bewährte Vorgehensweise, dass Sie die Kompilierzeit Überprüfung des Modells erhalten, das an die Ansicht übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="9a57e-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="9a57e-127">(Ein weiterer Vorteil ist, dass Sie dann IntelliSense für das Modell in der Ansicht in Visual Studio erhalten.) Wenn der Modelltyp nicht deklariert ist, betrachtet ASP.NET MVC ihn als [dynamischen](https://msdn.microsoft.com/library/dd264741.aspx) Typ, und es ist keine Typüberprüfung zur Kompilierzeit vorhanden.</span><span class="sxs-lookup"><span data-stu-id="9a57e-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="9a57e-128">Wenn Sie das Modell als `DateTime` Typ deklarieren, wird es stark typisiert.</span><span class="sxs-lookup"><span data-stu-id="9a57e-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="9a57e-129">Die zweite Zeile ist nur ein literales HTML-Markup, das &quot;mithilfe der Datums Vorlage&quot; vor einem Datumsfeld anzeigt.</span><span class="sxs-lookup"><span data-stu-id="9a57e-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="9a57e-130">Diese Zeile wird temporär verwendet, um zu überprüfen, ob diese Datums Vorlage verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9a57e-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="9a57e-131">Die nächste Zeile ist ein [HTML. TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) -Hilfsprogramm, das ein `input` Feld rendert, das ein Textfeld ist.</span><span class="sxs-lookup"><span data-stu-id="9a57e-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="9a57e-132">Der dritte Parameter für das Hilfsprogramm verwendet einen anonymen Typ, um die-Klasse für das Textfeld auf `datefield` und den Typ `date`festzulegen.</span><span class="sxs-lookup"><span data-stu-id="9a57e-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="9a57e-133">(Da `class` in C#reserviert ist, müssen Sie das `@` Zeichen verwenden, um das `class`-Attribut im C# Parser zu Escapezeichen zu versehen.)</span><span class="sxs-lookup"><span data-stu-id="9a57e-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="9a57e-134">Der `date` Typ ist ein HTML5-Eingabetyp, der HTML5-fähigen Browsern das Rendering eines HTML5-Kalender Steuer Elements ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="9a57e-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="9a57e-135">Später fügen Sie JavaScript hinzu, um den jQuery-DatePicker mithilfe der `datefield`-Klasse mit dem `Html.TextBox`-Element zu verbinden.</span><span class="sxs-lookup"><span data-stu-id="9a57e-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="9a57e-136">Drücken Sie STRG+F5, um die Anwendung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="9a57e-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="9a57e-137">Sie können überprüfen, ob die `ReleaseDate`-Eigenschaft in der Bearbeitungs Ansicht die Vorlage bearbeiten verwendet, da die Vorlage &quot;mithilfe von Datums Vorlagen&quot; direkt vor dem Eingabefeld `ReleaseDate` Text anzeigt, wie in der folgenden Abbildung dargestellt:</span><span class="sxs-lookup"><span data-stu-id="9a57e-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="9a57e-138">Zeigen Sie in Ihrem Browser die Quelle der Seite an.</span><span class="sxs-lookup"><span data-stu-id="9a57e-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="9a57e-139">(Klicken Sie beispielsweise mit der rechten Maustaste auf die Seite, und wählen Sie **Quelle anzeigen**aus.) Im folgenden Beispiel wird ein Teil des Markups für die Seite gezeigt, das die `class`-und `type` Attribute im gerenderten HTML-Code veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="9a57e-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="9a57e-140">Kehren Sie zur Vorlage " *views\shared\editor templates\date.cshtml* " zurück, und entfernen Sie die &quot;mithilfe der Datums Vorlage&quot; Markup.</span><span class="sxs-lookup"><span data-stu-id="9a57e-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="9a57e-141">Die fertige Vorlage sieht nun wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="9a57e-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="9a57e-142">Hinzufügen eines jQuery UI DatePicker-Popup Kalenders mithilfe von nuget</span><span class="sxs-lookup"><span data-stu-id="9a57e-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="9a57e-143">In diesem Abschnitt fügen Sie den [jQuery UI DatePicker](http://jqueryui.com/demos/datepicker/) -Popup Kalender zur Date-Edit-Vorlage hinzu.</span><span class="sxs-lookup"><span data-stu-id="9a57e-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="9a57e-144">Die [jQuery UI](http://jqueryui.com/) -Bibliothek bietet Unterstützung für Animationen, erweiterte Effekte und anpassbare Widgets.</span><span class="sxs-lookup"><span data-stu-id="9a57e-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="9a57e-145">Es basiert auf der jQuery-JavaScript-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="9a57e-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="9a57e-146">Der DatePicker-Popup Kalender macht es einfach und natürlich, Datumsangaben mithilfe eines Kalenders einzugeben, anstatt eine Zeichenfolge einzugeben.</span><span class="sxs-lookup"><span data-stu-id="9a57e-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="9a57e-147">Der Popup Kalender schränkt Benutzer auch auf rechtliche Daten ein – bei einem normalen Text Eintrag für ein Datum können Sie z. b. `2/33/1999` (am 33. Februar, 1999) eingeben, aber der [jQuery UI DatePicker](http://jqueryui.com/demos/datepicker/) -Popup Kalender lässt dies nicht zu.</span><span class="sxs-lookup"><span data-stu-id="9a57e-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="9a57e-148">Zunächst müssen Sie die jQuery-UI-Bibliotheken installieren.</span><span class="sxs-lookup"><span data-stu-id="9a57e-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="9a57e-149">Dazu verwenden Sie nuget, ein Paket-Manager, der in SP1-Versionen von Visual Studio 2010 und Visual Web Developer enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="9a57e-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="9a57e-150">Klicken Sie in Visual Web Developer im **Menü Extras** auf **nuget-Paket-Manager** , und wählen Sie dann **nuget-Pakete verwalten**aus.</span><span class="sxs-lookup"><span data-stu-id="9a57e-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="9a57e-151">Hinweis: Wenn der **nuget-Paket-Manager** -Befehl **im Menü Extras** nicht angezeigt wird, müssen Sie nuget installieren, indem Sie die Anweisungen auf der nuget-Website [Installieren](http://docs.nuget.org/docs/start-here/installing-nuget) .</span><span class="sxs-lookup"><span data-stu-id="9a57e-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="9a57e-152">Wenn Sie Visual Studio anstelle von Visual Web Developer verwenden, wählen Sie im Menü **Extras den** Befehl **nuget-Paket-Manager** und dann **Bibliothekspaket Verweis hinzufügen**aus.</span><span class="sxs-lookup"><span data-stu-id="9a57e-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="9a57e-153">Klicken Sie im Dialogfeld **mvcmovie-nuget-Pakete verwalten** auf die Registerkarte **Online** , und geben Sie dann &quot;jQuery. UI&quot; in das Suchfeld ein.</span><span class="sxs-lookup"><span data-stu-id="9a57e-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="9a57e-154">Wählen Sie j **Query UI Widgets: DatePicker**aus, und wählen Sie dann die Schaltfläche **Installieren** aus.</span><span class="sxs-lookup"><span data-stu-id="9a57e-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="9a57e-155">Nuget fügt diese Debugversionen und die minimalen Versionen von jQuery UI Core und der jQuery UI Date Picker dem Projekt hinzu:</span><span class="sxs-lookup"><span data-stu-id="9a57e-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="9a57e-156">*"jQuery. UI. Core. js"*</span><span class="sxs-lookup"><span data-stu-id="9a57e-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="9a57e-157">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="9a57e-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="9a57e-158">*"jQuery. UI. DatePicker. js"*</span><span class="sxs-lookup"><span data-stu-id="9a57e-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="9a57e-159">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="9a57e-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="9a57e-160">Hinweis: die Debugversionen (die Dateien ohne die Erweiterung " *. min. js* ") sind für das Debuggen hilfreich, aber an einer Produktions Website würden Sie nur die minierten Versionen einschließen.</span><span class="sxs-lookup"><span data-stu-id="9a57e-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="9a57e-161">Um die jQuery-Datumsauswahl tatsächlich verwenden zu können, müssen Sie ein jQuery-Skript erstellen, mit dem das Calendar-widget mit der Bearbeitungs Vorlage eingebunden wird.</span><span class="sxs-lookup"><span data-stu-id="9a57e-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="9a57e-162">Klicken Sie in **Projektmappen-Explorer**mit der rechten Maustaste auf den Ordner *Scripts* , und wählen Sie **Hinzufügen**, **Neues Element**und dann **JScript-Datei**aus.</span><span class="sxs-lookup"><span data-stu-id="9a57e-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="9a57e-163">Nennen Sie die Datei *datepickerready. js*.</span><span class="sxs-lookup"><span data-stu-id="9a57e-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="9a57e-164">Fügen Sie der Datei " *datepickerready. js* " den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="9a57e-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="9a57e-165">Wenn Sie mit jQuery nicht vertraut sind, finden Sie hier eine kurze Erläuterung dazu: die erste Zeile ist die &quot;jQuery Ready&quot;-Funktion, die aufgerufen wird, wenn alle DOM-Elemente in einer Seite geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="9a57e-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="9a57e-166">Die zweite Zeile wählt alle DOM-Elemente aus, die den Klassennamen `datefield`haben, und ruft dann die `datepicker`-Funktion für jedes dieser Elemente auf.</span><span class="sxs-lookup"><span data-stu-id="9a57e-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="9a57e-167">(Denken Sie daran, dass Sie die `datefield`-Klasse der Vorlage " *views\shared\editortemplates\date.cshtml* " zuvor in diesem Tutorial hinzugefügt haben.)</span><span class="sxs-lookup"><span data-stu-id="9a57e-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="9a57e-168">Öffnen Sie als nächstes die Datei " *views\shared\\_Layout. cshtml* ".</span><span class="sxs-lookup"><span data-stu-id="9a57e-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="9a57e-169">Sie müssen Verweise auf die folgenden Dateien hinzufügen, die alle erforderlich sind, damit Sie die Datumsauswahl verwenden können:</span><span class="sxs-lookup"><span data-stu-id="9a57e-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="9a57e-170">*Content/Themes/Base/jQuery. UI. Core. CSS*</span><span class="sxs-lookup"><span data-stu-id="9a57e-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="9a57e-171">*Content/Themes/Base/jQuery. UI. DatePicker. CSS*</span><span class="sxs-lookup"><span data-stu-id="9a57e-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="9a57e-172">*Content/Themes/Base/jQuery. UI. Theme. CSS*</span><span class="sxs-lookup"><span data-stu-id="9a57e-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="9a57e-173">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="9a57e-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="9a57e-174">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="9a57e-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="9a57e-175">*Datepickerready. js*</span><span class="sxs-lookup"><span data-stu-id="9a57e-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="9a57e-176">Das folgende Beispiel zeigt den tatsächlichen Code, den Sie am Ende des `head`-Elements in der Datei *views\shared\\_Layout. cshtml* hinzufügen sollten.</span><span class="sxs-lookup"><span data-stu-id="9a57e-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="9a57e-177">Der Abschnitt Complete `head` wird hier angezeigt:</span><span class="sxs-lookup"><span data-stu-id="9a57e-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="9a57e-178">Die [URL-Inhalts](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) Hilfsmethode konvertiert den Ressourcen Pfad in einen absoluten Pfad.</span><span class="sxs-lookup"><span data-stu-id="9a57e-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="9a57e-179">Sie müssen `@URL.Content` verwenden, um auf diese Ressourcen korrekt zu verweisen, wenn die Anwendung auf IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="9a57e-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="9a57e-180">Drücken Sie STRG+F5, um die Anwendung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="9a57e-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="9a57e-181">Wählen Sie einen Bearbeitungs Link aus, und platzieren Sie die Einfügemarke im **ReleaseDate** -Feld.</span><span class="sxs-lookup"><span data-stu-id="9a57e-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="9a57e-182">Der jQuery UI-Popup Kalender wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9a57e-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="9a57e-183">Wie die meisten jQuery-Steuerelemente ermöglicht Ihnen das DatePicker-Steuerelement eine umfassende Anpassung.</span><span class="sxs-lookup"><span data-stu-id="9a57e-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="9a57e-184">Weitere Informationen finden Sie unter [visuelle Anpassung: Entwerfen eines jQuery UI-Designs](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) auf der [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) -Website.</span><span class="sxs-lookup"><span data-stu-id="9a57e-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="9a57e-185">Unterstützen des HTML5-Datums Eingabe-Steuer Elements</span><span class="sxs-lookup"><span data-stu-id="9a57e-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="9a57e-186">Da mehr Browser HTML5 unterstützen, sollten Sie die native HTML5-Eingabe verwenden, wie z. b. das `date` input-Element, und den jQuery-Benutzeroberflächen Kalender nicht verwenden.</span><span class="sxs-lookup"><span data-stu-id="9a57e-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="9a57e-187">Sie können der Anwendung Logik hinzufügen, um automatisch HTML5-Steuerelemente zu verwenden, wenn Sie vom Browser unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="9a57e-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="9a57e-188">Ersetzen Sie dazu den Inhalt der Datei " *datepickerready. js* " durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="9a57e-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="9a57e-189">In der ersten Zeile dieses Skripts wird modernizr verwendet, um zu überprüfen, ob HTML5-Datums Eingaben unterstützt werden</span><span class="sxs-lookup"><span data-stu-id="9a57e-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="9a57e-190">Wenn dies nicht unterstützt wird, wird stattdessen die Datumsauswahl der jQuery-Benutzeroberfläche eingebunden.</span><span class="sxs-lookup"><span data-stu-id="9a57e-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="9a57e-191">([Modernizr](http://www.modernizr.com/docs/) ist eine Open-Source-JavaScript-Bibliothek, die die Verfügbarkeit von systemeigenen Implementierungen von HTML5 und CSS3 erkennt.</span><span class="sxs-lookup"><span data-stu-id="9a57e-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="9a57e-192">Modernizr ist in allen neuen ASP.NET MVC-Projekten enthalten, die Sie erstellen.)</span><span class="sxs-lookup"><span data-stu-id="9a57e-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="9a57e-193">Nachdem Sie diese Änderung vorgenommen haben, können Sie Sie mit einem Browser testen, der HTML5 unterstützt, wie z. b. Opera 11.</span><span class="sxs-lookup"><span data-stu-id="9a57e-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="9a57e-194">Führen Sie die Anwendung mithilfe eines HTML5-kompatiblen Browsers aus, und bearbeiten Sie einen filmeintrag.</span><span class="sxs-lookup"><span data-stu-id="9a57e-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="9a57e-195">Das HTML5-Datums Steuerelement wird anstelle des jQuery UI-Popup Kalenders verwendet:</span><span class="sxs-lookup"><span data-stu-id="9a57e-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="9a57e-196">Da in neuen Versionen von Browsern HTML5 inkrementell implementiert wird, ist es jetzt sinnvoll, Ihrer Website Code hinzuzufügen, der eine Vielzahl von HTML5-Unterstützung bietet.</span><span class="sxs-lookup"><span data-stu-id="9a57e-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="9a57e-197">Beispielsweise wird unten ein robusteres *datepickerready. js* -Skript angezeigt, mit dem Ihre Site Browser unterstützen kann, die nur teilweise das HTML5-Datums Steuerelement unterstützen.</span><span class="sxs-lookup"><span data-stu-id="9a57e-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="9a57e-198">Dieses Skript wählt HTML5-`input` Elemente vom Typ `date` aus, die das HTML5-Datums Steuerelement nicht vollständig unterstützen.</span><span class="sxs-lookup"><span data-stu-id="9a57e-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="9a57e-199">Für diese Elemente verknüpft Sie den jQuery UI-Popup Kalender und ändert dann das `type`-Attribut von `date` in `text`.</span><span class="sxs-lookup"><span data-stu-id="9a57e-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="9a57e-200">Durch Ändern des `type`-Attributs von `date` in `text`wird die Unterstützung von teilweiser HTML5-Datumsangaben entfernt.</span><span class="sxs-lookup"><span data-stu-id="9a57e-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="9a57e-201">Ein noch robusteres *datepickerready. js* -Skript finden Sie unter [jsfiddle](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="9a57e-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="9a57e-202">Hinzufügen von Datumsangaben, die NULL-Werte zulassen</span><span class="sxs-lookup"><span data-stu-id="9a57e-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="9a57e-203">Wenn Sie eine der vorhandenen Datums Vorlagen verwenden und ein NULL-Datum übergeben, erhalten Sie einen Laufzeitfehler.</span><span class="sxs-lookup"><span data-stu-id="9a57e-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="9a57e-204">Damit die Datums Vorlagen stabiler werden, ändern Sie Sie, um NULL-Werte zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="9a57e-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="9a57e-205">Zum unterstützen von Datumsangaben, die NULL-Werte zulassen, ändern Sie den Code in *views\shared\displaytemplates\datetime.cshtml* in den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="9a57e-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="9a57e-206">Der Code gibt eine leere Zeichenfolge zurück, wenn das Modell **null**ist.</span><span class="sxs-lookup"><span data-stu-id="9a57e-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="9a57e-207">Ändern Sie den Code in der Datei *views\shared\editor templates\date.cshtml* wie folgt:</span><span class="sxs-lookup"><span data-stu-id="9a57e-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="9a57e-208">Wenn dieser Code ausgeführt wird und das Modell nicht NULL ist, wird der `DateTime` Wert des Modells verwendet.</span><span class="sxs-lookup"><span data-stu-id="9a57e-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="9a57e-209">Wenn das Modell NULL ist, wird stattdessen das aktuelle Datum verwendet.</span><span class="sxs-lookup"><span data-stu-id="9a57e-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="9a57e-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="9a57e-210">Wrapup</span></span>

<span data-ttu-id="9a57e-211">In diesem Lernprogramm wurden die Grundlagen von ASP.net-Vorlagen behandelt, und es wird gezeigt, wie Sie den jQuery UI DatePicker-Popup Kalender in einer ASP.NET MVC-Anwendung verwenden.</span><span class="sxs-lookup"><span data-stu-id="9a57e-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="9a57e-212">Weitere Informationen finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="9a57e-212">For more information, try these resources:</span></span>

- <span data-ttu-id="9a57e-213">Informationen zur Lokalisierung finden Sie unter rajeesh es Blog [jqueryui DatePicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="9a57e-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="9a57e-214">Weitere Informationen zur jQuery-Benutzeroberfläche finden Sie unter [jQuery UI](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="9a57e-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="9a57e-215">Informationen dazu, wie das DatePicker-Steuerelement lokalisiert wird, finden Sie unter [UI/DatePicker/Lokalisierung](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="9a57e-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="9a57e-216">Weitere Informationen zu den ASP.NET-MVC-Vorlagen finden Sie in der Blog Reihe von Brad Wilson unter [ASP.NET MVC 2-Vorlagen](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="9a57e-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="9a57e-217">Obwohl die Reihe für ASP.NET MVC 2 geschrieben wurde, gilt das Material weiterhin für die aktuelle Version von ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="9a57e-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="9a57e-218">Previous</span><span class="sxs-lookup"><span data-stu-id="9a57e-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
