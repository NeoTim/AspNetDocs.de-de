---
uid: mvc/overview/performance/bundling-and-minification
title: Bündelung und Minimierung | Microsoft-Dokumentation
author: Rick-Anderson
description: Bündelung und Minimierung sind zwei Verfahren, die Sie in ASP.NET 4,5 zur Verbesserung der Anforderungs Ladezeit verwenden können. Bündelung und Minimierung verbessern die Ladezeit durch reducin...
ms.author: riande
ms.date: 08/23/2012
ms.assetid: 5894dc13-5d45-4dad-8096-136499120f1d
msc.legacyurl: /mvc/overview/performance/bundling-and-minification
msc.type: authoredcontent
ms.openlocfilehash: 239980d747c6e0d6be1e9b4fe0371e276e37cf21
ms.sourcegitcommit: 88fc80e3f65aebdf61ec9414810ddbc31c543f04
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/22/2020
ms.locfileid: "76519283"
---
# <a name="bundling-and-minification"></a><span data-ttu-id="1c98d-104">Bundling und Minimierung</span><span class="sxs-lookup"><span data-stu-id="1c98d-104">Bundling and Minification</span></span>

<span data-ttu-id="1c98d-105">von [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="1c98d-105">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="1c98d-106">Bündelung und Minimierung sind zwei Verfahren, die Sie in ASP.NET 4,5 zur Verbesserung der Anforderungs Ladezeit verwenden können.</span><span class="sxs-lookup"><span data-stu-id="1c98d-106">Bundling and minification are two techniques you can use in ASP.NET 4.5 to improve request load time.</span></span> <span data-ttu-id="1c98d-107">Bündelung und Minimierung verbessern die Ladezeit, indem die Anzahl der Anforderungen an den Server reduziert und die Größe der angeforderten Assets (z. b. CSS und JavaScript) reduziert wird.</span><span class="sxs-lookup"><span data-stu-id="1c98d-107">Bundling and minification improves load time by reducing the number of requests to the server and reducing the size of requested assets (such as CSS and JavaScript.)</span></span>

<span data-ttu-id="1c98d-108">Die meisten der aktuellen Haupt Browser beschränken die Anzahl [gleichzeitiger Verbindungen](http://www.browserscope.org/?category=network) pro Hostname auf sechs.</span><span class="sxs-lookup"><span data-stu-id="1c98d-108">Most of the current major browsers limit the number of [simultaneous connections](http://www.browserscope.org/?category=network) per each hostname to six.</span></span> <span data-ttu-id="1c98d-109">Dies bedeutet, dass während der Verarbeitung von sechs Anforderungen zusätzliche Anforderungen für Assets auf einem Host vom Browser in die Warteschlange eingereiht werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-109">That means that while six requests are being processed, additional requests for assets on a host will be queued by the browser.</span></span> <span data-ttu-id="1c98d-110">In der folgenden Abbildung zeigt die Registerkarten Netzwerk der Internet Explorer F12-Tools die zeitliche Steuerung für Assets, die für die Info-Ansicht einer Beispielanwendung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="1c98d-110">In the image below, the IE F12 developer tools network tabs shows the timing for assets required by the About view of a sample application.</span></span>

![B/M](bundling-and-minification/_static/image1.png)

<span data-ttu-id="1c98d-112">Die grauen Balken zeigen die Zeit an, zu der die Anforderung vom Browser in die Warteschlange eingereiht wird</span><span class="sxs-lookup"><span data-stu-id="1c98d-112">The gray bars show the time the request is queued by the browser waiting on the six connection limit.</span></span> <span data-ttu-id="1c98d-113">Der gelbe Balken ist die Anforderungs Zeit bis zum ersten Byte, d. h. die Zeit, die benötigt wird, um die Anforderung zu senden und die erste Antwort vom Server zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-113">The yellow bar is the request time to first byte, that is, the time taken to send the request and receive the first response from the server.</span></span> <span data-ttu-id="1c98d-114">Die blauen Balken zeigen die Zeit an, die zum Empfangen der Antwortdaten vom Server benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="1c98d-114">The blue bars show the time taken to receive the response data from the server.</span></span> <span data-ttu-id="1c98d-115">Sie können auf ein Medienobjekt doppelklicken, um ausführliche Informationen zur zeitlichen Steuerung zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="1c98d-115">You can double-click on an asset to get detailed timing information.</span></span> <span data-ttu-id="1c98d-116">Die folgende Abbildung zeigt z. b. die zeitlichen Details zum Laden der Datei */Scripts/myscripts/JavaScript6.js* .</span><span class="sxs-lookup"><span data-stu-id="1c98d-116">For example, the following image shows the timing details for loading the */Scripts/MyScripts/JavaScript6.js* file.</span></span>

![](bundling-and-minification/_static/image2.png)

<span data-ttu-id="1c98d-117">Die vorherige Abbildung zeigt das **Start** Ereignis, das den Zeitpunkt der Warteschlange der Anforderung anzeigt, da der Browser die Anzahl gleichzeitiger Verbindungen einschränkt.</span><span class="sxs-lookup"><span data-stu-id="1c98d-117">The preceding image shows the **Start** event, which gives the time the request was queued because of the browser limit the number of simultaneous connections.</span></span> <span data-ttu-id="1c98d-118">In diesem Fall wurde die Anforderung für 46 Millisekunden in die Warteschlange eingereiht, um auf den Abschluss einer anderen Anforderung zu warten.</span><span class="sxs-lookup"><span data-stu-id="1c98d-118">In this case, the request was queued for 46 milliseconds waiting for another request to complete.</span></span>

## <a name="bundling"></a><span data-ttu-id="1c98d-119">Anbietet</span><span class="sxs-lookup"><span data-stu-id="1c98d-119">Bundling</span></span>

<span data-ttu-id="1c98d-120">Bündelung ist ein neues Feature in ASP.NET 4,5, das das kombinieren oder bündeln mehrerer Dateien in einer einzigen Datei vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="1c98d-120">Bundling is a new feature in ASP.NET 4.5 that makes it easy to combine or bundle multiple files into a single file.</span></span> <span data-ttu-id="1c98d-121">Sie können CSS, JavaScript und andere Bündel erstellen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-121">You can create CSS, JavaScript and other bundles.</span></span> <span data-ttu-id="1c98d-122">Weniger Dateien bedeuten weniger HTTP-Anforderungen und können die Leistung der ersten Seiten Auslastung verbessern.</span><span class="sxs-lookup"><span data-stu-id="1c98d-122">Fewer files means fewer HTTP requests and that can improve first page load performance.</span></span>

<span data-ttu-id="1c98d-123">In der folgenden Abbildung ist die gleiche Zeit Steuerungs Ansicht der oben gezeigten Ansicht "Ansicht" dargestellt, aber dieses Mal mit aktivierter Bündelung und Minimierung.</span><span class="sxs-lookup"><span data-stu-id="1c98d-123">The following image shows the same timing view of the About view shown previously, but this time with bundling and minification enabled.</span></span>

![](bundling-and-minification/_static/image3.png)

## <a name="minification"></a><span data-ttu-id="1c98d-124">Minimierung</span><span class="sxs-lookup"><span data-stu-id="1c98d-124">Minification</span></span>

<span data-ttu-id="1c98d-125">Bei der Minimierung werden verschiedene Code Optimierungen für Skripts oder CSS durchführt, z. b. das Entfernen unnötiger Leerzeichen und Kommentare und das verkürzen von Variablennamen auf ein Zeichen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-125">Minification performs a variety of different code optimizations to scripts or css, such as removing unnecessary white space and comments and shortening variable names to one character.</span></span> <span data-ttu-id="1c98d-126">Beachten Sie die folgende JavaScript-Funktion.</span><span class="sxs-lookup"><span data-stu-id="1c98d-126">Consider the following JavaScript function.</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample1.js)]

<span data-ttu-id="1c98d-127">Nach der Minimierung wird die Funktion auf Folgendes reduziert:</span><span class="sxs-lookup"><span data-stu-id="1c98d-127">After minification, the function is reduced to the following:</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample2.js)]

<span data-ttu-id="1c98d-128">Zusätzlich zum Entfernen von Kommentaren und unnötigen Leerraum wurden die folgenden Parameter und Variablennamen wie folgt umbenannt (verkürzt):</span><span class="sxs-lookup"><span data-stu-id="1c98d-128">In addition to removing the comments and unnecessary whitespace, the following parameters and variable names were renamed (shortened) as follows:</span></span>

| <span data-ttu-id="1c98d-129">**Original**</span><span class="sxs-lookup"><span data-stu-id="1c98d-129">**Original**</span></span> | <span data-ttu-id="1c98d-130">**Ann**</span><span class="sxs-lookup"><span data-stu-id="1c98d-130">**Renamed**</span></span> |
| --- | --- |
| <span data-ttu-id="1c98d-131">imageTagAndImageID</span><span class="sxs-lookup"><span data-stu-id="1c98d-131">imageTagAndImageID</span></span> | <span data-ttu-id="1c98d-132">n</span><span class="sxs-lookup"><span data-stu-id="1c98d-132">n</span></span> |
| <span data-ttu-id="1c98d-133">imageContext</span><span class="sxs-lookup"><span data-stu-id="1c98d-133">imageContext</span></span> | <span data-ttu-id="1c98d-134">t</span><span class="sxs-lookup"><span data-stu-id="1c98d-134">t</span></span> |
| <span data-ttu-id="1c98d-135">imageElement</span><span class="sxs-lookup"><span data-stu-id="1c98d-135">imageElement</span></span> | <span data-ttu-id="1c98d-136">i</span><span class="sxs-lookup"><span data-stu-id="1c98d-136">i</span></span> |

## <a name="impact-of-bundling-and-minification"></a><span data-ttu-id="1c98d-137">Auswirkungen von Bündelung und Minimierung</span><span class="sxs-lookup"><span data-stu-id="1c98d-137">Impact of Bundling and Minification</span></span>

<span data-ttu-id="1c98d-138">In der folgenden Tabelle werden verschiedene wichtige Unterschiede zwischen dem individuellen Auflisten aller Assets und der Verwendung von Bündelung und Minimierung (B/M) im Beispielprogramm veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="1c98d-138">The following table shows several important differences between listing all the assets individually and using bundling and minification (B/M) in the sample program.</span></span>

|  | <span data-ttu-id="1c98d-139">**Verwenden von B/M**</span><span class="sxs-lookup"><span data-stu-id="1c98d-139">**Using B/M**</span></span> | <span data-ttu-id="1c98d-140">**Ohne B/M**</span><span class="sxs-lookup"><span data-stu-id="1c98d-140">**Without B/M**</span></span> | <span data-ttu-id="1c98d-141">**Änderung**</span><span class="sxs-lookup"><span data-stu-id="1c98d-141">**Change**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1c98d-142">**Datei Anforderungen**</span><span class="sxs-lookup"><span data-stu-id="1c98d-142">**File Requests**</span></span> | <span data-ttu-id="1c98d-143">9</span><span class="sxs-lookup"><span data-stu-id="1c98d-143">9</span></span> | <span data-ttu-id="1c98d-144">34</span><span class="sxs-lookup"><span data-stu-id="1c98d-144">34</span></span> | <span data-ttu-id="1c98d-145">256%</span><span class="sxs-lookup"><span data-stu-id="1c98d-145">256%</span></span> |
| <span data-ttu-id="1c98d-146">**Gesendete KB**</span><span class="sxs-lookup"><span data-stu-id="1c98d-146">**KB Sent**</span></span> | <span data-ttu-id="1c98d-147">3.26</span><span class="sxs-lookup"><span data-stu-id="1c98d-147">3.26</span></span> | <span data-ttu-id="1c98d-148">11.92</span><span class="sxs-lookup"><span data-stu-id="1c98d-148">11.92</span></span> | <span data-ttu-id="1c98d-149">266%</span><span class="sxs-lookup"><span data-stu-id="1c98d-149">266%</span></span> |
| <span data-ttu-id="1c98d-150">**KB empfangen**</span><span class="sxs-lookup"><span data-stu-id="1c98d-150">**KB Received**</span></span> | <span data-ttu-id="1c98d-151">388.51</span><span class="sxs-lookup"><span data-stu-id="1c98d-151">388.51</span></span> | <span data-ttu-id="1c98d-152">530</span><span class="sxs-lookup"><span data-stu-id="1c98d-152">530</span></span> | <span data-ttu-id="1c98d-153">36%</span><span class="sxs-lookup"><span data-stu-id="1c98d-153">36%</span></span> |
| <span data-ttu-id="1c98d-154">**Ladezeit**</span><span class="sxs-lookup"><span data-stu-id="1c98d-154">**Load Time**</span></span> | <span data-ttu-id="1c98d-155">510 MS</span><span class="sxs-lookup"><span data-stu-id="1c98d-155">510 MS</span></span> | <span data-ttu-id="1c98d-156">780 MS</span><span class="sxs-lookup"><span data-stu-id="1c98d-156">780 MS</span></span> | <span data-ttu-id="1c98d-157">53%</span><span class="sxs-lookup"><span data-stu-id="1c98d-157">53%</span></span> |

<span data-ttu-id="1c98d-158">Die gesendeten Bytes Wiesen bei der Bündelung eine erhebliche Reduzierung auf, da Browser recht ausführlich mit den HTTP-Headern sind, die Sie für Anforderungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-158">The bytes sent had a significant reduction with bundling as browsers are fairly verbose with the HTTP headers they apply on requests.</span></span> <span data-ttu-id="1c98d-159">Die empfangene Verringerung der Bytes ist nicht so groß, weil die größten Dateien (*Skripts\\jQuery-UI-1.8.11. min. js* und *Skripts\\jQuery-1.7.1. min. js*) bereits minimiert wurden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-159">The received bytes reduction is not as large because the largest files (*Scripts\\jquery-ui-1.8.11.min.js* and *Scripts\\jquery-1.7.1.min.js*) are already minified.</span></span> <span data-ttu-id="1c98d-160">Hinweis: die Zeitangaben für das Beispielprogramm verwendeten das [Tool "](http://www.fiddler2.com/fiddler2/) Tools", um ein langsames Netzwerk zu simulieren.</span><span class="sxs-lookup"><span data-stu-id="1c98d-160">Note: The timings on the sample program used the [Fiddler](http://www.fiddler2.com/fiddler2/) tool to simulate a slow network.</span></span> <span data-ttu-id="1c98d-161">(Wählen Sie im Menü Fiddler- **Regeln** die Option **Leistung** und dann **Modem Geschwindigkeiten simulieren**aus.)</span><span class="sxs-lookup"><span data-stu-id="1c98d-161">(From the Fiddler **Rules** menu, select **Performance** then **Simulate Modem Speeds**.)</span></span>

## <a name="debugging-bundled-and-minified-javascript"></a><span data-ttu-id="1c98d-162">Debuggen von gebündelten und miniertem JavaScript</span><span class="sxs-lookup"><span data-stu-id="1c98d-162">Debugging Bundled and Minified JavaScript</span></span>

<span data-ttu-id="1c98d-163">Das Debuggen von JavaScript in einer Entwicklungsumgebung (in der das [Kompilierungs Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der Datei " *Web. config* " auf "`debug="true"`" festgelegt ist) ist einfach, da die JavaScript-Dateien nicht gebündelt oder minimiert werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-163">It's easy to debug your JavaScript in a development environment (where the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in the *Web.config* file is set to `debug="true"` ) because the JavaScript files are not bundled or minified.</span></span> <span data-ttu-id="1c98d-164">Sie können auch einen Releasebuild Debuggen, bei dem Ihre JavaScript-Dateien gebündelt und minimiert werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-164">You can also debug a release build where your JavaScript files are bundled and minified.</span></span> <span data-ttu-id="1c98d-165">Mithilfe der Tools für die Verwendung von IE F12 können Sie mithilfe des folgenden Ansatzes eine JavaScript-Funktion Debuggen, die in einem minierten Bundle enthalten ist:</span><span class="sxs-lookup"><span data-stu-id="1c98d-165">Using the IE F12 developer tools, you debug a JavaScript function included in a minified bundle using the following approach:</span></span>

1. <span data-ttu-id="1c98d-166">Wählen Sie die Registerkarte **Skript** , und wählen Sie dann die Schaltfläche **Debugging starten** aus.</span><span class="sxs-lookup"><span data-stu-id="1c98d-166">Select the **Script** tab and then select the **Start debugging** button.</span></span>
2. <span data-ttu-id="1c98d-167">Wählen Sie das Paket mit der JavaScript-Funktion aus, die Sie mithilfe der Schaltfläche Objekte debuggen möchten.</span><span class="sxs-lookup"><span data-stu-id="1c98d-167">Select the bundle containing the JavaScript function you want to debug using the assets button.</span></span>  
    ![](bundling-and-minification/_static/image4.png)
3. <span data-ttu-id="1c98d-168">Formatieren Sie die minierte JavaScript-Datei, indem Sie die **Konfigurations Schaltfläche** ![](bundling-and-minification/_static/image5.png)und dann **JavaScript formatieren**auswählen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-168">Format the minified JavaScript by selecting the **Configuration button** ![](bundling-and-minification/_static/image5.png), and then selecting **Format JavaScript**.</span></span>
4. <span data-ttu-id="1c98d-169">Wählen Sie im Eingabefeld **Skript suchen** den Namen der Funktion aus, die Sie debuggen möchten.</span><span class="sxs-lookup"><span data-stu-id="1c98d-169">In the **Search Script** input box, select the name of the function you want to debug.</span></span> <span data-ttu-id="1c98d-170">In der folgenden Abbildung wurde **addaltdeimg** in das Eingabefeld für das **Suchskript** eingegeben.</span><span class="sxs-lookup"><span data-stu-id="1c98d-170">In the following image, **AddAltToImg** was entered in the **Search Script** input box.</span></span>  
    ![](bundling-and-minification/_static/image6.png)

<span data-ttu-id="1c98d-171">Weitere Informationen zum Debuggen mit den F12-Entwicklertools finden Sie im MSDN-Artikel [Verwenden des F12-Entwicklertools zum Debuggen von JavaScript-Fehlern](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="1c98d-171">For more information on debugging with the F12 developer tools, see the MSDN article [Using the F12 Developer Tools to Debug JavaScript Errors](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx).</span></span>

## <a name="controlling-bundling-and-minification"></a><span data-ttu-id="1c98d-172">Steuern der Bündelung und Minimierung</span><span class="sxs-lookup"><span data-stu-id="1c98d-172">Controlling Bundling and Minification</span></span>

<span data-ttu-id="1c98d-173">Die Bündelung und Minimierung wird aktiviert oder deaktiviert, indem der Wert des Debug-Attributs im [compilation-Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der Datei " *Web. config* " festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="1c98d-173">Bundling and minification is enabled or disabled by setting the value of the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file.</span></span> <span data-ttu-id="1c98d-174">Im folgenden XML-Code wird `debug` auf true festgelegt, sodass die Bündelung und Minimierung deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="1c98d-174">In the following XML, `debug` is set to true so bundling and minification is disabled.</span></span>

[!code-xml[Main](bundling-and-minification/samples/sample3.xml?highlight=2)]

<span data-ttu-id="1c98d-175">Legen Sie zum Aktivieren von Bündelung und Minimierung den `debug` Wert auf "false" fest.</span><span class="sxs-lookup"><span data-stu-id="1c98d-175">To enable bundling and minification, set the `debug` value to "false".</span></span> <span data-ttu-id="1c98d-176">Sie können die *Web. config* -Einstellung mit der `EnableOptimizations`-Eigenschaft für die `BundleTable`-Klasse überschreiben.</span><span class="sxs-lookup"><span data-stu-id="1c98d-176">You can override the *Web.config* setting with the `EnableOptimizations` property on the `BundleTable` class.</span></span> <span data-ttu-id="1c98d-177">Der folgende Code ermöglicht das bündeln und minimieren und überschreibt jede Einstellung in der Datei " *Web. config* ".</span><span class="sxs-lookup"><span data-stu-id="1c98d-177">The following code enables bundling and minification and overrides any setting in the *Web.config* file.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample4.cs?highlight=7)]

> [!NOTE]
> <span data-ttu-id="1c98d-178">Wenn `EnableOptimizations` nicht `true` oder das debug-Attribut im [Kompilierungs Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der Datei *Web. config* auf `false`festgelegt ist, werden Dateien nicht gebündelt oder minimiert.</span><span class="sxs-lookup"><span data-stu-id="1c98d-178">Unless `EnableOptimizations` is `true` or the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file is set to `false`, files will not be bundled or minified.</span></span> <span data-ttu-id="1c98d-179">Außerdem wird die min-Version der Dateien nicht verwendet, sondern die vollständigen Debugversionen werden ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="1c98d-179">Additionally, the .min version of files will not be used, the full debug versions will be selected.</span></span> <span data-ttu-id="1c98d-180">`EnableOptimizations` überschreibt das debug-Attribut im [compilation-Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in der Datei " *Web. config".*</span><span class="sxs-lookup"><span data-stu-id="1c98d-180">`EnableOptimizations` overrides the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file</span></span>

## <a name="using-bundling-and-minification-with-aspnet-web-forms-and-web-pages"></a><span data-ttu-id="1c98d-181">Verwenden von Bündelung und Minimierung mit ASP.net Web Forms und Webseiten</span><span class="sxs-lookup"><span data-stu-id="1c98d-181">Using Bundling and Minification with ASP.NET Web Forms and Web Pages</span></span>

- <span data-ttu-id="1c98d-182">Informationen zu Webseiten finden Sie im Blogeintrag [Hinzufügen der Weboptimierung zu einer Webseiten-Website](https://docs.microsoft.com/archive/blogs/rickandy/adding-web-optimization-to-a-web-pages-site).</span><span class="sxs-lookup"><span data-stu-id="1c98d-182">For Web Pages, see the blog entry [Adding Web Optimization to a Web Pages Site](https://docs.microsoft.com/archive/blogs/rickandy/adding-web-optimization-to-a-web-pages-site).</span></span>
- <span data-ttu-id="1c98d-183">Web Forms finden Sie im Blogeintrag [Hinzufügen von Bündelung und Minimierung zu Web Forms](https://docs.microsoft.com/archive/blogs/rickandy/adding-bundling-and-minification-to-web-forms).</span><span class="sxs-lookup"><span data-stu-id="1c98d-183">For Web Forms, see the blog entry [Adding Bundling and Minification to Web Forms](https://docs.microsoft.com/archive/blogs/rickandy/adding-bundling-and-minification-to-web-forms).</span></span>

## <a name="using-bundling-and-minification-with-aspnet-mvc"></a><span data-ttu-id="1c98d-184">Verwenden von Bündelung und Minimierung mit ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="1c98d-184">Using Bundling and Minification with ASP.NET MVC</span></span>

<span data-ttu-id="1c98d-185">In diesem Abschnitt wird ein ASP.NET MVC-Projekt erstellt, um die Bündelung und Minimierung zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-185">In this section we will create an ASP.NET MVC project to examine bundling and minification.</span></span> <span data-ttu-id="1c98d-186">Erstellen Sie zunächst ein neues ASP.NET MVC-Internetprojekt mit dem Namen **mvcbm** , ohne die Standardeinstellungen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="1c98d-186">First, create a new ASP.NET MVC internet project named **MvcBM** without changing any of the defaults.</span></span>

<span data-ttu-id="1c98d-187">Öffnen Sie die *App-\\\_starten Sie\\BundleConfig.cs* -Datei, und überprüfen Sie die `RegisterBundles`-Methode, die zum Erstellen, registrieren und Konfigurieren von Paketen verwendet wird</span><span class="sxs-lookup"><span data-stu-id="1c98d-187">Open the *App\\\_Start\\BundleConfig.cs* file and examine the `RegisterBundles` method which is used to create, register and configure bundles.</span></span> <span data-ttu-id="1c98d-188">Der folgende Code zeigt einen Teil der `RegisterBundles`-Methode.</span><span class="sxs-lookup"><span data-stu-id="1c98d-188">The following code shows a portion of the `RegisterBundles` method.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample5.cs)]

<span data-ttu-id="1c98d-189">Der vorangehende Code erstellt ein neues JavaScript-Paket mit dem Namen *~/Bundles/jQuery* , das alle geeigneten (Debuggen oder minimierte) enthält. *vsdoc*) Dateien im Ordner " *Scripts* ", die mit der Platzhalter Zeichenfolge "~/Scripts/jQuery-{Version}.js" identisch sind.</span><span class="sxs-lookup"><span data-stu-id="1c98d-189">The  preceding code creates a new JavaScript bundle named *~/bundles/jquery* that includes all the appropriate (that is debug or minified but not .*vsdoc*) files in the *Scripts* folder that match the wild card string "~/Scripts/jquery-{version}.js".</span></span> <span data-ttu-id="1c98d-190">Bei ASP.NET MVC 4 bedeutet dies bei einer Debugkonfiguration, dass die Datei *jQuery-1.7.1. js* dem Bundle hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="1c98d-190">For ASP.NET MVC 4, this means with a debug configuration, the file *jquery-1.7.1.js* will be added to the bundle.</span></span> <span data-ttu-id="1c98d-191">In einer Releasekonfiguration wird *jQuery-1.7.1. min. js* hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="1c98d-191">In a release configuration, *jquery-1.7.1.min.js* will be added.</span></span> <span data-ttu-id="1c98d-192">Das Bundle-Framework befolgt einige gängige Konventionen, wie z. b.:</span><span class="sxs-lookup"><span data-stu-id="1c98d-192">The bundling framework follows several common conventions such as:</span></span>

- <span data-ttu-id="1c98d-193">Die ". min"-Datei für die Freigabe wird ausgewählt, wenn " *Flex. min. js* " und " *Flex. js* " vorliegen</span><span class="sxs-lookup"><span data-stu-id="1c98d-193">Selecting ".min" file for release when *FileX.min.js* and *FileX.js* exist.</span></span>
- <span data-ttu-id="1c98d-194">Auswählen der nicht-". min"-Version für das Debuggen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-194">Selecting the non ".min" version for debug.</span></span>
- <span data-ttu-id="1c98d-195">Ignorieren von "-vsdoc"-Dateien (z. b. *jQuery-1.7.1-vsdoc. js*), die nur von IntelliSense verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-195">Ignoring "-vsdoc" files (such as *jquery-1.7.1-vsdoc.js*), which are used only by IntelliSense.</span></span>

<span data-ttu-id="1c98d-196">Der oben gezeigte `{version}` Platzhalter Vergleich wird zum automatischen Erstellen eines jQuery-Pakets mit der entsprechenden Version von jQuery im Skript *Ordner verwendet* .</span><span class="sxs-lookup"><span data-stu-id="1c98d-196">The `{version}` wild card matching shown above is used to automatically create a jQuery bundle with the appropriate version of jQuery in your *Scripts* folder.</span></span> <span data-ttu-id="1c98d-197">In diesem Beispiel bietet die Verwendung einer Platzhalter Karte die folgenden Vorteile:</span><span class="sxs-lookup"><span data-stu-id="1c98d-197">In this example, using a wild card provides the following benefits:</span></span>

- <span data-ttu-id="1c98d-198">Ermöglicht die Verwendung von nuget, um ein Update auf eine neuere Version von jQuery durchführen zu können, ohne den vorangehenden codiercode oder jQuery-Verweise in den Ansichts Seiten</span><span class="sxs-lookup"><span data-stu-id="1c98d-198">Allows you to use NuGet to update to a newer jQuery version without changing the preceding bundling code or jQuery references in your view pages.</span></span>
- <span data-ttu-id="1c98d-199">Wählt automatisch die Vollversion für Debugkonfigurationen und die ". min"-Version für Releasebuilds aus.</span><span class="sxs-lookup"><span data-stu-id="1c98d-199">Automatically selects the full version for debug configurations and the ".min" version for release builds.</span></span>

## <a name="using-a-cdn"></a><span data-ttu-id="1c98d-200">Verwenden eines CDN</span><span class="sxs-lookup"><span data-stu-id="1c98d-200">Using a CDN</span></span>

 <span data-ttu-id="1c98d-201">Der folgende Code ersetzt das lokale jQuery-Bundle durch ein CDN-jQuery-Bundle.</span><span class="sxs-lookup"><span data-stu-id="1c98d-201">The follow code replaces the local jQuery bundle with a CDN jQuery bundle.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample6.cs)]

<span data-ttu-id="1c98d-202">Im obigen Code wird jQuery vom CDN im Releasemodus angefordert, und die Debugversion von jQuery wird lokal im Debugmodus abgerufen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-202">In the code above, jQuery will be requested from the CDN while in release mode and the debug version of jQuery will be fetched locally in debug mode.</span></span> <span data-ttu-id="1c98d-203">Wenn Sie ein CDN verwenden, sollten Sie für den Fall, dass die CDN-Anforderung fehlschlägt, über einen Fall Back Mechanismus verfügen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-203">When using a CDN, you should have a fallback mechanism in case the CDN request fails.</span></span> <span data-ttu-id="1c98d-204">Das folgende Markup Fragment am Ende der Layoutdatei zeigt das Skript, das zum Anfordern der jQuery-Anforderung hinzugefügt wird, wenn das CDN fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="1c98d-204">The following markup fragment from the end of the layout file shows script added to request jQuery should the CDN fail.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample7.cshtml?highlight=5-13)]

## <a name="creating-a-bundle"></a><span data-ttu-id="1c98d-205">Erstellen eines Pakets</span><span class="sxs-lookup"><span data-stu-id="1c98d-205">Creating a Bundle</span></span>

<span data-ttu-id="1c98d-206">Die [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) -Klasse `Include`-Methode nimmt ein Array von Zeichen folgen an, wobei jede Zeichenfolge ein virtueller Pfad zur Ressource ist.</span><span class="sxs-lookup"><span data-stu-id="1c98d-206">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `Include` method takes an array of strings, where each string is a virtual path to resource.</span></span> <span data-ttu-id="1c98d-207">Der folgende Code aus der `RegisterBundles`-Methode in der *App\\\_Start\\BundleConfig.cs* -Datei zeigt, wie mehrere Dateien zu einem Paket hinzugefügt werden:</span><span class="sxs-lookup"><span data-stu-id="1c98d-207">The following code from the `RegisterBundles` method in the *App\\\_Start\\BundleConfig.cs* file shows how multiple files are added to a bundle:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample8.cs)]

<span data-ttu-id="1c98d-208">Die [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) -Klasse `IncludeDirectory`-Methode wird bereitgestellt, um alle Dateien in einem Verzeichnis (und optional alle Unterverzeichnisse) hinzuzufügen, die einem Suchmuster entsprechen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-208">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` method is provided to add all the files in a directory (and optionally all subdirectories) which match a search pattern.</span></span> <span data-ttu-id="1c98d-209">Die [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) -Klasse `IncludeDirectory`-API wird unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="1c98d-209">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` API is shown below:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample9.cs)]

<span data-ttu-id="1c98d-210">Auf Pakete wird in Sichten mithilfe der Rendering-Methode verwiesen (`Styles.Render` für CSS und `Scripts.Render` für JavaScript).</span><span class="sxs-lookup"><span data-stu-id="1c98d-210">Bundles are referenced in views using the Render method, (`Styles.Render` for CSS and `Scripts.Render` for JavaScript).</span></span> <span data-ttu-id="1c98d-211">Das folgende Markup aus den *Sichten\\Shared\\\_Layout. cshtml* -Datei zeigt, wie die standardmäßigen ASP.net-Internetprojekt Sichten auf CSS-und JavaScript-Bündel verweisen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-211">The following markup from the *Views\\Shared\\\_Layout.cshtml* file shows how the default ASP.NET internet project views reference CSS and JavaScript bundles.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample10.cshtml?highlight=5-6,11)]

<span data-ttu-id="1c98d-212">Beachten Sie, dass die Rendering-Methode ein Array von Zeichen folgen annimmt, sodass Sie mehrere Bündel in einer Codezeile hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="1c98d-212">Notice the Render methods takes an array of strings, so you can add multiple bundles in one line of code.</span></span> <span data-ttu-id="1c98d-213">Sie sollten in der Regel die Rendering-Methoden verwenden, die den erforderlichen HTML-Code für den Verweis auf das Medienobjekt erstellen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-213">You will generally want to use the Render methods which create the necessary HTML to reference the asset.</span></span> <span data-ttu-id="1c98d-214">Sie können die `Url`-Methode verwenden, um die URL für das Medienobjekt zu generieren, ohne dass das für den Verweis auf das Medienobjekt erforderliche Markup</span><span class="sxs-lookup"><span data-stu-id="1c98d-214">You can use the `Url` method to generate the URL to the asset without the markup needed to reference the asset.</span></span> <span data-ttu-id="1c98d-215">Angenommen, Sie möchten das neue HTML5-Attribut " [Async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) " verwenden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-215">Suppose you wanted to use the new HTML5 [async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) attribute.</span></span> <span data-ttu-id="1c98d-216">Der folgende Code zeigt, wie mit der `Url`-Methode auf modernizr verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="1c98d-216">The following code shows how to reference modernizr using the `Url` method.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample11.cshtml?highlight=11)]

## <a name="using-the--wildcard-character-to-select-files"></a><span data-ttu-id="1c98d-217">Verwenden des Platzhalter Zeichens "\*" zum Auswählen von Dateien</span><span class="sxs-lookup"><span data-stu-id="1c98d-217">Using the "\*" Wildcard Character to Select Files</span></span>

<span data-ttu-id="1c98d-218">Der in der `Include`-Methode angegebene virtuelle Pfad und das Suchmuster in der `IncludeDirectory`-Methode können im letzten Pfad Segment ein Platzhalter Zeichen (\*) als Präfix oder Suffix akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="1c98d-218">The virtual path specified in the `Include` method and the search pattern in the `IncludeDirectory` method can accept one "\*" wildcard character as a prefix or suffix to in the last path segment.</span></span> <span data-ttu-id="1c98d-219">Bei der Such Zeichenfolge wird Groß-/Kleinschreibung</span><span class="sxs-lookup"><span data-stu-id="1c98d-219">The search string is case insensitive.</span></span> <span data-ttu-id="1c98d-220">Die `IncludeDirectory`-Methode hat die Möglichkeit, Unterverzeichnisse zu durchsuchen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-220">The `IncludeDirectory` method has the option of searching subdirectories.</span></span>

<span data-ttu-id="1c98d-221">Stellen Sie sich ein Projekt mit den folgenden JavaScript-Dateien vor:</span><span class="sxs-lookup"><span data-stu-id="1c98d-221">Consider a project with the following JavaScript files:</span></span>

- <span data-ttu-id="1c98d-222">*Skripts\\häufig\\"addaltdeimg. js"*</span><span class="sxs-lookup"><span data-stu-id="1c98d-222">*Scripts\\Common\\AddAltToImg.js*</span></span>
- <span data-ttu-id="1c98d-223">*Skripts\\gängige\\"" "" "*</span><span class="sxs-lookup"><span data-stu-id="1c98d-223">*Scripts\\Common\\ToggleDiv.js*</span></span>
- <span data-ttu-id="1c98d-224">*Skripts\\gemeinsame\\"" "" "" ".*</span><span class="sxs-lookup"><span data-stu-id="1c98d-224">*Scripts\\Common\\ToggleImg.js*</span></span>
- <span data-ttu-id="1c98d-225">*Scripts\\Common\\Sub1\\ToggleLinks.js*</span><span class="sxs-lookup"><span data-stu-id="1c98d-225">*Scripts\\Common\\Sub1\\ToggleLinks.js*</span></span>

![dir IMAG](bundling-and-minification/_static/image7.png)

<span data-ttu-id="1c98d-227">In der folgenden Tabelle werden die einem Paket hinzugefügten Dateien wie gezeigt mit dem Platzhalter angezeigt:</span><span class="sxs-lookup"><span data-stu-id="1c98d-227">The following table shows the files added to a bundle using the wildcard as shown:</span></span>

| <span data-ttu-id="1c98d-228">**Call**</span><span class="sxs-lookup"><span data-stu-id="1c98d-228">**Call**</span></span> | <span data-ttu-id="1c98d-229">**Hinzugefügte Dateien oder ausgelöste Ausnahme**</span><span class="sxs-lookup"><span data-stu-id="1c98d-229">**Files Added or Exception Raised**</span></span> |
| --- | --- |
| <span data-ttu-id="1c98d-230">Include("~/Scripts/Common/\*.js")</span><span class="sxs-lookup"><span data-stu-id="1c98d-230">Include("~/Scripts/Common/\*.js")</span></span> | <span data-ttu-id="1c98d-231">*AddAltToImg.js*, *ToggleDiv.js*, *ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="1c98d-231">*AddAltToImg.js*, *ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="1c98d-232">Include("~/Scripts/Common/T\*.js")</span><span class="sxs-lookup"><span data-stu-id="1c98d-232">Include("~/Scripts/Common/T\*.js")</span></span> | <span data-ttu-id="1c98d-233">Ungültige Muster Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="1c98d-233">Invalid pattern exception.</span></span> <span data-ttu-id="1c98d-234">Das Platzhalter Zeichen ist nur für das Präfix oder Suffix zulässig.</span><span class="sxs-lookup"><span data-stu-id="1c98d-234">The wildcard character is only allowed on the prefix or suffix.</span></span> |
| <span data-ttu-id="1c98d-235">Include("~/Scripts/Common/\*og.\*")</span><span class="sxs-lookup"><span data-stu-id="1c98d-235">Include("~/Scripts/Common/\*og.\*")</span></span> | <span data-ttu-id="1c98d-236">Ungültige Muster Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="1c98d-236">Invalid pattern exception.</span></span> <span data-ttu-id="1c98d-237">Nur ein Platzhalter Zeichen ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="1c98d-237">Only one wildcard character is allowed.</span></span> |
| <span data-ttu-id="1c98d-238">Include ("~/Scripts/Common/T\*")</span><span class="sxs-lookup"><span data-stu-id="1c98d-238">Include("~/Scripts/Common/T\*")</span></span> | <span data-ttu-id="1c98d-239">*ToggleDiv.js*, *ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="1c98d-239">*ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="1c98d-240">Include ("~/Scripts/Common/\*")</span><span class="sxs-lookup"><span data-stu-id="1c98d-240">Include("~/Scripts/Common/\*")</span></span> | <span data-ttu-id="1c98d-241">Ungültige Muster Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="1c98d-241">Invalid pattern exception.</span></span> <span data-ttu-id="1c98d-242">Ein reines Platzhalter Segment ist ungültig.</span><span class="sxs-lookup"><span data-stu-id="1c98d-242">A pure wildcard segment is not valid.</span></span> |
| <span data-ttu-id="1c98d-243">IncludeDirectory("~/Scripts/Common", "T\*")</span><span class="sxs-lookup"><span data-stu-id="1c98d-243">IncludeDirectory("~/Scripts/Common", "T\*")</span></span> | <span data-ttu-id="1c98d-244">*ToggleDiv.js*, *ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="1c98d-244">*ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="1c98d-245">Include Directory ("~/Scripts/Common", "T\*", true)</span><span class="sxs-lookup"><span data-stu-id="1c98d-245">IncludeDirectory("~/Scripts/Common", "T\*", true)</span></span> | <span data-ttu-id="1c98d-246">*ToggleDiv.js*, *ToggleImg.js*, *ToggleLinks.js*</span><span class="sxs-lookup"><span data-stu-id="1c98d-246">*ToggleDiv.js*, *ToggleImg.js*, *ToggleLinks.js*</span></span> |

<span data-ttu-id="1c98d-247">Das explizite hinzufügen jeder Datei zu einem Bündel ist aus den folgenden Gründen im Allgemeinen das über das Platzhalter Laden von Dateien vorzuziehen:</span><span class="sxs-lookup"><span data-stu-id="1c98d-247">Explicitly adding each file to a bundle is generally the preferred over wildcard loading of files for the following reasons:</span></span>

- <span data-ttu-id="1c98d-248">Das Hinzufügen von Skripts nach Platzhaltern wird standardmäßig in alphabetischer Reihenfolge geladen, was in der Regel nicht der gewünschte ist.</span><span class="sxs-lookup"><span data-stu-id="1c98d-248">Adding scripts by wildcard defaults to loading them in alphabetical order, which is typically not what you want.</span></span> <span data-ttu-id="1c98d-249">CSS-und JavaScript-Dateien müssen häufig in einer bestimmten (nicht alphabetischen) Reihenfolge hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-249">CSS and JavaScript files frequently need to be added in a specific (non-alphabetic) order.</span></span> <span data-ttu-id="1c98d-250">Sie können dieses Risiko verringern, indem Sie eine benutzerdefinierte [ibundleorderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) -Implementierung hinzufügen, aber das explizite hinzufügen der einzelnen Dateien ist weniger fehleranfällig.</span><span class="sxs-lookup"><span data-stu-id="1c98d-250">You can mitigate this risk by adding a custom [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation, but explicitly adding each file is less error prone.</span></span> <span data-ttu-id="1c98d-251">Beispielsweise können Sie in Zukunft neue Assets zu einem Ordner hinzufügen, die möglicherweise eine Änderung Ihrer [ibundleorderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) -Implementierung erforderlich machen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-251">For example, you might add new assets to a folder in the future which might require you to modify your [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation.</span></span>
- <span data-ttu-id="1c98d-252">Anzeigen bestimmter Dateien, die einem Verzeichnis mithilfe von Platzhalter laden hinzugefügt werden, kann in alle Sichten eingeschlossen werden, die auf dieses Bündel verweisen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-252">View specific files added to a directory using wild card loading can be included in all views referencing that bundle.</span></span> <span data-ttu-id="1c98d-253">Wenn das Ansichts spezifische Skript zu einem Paket hinzugefügt wird, erhalten Sie möglicherweise einen JavaScript-Fehler in anderen Sichten, die auf das Paket verweisen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-253">If the view specific script is added to a bundle, you may get a JavaScript error on other views that reference the bundle.</span></span>
- <span data-ttu-id="1c98d-254">CSS-Dateien, die andere Dateien importieren, führen dazu, dass die importierten Dateien zweimal geladen werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-254">CSS files that import other files result in the imported files loaded twice.</span></span> <span data-ttu-id="1c98d-255">Der folgende Code erstellt z. b. ein Bündel mit den meisten CSS-Dateien des jQuery UI-Designs, die zweimal geladen werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-255">For example, the following code creates a bundle with most of the jQuery UI theme CSS files loaded twice.</span></span> 

    [!code-csharp[Main](bundling-and-minification/samples/sample12.cs)]

  <span data-ttu-id="1c98d-256">Die Platzhalter Auswahl "\*. CSS" führt jede CSS-Datei im Ordner ein, einschließlich der *Inhalte\\Designs\\Basis\\jQuery. UI. all. CSS* -Datei.</span><span class="sxs-lookup"><span data-stu-id="1c98d-256">The wild card selector "\*.css" brings in each CSS file in the folder, including the *Content\\themes\\base\\jquery.ui.all.css* file.</span></span> <span data-ttu-id="1c98d-257">Die *jQuery. UI. all. CSS* -Datei importiert andere CSS-Dateien.</span><span class="sxs-lookup"><span data-stu-id="1c98d-257">The *jquery.ui.all.css* file imports other CSS files.</span></span>

## <a name="bundle-caching"></a><span data-ttu-id="1c98d-258">Bündel Caching</span><span class="sxs-lookup"><span data-stu-id="1c98d-258">Bundle Caching</span></span>

<span data-ttu-id="1c98d-259">Bündel legen den HTTP-Ablauf Header ein Jahr ab, wenn das Paket erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="1c98d-259">Bundles set the HTTP Expires Header one year from when the bundle is created.</span></span> <span data-ttu-id="1c98d-260">Wenn Sie zu einer zuvor angezeigten Seite navigieren, zeigt der "fddler" an, dass der Internet Explorer keine bedingte Anforderung für das Bündel stellt, d. h. es sind keine HTTP GET-Anforderungen von IE für die Pakete und keine http 304-Antworten vom Server vorhanden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-260">If you navigate to a previously viewed page, Fiddler shows IE does not make a conditional request for the bundle, that is, there are no HTTP GET requests from IE for the bundles and no HTTP 304 responses from the server.</span></span> <span data-ttu-id="1c98d-261">Sie können eine bedingte Anforderung für jedes Bündel mit der Taste F5 erzwingen (was zu einer HTTP 304-Antwort für jedes Bündel führt).</span><span class="sxs-lookup"><span data-stu-id="1c98d-261">You can force IE to make a conditional request for each bundle with the F5 key (resulting in a HTTP 304 response for each bundle).</span></span> <span data-ttu-id="1c98d-262">Sie können eine vollständige Aktualisierung erzwingen, indem Sie ^ F5 verwenden (was zu einer HTTP 200-Antwort für jedes Bündel führt).</span><span class="sxs-lookup"><span data-stu-id="1c98d-262">You can force a full refresh by using ^F5 (resulting in a HTTP 200 response for each bundle.)</span></span>

<span data-ttu-id="1c98d-263">In der folgenden Abbildung ist die Registerkarte **Caching** des Antwort Bereichs "fddler" dargestellt:</span><span class="sxs-lookup"><span data-stu-id="1c98d-263">The following image shows the **Caching** tab of the Fiddler response pane:</span></span>

![Bild zum Zwischenspeichern von "Image"](bundling-and-minification/_static/image8.png)

<span data-ttu-id="1c98d-265">Die Anforderung.</span><span class="sxs-lookup"><span data-stu-id="1c98d-265">The request</span></span>   
`http://localhost/MvcBM_time/bundles/AllMyScripts?v=r0sLDicvP58AIXN_mc3QdyVvVj5euZNzdsa2N1PKvb81`  
 <span data-ttu-id="1c98d-266">ist für das Bundle **allmyscripts** und enthält ein Abfrage Zeichenfolgen-Paar **v = r0sLDicvP58AIXN\\\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span><span class="sxs-lookup"><span data-stu-id="1c98d-266">is for the bundle **AllMyScripts** and contains a query string pair **v=r0sLDicvP58AIXN\\\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span></span> <span data-ttu-id="1c98d-267">Die Abfrage Zeichenfolge **v** verfügt über ein Wert Token, das ein eindeutiger Bezeichner für die Zwischenspeicherung ist.</span><span class="sxs-lookup"><span data-stu-id="1c98d-267">The query string **v** has a value token that is a unique identifier used for caching.</span></span> <span data-ttu-id="1c98d-268">Solange das Bündel nicht geändert wird, fordert die ASP.NET-Anwendung das **allmyscripts** -Bundle mithilfe dieses Tokens an.</span><span class="sxs-lookup"><span data-stu-id="1c98d-268">As long as the bundle doesn't change, the ASP.NET application will request the **AllMyScripts** bundle using this token.</span></span> <span data-ttu-id="1c98d-269">Wenn eine Datei im Bündel geändert wird, generiert das ASP.net Optimization Framework ein neues Token, das sicherstellt, dass Browser Anforderungen für das Paket das neueste Paket erhalten.</span><span class="sxs-lookup"><span data-stu-id="1c98d-269">If any file in the bundle changes, the ASP.NET optimization framework will generate a new token, guaranteeing that browser requests for the bundle will get the latest bundle.</span></span>

<span data-ttu-id="1c98d-270">Wenn Sie die IE9 F12-Entwicklertools ausführen und zu einer zuvor geladenen Seite navigieren, zeigt IE fälschlicherweise bedingte GET-Anforderungen an, die an die einzelnen Bündel und der Server, die http 304 zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1c98d-270">If you run the IE9 F12 developer tools and navigate to a previously loaded page, IE incorrectly shows conditional GET requests made to each bundle and the server returning HTTP 304.</span></span> <span data-ttu-id="1c98d-271">Sie können herausfinden, warum IE9 Probleme mit dem bestimmen, ob eine bedingte Anforderung im Blogeintrag [mithilfe von CDNs eingegangen ist und abläuft, um die Website Leistung zu verbessern](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c98d-271">You can read why IE9 has problems determining if a conditional request was made in the blog entry [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

## <a name="less-coffeescript-scss-sass-bundling"></a><span data-ttu-id="1c98d-272">Weniger, coffeescript, scss, Sass-Bündelung.</span><span class="sxs-lookup"><span data-stu-id="1c98d-272">LESS, CoffeeScript, SCSS, Sass Bundling.</span></span>

<span data-ttu-id="1c98d-273">Das Bundle-und Minimierung-Framework bietet einen Mechanismus zum Verarbeiten von zwischen Sprachen wie [scss](http://sass-lang.com/), [Sass](http://sass-lang.com/), [less](http://www.dotlesscss.org/) oder [coffeescript](http://coffeescript.org/)und zum Anwenden von Transformationen, wie z. b. Minimierung auf das resultierende Bündel.</span><span class="sxs-lookup"><span data-stu-id="1c98d-273">The bundling and minification framework provides a mechanism to process intermediate languages such as [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [LESS](http://www.dotlesscss.org/) or [Coffeescript](http://coffeescript.org/), and apply transforms such as minification to the resulting bundle.</span></span> <span data-ttu-id="1c98d-274">Fügen Sie z. b [.](http://www.dotlesscss.org/) dem MVC 4-Projekt weniger Dateien hinzu:</span><span class="sxs-lookup"><span data-stu-id="1c98d-274">For example, to add [.less](http://www.dotlesscss.org/) files to your MVC 4 project:</span></span>

1. <span data-ttu-id="1c98d-275">Erstellen Sie einen Ordner für Ihren weniger Inhalt.</span><span class="sxs-lookup"><span data-stu-id="1c98d-275">Create a folder for your LESS content.</span></span> <span data-ttu-id="1c98d-276">Im folgenden Beispiel wird der *Inhalt\\Ordner myless* verwendet.</span><span class="sxs-lookup"><span data-stu-id="1c98d-276">The following example uses the *Content\\MyLess* folder.</span></span>
2. <span data-ttu-id="1c98d-277">Fügen Sie dem Projekt das nuget **-Paket "** [. Less](http://www.dotlesscss.org/) " hinzu.</span><span class="sxs-lookup"><span data-stu-id="1c98d-277">Add the [.less](http://www.dotlesscss.org/) NuGet package **dotless** to your project.</span></span>  
    <span data-ttu-id="1c98d-278">![nuget-Installation mit DOTLESS-](bundling-and-minification/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="1c98d-278">![NuGet dotless install](bundling-and-minification/_static/image9.png)</span></span>
3. <span data-ttu-id="1c98d-279">Fügen Sie eine Klasse hinzu, die die [ibundletransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) -Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="1c98d-279">Add a class that implements the [IBundleTransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) interface.</span></span> <span data-ttu-id="1c98d-280">Fügen Sie dem Projekt den folgenden Code für die. Less-Transformation hinzu.</span><span class="sxs-lookup"><span data-stu-id="1c98d-280">For the .less transform, add the following code to your project.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample13.cs)]
4. <span data-ttu-id="1c98d-281">Erstellen Sie ein Paket mit weniger Dateien mit dem `LessTransform` und der [cssminify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) -Transformation.</span><span class="sxs-lookup"><span data-stu-id="1c98d-281">Create a bundle of LESS files with the `LessTransform` and the [CssMinify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) transform.</span></span> <span data-ttu-id="1c98d-282">Fügen Sie der `RegisterBundles`-Methode in der *App\\_start\\BundleConfig.cs* -Datei den folgenden Code hinzu.</span><span class="sxs-lookup"><span data-stu-id="1c98d-282">Add the following code to the `RegisterBundles` method in the *App\\_Start\\BundleConfig.cs* file.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample14.cs)]
5. <span data-ttu-id="1c98d-283">Fügen Sie den folgenden Code zu allen Sichten hinzu, die auf das weniger Bündel verweisen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-283">Add the following code to any views which references the LESS bundle.</span></span>

    [!code-cshtml[Main](bundling-and-minification/samples/sample15.cshtml)]

## <a name="bundle-considerations"></a><span data-ttu-id="1c98d-284">Bündel Überlegungen</span><span class="sxs-lookup"><span data-stu-id="1c98d-284">Bundle Considerations</span></span>

<span data-ttu-id="1c98d-285">Eine gute Konvention zum Erstellen von Paketen ist das Einschließen von "Bundle" als Präfix in den Paketnamen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-285">A good convention to follow when creating bundles is to include "bundle" as a prefix in the bundle name.</span></span> <span data-ttu-id="1c98d-286">Dadurch wird ein möglicher [Routing Konflikt](https://forums.asp.net/post/5012037.aspx)verhindert.</span><span class="sxs-lookup"><span data-stu-id="1c98d-286">This will prevent a possible [routing conflict](https://forums.asp.net/post/5012037.aspx).</span></span>

<span data-ttu-id="1c98d-287">Sobald Sie eine Datei in einem Bündel aktualisieren, wird ein neues Token für den Parameter für die Paket Abfrage Zeichenfolge generiert, und das vollständige Paket muss heruntergeladen werden, wenn ein Client das nächste Mal eine Seite mit dem Paket anfordert.</span><span class="sxs-lookup"><span data-stu-id="1c98d-287">Once you update one file in a bundle, a new token is generated for the bundle query string parameter and the full bundle must be downloaded the next time a client requests a page containing the bundle.</span></span> <span data-ttu-id="1c98d-288">In herkömmlichem Markup, bei dem jedes Asset einzeln aufgelistet wird, wird nur die geänderte Datei heruntergeladen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-288">In traditional markup where each asset is listed individually, only the changed file would be downloaded.</span></span> <span data-ttu-id="1c98d-289">Ressourcen, die sich häufig ändern, sind möglicherweise keine guten Kandidaten für das bündeln.</span><span class="sxs-lookup"><span data-stu-id="1c98d-289">Assets that change frequently may not be good candidates for bundling.</span></span>

<span data-ttu-id="1c98d-290">Bündelung und Minimierung verbessern hauptsächlich die Ladezeit für die erste Seiten Anforderung.</span><span class="sxs-lookup"><span data-stu-id="1c98d-290">Bundling and minification primarily improve the first page request load time.</span></span> <span data-ttu-id="1c98d-291">Nachdem eine Webseite angefordert wurde, speichert der Browser die Assets (JavaScript, CSS und Images) zwischen, sodass das bündeln und minimieren keine Leistungssteigerung bietet, wenn dieselbe Seite angefordert wird, oder Seiten auf derselben Website, die dieselben Ressourcen anfordern.</span><span class="sxs-lookup"><span data-stu-id="1c98d-291">Once a webpage has been requested, the browser caches the assets (JavaScript, CSS and images) so bundling and minification won't provide any performance boost when requesting the same page, or pages on the same site requesting the same assets.</span></span> <span data-ttu-id="1c98d-292">Wenn Sie den-Header nicht ordnungsgemäß für Ihre Assets festlegen, und Sie keine Bündelung und Minimierung verwenden, markieren die Heuristik der Browser Aktualität die Objekte nach einigen Tagen, und der Browser benötigt eine Überprüfungs Anforderung für jedes Asset.</span><span class="sxs-lookup"><span data-stu-id="1c98d-292">If you don't set the expires header correctly on your assets, and you don't use bundling and minification, the browsers freshness heuristics will mark the assets stale after a few days and the browser will require a validation request for each asset.</span></span> <span data-ttu-id="1c98d-293">In diesem Fall bieten Bündelung und Minimierung eine Leistungssteigerung nach der ersten Seiten Anforderung.</span><span class="sxs-lookup"><span data-stu-id="1c98d-293">In this case, bundling and minification provide a performance increase after the first page request.</span></span> <span data-ttu-id="1c98d-294">Weitere Informationen finden Sie im Blog [mit CDNs und läuft ab, um die Website Leistung zu verbessern](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c98d-294">For details, see the blog [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

<span data-ttu-id="1c98d-295">Die Browser Beschränkung von sechs gleichzeitigen Verbindungen pro Hostname kann mithilfe eines [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx)verringert werden.</span><span class="sxs-lookup"><span data-stu-id="1c98d-295">The browser limitation of six simultaneous connections per each hostname can be mitigated by using a [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span> <span data-ttu-id="1c98d-296">Da das CDN einen anderen Hostnamen als die Hostingsite hat, werden die Asset-Anforderungen vom CDN nicht in Bezug auf das Limit von sechs gleichzeitigen Verbindungen für Ihre Hostingumgebung gezählt.</span><span class="sxs-lookup"><span data-stu-id="1c98d-296">Because the CDN will have a different hostname than your hosting site, asset requests from the CDN will not count against the six simultaneous connections limit to your hosting environment.</span></span> <span data-ttu-id="1c98d-297">Ein CDN kann auch allgemeine Vorteile für das Zwischenspeichern von Paketen und Kanten Zwischenspeicherung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-297">A CDN can also provide common package caching and edge caching advantages.</span></span>

<span data-ttu-id="1c98d-298">Bündel sollten auf Seiten partitioniert werden, die Sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="1c98d-298">Bundles should be partitioned by pages that need them.</span></span> <span data-ttu-id="1c98d-299">Die MVC-Standardvorlage für eine Internetanwendung erstellt beispielsweise ein jQuery-Validierungs Bündel, das von jQuery getrennt ist.</span><span class="sxs-lookup"><span data-stu-id="1c98d-299">For example, the default ASP.NET MVC template for an internet application creates a jQuery Validation bundle separate from jQuery.</span></span> <span data-ttu-id="1c98d-300">Da die erstellten Standard Sichten keine Eingaben aufweisen und keine Werte bereitstellen, enthalten Sie das Validierungs Bündel nicht.</span><span class="sxs-lookup"><span data-stu-id="1c98d-300">Because the default views created have no input and do not post values, they don't include the validation bundle.</span></span>

<span data-ttu-id="1c98d-301">Der `System.Web.Optimization`-Namespace wird in *System. Web. Optimization. dll*implementiert.</span><span class="sxs-lookup"><span data-stu-id="1c98d-301">The `System.Web.Optimization` namespace is implemented in *System.Web.Optimization.dll*.</span></span> <span data-ttu-id="1c98d-302">Es nutzt die webgrease-Bibliothek (*webgrease. dll*) für Minimierung-Funktionen, die wiederum *Antlr3. Runtime. dll*verwendet.</span><span class="sxs-lookup"><span data-stu-id="1c98d-302">It leverages the WebGrease library (*WebGrease.dll*) for minification capabilities, which in turn uses *Antlr3.Runtime.dll*.</span></span>

<span data-ttu-id="1c98d-303">*Ich verwende Twitter, um Quick Posts und Freigabe Links zu erstellen. Mein Twitter-Handle ist*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="1c98d-303">*I use Twitter to make quick posts and share links. My Twitter handle is*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="1c98d-304">Weitere Ressourcen</span><span class="sxs-lookup"><span data-stu-id="1c98d-304">Additional resources</span></span>

- <span data-ttu-id="1c98d-305">Video:[bündeln und optimieren](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) durch [Howard Dierking](https://twitter.com/#!/howard_dierking)</span><span class="sxs-lookup"><span data-stu-id="1c98d-305">Video:[Bundling and Optimizing](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) by [Howard Dierking](https://twitter.com/#!/howard_dierking)</span></span>
- <span data-ttu-id="1c98d-306">[Hinzufügen der Weboptimierung zu einer Web Pages-Website](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c98d-306">[Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="1c98d-307">[Hinzufügen von Bündelung und Minimierung zu Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c98d-307">[Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>
- <span data-ttu-id="1c98d-308">[Leistungseinbußen bei der Bündelung und Minimierung von Webbrowsen](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) von [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span><span class="sxs-lookup"><span data-stu-id="1c98d-308">[Performance Implications of Bundling and Minification on Web Browsing](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) by [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span></span>
- <span data-ttu-id="1c98d-309">[Die Verwendung von CDNs und läuft ab, um die Website Leistung von Rick Anderson zu verbessern](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="1c98d-309">[Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) by Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span></span>
- [<span data-ttu-id="1c98d-310">Minimieren von RTT (Roundtrip-Zeiten)</span><span class="sxs-lookup"><span data-stu-id="1c98d-310">Minimize RTT (round-trip times)</span></span>](https://developers.google.com/speed/docs/best-practices/rtt)

## <a name="contributors"></a><span data-ttu-id="1c98d-311">Mitwirkende</span><span class="sxs-lookup"><span data-stu-id="1c98d-311">Contributors</span></span>

- <span data-ttu-id="1c98d-312">Hao Kung</span><span class="sxs-lookup"><span data-stu-id="1c98d-312">Hao Kung</span></span>
- [<span data-ttu-id="1c98d-313">Howard Dierking</span><span class="sxs-lookup"><span data-stu-id="1c98d-313">Howard Dierking</span></span>](https://twitter.com/#!/howard_dierking)
- <span data-ttu-id="1c98d-314">Diana Larose</span><span class="sxs-lookup"><span data-stu-id="1c98d-314">Diana LaRose</span></span>
