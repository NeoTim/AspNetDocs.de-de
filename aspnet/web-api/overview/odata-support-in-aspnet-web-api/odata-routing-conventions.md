---
uid: web-api/overview/odata-support-in-aspnet-web-api/odata-routing-conventions
title: Routing Konventionen in ASP.net-Web-API 2 odata-ASP.NET 4. x
author: MikeWasson
description: Beschreibt die Routing Konventionen, die von der Web-API 2 in ASP.NET 4. x für odata-Endpunkte verwendet werden.
ms.author: riande
ms.date: 07/31/2013
ms.custom: seoapril2019
ms.assetid: adbc175a-14eb-4ab2-a441-d056ffa8266f
msc.legacyurl: /web-api/overview/odata-support-in-aspnet-web-api/odata-routing-conventions
msc.type: authoredcontent
ms.openlocfilehash: 63df4a82cd8df92631485b2544117844cfd0ca56
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78498195"
---
# <a name="routing-conventions-in-aspnet-web-api-2-odata"></a><span data-ttu-id="0ec27-103">Routing Konventionen in ASP.net-Web-API 2 odata</span><span class="sxs-lookup"><span data-stu-id="0ec27-103">Routing Conventions in ASP.NET Web API 2 Odata</span></span>

<span data-ttu-id="0ec27-104">von [Mike Wasson](https://github.com/MikeWasson)</span><span class="sxs-lookup"><span data-stu-id="0ec27-104">by [Mike Wasson](https://github.com/MikeWasson)</span></span>

> <span data-ttu-id="0ec27-105">In diesem Artikel werden die Routing Konventionen beschrieben, die von der Web-API 2 in ASP.NET 4. x für odata-Endpunkte verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0ec27-105">This article describes the routing conventions that Web API 2 in ASP.NET 4.x uses for OData endpoints.</span></span>

<span data-ttu-id="0ec27-106">Wenn die Web-API eine odata-Anforderung abruft, ordnet Sie die Anforderung einem Controller Namen und einem Aktions Namen zu.</span><span class="sxs-lookup"><span data-stu-id="0ec27-106">When Web API gets an OData request, it maps the request to a controller name and an action name.</span></span> <span data-ttu-id="0ec27-107">Die Zuordnung basiert auf der HTTP-Methode und dem URI.</span><span class="sxs-lookup"><span data-stu-id="0ec27-107">The mapping is based on the HTTP method and the URI.</span></span> <span data-ttu-id="0ec27-108">Beispielsweise wird `GET /odata/Products(1)` `ProductsController.GetProduct`zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="0ec27-108">For example, `GET /odata/Products(1)` maps to `ProductsController.GetProduct`.</span></span>

<span data-ttu-id="0ec27-109">In Teil 1 dieses Artikels beschreibe ich die integrierten odata-Routing Konventionen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-109">In part 1 of this article, I describe the built-in OData routing conventions.</span></span> <span data-ttu-id="0ec27-110">Diese Konventionen wurden speziell für odata-Endpunkte entwickelt und ersetzen das Standard Routing System der Web-API.</span><span class="sxs-lookup"><span data-stu-id="0ec27-110">These conventions are designed specifically for OData endpoints, and they replace the default Web API routing system.</span></span> <span data-ttu-id="0ec27-111">(Die Ersetzung erfolgt beim Abrufen von **mapodataroute**.)</span><span class="sxs-lookup"><span data-stu-id="0ec27-111">(The replacement happens when you call **MapODataRoute**.)</span></span>

<span data-ttu-id="0ec27-112">In Teil 2 zeige ich Ihnen, wie benutzerdefinierte Routing Konventionen hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="0ec27-112">In part 2, I show how to add custom routing conventions.</span></span> <span data-ttu-id="0ec27-113">Derzeit werden die integrierten Konventionen nicht den gesamten Bereich von odata-URIs abdecken, Sie können Sie jedoch erweitern, um zusätzliche Fälle zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="0ec27-113">Currently the built-in conventions do not cover the entire range of OData URIs, but you can extend them to handle additional cases.</span></span>

- [<span data-ttu-id="0ec27-114">Integrierte Routing Konventionen</span><span class="sxs-lookup"><span data-stu-id="0ec27-114">Built-in Routing Conventions</span></span>](#conventions)
- [<span data-ttu-id="0ec27-115">Benutzerdefinierte Routing Konventionen</span><span class="sxs-lookup"><span data-stu-id="0ec27-115">Custom Routing Conventions</span></span>](#custom)

<a id="conventions"></a>
## <a name="built-in-routing-conventions"></a><span data-ttu-id="0ec27-116">Integrierte Routing Konventionen</span><span class="sxs-lookup"><span data-stu-id="0ec27-116">Built-in Routing Conventions</span></span>

<span data-ttu-id="0ec27-117">Bevor ich die odata-Routing Konventionen in der Web-API beschreibe, ist es hilfreich, odata-URIs zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-117">Before I describe the OData routing conventions in Web API, it's helpful to understand OData URIs.</span></span> <span data-ttu-id="0ec27-118">Ein [odata-URI](http://www.odata.org/documentation/odata-v3-documentation/url-conventions/) besteht aus folgendem:</span><span class="sxs-lookup"><span data-stu-id="0ec27-118">An [OData URI](http://www.odata.org/documentation/odata-v3-documentation/url-conventions/) consists of:</span></span>

- <span data-ttu-id="0ec27-119">Der Dienst Stamm</span><span class="sxs-lookup"><span data-stu-id="0ec27-119">The service root</span></span>
- <span data-ttu-id="0ec27-120">Der Ressourcen Pfad.</span><span class="sxs-lookup"><span data-stu-id="0ec27-120">The resource path</span></span>
- <span data-ttu-id="0ec27-121">Abfrageoptionen</span><span class="sxs-lookup"><span data-stu-id="0ec27-121">Query options</span></span>

![](odata-routing-conventions/_static/image1.png)

<span data-ttu-id="0ec27-122">Der wichtigste Teil für das Routing ist der Ressourcen Pfad.</span><span class="sxs-lookup"><span data-stu-id="0ec27-122">For routing, the important part is the resource path.</span></span> <span data-ttu-id="0ec27-123">Der Ressourcen Pfad ist in Segmente unterteilt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-123">The resource path is divided into segments.</span></span> <span data-ttu-id="0ec27-124">`/Products(1)/Supplier` hat z. b. drei Segmente:</span><span class="sxs-lookup"><span data-stu-id="0ec27-124">For example, `/Products(1)/Supplier` has three segments:</span></span>

- <span data-ttu-id="0ec27-125">`Products` verweist auf eine Entitätenmenge mit dem Namen "Products".</span><span class="sxs-lookup"><span data-stu-id="0ec27-125">`Products` refers to an entity set named "Products".</span></span>
- <span data-ttu-id="0ec27-126">`1` ist ein Entitäts Schlüssel, wobei eine einzelne Entität aus dem Satz ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="0ec27-126">`1` is an entity key, selecting a single entity from the set.</span></span>
- <span data-ttu-id="0ec27-127">`Supplier` ist eine Navigations Eigenschaft, die eine verknüpfte Entität auswählt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-127">`Supplier` is a navigation property that selects a related entity.</span></span>

<span data-ttu-id="0ec27-128">Mit diesem Pfad wird der Lieferant von Produkt 1 ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-128">So this path picks out the supplier of product 1.</span></span>

> [!NOTE]
> <span data-ttu-id="0ec27-129">Odata-Pfadsegmente entsprechen nicht immer URI-Segmenten.</span><span class="sxs-lookup"><span data-stu-id="0ec27-129">OData path segments do not always correspond to URI segments.</span></span> <span data-ttu-id="0ec27-130">Beispielsweise wird "1" als Pfad Segment betrachtet.</span><span class="sxs-lookup"><span data-stu-id="0ec27-130">For example, "1" is considered a path segment.</span></span>

<span data-ttu-id="0ec27-131">**Controller Namen.**</span><span class="sxs-lookup"><span data-stu-id="0ec27-131">**Controller Names.**</span></span> <span data-ttu-id="0ec27-132">Der Controller Name wird immer von der Entitätenmenge im Stammverzeichnis des Ressourcen Pfads abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="0ec27-132">The controller name is always derived from the entity set at the root of the resource path.</span></span> <span data-ttu-id="0ec27-133">Wenn der Ressourcen Pfad z. b. `/Products(1)/Supplier`ist, sucht die Web-API nach einem Controller mit dem Namen `ProductsController`.</span><span class="sxs-lookup"><span data-stu-id="0ec27-133">For example, if the resource path is `/Products(1)/Supplier`, Web API looks for a controller named `ProductsController`.</span></span>

<span data-ttu-id="0ec27-134">**Aktions Namen.**</span><span class="sxs-lookup"><span data-stu-id="0ec27-134">**Action Names.**</span></span> <span data-ttu-id="0ec27-135">Aktions Namen werden von den Pfad Segmenten und dem Entity Data Model (EDM) abgeleitet, wie in den folgenden Tabellen aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-135">Action names are derived from the path segments plus the entity data model (EDM), as listed in the following tables.</span></span> <span data-ttu-id="0ec27-136">In einigen Fällen haben Sie zwei Möglichkeiten für den Aktions Namen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-136">In some cases, you have two choices for the action name.</span></span> <span data-ttu-id="0ec27-137">Beispiel: "Get" oder &quot;GetProducts&quot;.</span><span class="sxs-lookup"><span data-stu-id="0ec27-137">For example, "Get" or &quot;GetProducts&quot;.</span></span>

<span data-ttu-id="0ec27-138">**Abfragen von Entitäten**</span><span class="sxs-lookup"><span data-stu-id="0ec27-138">**Querying Entities**</span></span>

| <span data-ttu-id="0ec27-139">Anforderung</span><span class="sxs-lookup"><span data-stu-id="0ec27-139">Request</span></span> | <span data-ttu-id="0ec27-140">Beispiel-URI</span><span class="sxs-lookup"><span data-stu-id="0ec27-140">Example URI</span></span> | <span data-ttu-id="0ec27-141">Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-141">Action Name</span></span> | <span data-ttu-id="0ec27-142">Beispiel Aktion</span><span class="sxs-lookup"><span data-stu-id="0ec27-142">Example Action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0ec27-143">Get/EntitySet</span><span class="sxs-lookup"><span data-stu-id="0ec27-143">GET /entityset</span></span> | <span data-ttu-id="0ec27-144">/Products</span><span class="sxs-lookup"><span data-stu-id="0ec27-144">/Products</span></span> | <span data-ttu-id="0ec27-145">Getentityset oder Get</span><span class="sxs-lookup"><span data-stu-id="0ec27-145">GetEntitySet or Get</span></span> | <span data-ttu-id="0ec27-146">GetProducts</span><span class="sxs-lookup"><span data-stu-id="0ec27-146">GetProducts</span></span> |
| <span data-ttu-id="0ec27-147">Get/EntitySet (Key)</span><span class="sxs-lookup"><span data-stu-id="0ec27-147">GET /entityset(key)</span></span> | <span data-ttu-id="0ec27-148">/Products (1)</span><span class="sxs-lookup"><span data-stu-id="0ec27-148">/Products(1)</span></span> | <span data-ttu-id="0ec27-149">Getentitytype oder Get</span><span class="sxs-lookup"><span data-stu-id="0ec27-149">GetEntityType or Get</span></span> | <span data-ttu-id="0ec27-150">GetProduct</span><span class="sxs-lookup"><span data-stu-id="0ec27-150">GetProduct</span></span> |
| <span data-ttu-id="0ec27-151">Get/EntitySet (Key)/Cast</span><span class="sxs-lookup"><span data-stu-id="0ec27-151">GET /entityset(key)/cast</span></span> | <span data-ttu-id="0ec27-152">/Products(1)/Models.Book</span><span class="sxs-lookup"><span data-stu-id="0ec27-152">/Products(1)/Models.Book</span></span> | <span data-ttu-id="0ec27-153">Getentitytype oder Get</span><span class="sxs-lookup"><span data-stu-id="0ec27-153">GetEntityType or Get</span></span> | <span data-ttu-id="0ec27-154">Getbook</span><span class="sxs-lookup"><span data-stu-id="0ec27-154">GetBook</span></span> |

<span data-ttu-id="0ec27-155">Weitere Informationen finden Sie unter [Erstellen eines schreibgeschützten odata-Endpunkts](odata-v3/creating-an-odata-endpoint.md).</span><span class="sxs-lookup"><span data-stu-id="0ec27-155">For more information, see [Create a Read-Only OData Endpoint](odata-v3/creating-an-odata-endpoint.md).</span></span>

<span data-ttu-id="0ec27-156">**Erstellen, aktualisieren und Löschen von Entitäten**</span><span class="sxs-lookup"><span data-stu-id="0ec27-156">**Creating, Updating, and Deleting Entities**</span></span>

| <span data-ttu-id="0ec27-157">Anforderung</span><span class="sxs-lookup"><span data-stu-id="0ec27-157">Request</span></span> | <span data-ttu-id="0ec27-158">Beispiel-URI</span><span class="sxs-lookup"><span data-stu-id="0ec27-158">Example URI</span></span> | <span data-ttu-id="0ec27-159">Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-159">Action Name</span></span> | <span data-ttu-id="0ec27-160">Beispiel Aktion</span><span class="sxs-lookup"><span data-stu-id="0ec27-160">Example Action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0ec27-161">Nach/EntitySet</span><span class="sxs-lookup"><span data-stu-id="0ec27-161">POST /entityset</span></span> | <span data-ttu-id="0ec27-162">/Products</span><span class="sxs-lookup"><span data-stu-id="0ec27-162">/Products</span></span> | <span data-ttu-id="0ec27-163">Postentitytype oder Post</span><span class="sxs-lookup"><span data-stu-id="0ec27-163">PostEntityType or Post</span></span> | <span data-ttu-id="0ec27-164">PostProduct</span><span class="sxs-lookup"><span data-stu-id="0ec27-164">PostProduct</span></span> |
| <span data-ttu-id="0ec27-165">Put/EntitySet (Key)</span><span class="sxs-lookup"><span data-stu-id="0ec27-165">PUT /entityset(key)</span></span> | <span data-ttu-id="0ec27-166">/Products (1)</span><span class="sxs-lookup"><span data-stu-id="0ec27-166">/Products(1)</span></span> | <span data-ttu-id="0ec27-167">Putentitytype oder Put</span><span class="sxs-lookup"><span data-stu-id="0ec27-167">PutEntityType or Put</span></span> | <span data-ttu-id="0ec27-168">Putproduct</span><span class="sxs-lookup"><span data-stu-id="0ec27-168">PutProduct</span></span> |
| <span data-ttu-id="0ec27-169">Put/EntitySet (Key)/Cast</span><span class="sxs-lookup"><span data-stu-id="0ec27-169">PUT /entityset(key)/cast</span></span> | <span data-ttu-id="0ec27-170">/Products(1)/Models.Book</span><span class="sxs-lookup"><span data-stu-id="0ec27-170">/Products(1)/Models.Book</span></span> | <span data-ttu-id="0ec27-171">Putentitytype oder Put</span><span class="sxs-lookup"><span data-stu-id="0ec27-171">PutEntityType or Put</span></span> | <span data-ttu-id="0ec27-172">Putbook</span><span class="sxs-lookup"><span data-stu-id="0ec27-172">PutBook</span></span> |
| <span data-ttu-id="0ec27-173">Patch-/EntitySet (Schlüssel)</span><span class="sxs-lookup"><span data-stu-id="0ec27-173">PATCH /entityset(key)</span></span> | <span data-ttu-id="0ec27-174">/Products (1)</span><span class="sxs-lookup"><span data-stu-id="0ec27-174">/Products(1)</span></span> | <span data-ttu-id="0ec27-175">Patchentitytype oder Patch</span><span class="sxs-lookup"><span data-stu-id="0ec27-175">PatchEntityType or Patch</span></span> | <span data-ttu-id="0ec27-176">Patchprodukt</span><span class="sxs-lookup"><span data-stu-id="0ec27-176">PatchProduct</span></span> |
| <span data-ttu-id="0ec27-177">Patch/EntitySet (Schlüssel)/Cast</span><span class="sxs-lookup"><span data-stu-id="0ec27-177">PATCH /entityset(key)/cast</span></span> | <span data-ttu-id="0ec27-178">/Products(1)/Models.Book</span><span class="sxs-lookup"><span data-stu-id="0ec27-178">/Products(1)/Models.Book</span></span> | <span data-ttu-id="0ec27-179">Patchentitytype oder Patch</span><span class="sxs-lookup"><span data-stu-id="0ec27-179">PatchEntityType or Patch</span></span> | <span data-ttu-id="0ec27-180">PatchBook</span><span class="sxs-lookup"><span data-stu-id="0ec27-180">PatchBook</span></span> |
| <span data-ttu-id="0ec27-181">DELETE/EntitySet (Schlüssel)</span><span class="sxs-lookup"><span data-stu-id="0ec27-181">DELETE /entityset(key)</span></span> | <span data-ttu-id="0ec27-182">/Products (1)</span><span class="sxs-lookup"><span data-stu-id="0ec27-182">/Products(1)</span></span> | <span data-ttu-id="0ec27-183">Deleteentitytype oder DELETE</span><span class="sxs-lookup"><span data-stu-id="0ec27-183">DeleteEntityType or Delete</span></span> | <span data-ttu-id="0ec27-184">DeleteProduct</span><span class="sxs-lookup"><span data-stu-id="0ec27-184">DeleteProduct</span></span> |
| <span data-ttu-id="0ec27-185">DELETE/EntitySet (Key)/Cast</span><span class="sxs-lookup"><span data-stu-id="0ec27-185">DELETE /entityset(key)/cast</span></span> | <span data-ttu-id="0ec27-186">/Products(1)/Models.Book</span><span class="sxs-lookup"><span data-stu-id="0ec27-186">/Products(1)/Models.Book</span></span> | <span data-ttu-id="0ec27-187">Deleteentitytype oder DELETE</span><span class="sxs-lookup"><span data-stu-id="0ec27-187">DeleteEntityType or Delete</span></span> | <span data-ttu-id="0ec27-188">Deletebook</span><span class="sxs-lookup"><span data-stu-id="0ec27-188">DeleteBook</span></span> |

<span data-ttu-id="0ec27-189">**Abfragen einer Navigations Eigenschaft**</span><span class="sxs-lookup"><span data-stu-id="0ec27-189">**Querying a Navigation Property**</span></span>

| <span data-ttu-id="0ec27-190">Anforderung</span><span class="sxs-lookup"><span data-stu-id="0ec27-190">Request</span></span> | <span data-ttu-id="0ec27-191">Beispiel-URI</span><span class="sxs-lookup"><span data-stu-id="0ec27-191">Example URI</span></span> | <span data-ttu-id="0ec27-192">Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-192">Action Name</span></span> | <span data-ttu-id="0ec27-193">Beispiel Aktion</span><span class="sxs-lookup"><span data-stu-id="0ec27-193">Example Action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0ec27-194">Get/EntitySet (Key)/Navigation</span><span class="sxs-lookup"><span data-stu-id="0ec27-194">GET /entityset(key)/navigation</span></span> | <span data-ttu-id="0ec27-195">/Products (1)/Supplier</span><span class="sxs-lookup"><span data-stu-id="0ec27-195">/Products(1)/Supplier</span></span> | <span data-ttu-id="0ec27-196">Getnavigationfromentitytype oder getnavigation</span><span class="sxs-lookup"><span data-stu-id="0ec27-196">GetNavigationFromEntityType or GetNavigation</span></span> | <span data-ttu-id="0ec27-197">GetSupplierFromProduct</span><span class="sxs-lookup"><span data-stu-id="0ec27-197">GetSupplierFromProduct</span></span> |
| <span data-ttu-id="0ec27-198">Get/EntitySet (Key)/Cast/Navigation</span><span class="sxs-lookup"><span data-stu-id="0ec27-198">GET /entityset(key)/cast/navigation</span></span> | <span data-ttu-id="0ec27-199">/Products(1)/Models.Book/Author</span><span class="sxs-lookup"><span data-stu-id="0ec27-199">/Products(1)/Models.Book/Author</span></span> | <span data-ttu-id="0ec27-200">Getnavigationfromentitytype oder getnavigation</span><span class="sxs-lookup"><span data-stu-id="0ec27-200">GetNavigationFromEntityType or GetNavigation</span></span> | <span data-ttu-id="0ec27-201">GetAuthorFromBook</span><span class="sxs-lookup"><span data-stu-id="0ec27-201">GetAuthorFromBook</span></span> |

<span data-ttu-id="0ec27-202">Weitere Informationen finden Sie unter [Arbeiten mit Entitäts Beziehungen](odata-v3/working-with-entity-relations.md).</span><span class="sxs-lookup"><span data-stu-id="0ec27-202">For more information, see [Working with Entity Relations](odata-v3/working-with-entity-relations.md).</span></span>

<span data-ttu-id="0ec27-203">**Erstellen und Löschen von Links**</span><span class="sxs-lookup"><span data-stu-id="0ec27-203">**Creating and Deleting Links**</span></span>

| <span data-ttu-id="0ec27-204">Anforderung</span><span class="sxs-lookup"><span data-stu-id="0ec27-204">Request</span></span> | <span data-ttu-id="0ec27-205">Beispiel-URI</span><span class="sxs-lookup"><span data-stu-id="0ec27-205">Example URI</span></span> | <span data-ttu-id="0ec27-206">Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-206">Action Name</span></span> |
| --- | --- | --- |
| <span data-ttu-id="0ec27-207">POST /entityset(key)/$links/navigation</span><span class="sxs-lookup"><span data-stu-id="0ec27-207">POST /entityset(key)/$links/navigation</span></span> | <span data-ttu-id="0ec27-208">/Products (1)/$Links/Supplier</span><span class="sxs-lookup"><span data-stu-id="0ec27-208">/Products(1)/$links/Supplier</span></span> | <span data-ttu-id="0ec27-209">CreateLink</span><span class="sxs-lookup"><span data-stu-id="0ec27-209">CreateLink</span></span> |
| <span data-ttu-id="0ec27-210">Put/EntitySet (Key)/$Links/Navigation</span><span class="sxs-lookup"><span data-stu-id="0ec27-210">PUT /entityset(key)/$links/navigation</span></span> | <span data-ttu-id="0ec27-211">/Products (1)/$Links/Supplier</span><span class="sxs-lookup"><span data-stu-id="0ec27-211">/Products(1)/$links/Supplier</span></span> | <span data-ttu-id="0ec27-212">CreateLink</span><span class="sxs-lookup"><span data-stu-id="0ec27-212">CreateLink</span></span> |
| <span data-ttu-id="0ec27-213">DELETE /entityset(key)/$links/navigation</span><span class="sxs-lookup"><span data-stu-id="0ec27-213">DELETE /entityset(key)/$links/navigation</span></span> | <span data-ttu-id="0ec27-214">/Products (1)/$Links/Supplier</span><span class="sxs-lookup"><span data-stu-id="0ec27-214">/Products(1)/$links/Supplier</span></span> | <span data-ttu-id="0ec27-215">DeleteLink</span><span class="sxs-lookup"><span data-stu-id="0ec27-215">DeleteLink</span></span> |
| <span data-ttu-id="0ec27-216">DELETE /entityset(key)/$links/navigation(relatedKey)</span><span class="sxs-lookup"><span data-stu-id="0ec27-216">DELETE /entityset(key)/$links/navigation(relatedKey)</span></span> | <span data-ttu-id="0ec27-217">/Products/(1)/$Links/Suppliers (1)</span><span class="sxs-lookup"><span data-stu-id="0ec27-217">/Products/(1)/$links/Suppliers(1)</span></span> | <span data-ttu-id="0ec27-218">DeleteLink</span><span class="sxs-lookup"><span data-stu-id="0ec27-218">DeleteLink</span></span> |

<span data-ttu-id="0ec27-219">Weitere Informationen finden Sie unter [Arbeiten mit Entitäts Beziehungen](odata-v3/working-with-entity-relations.md).</span><span class="sxs-lookup"><span data-stu-id="0ec27-219">For more information, see [Working with Entity Relations](odata-v3/working-with-entity-relations.md).</span></span>

<span data-ttu-id="0ec27-220">**Eigenschaften**</span><span class="sxs-lookup"><span data-stu-id="0ec27-220">**Properties**</span></span>

<span data-ttu-id="0ec27-221">*Erfordert Web-API 2*</span><span class="sxs-lookup"><span data-stu-id="0ec27-221">*Requires Web API 2*</span></span>

| <span data-ttu-id="0ec27-222">Anforderung</span><span class="sxs-lookup"><span data-stu-id="0ec27-222">Request</span></span> | <span data-ttu-id="0ec27-223">Beispiel-URI</span><span class="sxs-lookup"><span data-stu-id="0ec27-223">Example URI</span></span> | <span data-ttu-id="0ec27-224">Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-224">Action Name</span></span> | <span data-ttu-id="0ec27-225">Beispiel Aktion</span><span class="sxs-lookup"><span data-stu-id="0ec27-225">Example Action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0ec27-226">Get/EntitySet (Key)/Property</span><span class="sxs-lookup"><span data-stu-id="0ec27-226">GET /entityset(key)/property</span></span> | <span data-ttu-id="0ec27-227">/Products (1)/Name</span><span class="sxs-lookup"><span data-stu-id="0ec27-227">/Products(1)/Name</span></span> | <span data-ttu-id="0ec27-228">Getpropertyfromentitytype oder GetProperty</span><span class="sxs-lookup"><span data-stu-id="0ec27-228">GetPropertyFromEntityType or GetProperty</span></span> | <span data-ttu-id="0ec27-229">GetNameFromProduct</span><span class="sxs-lookup"><span data-stu-id="0ec27-229">GetNameFromProduct</span></span> |
| <span data-ttu-id="0ec27-230">Get/EntitySet (Key)/Cast/Property</span><span class="sxs-lookup"><span data-stu-id="0ec27-230">GET /entityset(key)/cast/property</span></span> | <span data-ttu-id="0ec27-231">/Products(1)/Models.Book/Author</span><span class="sxs-lookup"><span data-stu-id="0ec27-231">/Products(1)/Models.Book/Author</span></span> | <span data-ttu-id="0ec27-232">Getpropertyfromentitytype oder GetProperty</span><span class="sxs-lookup"><span data-stu-id="0ec27-232">GetPropertyFromEntityType or GetProperty</span></span> | <span data-ttu-id="0ec27-233">GetTitleFromBook</span><span class="sxs-lookup"><span data-stu-id="0ec27-233">GetTitleFromBook</span></span> |

<span data-ttu-id="0ec27-234">**Aktionen**</span><span class="sxs-lookup"><span data-stu-id="0ec27-234">**Actions**</span></span>

| <span data-ttu-id="0ec27-235">Anforderung</span><span class="sxs-lookup"><span data-stu-id="0ec27-235">Request</span></span> | <span data-ttu-id="0ec27-236">Beispiel-URI</span><span class="sxs-lookup"><span data-stu-id="0ec27-236">Example URI</span></span> | <span data-ttu-id="0ec27-237">Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-237">Action Name</span></span> | <span data-ttu-id="0ec27-238">Beispiel Aktion</span><span class="sxs-lookup"><span data-stu-id="0ec27-238">Example Action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0ec27-239">Post/EntitySet (Schlüssel)/Action</span><span class="sxs-lookup"><span data-stu-id="0ec27-239">POST /entityset(key)/action</span></span> | <span data-ttu-id="0ec27-240">/Products (1)/Rate</span><span class="sxs-lookup"><span data-stu-id="0ec27-240">/Products(1)/Rate</span></span> | <span data-ttu-id="0ec27-241">Aktions nameonentitytype oder Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-241">ActionNameOnEntityType or ActionName</span></span> | <span data-ttu-id="0ec27-242">Rateonproduct</span><span class="sxs-lookup"><span data-stu-id="0ec27-242">RateOnProduct</span></span> |
| <span data-ttu-id="0ec27-243">Post/EntitySet (Schlüssel)/Cast/Action</span><span class="sxs-lookup"><span data-stu-id="0ec27-243">POST /entityset(key)/cast/action</span></span> | <span data-ttu-id="0ec27-244">/Products(1)/Models.Book/CheckOut</span><span class="sxs-lookup"><span data-stu-id="0ec27-244">/Products(1)/Models.Book/CheckOut</span></span> | <span data-ttu-id="0ec27-245">Aktions nameonentitytype oder Aktionsname</span><span class="sxs-lookup"><span data-stu-id="0ec27-245">ActionNameOnEntityType or ActionName</span></span> | <span data-ttu-id="0ec27-246">CheckOutOnBook</span><span class="sxs-lookup"><span data-stu-id="0ec27-246">CheckOutOnBook</span></span> |

<span data-ttu-id="0ec27-247">Weitere Informationen finden Sie unter [odata-Aktionen](odata-v3/odata-actions.md).</span><span class="sxs-lookup"><span data-stu-id="0ec27-247">For more information, see [OData Actions](odata-v3/odata-actions.md).</span></span>

<span data-ttu-id="0ec27-248">**Methoden Signaturen**</span><span class="sxs-lookup"><span data-stu-id="0ec27-248">**Method Signatures**</span></span>

<span data-ttu-id="0ec27-249">Im folgenden finden Sie einige Regeln für die Methoden Signaturen:</span><span class="sxs-lookup"><span data-stu-id="0ec27-249">Here are some rules for the method signatures:</span></span>

- <span data-ttu-id="0ec27-250">Wenn der Pfad einen Schlüssel enthält, sollte die Aktion über einen Parameter mit dem Namen *Key*verfügen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-250">If the path contains a key, the action should have a parameter named *key*.</span></span>
- <span data-ttu-id="0ec27-251">Wenn der Pfad einen Schlüssel in einer Navigations Eigenschaft enthält, sollte die Aktion einen Parameter namens *relatedkey*aufweisen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-251">If the path contains a key into a navigation property, the action should have a parameter named *relatedKey*.</span></span>
- <span data-ttu-id="0ec27-252">Ergänzen Sie *Key* -und *relatedkey* -Parameter mit dem Parameter **[fromudatauri]** .</span><span class="sxs-lookup"><span data-stu-id="0ec27-252">Decorate *key* and *relatedKey* parameters with the **[FromODataUri]** parameter.</span></span>
- <span data-ttu-id="0ec27-253">Post-und Put-Anforderungen nehmen einen Parameter des Entitäts Typs an.</span><span class="sxs-lookup"><span data-stu-id="0ec27-253">POST and PUT requests take a parameter of the entity type.</span></span>
- <span data-ttu-id="0ec27-254">Patchanforderungen nehmen einen Parameter vom Typ **Delta&lt;t&gt;** auf, wobei *t* der Entitätstyp ist.</span><span class="sxs-lookup"><span data-stu-id="0ec27-254">PATCH requests take a parameter of type **Delta&lt;T&gt;**, where *T* is the entity type.</span></span>

<span data-ttu-id="0ec27-255">Im folgenden finden Sie ein Beispiel, das Methoden Signaturen für jede integrierte odata-Routing Konvention anzeigt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-255">For reference, here is an example that shows method signatures for every built-in OData routing convention.</span></span>

[!code-csharp[Main](odata-routing-conventions/samples/sample1.cs)]

<a id="custom"></a>
## <a name="custom-routing-conventions"></a><span data-ttu-id="0ec27-256">Benutzerdefinierte Routing Konventionen</span><span class="sxs-lookup"><span data-stu-id="0ec27-256">Custom Routing Conventions</span></span>

<span data-ttu-id="0ec27-257">Derzeit decken die integrierten Konventionen nicht alle möglichen odata-URIs ab.</span><span class="sxs-lookup"><span data-stu-id="0ec27-257">Currently the built-in conventions do not cover all possible OData URIs.</span></span> <span data-ttu-id="0ec27-258">Sie können neue Konventionen hinzufügen, indem Sie die **iodataroutingconvention** -Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="0ec27-258">You can add new conventions by implementing the **IODataRoutingConvention** interface.</span></span> <span data-ttu-id="0ec27-259">Diese Schnittstelle verfügt über zwei Methoden:</span><span class="sxs-lookup"><span data-stu-id="0ec27-259">This interface has two methods:</span></span>

[!code-csharp[Main](odata-routing-conventions/samples/sample2.cs)]

- <span data-ttu-id="0ec27-260">**Selectcontroller** gibt den Namen des Controllers zurück.</span><span class="sxs-lookup"><span data-stu-id="0ec27-260">**SelectController** returns the name of the controller.</span></span>
- <span data-ttu-id="0ec27-261">**SelectAction** gibt den Namen der Aktion zurück.</span><span class="sxs-lookup"><span data-stu-id="0ec27-261">**SelectAction** returns the name of the action.</span></span>

<span data-ttu-id="0ec27-262">Wenn die Konvention für beide Methoden nicht auf diese Anforderung angewendet wird, sollte die Methode NULL zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="0ec27-262">For both methods, if the convention does not apply to that request, the method should return null.</span></span>

<span data-ttu-id="0ec27-263">Der **odatapath** -Parameter stellt den analysierten odata-Ressourcen Pfad dar.</span><span class="sxs-lookup"><span data-stu-id="0ec27-263">The **ODataPath** parameter represents the parsed OData resource path.</span></span> <span data-ttu-id="0ec27-264">Sie enthält eine Liste von **[odatapathsegment](https://msdn.microsoft.com/library/system.web.http.odata.routing.odatapathsegment.aspx)** -Instanzen, eine für jedes Segment des Ressourcen Pfads.</span><span class="sxs-lookup"><span data-stu-id="0ec27-264">It contains a list of **[ODataPathSegment](https://msdn.microsoft.com/library/system.web.http.odata.routing.odatapathsegment.aspx)** instances, one for each segment of the resource path.</span></span> <span data-ttu-id="0ec27-265">**Odatapathsegment** ist eine abstrakte Klasse. jeder Segmenttyp wird durch eine Klasse dargestellt, die von **odatapathsegment**abgeleitet ist.</span><span class="sxs-lookup"><span data-stu-id="0ec27-265">**ODataPathSegment** is an abstract class; each segment type is represented by a class that derives from **ODataPathSegment**.</span></span>

<span data-ttu-id="0ec27-266">Die **odatapath. TemplatePath** -Eigenschaft ist eine Zeichenfolge, die die Verkettung aller Pfadsegmente darstellt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-266">The **ODataPath.TemplatePath** property is a string that represents the concatenation all of the path segments.</span></span> <span data-ttu-id="0ec27-267">Wenn der URI z. b. `/Products(1)/Supplier`ist, ist die Pfad Vorlage &quot;~/EntitySet/Key/Navigation&quot;.</span><span class="sxs-lookup"><span data-stu-id="0ec27-267">For example, if the URI is `/Products(1)/Supplier`, the path template is &quot;~/entityset/key/navigation&quot;.</span></span> <span data-ttu-id="0ec27-268">Beachten Sie, dass die Segmente nicht direkt den URI-Segmenten entsprechen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-268">Notice that the segments don't correspond directly to URI segments.</span></span> <span data-ttu-id="0ec27-269">Beispielsweise wird der Entitäts Schlüssel (1) als sein eigenes **odatapathsegment**dargestellt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-269">For example, the entity key (1) is represented as its own **ODataPathSegment**.</span></span>

<span data-ttu-id="0ec27-270">In der Regel führt eine Implementierung von **iodataroutingconvention** Folgendes aus:</span><span class="sxs-lookup"><span data-stu-id="0ec27-270">Typically, an implementation of **IODataRoutingConvention** does the following:</span></span>

1. <span data-ttu-id="0ec27-271">Vergleichen Sie die Pfad Vorlage, um festzustellen, ob diese Konvention auf die aktuelle Anforderung angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="0ec27-271">Compare the path template to see if this convention applies to the current request.</span></span> <span data-ttu-id="0ec27-272">Wenn dies nicht zutrifft, wird NULL zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="0ec27-272">If it does not apply, return null.</span></span>
2. <span data-ttu-id="0ec27-273">Wenn die Konvention zutrifft, verwenden Sie die Eigenschaften der **odatapathsegment** -Instanzen zum Ableiten von Controller-und Aktions Namen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-273">If the convention applies, use properties of the **ODataPathSegment** instances to derive controller and action names.</span></span>
3. <span data-ttu-id="0ec27-274">Fügen Sie für Aktionen dem Routen Wörterbuch alle Werte hinzu, die an die Aktionsparameter gebunden werden sollen (normalerweise Entitäts Schlüssel).</span><span class="sxs-lookup"><span data-stu-id="0ec27-274">For actions, add any values to the route dictionary that should bind to the action parameters (typically entity keys).</span></span>

<span data-ttu-id="0ec27-275">Sehen wir uns ein bestimmtes Beispiel an.</span><span class="sxs-lookup"><span data-stu-id="0ec27-275">Let's look at a specific example.</span></span> <span data-ttu-id="0ec27-276">Die integrierten Routing Konventionen unterstützen keine Indizierung in eine Navigations Auflistung.</span><span class="sxs-lookup"><span data-stu-id="0ec27-276">The built-in routing conventions do not support indexing into a navigation collection.</span></span> <span data-ttu-id="0ec27-277">Anders ausgedrückt: Es gibt keine Konvention für URIs wie die folgenden:</span><span class="sxs-lookup"><span data-stu-id="0ec27-277">In other words, there is no convention for URIs like the following:</span></span>

[!code-javascript[Main](odata-routing-conventions/samples/sample3.js)]

<span data-ttu-id="0ec27-278">Im folgenden finden Sie eine benutzerdefinierte Routing Konvention, die diesen Abfragetyp behandelt.</span><span class="sxs-lookup"><span data-stu-id="0ec27-278">Here is a custom routing convention to handle this type of query.</span></span>

[!code-csharp[Main](odata-routing-conventions/samples/sample4.cs)]

<span data-ttu-id="0ec27-279">Notizen:</span><span class="sxs-lookup"><span data-stu-id="0ec27-279">Notes:</span></span>

1. <span data-ttu-id="0ec27-280">Ich führe von **entityabtroutingconvention**aus, da die **selectcontroller** -Methode in dieser Klasse für diese neue Routing Konvention geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="0ec27-280">I derive from **EntitySetRoutingConvention**, because the **SelectController** method in that class is appropriate for this new routing convention.</span></span> <span data-ttu-id="0ec27-281">Dies bedeutet, dass **selectcontroller**nicht erneut implementiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="0ec27-281">That means I don't need to re-implement **SelectController**.</span></span>
2. <span data-ttu-id="0ec27-282">Die Konvention gilt nur für Get-Anforderungen und nur, wenn die Pfad Vorlage &quot;~/EntitySet/Key/Navigation/Key&quot;ist.</span><span class="sxs-lookup"><span data-stu-id="0ec27-282">The convention applies only to GET requests, and only when the path template is &quot;~/entityset/key/navigation/key&quot;.</span></span>
3. <span data-ttu-id="0ec27-283">Der Aktionsname ist &quot;Get {EntityType}&quot;, wobei *{EntityType}* der Typ der Navigations Auflistung ist.</span><span class="sxs-lookup"><span data-stu-id="0ec27-283">The action name is &quot;Get{EntityType}&quot;, where *{EntityType}* is the type of the navigation collection.</span></span> <span data-ttu-id="0ec27-284">Beispielsweise &quot;getsupplier&quot;.</span><span class="sxs-lookup"><span data-stu-id="0ec27-284">For example, &quot;GetSupplier&quot;.</span></span> <span data-ttu-id="0ec27-285">Sie können eine beliebige Benennungs Konvention verwenden, &#8212; um nur sicherzustellen, dass die Controller Aktionen übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-285">You can use any naming convention that you like &#8212; just make sure your controller actions match.</span></span>
4. <span data-ttu-id="0ec27-286">Die Aktion nimmt zwei Parameter mit dem Namen *Key* und *relatedkey*an.</span><span class="sxs-lookup"><span data-stu-id="0ec27-286">The action takes two parameters named *key* and *relatedKey*.</span></span> <span data-ttu-id="0ec27-287">(Eine Liste mit einigen vordefinierten Parameternamen finden Sie unter [odatarouteconstants](https://msdn.microsoft.com/library/system.web.http.odata.routing.odatarouteconstants.aspx).)</span><span class="sxs-lookup"><span data-stu-id="0ec27-287">(For a list of some predefined parameter names, see [ODataRouteConstants](https://msdn.microsoft.com/library/system.web.http.odata.routing.odatarouteconstants.aspx).)</span></span>

<span data-ttu-id="0ec27-288">Der nächste Schritt besteht darin, die neue Konvention zur Liste der Routing Konventionen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="0ec27-288">The next step is adding the new convention to the list of routing conventions.</span></span> <span data-ttu-id="0ec27-289">Dies geschieht während der Konfiguration, wie im folgenden Code gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0ec27-289">This happens during configuration, as shown in the following code:</span></span>

[!code-csharp[Main](odata-routing-conventions/samples/sample5.cs)]

<span data-ttu-id="0ec27-290">Im folgenden finden Sie einige weitere Beispiel-Routing Konventionen, die für die Untersuchung nützlich sind:</span><span class="sxs-lookup"><span data-stu-id="0ec27-290">Here are some other sample routing conventions that be useful to study:</span></span>

- [<span data-ttu-id="0ec27-291">Compositekeyroutingconvention</span><span class="sxs-lookup"><span data-stu-id="0ec27-291">CompositeKeyRoutingConvention</span></span>](http://aspnet.codeplex.com/sourcecontrol/latest#Samples/WebApi/ODataCompositeKeySample/ODataCompositeKeySample/Extensions/CompositeKeyRoutingConvention.cs)
- [<span data-ttu-id="0ec27-292">Customnavigationroutingconvention</span><span class="sxs-lookup"><span data-stu-id="0ec27-292">CustomNavigationRoutingConvention</span></span>](http://aspnet.codeplex.com/sourcecontrol/latest#Samples/WebApi/ODataServiceSample/ODataService/Extensions/CustomNavigationRoutingConvention.cs)
- [<span data-ttu-id="0ec27-293">Nonbindableaktionroutingconvention</span><span class="sxs-lookup"><span data-stu-id="0ec27-293">NonBindableActionRoutingConvention</span></span>](http://aspnet.codeplex.com/sourcecontrol/latest#Samples/WebApi/ODataActionsSample/ODataActionsSample/NonBindableActionRoutingConvention.cs)
- [<span data-ttu-id="0ec27-294">Odataversionrouteeinschränkung</span><span class="sxs-lookup"><span data-stu-id="0ec27-294">ODataVersionRouteConstraint</span></span>](http://aspnet.codeplex.com/sourcecontrol/latest#Samples/WebApi/ODataVersioningSample/ODataVersioningSample/Extensions/ODataVersionRouteConstraint.cs)

<span data-ttu-id="0ec27-295">Natürlich ist die Web-API selbst Open Source, sodass Sie den [Quellcode](http://aspnetwebstack.codeplex.com/) für die integrierten Routing Konventionen sehen können.</span><span class="sxs-lookup"><span data-stu-id="0ec27-295">And of course Web API itself is open-source, so you can see the [source code](http://aspnetwebstack.codeplex.com/) for the built-in routing conventions.</span></span> <span data-ttu-id="0ec27-296">Diese werden im Namespace **System. Web. http. odata. Routing. Conventions** definiert.</span><span class="sxs-lookup"><span data-stu-id="0ec27-296">These are defined in the **System.Web.Http.OData.Routing.Conventions** namespace.</span></span>
