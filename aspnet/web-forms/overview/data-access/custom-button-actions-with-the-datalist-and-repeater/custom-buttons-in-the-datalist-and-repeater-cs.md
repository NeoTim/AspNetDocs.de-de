---
uid: web-forms/overview/data-access/custom-button-actions-with-the-datalist-and-repeater/custom-buttons-in-the-datalist-and-repeater-cs
title: Benutzerdefinierte Schaltflächen im DataList- oder Wiederholungssteuerelement (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial erstellen wir eine Schnittstelle, die einen Repeater verwendet wird, um die Liste der im System, wobei jede Kategorie eine Schaltfläche zum Anzeigen der Associ bereitstellen anzeigen...
ms.author: riande
ms.date: 11/13/2006
ms.assetid: 1f42e332-78dc-438b-9e35-0c97aa0ad929
msc.legacyurl: /web-forms/overview/data-access/custom-button-actions-with-the-datalist-and-repeater/custom-buttons-in-the-datalist-and-repeater-cs
msc.type: authoredcontent
ms.openlocfilehash: ad3af89c34df4a71b6e658ba205aa4f645b4dedd
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/06/2019
ms.locfileid: "65134024"
---
# <a name="custom-buttons-in-the-datalist-and-repeater-c"></a><span data-ttu-id="97521-103">Benutzerdefinierte Schaltflächen im DataList- oder Wiederholungssteuerelement (C#)</span><span class="sxs-lookup"><span data-stu-id="97521-103">Custom Buttons in the DataList and Repeater (C#)</span></span>

<span data-ttu-id="97521-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="97521-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="97521-105">[Beispiel-App herunter](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_46_CS.exe) oder [PDF-Datei herunterladen](custom-buttons-in-the-datalist-and-repeater-cs/_static/datatutorial46cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="97521-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_46_CS.exe) or [Download PDF](custom-buttons-in-the-datalist-and-repeater-cs/_static/datatutorial46cs1.pdf)</span></span>

> <span data-ttu-id="97521-106">In diesem Tutorial erstellen wir eine Schnittstelle, die einen Repeater verwendet wird, um die Liste von Kategorien im System, wobei jede Kategorie, die Bereitstellung einer Schaltfläche, um die zugehörige Produkte, die mithilfe eines BulletedList-Steuerelements anzeigen.</span><span class="sxs-lookup"><span data-stu-id="97521-106">In this tutorial we'll build an interface that uses a Repeater to list the categories in the system, with each category providing a button to show its associated products using a BulletedList control.</span></span>

## <a name="introduction"></a><span data-ttu-id="97521-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="97521-107">Introduction</span></span>

<span data-ttu-id="97521-108">In den letzten siebzehn DataList- oder Wiederholungssteuerelement Tutorials wir erstellt haben, sowohl Beispiele für die nur-Lese und bearbeiten und Löschen von Beispielen.</span><span class="sxs-lookup"><span data-stu-id="97521-108">Throughout the past seventeen DataList and Repeater tutorials, we ve created both read-only examples and editing and deleting examples.</span></span> <span data-ttu-id="97521-109">Um zu ermöglichen, bearbeiten und Löschen von Funktionen in einem DataList-Steuerelement, wir Schaltflächen hinzugefügt, an die Datenliste s `ItemTemplate` , die beim Klicken auf einen Postback verursacht, und eine für die Schaltfläche "s" DataList-Ereignis ausgelöst hat `CommandName` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="97521-109">To facilitate editing and deleting capabilities within a DataList, we added buttons to the DataList s `ItemTemplate` that, when clicked, caused a postback and raised a DataList event corresponding to the button s `CommandName` property.</span></span> <span data-ttu-id="97521-110">Z. B. eine Schaltfläche zum Hinzufügen der `ItemTemplate` mit einer `CommandName` Eigenschaftswert Bearbeitung bewirkt, dass die DataList-s `EditCommand` auf Postbacks ausgelöst werden mit der `CommandName` löschen löst die `DeleteCommand`.</span><span class="sxs-lookup"><span data-stu-id="97521-110">For example, adding a button to the `ItemTemplate` with a `CommandName` property value of Edit causes the DataList s `EditCommand` to fire on postback; one with the `CommandName` Delete raises the `DeleteCommand`.</span></span>

<span data-ttu-id="97521-111">Darüber hinaus zum Bearbeiten und Löschen von Schaltflächen, die DataList- oder Repeater-Steuerelemente können auch enthalten Schaltflächen, LinkButtons oder ImageButtons, führen Sie durch Klicken auf eine benutzerdefinierte serverseitige Logik.</span><span class="sxs-lookup"><span data-stu-id="97521-111">In addition to Edit and Delete buttons, the DataList and Repeater controls can also include Buttons, LinkButtons, or ImageButtons that, when clicked, perform some custom server-side logic.</span></span> <span data-ttu-id="97521-112">In diesem Tutorial erstellen wir eine Schnittstelle, die einen Repeater verwendet wird, um die Liste der Kategorien im System.</span><span class="sxs-lookup"><span data-stu-id="97521-112">In this tutorial we'll build an interface that uses a Repeater to list the categories in the system.</span></span> <span data-ttu-id="97521-113">Für jede Kategorie umfasst der Repeater eine Schaltfläche, um die Kategorie verknüpft sind Produkte, die über ein BulletedList-Steuerelement angezeigt werden (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="97521-113">For each category, the Repeater will include a button to show the category s associated products using a BulletedList control (see Figure 1).</span></span>

<span data-ttu-id="97521-114">[![Produkte Link zeigt die Kategorie-s-Produkte in einer Liste mit Aufzählungszeichen der anzeigen klicken](custom-buttons-in-the-datalist-and-repeater-cs/_static/image2.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="97521-114">[![Clicking the Show Products Link Displays the Category s Products in a Bulleted List](custom-buttons-in-the-datalist-and-repeater-cs/_static/image2.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image1.png)</span></span>

<span data-ttu-id="97521-115">**Abbildung 1**: Klicken Sie auf Link zeigt für die Produkte zeigen die Kategorie-s-Produkte in einer Liste mit Aufzählungszeichen ([klicken Sie, um das Bild in voller Größe anzeigen](custom-buttons-in-the-datalist-and-repeater-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="97521-115">**Figure 1**: Clicking the Show Products Link Displays the Category s Products in a Bulleted List ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image3.png))</span></span>

## <a name="step-1-adding-the-custom-button-tutorial-web-pages"></a><span data-ttu-id="97521-116">Schritt 1: Hinzufügen der benutzerdefinierten Schaltfläche Tutorial von Webseiten</span><span class="sxs-lookup"><span data-stu-id="97521-116">Step 1: Adding the Custom Button Tutorial Web Pages</span></span>

<span data-ttu-id="97521-117">Bevor Sie an, wie eine benutzerdefinierte Schaltfläche hinzufügen befassen, können Sie s zuerst können Sie die ASP.NET-Seiten in unserem Websiteprojekt zu erstellen, die wir für dieses Tutorial benötigen.</span><span class="sxs-lookup"><span data-stu-id="97521-117">Before we look at how to add a custom button, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial.</span></span> <span data-ttu-id="97521-118">Starten, indem Sie einen neuen Ordner namens hinzufügen `CustomButtonsDataListRepeater`.</span><span class="sxs-lookup"><span data-stu-id="97521-118">Start by adding a new folder named `CustomButtonsDataListRepeater`.</span></span> <span data-ttu-id="97521-119">Fügen Sie die folgenden beiden ASP.NET-Seiten in diesen Ordner, um sicherzustellen, ordnen Sie jeder Seite mit den `Site.master` Masterseite:</span><span class="sxs-lookup"><span data-stu-id="97521-119">Next, add the following two ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `CustomButtons.aspx`

![Fügen Sie die ASP.NET-Seiten für die benutzerdefinierten Schaltflächen-bezogene-Lernprogramme](custom-buttons-in-the-datalist-and-repeater-cs/_static/image4.png)

<span data-ttu-id="97521-121">**Abbildung 2**: Fügen Sie die ASP.NET-Seiten für die benutzerdefinierten Schaltflächen-bezogene-Lernprogramme</span><span class="sxs-lookup"><span data-stu-id="97521-121">**Figure 2**: Add the ASP.NET Pages for the Custom Buttons-Related Tutorials</span></span>

<span data-ttu-id="97521-122">Wie in den anderen Ordnern `Default.aspx` in die `CustomButtonsDataListRepeater` Ordner werden in den Tutorials im Abschnitt aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="97521-122">Like in the other folders, `Default.aspx` in the `CustomButtonsDataListRepeater` folder will list the tutorials in its section.</span></span> <span data-ttu-id="97521-123">Bedenken Sie, dass die `SectionLevelTutorialListing.ascx` Benutzersteuerelement stellt diese Funktionalität bereit.</span><span class="sxs-lookup"><span data-stu-id="97521-123">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="97521-124">Fügen Sie dieses Benutzersteuerelement zu `Default.aspx` durch Ziehen aus dem Projektmappen-Explorer auf die Seite s Entwurfsansicht.</span><span class="sxs-lookup"><span data-stu-id="97521-124">Add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="97521-125">[![Fügen Sie das SectionLevelTutorialListing.ascx-Benutzersteuerelement an "default.aspx"](custom-buttons-in-the-datalist-and-repeater-cs/_static/image6.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="97521-125">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](custom-buttons-in-the-datalist-and-repeater-cs/_static/image6.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image5.png)</span></span>

<span data-ttu-id="97521-126">**Abbildung 3**: Hinzufügen der `SectionLevelTutorialListing.ascx` Benutzersteuerelement `Default.aspx` ([klicken Sie, um das Bild in voller Größe anzeigen](custom-buttons-in-the-datalist-and-repeater-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="97521-126">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image7.png))</span></span>

<span data-ttu-id="97521-127">Abschließend fügen Sie die Seiten als Einträge der `Web.sitemap` Datei.</span><span class="sxs-lookup"><span data-stu-id="97521-127">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="97521-128">Fügen Sie das folgende Markup insbesondere nach der Paginierung und Sortierung, mit dem DataList- und Wiederholungssteuerelement `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="97521-128">Specifically, add the following markup after the Paging and Sorting with the DataList and Repeater `<siteMapNode>`:</span></span>

[!code-xml[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample1.xml)]

<span data-ttu-id="97521-129">Nach der Aktualisierung `Web.sitemap`, können Sie die Lernprogramme-Website über einen Browser anzeigen.</span><span class="sxs-lookup"><span data-stu-id="97521-129">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="97521-130">Klicken Sie im Menü auf der linken Seite enthält jetzt Elemente für das Bearbeiten, einfügen und löschen die Lernprogramme.</span><span class="sxs-lookup"><span data-stu-id="97521-130">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![Die Sitemap enthält jetzt den Eintrag für das benutzerdefinierte Schaltflächen-Tutorial](custom-buttons-in-the-datalist-and-repeater-cs/_static/image8.png)

<span data-ttu-id="97521-132">**Abbildung 4**: Die Sitemap enthält jetzt den Eintrag für das benutzerdefinierte Schaltflächen-Tutorial</span><span class="sxs-lookup"><span data-stu-id="97521-132">**Figure 4**: The Site Map Now Includes the Entry for the Custom Buttons Tutorial</span></span>

## <a name="step-2-adding-the-list-of-categories"></a><span data-ttu-id="97521-133">Schritt 2: Die Liste der Kategorien hinzufügen</span><span class="sxs-lookup"><span data-stu-id="97521-133">Step 2: Adding the List of Categories</span></span>

<span data-ttu-id="97521-134">Für dieses Tutorial benötigen wir einen Repeater zu erstellen, die alle Kategorien zusammen mit LinkButton-Produkte anzeigen aufgeführt, die beim Klicken auf die zugeordnete Kategorie s-Produkte in einer Aufzählung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="97521-134">For this tutorial we need to create a Repeater that lists all categories along with a Show Products LinkButton that, when clicked, displays the associated category s products in a bulleted list.</span></span> <span data-ttu-id="97521-135">Lassen Sie s, erstellen Sie zunächst ein einfaches Repeater, die im System die Kategorien aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="97521-135">Let s first create a simple Repeater that lists the categories in the system.</span></span> <span data-ttu-id="97521-136">Öffnen Sie zunächst die `CustomButtons.aspx` auf der Seite die `CustomButtonsDataListRepeater` Ordner.</span><span class="sxs-lookup"><span data-stu-id="97521-136">Start by opening the `CustomButtons.aspx` page in the `CustomButtonsDataListRepeater` folder.</span></span> <span data-ttu-id="97521-137">Ziehen Sie einen Repeater aus der Toolbox in den Designer und den Satz der `ID` Eigenschaft `Categories`.</span><span class="sxs-lookup"><span data-stu-id="97521-137">Drag a Repeater from the Toolbox onto the Designer and set its `ID` property to `Categories`.</span></span> <span data-ttu-id="97521-138">Als Nächstes erstellen Sie ein neues Datenquellen-Steuerelement, aus dem Repeater-s-Smarttag.</span><span class="sxs-lookup"><span data-stu-id="97521-138">Next, create a new data source control from the Repeater s smart tag.</span></span> <span data-ttu-id="97521-139">Insbesondere erstellen Sie ein neues ObjectDataSource-Steuerelement, das mit dem Namen `CategoriesDataSource` auswählt, die Daten aus der die `CategoriesBLL` Klasse s `GetCategories()` Methode.</span><span class="sxs-lookup"><span data-stu-id="97521-139">Specifically, create a new ObjectDataSource control named `CategoriesDataSource` that selects its data from the `CategoriesBLL` class s `GetCategories()` method.</span></span>

<span data-ttu-id="97521-140">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der CategoriesBLL Klasse s GetCategories()-Methode](custom-buttons-in-the-datalist-and-repeater-cs/_static/image10.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="97521-140">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories() Method](custom-buttons-in-the-datalist-and-repeater-cs/_static/image10.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image9.png)</span></span>

<span data-ttu-id="97521-141">**Abbildung 5**: Konfigurieren Sie das "ObjectDataSource" Verwenden der `CategoriesBLL` s-Klasse `GetCategories()` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](custom-buttons-in-the-datalist-and-repeater-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="97521-141">**Figure 5**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories()` Method ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image11.png))</span></span>

<span data-ttu-id="97521-142">Im Gegensatz zu dem DataList-Steuerelement, für die Visual Studio ein Standard erstellt- `ItemTemplate` basierend auf der Datenquelle, die Vorlagen Repeater s manuell definiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="97521-142">Unlike the DataList control, for which Visual Studio creates a default `ItemTemplate` based on the data source, the Repeater s templates must be manually defined.</span></span> <span data-ttu-id="97521-143">Darüber hinaus müssen die Repeater-s-Vorlagen erstellt und bearbeitet, deklarativ (d. h. es s keine Vorlagen bearbeiten-option im Smarttag Repeater s).</span><span class="sxs-lookup"><span data-stu-id="97521-143">Furthermore, the Repeater s templates must be created and edited declaratively (that is, there s no Edit Templates option in the Repeater s smart tag).</span></span>

<span data-ttu-id="97521-144">Klicken Sie auf der Registerkarte "Datenquelle" in der unteren linken Ecke, und fügen eine `ItemTemplate` , die den Kategorienamen s in anzeigt ein `<h3>` -Element und seine Beschreibung in einem Absatz markieren, enthalten eine `SeparatorTemplate` , die eine horizontale Trennlinie anzeigt (`<hr />`) zwischen den einzelnen die Kategorie.</span><span class="sxs-lookup"><span data-stu-id="97521-144">Click on the Source tab in the bottom left corner and add an `ItemTemplate` that displays the category s name in an `<h3>` element and its description in a paragraph tag; include a `SeparatorTemplate` that displays a horizontal rule (`<hr />`) between each category.</span></span> <span data-ttu-id="97521-145">Auch hinzufügen eine LinkButton mit seiner `Text` Eigenschaftensatz zu Produkten anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="97521-145">Also add a LinkButton with its `Text` property set to Show Products.</span></span> <span data-ttu-id="97521-146">Nach Abschluss dieser Schritte sollte im deklarativen Markup Ihrer Seite s wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="97521-146">After completing these steps, your page s declarative markup should look like the following:</span></span>

[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample2.aspx)]

<span data-ttu-id="97521-147">Abbildung 6 zeigt die Seite, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="97521-147">Figure 6 shows the page when viewed through a browser.</span></span> <span data-ttu-id="97521-148">Jeder Name und die Beschreibung wird aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="97521-148">Each category name and description is listed.</span></span> <span data-ttu-id="97521-149">Die Produkte anzeigen wird beim Klicken auf ein Postback auslöst aber eine Aktion noch nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="97521-149">The Show Products button, when clicked, causes a postback but does not yet perform any action.</span></span>

<span data-ttu-id="97521-150">[![Jede Kategorie s Name und die Beschreibung wird zusammen mit LinkButton-Produkte anzeigen angezeigt](custom-buttons-in-the-datalist-and-repeater-cs/_static/image13.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="97521-150">[![Each Category s Name and Description is Displayed, Along with a Show Products LinkButton](custom-buttons-in-the-datalist-and-repeater-cs/_static/image13.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image12.png)</span></span>

<span data-ttu-id="97521-151">**Abbildung 6**: Jede Kategorie s Name und die Beschreibung wird angezeigt, zusammen mit LinkButton-Produkte anzeigen ([klicken Sie, um das Bild in voller Größe anzeigen](custom-buttons-in-the-datalist-and-repeater-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="97521-151">**Figure 6**: Each Category s Name and Description is Displayed, Along with a Show Products LinkButton ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image14.png))</span></span>

## <a name="step-3-executing-server-side-logic-when-the-show-products-linkbutton-is-clicked"></a><span data-ttu-id="97521-152">Schritt 3: Ausführen der serverseitigen Logik bei der anzeigen-Produkte LinkButton geklickt wird</span><span class="sxs-lookup"><span data-stu-id="97521-152">Step 3: Executing Server-Side Logic When the Show Products LinkButton is Clicked</span></span>

<span data-ttu-id="97521-153">Jedes Mal, wenn eine Schaltfläche, LinkButton oder ImageButton innerhalb einer Vorlage in einem DataList- oder Repeater geklickt wird, ein Postback auftritt und der s DataList- oder Repeater `ItemCommand` -Ereignis ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="97521-153">Anytime a Button, LinkButton, or ImageButton within a template in a DataList or Repeater is clicked, a postback occurs and the DataList or Repeater s `ItemCommand` event fires.</span></span> <span data-ttu-id="97521-154">Zusätzlich zu den `ItemCommand` -Ereignis, das DataList-Steuerelement möglicherweise auch eine andere und spezifischere-Ereignis ausgelöst, wenn die Schaltfläche "s" `CommandName` -Eigenschaftensatz auf eine der reservierten Zeichenfolgen ("löschen", "Bearbeiten", "Abbrechen", "Update" oder "auswählen"), aber die `ItemCommand` Ereignis ist *immer* ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="97521-154">In addition to the `ItemCommand` event, the DataList control may also raise another, more specific event if the button s `CommandName` property is set to one of the reserved strings ( Delete, Edit, Cancel, Update, or Select ), but the `ItemCommand` event is *always* fired.</span></span>

<span data-ttu-id="97521-155">Wenn eine Schaltfläche in einem DataList- oder Repeater geklickt wird, muss häufig (in dem Fall, dass möglicherweise mehrere Schaltflächen innerhalb des Steuerelements, z. B. eine Bearbeitungs- und Schaltfläche "löschen"), auf welche Schaltfläche geklickt wurde und möglicherweise einige zusätzliche Informationen (z. B. übergibt die Primärschlüssel-Wert des Elements, dessen Schaltfläche geklickt wurde).</span><span class="sxs-lookup"><span data-stu-id="97521-155">When a button is clicked within a DataList or Repeater, oftentimes we need to pass along which button was clicked (in the case that there may be multiple buttons within the control, such as both an Edit and Delete button) and perhaps some additional information (such as the primary key value of the item whose button was clicked).</span></span> <span data-ttu-id="97521-156">Die Schaltfläche, LinkButton und ImageButton verfügen über zwei Eigenschaften, deren Werte an, die `ItemCommand` -Ereignishandler:</span><span class="sxs-lookup"><span data-stu-id="97521-156">The Button, LinkButton, and ImageButton provide two properties whose values are passed to the `ItemCommand` event handler:</span></span>

- <span data-ttu-id="97521-157">`CommandName` eine Zeichenfolge, die in der Regel verwendet, um jede Schaltfläche in der Vorlage zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="97521-157">`CommandName` a string typically used to identify each button in the template</span></span>
- <span data-ttu-id="97521-158">`CommandArgument` häufig verwendet, um den Wert eines Datenfelds, z. B. der primäre Schlüsselwert enthalten soll</span><span class="sxs-lookup"><span data-stu-id="97521-158">`CommandArgument` commonly used to hold the value of some data field, such as the primary key value</span></span>

<span data-ttu-id="97521-159">In diesem Beispiel legen Sie die s LinkButton `CommandName` Eigenschaft ShowProducts und die Bindung für den aktuellen Datensatz s Primärschlüsselwert `CategoryID` auf die `CommandArgument` Eigenschaft, die mit der Datenbindungssyntax `CategoryArgument='<%# Eval("CategoryID") %>'`.</span><span class="sxs-lookup"><span data-stu-id="97521-159">For this example, set the LinkButton s `CommandName` property to ShowProducts and bind the current record s primary key value `CategoryID` to the `CommandArgument` property using the databinding syntax `CategoryArgument='<%# Eval("CategoryID") %>'`.</span></span> <span data-ttu-id="97521-160">Wenn Sie diese beiden Eigenschaften angegeben, sollte die deklarative Syntax des LinkButton-s wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="97521-160">After specifying these two properties, the LinkButton s declarative syntax should look like the following:</span></span>

[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample3.aspx)]

<span data-ttu-id="97521-161">Wenn die Schaltfläche geklickt wird ein Postback auftritt, und der s DataList- oder Repeater `ItemCommand` -Ereignis ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="97521-161">When the button is clicked, a postback occurs and the DataList or Repeater s `ItemCommand` event fires.</span></span> <span data-ttu-id="97521-162">Der Ereignishandler wird die Schaltfläche "s" übergeben `CommandName` und `CommandArgument` Werte.</span><span class="sxs-lookup"><span data-stu-id="97521-162">The event handler is passed the button s `CommandName` and `CommandArgument` values.</span></span>

<span data-ttu-id="97521-163">Erstellen Sie einen Ereignishandler für das Repeater s `ItemCommand` Ereignis und beachten Sie den zweiten Parameter an den Ereignishandler übergeben (mit dem Namen `e`).</span><span class="sxs-lookup"><span data-stu-id="97521-163">Create an event handler for the Repeater s `ItemCommand` event and note the second parameter passed into the event handler (named `e`).</span></span> <span data-ttu-id="97521-164">Dieser zweite Parameter ist vom Typ [ `RepeaterCommandEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeatercommandeventargs.aspx) und weist die folgenden vier Eigenschaften:</span><span class="sxs-lookup"><span data-stu-id="97521-164">This second parameter is of type [`RepeaterCommandEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeatercommandeventargs.aspx) and has the following four properties:</span></span>

- <span data-ttu-id="97521-165">`CommandArgument` der Wert der angeklickten Schaltfläche s `CommandArgument` Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="97521-165">`CommandArgument` the value of the clicked button s `CommandArgument` property</span></span>
- <span data-ttu-id="97521-166">`CommandName` der Wert der Schaltfläche s `CommandName` Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="97521-166">`CommandName` the value of the button s `CommandName` property</span></span>
- <span data-ttu-id="97521-167">`CommandSource` Ein Verweis auf das Schaltflächen-Steuerelement, auf die geklickt wurde</span><span class="sxs-lookup"><span data-stu-id="97521-167">`CommandSource` a reference to the button control that was clicked</span></span>
- <span data-ttu-id="97521-168">`Item` Ein Verweis auf die [ `RepeaterItem` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem.aspx) , enthält der angeklickten Schaltfläche; jeder Datensatz des Repeaters gebunden ist der datenträgerverwaltung als ein `RepeaterItem`</span><span class="sxs-lookup"><span data-stu-id="97521-168">`Item` a reference to the [`RepeaterItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem.aspx) that contains the button that was clicked; each record bound to the Repeater is manifested as a `RepeaterItem`</span></span>

<span data-ttu-id="97521-169">Seit der ausgewählten Kategorie s `CategoryID` über übergeben die `CommandArgument` -Eigenschaft, wir können den Satz von Produkten, die in der ausgewählten Kategorie zugeordnet der `ItemCommand` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="97521-169">Since the selected category s `CategoryID` is passed in via the `CommandArgument` property, we can get the set of products associated with the selected category in the `ItemCommand` event handler.</span></span> <span data-ttu-id="97521-170">Diese Produkte klicken Sie dann in einem BulletedList-Steuerelement gebunden werden können die `ItemTemplate` (die wir haben noch hinzuzufügende).</span><span class="sxs-lookup"><span data-stu-id="97521-170">These products can then be bound to a BulletedList control in the `ItemTemplate` (which we ve yet to add).</span></span> <span data-ttu-id="97521-171">Alles, was bleibt, und klicken Sie dann, ist das Hinzufügen von BulletedList, verweisen sie in der `ItemCommand` -Ereignishandler und binden, den Satz von Produkten für die ausgewählte Kategorie, die wir in Schritt 4 in Angriff zu nehmen müssen.</span><span class="sxs-lookup"><span data-stu-id="97521-171">All that remains, then, is to add the BulletedList, reference it in the `ItemCommand` event handler, and bind to it the set of products for the selected category, which we'll tackle in Step 4.</span></span>

> [!NOTE]
> <span data-ttu-id="97521-172">DataList-Steuerelement s `ItemCommand` -Ereignishandler wird ein Objekt des Typs übergeben [ `DataListCommandEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistcommandeventargs.aspx), welcher bietet die gleichen vier Eigenschaften wie die `RepeaterCommandEventArgs` Klasse.</span><span class="sxs-lookup"><span data-stu-id="97521-172">The DataList s `ItemCommand` event handler is passed an object of type [`DataListCommandEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistcommandeventargs.aspx), which offers the same four properties as the `RepeaterCommandEventArgs` class.</span></span>

## <a name="step-4-displaying-the-selected-category-s-products-in-a-bulleted-list"></a><span data-ttu-id="97521-173">Schritt 4: Anzeigen von die Produkte der ausgewählten Kategorie s in eine Liste mit Aufzählungszeichen</span><span class="sxs-lookup"><span data-stu-id="97521-173">Step 4: Displaying the Selected Category s Products in a Bulleted List</span></span>

<span data-ttu-id="97521-174">Die ausgewählte Kategorie s Produkte angezeigt werden können, innerhalb des Repeaters s `ItemTemplate` mit einer Reihe von Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="97521-174">The selected category s products can be displayed within the Repeater s `ItemTemplate` using any number of controls.</span></span> <span data-ttu-id="97521-175">Es konnte hinzugefügt werden, dass eine andere Repeater, einem DataList-Steuerelement, einem DropDownList-Steuerelement, eine GridView und So weiter geschachtelt.</span><span class="sxs-lookup"><span data-stu-id="97521-175">We could add another nested Repeater, a DataList, a DropDownList, a GridView, and so on.</span></span> <span data-ttu-id="97521-176">Da wir Produkte als Aufzählung anzeigen möchten, dagegen verwenden wir das BulletedList-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="97521-176">Since we want to display the products as a bulleted list, though, we'll use the BulletedList control.</span></span> <span data-ttu-id="97521-177">Zum Zurückgeben der `CustomButtons.aspx` Seite s deklaratives Markup, das Hinzufügen eines Steuerelements BulletedList, um die `ItemTemplate` nach LinkButton-Produkte anzeigen.</span><span class="sxs-lookup"><span data-stu-id="97521-177">Returning to the `CustomButtons.aspx` page s declarative markup, add a BulletedList control to the `ItemTemplate` after the Show Products LinkButton.</span></span> <span data-ttu-id="97521-178">Legen Sie die s BulletedLists `ID` zu `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="97521-178">Set the BulletedLists s `ID` to `ProductsInCategory`.</span></span> <span data-ttu-id="97521-179">BulletedList zeigt den Wert des Felds angegeben wird, über die `DataTextField` Eigenschaft, da dieses Steuerelement Produktinformationen gebunden hat, legen Sie die `DataTextField` Eigenschaft `ProductName`.</span><span class="sxs-lookup"><span data-stu-id="97521-179">The BulletedList displays the value of the data field specified via the `DataTextField` property; since this control will have product information bound to it, set the `DataTextField` property to `ProductName`.</span></span>

[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample4.aspx)]

<span data-ttu-id="97521-180">In der `ItemCommand` Ereignishandler, verweisen Sie auf dieses Steuerelement `e.Item.FindControl("ProductsInCategory")` und binden Sie es auf den Satz von Produkten, die der ausgewählten Kategorie zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="97521-180">In the `ItemCommand` event handler, reference this control using `e.Item.FindControl("ProductsInCategory")` and bind it to the set of products associated with the selected category.</span></span>

[!code-csharp[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample5.cs)]

<span data-ttu-id="97521-181">Vor dem Ausführen einer Aktion in der `ItemCommand` -Ereignishandler es ratsam, zuerst prüfen muss den Wert des eingehenden s `CommandName`.</span><span class="sxs-lookup"><span data-stu-id="97521-181">Before performing any action in the `ItemCommand` event handler, it s prudent to first check the value of the incoming `CommandName`.</span></span> <span data-ttu-id="97521-182">Da die `ItemCommand` -Ereignishandler wird ausgelöst, wenn *alle* Schaltfläche geklickt wird, treten mehrere Schaltflächen in der Vorlage verwendet die `CommandName` Wert, die auszuführende Aktion an, zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="97521-182">Since the `ItemCommand` event handler fires when *any* button is clicked, if there are multiple buttons in the template use the `CommandName` value to discern what action to take.</span></span> <span data-ttu-id="97521-183">Überprüfen der `CommandName` sieht sich fraglich, da wir nur eine einzelne Schaltfläche haben allerdings handelt es sich, eine sollte zur guten Gewohnheit Formular.</span><span class="sxs-lookup"><span data-stu-id="97521-183">Checking the `CommandName` here is moot, since we only have a single button, but it is a good habit to form.</span></span> <span data-ttu-id="97521-184">Als Nächstes wird der `CategoryID` der ausgewählten Kategorie abgerufen, von der `CommandArgument` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="97521-184">Next, the `CategoryID` of the selected category is retrieved from the `CommandArgument` property.</span></span> <span data-ttu-id="97521-185">Der BulletedList-Steuerelement in der Vorlage klicken Sie dann auf die verwiesen wird und gebunden an die Ergebnisse der `ProductsBLL` Klasse s `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="97521-185">The BulletedList control in the template is then referenced and bound to the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span>

<span data-ttu-id="97521-186">In vorherigen Tutorials, mit denen die Schaltflächen in einem DataList-Steuerelement, z. B. [eine Übersicht über die von bearbeiten und Löschen von Daten im DataList-Steuerelement](../editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-cs.md), wir festgestellt, dass der Wert des Primärschlüssels ein bestimmtes Element über die `DataKeys` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="97521-186">In previous tutorials that used the buttons within a DataList, such as [An Overview of Editing and Deleting Data in the DataList](../editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-cs.md), we determined the primary key value of a given item via the `DataKeys` collection.</span></span> <span data-ttu-id="97521-187">Obwohl dieser Ansatz gut mit DataList-Steuerelement funktioniert, wird der Repeater verfügt nicht über eine `DataKeys` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="97521-187">While this approach works well with the DataList, the Repeater does not have a `DataKeys` property.</span></span> <span data-ttu-id="97521-188">Wir müssen stattdessen eine alternative Methode zum Angeben von des Wert des Primärschlüssels, z. B. über die Schaltfläche "s" `CommandArgument` Eigenschaft oder ein ausgeblendetes Bezeichnung-Steuerelement in der Vorlage mit den Wert des Primärschlüssels zugewiesen, und Lesen des Werts in der `ItemCommand`Event Handler mit `e.Item.FindControl("LabelID")`.</span><span class="sxs-lookup"><span data-stu-id="97521-188">Instead, we must use an alternative approach for supplying the primary key value, such as through the button s `CommandArgument` property or by assigning the primary key value to a hidden Label Web control within the template and reading its value back in the `ItemCommand` event handler using `e.Item.FindControl("LabelID")`.</span></span>

<span data-ttu-id="97521-189">Nach Abschluss der `ItemCommand` -Ereignishandler können Sie diese Seite in einem Browser zu testen.</span><span class="sxs-lookup"><span data-stu-id="97521-189">After completing the `ItemCommand` event handler, take a moment to test out this page in a browser.</span></span> <span data-ttu-id="97521-190">Wie in Abbildung 7 dargestellt, auf die Produkte anzeigen Link ein Postback auslöst und zeigt die Produkte für die ausgewählte Kategorie in eine BulletedList.</span><span class="sxs-lookup"><span data-stu-id="97521-190">As Figure 7 shows, clicking the Show Products link causes a postback and displays the products for the selected category in a BulletedList.</span></span> <span data-ttu-id="97521-191">Beachten Sie außerdem, dass diese Produktinformationen bleibt, auf, auch wenn andere Kategorien anzeigen Produkte Links geklickt werden.</span><span class="sxs-lookup"><span data-stu-id="97521-191">Furthermore, note that this product information remains, even if other categories Show Products links are clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="97521-192">Wenn Sie das Verhalten dieses Berichts, ändern möchten, die nur eine Kategorie s-Produkte zu einem Zeitpunkt aufgeführt sind, legen Sie einfach das Steuerelement BulletedList s `EnableViewState` Eigenschaft `False`.</span><span class="sxs-lookup"><span data-stu-id="97521-192">If you want to modify the behavior of this report, such that the only one category s products are listed at a time, simply set the BulletedList control s `EnableViewState` property to `False`.</span></span>

<span data-ttu-id="97521-193">[![Eine BulletedList wird verwendet, um die Produkte der ausgewählten Kategorie angezeigt.](custom-buttons-in-the-datalist-and-repeater-cs/_static/image16.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="97521-193">[![A BulletedList is used to Display the Products of the Selected Category](custom-buttons-in-the-datalist-and-repeater-cs/_static/image16.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image15.png)</span></span>

<span data-ttu-id="97521-194">**Abbildung 7**: Eine BulletedList wird verwendet, um die Produkte der ausgewählten Kategorie angezeigt ([klicken Sie, um das Bild in voller Größe anzeigen](custom-buttons-in-the-datalist-and-repeater-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="97521-194">**Figure 7**: A BulletedList is used to Display the Products of the Selected Category ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image17.png))</span></span>

## <a name="summary"></a><span data-ttu-id="97521-195">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="97521-195">Summary</span></span>

<span data-ttu-id="97521-196">Die DataList- oder Repeater-Steuerelemente können eine beliebige Anzahl von Schaltflächen, LinkButtons oder ImageButtons in ihren Vorlagen enthalten.</span><span class="sxs-lookup"><span data-stu-id="97521-196">The DataList and Repeater controls can include any number of Buttons, LinkButtons, or ImageButtons within their templates.</span></span> <span data-ttu-id="97521-197">Diese Schaltflächen, die beim Klicken auf einen Postback verursachen und Auslösen der `ItemCommand` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="97521-197">Such buttons, when clicked, cause a postback and raise the `ItemCommand` event.</span></span> <span data-ttu-id="97521-198">Um benutzerdefinierte serverseitige-Aktion mit einer Schaltfläche geklickt wird zu verknüpfen, erstellen Sie einen Ereignishandler für die `ItemCommand` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="97521-198">To associate custom server-side action with a button being clicked, create an event handler for the `ItemCommand` event.</span></span> <span data-ttu-id="97521-199">In diesem Ereignishandler überprüfen Sie zunächst den eingehenden `CommandName` um zu bestimmen, welche Schaltfläche geklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="97521-199">In this event handler first check the incoming `CommandName` value to determine which button was clicked.</span></span> <span data-ttu-id="97521-200">Weitere Informationen kann optional angegeben werden, über die Schaltfläche "s" `CommandArgument` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="97521-200">Additional information can optionally be supplied through the button s `CommandArgument` property.</span></span>

<span data-ttu-id="97521-201">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="97521-201">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="97521-202">Der Autor</span><span class="sxs-lookup"><span data-stu-id="97521-202">About the Author</span></span>

<span data-ttu-id="97521-203">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="97521-203">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="97521-204">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="97521-204">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="97521-205">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="97521-205">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="97521-206">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="97521-206">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="97521-207">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="97521-207">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="97521-208">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="97521-208">Special Thanks To</span></span>

<span data-ttu-id="97521-209">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="97521-209">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="97521-210">Führendes Prüfer für dieses Tutorial wurde Dennis Patterson.</span><span class="sxs-lookup"><span data-stu-id="97521-210">Lead reviewer for this tutorial was Dennis Patterson.</span></span> <span data-ttu-id="97521-211">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="97521-211">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="97521-212">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="97521-212">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="97521-213">Nächste</span><span class="sxs-lookup"><span data-stu-id="97521-213">Next</span></span>](custom-buttons-in-the-datalist-and-repeater-vb.md)
