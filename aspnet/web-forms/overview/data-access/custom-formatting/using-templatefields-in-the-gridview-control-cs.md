---
uid: web-forms/overview/data-access/custom-formatting/using-templatefields-in-the-gridview-control-cs
title: Verwenden von templatefields im GridView-SteuerC#Element () | Microsoft-Dokumentation
author: rick-anderson
description: Um Flexibilität zu schaffen, bietet das GridView-Element das TemplateField-Element, das mithilfe einer Vorlage gerendert wird. Eine Vorlage kann eine Mischung aus statischem HTML, websteuer Elementen und...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 11de31e8-a78a-4f96-bd75-66e994175902
msc.legacyurl: /web-forms/overview/data-access/custom-formatting/using-templatefields-in-the-gridview-control-cs
msc.type: authoredcontent
ms.openlocfilehash: ec17a16d7bb487d1c5cacf2d5971bbeffc1ba031
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78481725"
---
# <a name="using-templatefields-in-the-gridview-control-c"></a><span data-ttu-id="7c11d-104">Verwenden von TemplateFields im GridView-Steuerelement (C#)</span><span class="sxs-lookup"><span data-stu-id="7c11d-104">Using TemplateFields in the GridView Control (C#)</span></span>

<span data-ttu-id="7c11d-105">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7c11d-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7c11d-106">[Beispiel-app herunterladen](https://download.microsoft.com/download/9/6/9/969e5c94-dfb6-4e47-9570-d6d9e704c3c1/ASPNET_Data_Tutorial_12_CS.exe) oder [PDF herunterladen](using-templatefields-in-the-gridview-control-cs/_static/datatutorial12cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="7c11d-106">[Download Sample App](https://download.microsoft.com/download/9/6/9/969e5c94-dfb6-4e47-9570-d6d9e704c3c1/ASPNET_Data_Tutorial_12_CS.exe) or [Download PDF](using-templatefields-in-the-gridview-control-cs/_static/datatutorial12cs1.pdf)</span></span>

> <span data-ttu-id="7c11d-107">Um Flexibilität zu schaffen, bietet das GridView-Element das TemplateField-Element, das mithilfe einer Vorlage gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-107">To provide flexibility, the GridView offers the TemplateField, which renders using a template.</span></span> <span data-ttu-id="7c11d-108">Eine Vorlage kann eine Mischung aus statischem HTML, websteuer Elementen und Datenbindung-Syntax enthalten.</span><span class="sxs-lookup"><span data-stu-id="7c11d-108">A template can include a mix of static HTML, Web controls, and databinding syntax.</span></span> <span data-ttu-id="7c11d-109">In diesem Tutorial wird erläutert, wie Sie TemplateField verwenden, um ein höheres Anpassungs Niveau mit dem GridView-Steuerelement zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-109">In this tutorial we'll examine how to use the TemplateField to achieve a greater degree of customization with the GridView control.</span></span>

## <a name="introduction"></a><span data-ttu-id="7c11d-110">Einführung</span><span class="sxs-lookup"><span data-stu-id="7c11d-110">Introduction</span></span>

<span data-ttu-id="7c11d-111">Die GridView besteht aus einem Satz von Feldern, die angeben, welche Eigenschaften aus den `DataSource` in der gerenderten Ausgabe enthalten sein sollen und wie die Daten angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-111">The GridView is composed of a set of fields that indicate what properties from the `DataSource` are to be included in the rendered output along with how the data will be displayed.</span></span> <span data-ttu-id="7c11d-112">Der einfachste Feldtyp ist das BoundField, das einen Datenwert als Text anzeigt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-112">The simplest field type is the BoundField, which displays a data value as text.</span></span> <span data-ttu-id="7c11d-113">Andere Feldtypen zeigen die Daten mithilfe alternativer HTML-Elemente an.</span><span class="sxs-lookup"><span data-stu-id="7c11d-113">Other field types display the data using alternate HTML elements.</span></span> <span data-ttu-id="7c11d-114">Das CheckBoxField wird z. b. als Kontrollkästchen gerendert, dessen aktivierter Zustand von dem Wert eines angegebenen Daten Felds abhängt. das ImageField rendert ein Bild, dessen Bildquelle auf einem angegebenen Datenfeld basiert.</span><span class="sxs-lookup"><span data-stu-id="7c11d-114">The CheckBoxField, for example, renders as a checkbox whose checked state depends on the value of a specified data field; the ImageField renders an image whose image source is based upon a specified data field.</span></span> <span data-ttu-id="7c11d-115">Hyperlinks und Schaltflächen, deren Zustand von einem zugrunde liegenden Daten Feldwert abhängt, können mithilfe der Feld Typen HyperLinkField und ButtonField gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-115">Hyperlinks and buttons whose state depends on an underlying data field value can be rendered using the HyperLinkField and ButtonField field types.</span></span>

<span data-ttu-id="7c11d-116">Obwohl die Feldtypen CheckBoxField, ImageField, HyperLinkField und ButtonField eine Alternative Ansicht der Daten zulassen, sind Sie hinsichtlich der Formatierung weiterhin relativ eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-116">While the CheckBoxField, ImageField, HyperLinkField, and ButtonField field types allow for an alternate view of the data, they still are fairly limited with respect to formatting.</span></span> <span data-ttu-id="7c11d-117">Ein CheckBoxField kann nur ein einzelnes Kontrollkästchen anzeigen, während ein ImageField nur ein einzelnes Bild anzeigen kann.</span><span class="sxs-lookup"><span data-stu-id="7c11d-117">A CheckBoxField can only display a single checkbox, whereas an ImageField can only display a single image.</span></span> <span data-ttu-id="7c11d-118">Was geschieht, wenn ein bestimmtes Feld Text, ein Kontrollkästchen *und* ein Bild anzeigen muss, die auf unterschiedlichen Daten Feldwerten basieren?</span><span class="sxs-lookup"><span data-stu-id="7c11d-118">What if a particular field needs to display some text, a checkbox, *and* an image, all based upon different data field values?</span></span> <span data-ttu-id="7c11d-119">Oder was geschieht, wenn die Daten mit einem anderen websteuer Element als dem Kontrollkästchen, dem Bild, dem Hyperlink oder der Schaltfläche angezeigt werden sollen?</span><span class="sxs-lookup"><span data-stu-id="7c11d-119">Or what if we wanted to display the data using a Web control other than the CheckBox, Image, HyperLink, or Button?</span></span> <span data-ttu-id="7c11d-120">Außerdem schränkt BoundField die Anzeige auf ein einzelnes Datenfeld ein.</span><span class="sxs-lookup"><span data-stu-id="7c11d-120">Furthermore, the BoundField limits its display to a single data field.</span></span> <span data-ttu-id="7c11d-121">Was geschieht, wenn zwei oder mehr Daten Feldwerte in einer einzelnen GridView-Spalte angezeigt werden sollen?</span><span class="sxs-lookup"><span data-stu-id="7c11d-121">What if we wanted to show two or more data field values in a single GridView column?</span></span>

<span data-ttu-id="7c11d-122">Um dieser Flexibilität Rechnung zu tragen, bietet das GridView-Element das TemplateField-Element, das mithilfe einer *Vorlage*gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-122">To accommodate this level of flexibility the GridView offers the TemplateField, which renders using a *template*.</span></span> <span data-ttu-id="7c11d-123">Eine Vorlage kann eine Mischung aus statischem HTML, websteuer Elementen und Datenbindung-Syntax enthalten.</span><span class="sxs-lookup"><span data-stu-id="7c11d-123">A template can include a mix of static HTML, Web controls, and databinding syntax.</span></span> <span data-ttu-id="7c11d-124">Außerdem verfügt TemplateField über eine Vielzahl von Vorlagen, mit denen das Rendering für verschiedene Situationen angepasst werden kann.</span><span class="sxs-lookup"><span data-stu-id="7c11d-124">Furthermore, the TemplateField has a variety of templates that can be used to customize the rendering for different situations.</span></span> <span data-ttu-id="7c11d-125">Beispielsweise wird die-`ItemTemplate` standardmäßig verwendet, um die Zelle für jede Zeile zu erzeugen, aber die `EditItemTemplate` Vorlage kann verwendet werden, um die Schnittstelle beim Bearbeiten von Daten anzupassen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-125">For example, the `ItemTemplate` is used by default to render the cell for each row, but the `EditItemTemplate` template can be used to customize the interface when editing data.</span></span>

<span data-ttu-id="7c11d-126">In diesem Tutorial wird erläutert, wie Sie TemplateField verwenden, um ein höheres Anpassungs Niveau mit dem GridView-Steuerelement zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-126">In this tutorial we'll examine how to use the TemplateField to achieve a greater degree of customization with the GridView control.</span></span> <span data-ttu-id="7c11d-127">Im [vorherigen Tutorial](custom-formatting-based-upon-data-cs.md) wurde erläutert, wie die Formatierung basierend auf den zugrunde liegenden Daten mithilfe der `DataBound`-und `RowDataBound`-Ereignishandler angepasst wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-127">In the [preceding tutorial](custom-formatting-based-upon-data-cs.md) we saw how to customize the formatting based on the underlying data using the `DataBound` and `RowDataBound` event handlers.</span></span> <span data-ttu-id="7c11d-128">Eine andere Möglichkeit, die Formatierung auf der Grundlage der zugrunde liegenden Daten anzupassen, besteht darin, die Formatierungs Methoden aus einer Vorlage heraus aufrufen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-128">Another way to customize the formatting based on the underlying data is by calling formatting methods from within a template.</span></span> <span data-ttu-id="7c11d-129">Wir betrachten dieses Verfahren auch in diesem Tutorial.</span><span class="sxs-lookup"><span data-stu-id="7c11d-129">We'll look at this technique in this tutorial as well.</span></span>

<span data-ttu-id="7c11d-130">In diesem Tutorial verwenden wir templatefields, um die Darstellung einer Liste von Mitarbeitern anzupassen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-130">For this tutorial we will use TemplateFields to customize the appearance of a list of employees.</span></span> <span data-ttu-id="7c11d-131">Insbesondere werden alle Mitarbeiter aufgelistet, aber die vor-und Nachnamen des Mitarbeiters in einer Spalte, das Einstellungs Datum in einem Kalender Steuerelement und eine Statusspalte, die angibt, wie viele Tage Sie im Unternehmen verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="7c11d-131">Specifically, we'll list all of the employees, but will display the employee's first and last names in one column, their hire date in a Calendar control, and a status column that indicates how many days they've been employed at the company.</span></span>

<span data-ttu-id="7c11d-132">[![drei templatefields zum Anpassen der Anzeige verwendet.](using-templatefields-in-the-gridview-control-cs/_static/image2.png)](using-templatefields-in-the-gridview-control-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-132">[![Three TemplateFields are Used to Customize the Display](using-templatefields-in-the-gridview-control-cs/_static/image2.png)](using-templatefields-in-the-gridview-control-cs/_static/image1.png)</span></span>

<span data-ttu-id="7c11d-133">**Abbildung 1**: drei Vorlagen Felder werden verwendet, um die Anzeige anzupassen ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-133">**Figure 1**: Three TemplateFields are Used to Customize the Display ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image3.png))</span></span>

## <a name="step-1-binding-the-data-to-the-gridview"></a><span data-ttu-id="7c11d-134">Schritt 1: Binden der Daten an die GridView</span><span class="sxs-lookup"><span data-stu-id="7c11d-134">Step 1: Binding the Data to the GridView</span></span>

<span data-ttu-id="7c11d-135">In Bericht Erstellungs Szenarien, in denen Sie templatefields zum Anpassen der Darstellung verwenden müssen, ist es am einfachsten, wenn Sie zunächst ein GridView-Steuerelement erstellen, das nur boundfields enthält, und dann neue templatefields-Elemente hinzufügen oder die vorhandenen boundfields-Elemente konvertieren. Templatefields nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="7c11d-135">In reporting scenarios where you need to use TemplateFields to customize the appearance, I find it easiest to start by creating a GridView control that contains just BoundFields first and then to add new TemplateFields or convert the existing BoundFields to TemplateFields as needed.</span></span> <span data-ttu-id="7c11d-136">Aus diesem Grund soll dieses Tutorial gestartet werden, indem der Seite über den Designer eine GridView hinzugefügt und an eine ObjectDataSource gebunden wird, die die Liste der Mitarbeiter zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-136">Therefore, let's start this tutorial by adding a GridView to the page through the Designer and binding it to an ObjectDataSource that returns the list of employees.</span></span> <span data-ttu-id="7c11d-137">Mit diesen Schritten wird eine GridView mit boundfields für jedes der Mitarbeiter Felder erstellt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-137">These steps will create a GridView with BoundFields for each of the employee fields.</span></span>

<span data-ttu-id="7c11d-138">Öffnen Sie die Seite `GridViewTemplateField.aspx`, und ziehen Sie eine GridView aus der Toolbox auf den Designer.</span><span class="sxs-lookup"><span data-stu-id="7c11d-138">Open the `GridViewTemplateField.aspx` page and drag a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="7c11d-139">Wählen Sie aus dem Smarttag der GridView ein neues ObjectDataSource-Steuerelement aus, das die `GetEmployees()` Methode der `EmployeesBLL` Klasse aufruft.</span><span class="sxs-lookup"><span data-stu-id="7c11d-139">From the GridView's smart tag choose to add a new ObjectDataSource control that invokes the `EmployeesBLL` class's `GetEmployees()` method.</span></span>

<span data-ttu-id="7c11d-140">[![ein neues ObjectDataSource-Steuerelement hinzufügen, das die GetEmployees ()-Methode aufruft.](using-templatefields-in-the-gridview-control-cs/_static/image5.png)](using-templatefields-in-the-gridview-control-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-140">[![Add a New ObjectDataSource Control that Invokes the GetEmployees() Method](using-templatefields-in-the-gridview-control-cs/_static/image5.png)](using-templatefields-in-the-gridview-control-cs/_static/image4.png)</span></span>

<span data-ttu-id="7c11d-141">**Abbildung 2**: Hinzufügen eines neuen ObjectDataSource-Steuer Elements, das die `GetEmployees()`-Methode aufruft ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-141">**Figure 2**: Add a New ObjectDataSource Control that Invokes the `GetEmployees()` Method ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image6.png))</span></span>

<span data-ttu-id="7c11d-142">Wenn Sie die GridView auf diese Weise binden, wird automatisch ein BoundField für die einzelnen Eigenschaften der Mitarbeiter hinzugefügt: `EmployeeID`, `LastName`, `FirstName`, `Title`, `HireDate`, `ReportsTo`und `Country`.</span><span class="sxs-lookup"><span data-stu-id="7c11d-142">Binding the GridView in this manner will automatically add a BoundField for each of the employee properties: `EmployeeID`, `LastName`, `FirstName`, `Title`, `HireDate`, `ReportsTo`, and `Country`.</span></span> <span data-ttu-id="7c11d-143">Bei diesem Bericht geht es nicht darum, die Eigenschaften "`EmployeeID`", "`ReportsTo`" oder "`Country`" anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-143">For this report let's not bother with displaying the `EmployeeID`, `ReportsTo`, or `Country` properties.</span></span> <span data-ttu-id="7c11d-144">Um diese boundfields zu entfernen, können Sie Folgendes tun:</span><span class="sxs-lookup"><span data-stu-id="7c11d-144">To remove these BoundFields you can:</span></span>

- <span data-ttu-id="7c11d-145">Verwenden Sie das Dialogfeld Felder, klicken Sie auf den Link Spalten bearbeiten im Smarttag der GridView, um dieses Dialogfeld anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-145">Use the Fields dialog box click on the Edit Columns link from the GridView's smart tag to bring up this dialog box.</span></span> <span data-ttu-id="7c11d-146">Wählen Sie als nächstes die Option boundfields aus der unteren linken Liste aus, und klicken Sie auf die rote X-Schaltfläche, um das BoundField zu entfernen</span><span class="sxs-lookup"><span data-stu-id="7c11d-146">Next, select the BoundFields from the lower left list and click the red X button to remove the BoundField.</span></span>
- <span data-ttu-id="7c11d-147">Bearbeiten Sie die deklarative Syntax der GridView manuell aus der Quell Ansicht, und löschen Sie das `<asp:BoundField>`-Element für das BoundField, das Sie entfernen möchten.</span><span class="sxs-lookup"><span data-stu-id="7c11d-147">Edit the GridView's declarative syntax by hand from the Source view, delete the `<asp:BoundField>` element for the BoundField you wish to remove.</span></span>

<span data-ttu-id="7c11d-148">Nachdem Sie die `EmployeeID`, `ReportsTo`und `Country` boundfields entfernt haben, sollte das Markup der GridView wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="7c11d-148">After you have removed the `EmployeeID`, `ReportsTo`, and `Country` BoundFields, your GridView's markup should look like:</span></span>

[!code-aspx[Main](using-templatefields-in-the-gridview-control-cs/samples/sample1.aspx)]

<span data-ttu-id="7c11d-149">Nehmen Sie sich einen Moment Zeit, um den Fortschritt in einem Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-149">Take a moment to view our progress in a browser.</span></span> <span data-ttu-id="7c11d-150">An diesem Punkt sollten Sie eine Tabelle mit einem Datensatz für jeden Mitarbeiter und vier Spalten sehen: einen für den Nachnamen des Mitarbeiters, einen für den Vornamen, einen für seinen Titel und einen für das Einstellungs Datum.</span><span class="sxs-lookup"><span data-stu-id="7c11d-150">At this point you should see a table with a record for each employee and four columns: one for the employee's last name, one for their first name, one for their title, and one for their hire date.</span></span>

<span data-ttu-id="7c11d-151">[![die Felder "LastName", "FirstName", "Title" und "HireDate" für jeden Mitarbeiter angezeigt.](using-templatefields-in-the-gridview-control-cs/_static/image8.png)](using-templatefields-in-the-gridview-control-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-151">[![The LastName, FirstName, Title, and HireDate Fields are Displayed for Each Employee](using-templatefields-in-the-gridview-control-cs/_static/image8.png)](using-templatefields-in-the-gridview-control-cs/_static/image7.png)</span></span>

<span data-ttu-id="7c11d-152">**Abbildung 3**: die Felder `LastName`, `FirstName`, `Title`und `HireDate` werden für jeden Mitarbeiter angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-152">**Figure 3**: The `LastName`, `FirstName`, `Title`, and `HireDate` Fields are Displayed for Each Employee ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image9.png))</span></span>

## <a name="step-2-displaying-the-first-and-last-names-in-a-single-column"></a><span data-ttu-id="7c11d-153">Schritt 2: Anzeigen der vor-und Nachnamen in einer einzelnen Spalte</span><span class="sxs-lookup"><span data-stu-id="7c11d-153">Step 2: Displaying the First and Last Names in a Single Column</span></span>

<span data-ttu-id="7c11d-154">Derzeit werden die vor-und Nachnamen der einzelnen Mitarbeiter in einer separaten Spalte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-154">Currently, each employee's first and last names are displayed in a separate column.</span></span> <span data-ttu-id="7c11d-155">Es kann sinnvoll sein, Sie stattdessen in einer einzelnen Spalte zu kombinieren.</span><span class="sxs-lookup"><span data-stu-id="7c11d-155">It might be nice to combine them into a single column instead.</span></span> <span data-ttu-id="7c11d-156">Um dies zu erreichen, müssen wir ein TemplateField-Element verwenden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-156">To accomplish this we need to use a TemplateField.</span></span> <span data-ttu-id="7c11d-157">Wir können entweder ein neues TemplateField-Element hinzufügen, ihm die erforderliche Markup-und Datenbindung-Syntax hinzufügen und dann die `FirstName` und `LastName` boundfields löschen. Alternativ können Sie das `FirstName` BoundField in ein TemplateField-Element konvertieren, das TemplateField-Element so bearbeiten, dass es den `LastName` Wert enthält, und dann das `LastName` BoundField entfernen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-157">We can either add a new TemplateField, add to it the needed markup and databinding syntax, and then delete the `FirstName` and `LastName` BoundFields, or we can convert the `FirstName` BoundField into a TemplateField, edit the TemplateField to include the `LastName` value, and then remove the `LastName` BoundField.</span></span>

<span data-ttu-id="7c11d-158">Beide Ansätze sind identisch mit dem gleichen Ergebnis, aber ich persönlich möchte boundfields in templatefields konvertieren, wenn dies möglich ist, da bei der Konvertierung automatisch ein `ItemTemplate` und `EditItemTemplate` mit websteuer Elementen und Datenbindung-Syntax hinzugefügt werden, um das Erscheinungsbild und die Funktionalität des BoundField zu imitieren.</span><span class="sxs-lookup"><span data-stu-id="7c11d-158">Both approaches net the same result, but personally I like converting BoundFields to TemplateFields when possible because the conversion automatically adds an `ItemTemplate` and `EditItemTemplate` with Web controls and databinding syntax to mimic the appearance and functionality of the BoundField.</span></span> <span data-ttu-id="7c11d-159">Der Vorteil besteht darin, dass wir mit "TemplateField" weniger Arbeit erledigen müssen, da der Konvertierungs Vorgang einige der Arbeit für uns erledigt hat.</span><span class="sxs-lookup"><span data-stu-id="7c11d-159">The benefit is that we'll need to do less work with the TemplateField as the conversion process will have performed some of the work for us.</span></span>

<span data-ttu-id="7c11d-160">Wenn Sie ein vorhandenes BoundField-Element in ein TemplateField-Element konvertieren möchten, klicken Sie auf den Link Spalten bearbeiten im Smarttags von GridView, und klicken Sie dann auf das Dialogfeld Felder.</span><span class="sxs-lookup"><span data-stu-id="7c11d-160">To convert an existing BoundField into a TemplateField, click on the Edit Columns link from the GridView's smart tag, bringing up the Fields dialog box.</span></span> <span data-ttu-id="7c11d-161">Wählen Sie in der linken unteren Ecke das zu konvertierende BoundField aus der Liste aus, und klicken Sie dann auf den Link "this field into a TemplateField" in der unteren rechten Ecke.</span><span class="sxs-lookup"><span data-stu-id="7c11d-161">Select the BoundField to convert from the list in the lower left corner and then click the "Convert this field into a TemplateField" link in the bottom right corner.</span></span>

<span data-ttu-id="7c11d-162">[![ein BoundField-Element aus dem Dialog Feld "Felder" in ein TemplateField-Element konvertieren.](using-templatefields-in-the-gridview-control-cs/_static/image11.png)](using-templatefields-in-the-gridview-control-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-162">[![Convert a BoundField Into a TemplateField from the Fields Dialog Box](using-templatefields-in-the-gridview-control-cs/_static/image11.png)](using-templatefields-in-the-gridview-control-cs/_static/image10.png)</span></span>

<span data-ttu-id="7c11d-163">**Abbildung 4**: Konvertieren eines BoundField-Objekts in ein TemplateField-Element aus dem Dialog Feld "Felder" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-163">**Figure 4**: Convert a BoundField Into a TemplateField from the Fields Dialog Box ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image12.png))</span></span>

<span data-ttu-id="7c11d-164">Konvertieren Sie den `FirstName` BoundField in ein TemplateField.</span><span class="sxs-lookup"><span data-stu-id="7c11d-164">Go ahead and convert the `FirstName` BoundField into a TemplateField.</span></span> <span data-ttu-id="7c11d-165">Nach dieser Änderung gibt es keinen perpertiven Unterschied im Designer.</span><span class="sxs-lookup"><span data-stu-id="7c11d-165">After this change there's no perceptive difference in the Designer.</span></span> <span data-ttu-id="7c11d-166">Dies liegt daran, dass das Konvertieren von BoundField in ein TemplateField-Element ein TemplateField-Element erstellt, das das Erscheinungsbild des BoundField-Objekts beibehält.</span><span class="sxs-lookup"><span data-stu-id="7c11d-166">This is because converting the BoundField into a TemplateField creates a TemplateField that maintains the look and feel of the BoundField.</span></span> <span data-ttu-id="7c11d-167">Obwohl an dieser Stelle im Designer kein visueller Unterschied vorhanden ist, hat dieser Konvertierungsprozess die deklarative Syntax des BoundField-`<asp:BoundField DataField="FirstName" HeaderText="FirstName" SortExpression="FirstName" />` mit der folgenden TemplateField-Syntax ersetzt:</span><span class="sxs-lookup"><span data-stu-id="7c11d-167">Despite there being no visual difference at this point in the Designer, this conversion process has replaced the BoundField's declarative syntax - `<asp:BoundField DataField="FirstName" HeaderText="FirstName" SortExpression="FirstName" />` - with the following TemplateField syntax:</span></span>

[!code-aspx[Main](using-templatefields-in-the-gridview-control-cs/samples/sample2.aspx)]

<span data-ttu-id="7c11d-168">Wie Sie sehen, besteht das TemplateField aus zwei Vorlagen: einer `ItemTemplate`, die über eine Bezeichnung verfügt, deren `Text`-Eigenschaft auf den Wert des `FirstName` Datenfelds festgelegt ist, und ein `EditItemTemplate` mit einem TextBox-Steuerelement, dessen `Text`-Eigenschaft ebenfalls auf das `FirstName` Datenfeld festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="7c11d-168">As you can see, the TemplateField consists of two templates an `ItemTemplate` that has a Label whose `Text` property is set to the value of the `FirstName` data field, and an `EditItemTemplate` with a TextBox control whose `Text` property is also set to the `FirstName` data field.</span></span> <span data-ttu-id="7c11d-169">Die Datenbindung-Syntax-`<%# Bind("fieldName") %>`-gibt an, dass das Datenfeld *`fieldName`* an die angegebene websteuer Element Eigenschaft gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="7c11d-169">The databinding syntax - `<%# Bind("fieldName") %>` - indicates that the data field *`fieldName`* is bound to the specified Web control property.</span></span>

<span data-ttu-id="7c11d-170">Zum Hinzufügen des `LastName` Daten Feldwerts zu diesem TemplateField müssen wir ein weiteres Label-websteuer Element in der `ItemTemplate` hinzufügen und dessen `Text`-Eigenschaft an `LastName`binden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-170">To add the `LastName` data field value to this TemplateField we need to add another Label Web control in the `ItemTemplate` and bind its `Text` property to `LastName`.</span></span> <span data-ttu-id="7c11d-171">Dies kann entweder per Hand oder über den Designer erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-171">This can be accomplished either by hand or through the Designer.</span></span> <span data-ttu-id="7c11d-172">Fügen Sie der `ItemTemplate`einfach die entsprechende deklarative Syntax hinzu:</span><span class="sxs-lookup"><span data-stu-id="7c11d-172">To do it by hand, simply add the appropriate declarative syntax to the `ItemTemplate`:</span></span>

[!code-aspx[Main](using-templatefields-in-the-gridview-control-cs/samples/sample3.aspx)]

<span data-ttu-id="7c11d-173">Um es über den Designer hinzuzufügen, klicken Sie auf den Link Vorlagen bearbeiten im Smarttags von GridView.</span><span class="sxs-lookup"><span data-stu-id="7c11d-173">To add it through the Designer, click on the Edit Templates link from the GridView's smart tag.</span></span> <span data-ttu-id="7c11d-174">Dadurch wird die Vorlagen Bearbeitungs Schnittstelle von GridView angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-174">This will display the GridView's template editing interface.</span></span> <span data-ttu-id="7c11d-175">Das Smarttag dieser Schnittstelle ist eine Liste der Vorlagen in der GridView.</span><span class="sxs-lookup"><span data-stu-id="7c11d-175">In this interface's smart tag is a list of the templates in the GridView.</span></span> <span data-ttu-id="7c11d-176">Da an dieser Stelle nur ein TemplateField-Element vorhanden ist, sind die einzigen Vorlagen, die in der Dropdown Liste aufgeführt sind, die Vorlagen für die `FirstName` TemplateField zusammen mit den `EmptyDataTemplate` und `PagerTemplate`.</span><span class="sxs-lookup"><span data-stu-id="7c11d-176">Since we only have one TemplateField at this point, the only templates listed in the drop-down list are those templates for the `FirstName` TemplateField along with the `EmptyDataTemplate` and `PagerTemplate`.</span></span> <span data-ttu-id="7c11d-177">Die `EmptyDataTemplate` Vorlage wird verwendet, um die Ausgabe der GridView zu renderten, wenn keine Ergebnisse in den Daten an die GridView gebunden sind. der `PagerTemplate`wird verwendet, um die pagingschnittstelle für eine GridView zu erzeugen, die das Paging unterstützt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-177">The `EmptyDataTemplate` template, if specified, is used to render the GridView's output if there are no results in the data bound to the GridView; the `PagerTemplate`, if specified, is used to render the paging interface for a GridView that supports paging.</span></span>

<span data-ttu-id="7c11d-178">[![die Vorlagen von GridView über den Designer bearbeitet werden können.](using-templatefields-in-the-gridview-control-cs/_static/image14.png)](using-templatefields-in-the-gridview-control-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-178">[![The GridView's Templates Can Be Edited Through the Designer](using-templatefields-in-the-gridview-control-cs/_static/image14.png)](using-templatefields-in-the-gridview-control-cs/_static/image13.png)</span></span>

<span data-ttu-id="7c11d-179">**Abbildung 5**: die Vorlagen der GridView können über den Designer bearbeitet werden ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-179">**Figure 5**: The GridView's Templates Can Be Edited Through the Designer ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image15.png))</span></span>

<span data-ttu-id="7c11d-180">Um auch die `LastName` in der `FirstName` TemplateField anzuzeigen, ziehen Sie das Label-Steuerelement aus der Toolbox in die `ItemTemplate` des `FirstName` TemplateField in der Vorlagen Bearbeitungs Schnittstelle von GridView.</span><span class="sxs-lookup"><span data-stu-id="7c11d-180">To also display the `LastName` in the `FirstName` TemplateField drag the Label control from the Toolbox into the `FirstName` TemplateField's `ItemTemplate` in the GridView's template editing interface.</span></span>

<span data-ttu-id="7c11d-181">[![dem ItemTemplate-Element von FirstName TemplateField ein Label-websteuer Element hinzufügen](using-templatefields-in-the-gridview-control-cs/_static/image17.png)](using-templatefields-in-the-gridview-control-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-181">[![Add a Label Web Control to the FirstName TemplateField's ItemTemplate](using-templatefields-in-the-gridview-control-cs/_static/image17.png)](using-templatefields-in-the-gridview-control-cs/_static/image16.png)</span></span>

<span data-ttu-id="7c11d-182">**Abbildung 6**: Hinzufügen eines Label-websteuer Elements zum ItemTemplate-Element von `FirstName` TemplateField ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-182">**Figure 6**: Add a Label Web Control to the `FirstName` TemplateField's ItemTemplate ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image18.png))</span></span>

<span data-ttu-id="7c11d-183">An diesem Punkt hat das dem TemplateField hinzugefügte Label-websteuer Element seine `Text`-Eigenschaft auf "Label" festgelegt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-183">At this point the Label Web control added to the TemplateField has its `Text` property set to "Label".</span></span> <span data-ttu-id="7c11d-184">Dies muss geändert werden, damit diese Eigenschaft stattdessen an den Wert des `LastName` Datenfelds gebunden wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-184">We need to change this so that this property is bound to the value of the `LastName` data field instead.</span></span> <span data-ttu-id="7c11d-185">Um dies zu erreichen, klicken Sie auf das Smarttag des Bezeichnungs Steuer Elements und wählen die Option "DataBindings bearbeiten" aus.</span><span class="sxs-lookup"><span data-stu-id="7c11d-185">To accomplish this click on the Label control's smart tag and choose the Edit DataBindings option.</span></span>

<span data-ttu-id="7c11d-186">[![die Option "DataBindings bearbeiten" im Smarttags der Bezeichnung auswählen.](using-templatefields-in-the-gridview-control-cs/_static/image20.png)](using-templatefields-in-the-gridview-control-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-186">[![Choose the Edit DataBindings Option from the Label's Smart Tag](using-templatefields-in-the-gridview-control-cs/_static/image20.png)](using-templatefields-in-the-gridview-control-cs/_static/image19.png)</span></span>

<span data-ttu-id="7c11d-187">**Abbildung 7**: Auswählen der Option "DataBindings bearbeiten" im Smarttag der Bezeichnung ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-187">**Figure 7**: Choose the Edit DataBindings Option from the Label's Smart Tag ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image21.png))</span></span>

<span data-ttu-id="7c11d-188">Dadurch wird das Dialogfeld "DataBindings" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-188">This will bring up the DataBindings dialog box.</span></span> <span data-ttu-id="7c11d-189">Von hier aus können Sie die Eigenschaft für die Datenbindung in der Liste auf der linken Seite auswählen und in der Dropdown Liste auf der rechten Seite das Feld auswählen, an das die Daten gebunden werden sollen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-189">From here you can select the property to participate in databinding from the list on the left and choose the field to bind the data to from the drop-down list on the right.</span></span> <span data-ttu-id="7c11d-190">Wählen Sie die `Text`-Eigenschaft von Links und das `LastName` Feld von rechts aus, und klicken Sie auf OK.</span><span class="sxs-lookup"><span data-stu-id="7c11d-190">Choose the `Text` property from the left and the `LastName` field from the right and click OK.</span></span>

<span data-ttu-id="7c11d-191">[![die Text-Eigenschaft an das LastName-Datenfeld binden.](using-templatefields-in-the-gridview-control-cs/_static/image23.png)](using-templatefields-in-the-gridview-control-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-191">[![Bind the Text Property to the LastName Data Field](using-templatefields-in-the-gridview-control-cs/_static/image23.png)](using-templatefields-in-the-gridview-control-cs/_static/image22.png)</span></span>

<span data-ttu-id="7c11d-192">**Abbildung 8**: Binden der `Text`-Eigenschaft an das `LastName` Datenfeld ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-192">**Figure 8**: Bind the `Text` Property to the `LastName` Data Field ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image24.png))</span></span>

> [!NOTE]
> <span data-ttu-id="7c11d-193">Im Dialogfeld DataBindings können Sie angeben, ob eine bidirektionale Datenbindung durchgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="7c11d-193">The DataBindings dialog box allows you to indicate whether to perform two-way databinding.</span></span> <span data-ttu-id="7c11d-194">Wenn Sie diese Option nicht aktivieren, wird die Datenbindung-Syntax `<%# Eval("LastName")%>` anstelle von `<%# Bind("LastName")%>`verwendet.</span><span class="sxs-lookup"><span data-stu-id="7c11d-194">If you leave this unchecked, the databinding syntax `<%# Eval("LastName")%>` will be used instead of `<%# Bind("LastName")%>`.</span></span> <span data-ttu-id="7c11d-195">Beide Vorgehensweisen sind für dieses Tutorial in Ordnung.</span><span class="sxs-lookup"><span data-stu-id="7c11d-195">Either approach is fine for this tutorial.</span></span> <span data-ttu-id="7c11d-196">Das bidirektionale Datenbindung wird beim Einfügen und Bearbeiten von Daten wichtig.</span><span class="sxs-lookup"><span data-stu-id="7c11d-196">Two-way databinding becomes important when inserting and editing data.</span></span> <span data-ttu-id="7c11d-197">Für das einfache Anzeigen von Daten funktioniert jedoch jeder Ansatz gleichermaßen gut.</span><span class="sxs-lookup"><span data-stu-id="7c11d-197">For simply displaying data, however, either approach will work equally well.</span></span> <span data-ttu-id="7c11d-198">In zukünftigen Tutorials wird das bidirektionale Datenbindung ausführlich erläutert.</span><span class="sxs-lookup"><span data-stu-id="7c11d-198">We'll discuss two-way databinding in detail in future tutorials.</span></span>

<span data-ttu-id="7c11d-199">Nehmen Sie sich einen Moment Zeit, um diese Seite über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-199">Take a moment to view this page through a browser.</span></span> <span data-ttu-id="7c11d-200">Wie Sie sehen können, enthält die GridView weiterhin vier Spalten. in der Spalte `FirstName` werden nun jedoch *sowohl* die Daten Feldwerte `FirstName` als auch `LastName` aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="7c11d-200">As you can see, the GridView still includes four columns; however, the `FirstName` column now lists *both* the `FirstName` and `LastName` data field values.</span></span>

<span data-ttu-id="7c11d-201">[![werden die Werte "FirstName" und "LastName" in einer einzelnen Spalte angezeigt.](using-templatefields-in-the-gridview-control-cs/_static/image26.png)](using-templatefields-in-the-gridview-control-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-201">[![Both the FirstName and LastName Values are Shown in a Single Column](using-templatefields-in-the-gridview-control-cs/_static/image26.png)](using-templatefields-in-the-gridview-control-cs/_static/image25.png)</span></span>

<span data-ttu-id="7c11d-202">**Abbildung 9**: die Werte für "`FirstName`" und "`LastName`" werden in einer einzelnen Spalte angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-202">**Figure 9**: Both the `FirstName` and `LastName` Values are Shown in a Single Column ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image27.png))</span></span>

<span data-ttu-id="7c11d-203">Entfernen Sie den `LastName` BoundField, und benennen Sie die `HeaderText`-Eigenschaft `FirstName` TemplateField in "Name" um, um diesen ersten Schritt abzuschließen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-203">To complete this first step, remove the `LastName` BoundField and rename the `FirstName` TemplateField's `HeaderText` property to "Name".</span></span> <span data-ttu-id="7c11d-204">Nachdem diese Änderungen vorgenommen wurden, sollte das deklarative Markup der GridView wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="7c11d-204">After these changes the GridView's declarative markup should look like the following:</span></span>

[!code-aspx[Main](using-templatefields-in-the-gridview-control-cs/samples/sample4.aspx)]

<span data-ttu-id="7c11d-205">[![die vor-und Nachnamen der einzelnen Mitarbeiter in einer Spalte angezeigt werden.](using-templatefields-in-the-gridview-control-cs/_static/image29.png)](using-templatefields-in-the-gridview-control-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-205">[![Each Employee's First and Last Names are Displayed in One Column](using-templatefields-in-the-gridview-control-cs/_static/image29.png)](using-templatefields-in-the-gridview-control-cs/_static/image28.png)</span></span>

<span data-ttu-id="7c11d-206">**Abbildung 10**: die vor-und Nachnamen der einzelnen Mitarbeiter werden in einer Spalte angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-206">**Figure 10**: Each Employee's First and Last Names are Displayed in One Column ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image30.png))</span></span>

## <a name="step-3-using-the-calendar-control-to-display-thehireddatefield"></a><span data-ttu-id="7c11d-207">Schritt 3: Verwenden des Kalender Steuer Elements zum Anzeigen des`HiredDate`Felds</span><span class="sxs-lookup"><span data-stu-id="7c11d-207">Step 3: Using the Calendar Control to Display the`HiredDate`Field</span></span>

<span data-ttu-id="7c11d-208">Das Anzeigen eines Daten Feldwerts als Text in einer GridView-Sicht ist so einfach wie die Verwendung eines BoundField.</span><span class="sxs-lookup"><span data-stu-id="7c11d-208">Displaying a data field value as text in a GridView is as simple as using a BoundField.</span></span> <span data-ttu-id="7c11d-209">Für bestimmte Szenarien werden die Daten jedoch am besten mit einem bestimmten websteuer Element anstelle von Text ausgedrückt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-209">For certain scenarios, however, the data is best expressed using a particular Web control instead of just text.</span></span> <span data-ttu-id="7c11d-210">Eine solche Anpassung der Datenanzeige ist mit templatefields möglich.</span><span class="sxs-lookup"><span data-stu-id="7c11d-210">Such customization of the display of data is possible with TemplateFields.</span></span> <span data-ttu-id="7c11d-211">Anstatt z. b. das Einstellungs Datum des Mitarbeiters als Text anzuzeigen, könnte ein Kalender (mit [dem Kalender Steuer](https://msdn.microsoft.com/library/system.web.ui.webcontrols.calendar(VS.80).aspx)Element) angezeigt werden, bei dem das Einstellungs Datum hervorgehoben ist.</span><span class="sxs-lookup"><span data-stu-id="7c11d-211">For example, rather than display the employee's hire date as text, we could show a calendar (using [the Calendar control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.calendar(VS.80).aspx)) with their hire date highlighted.</span></span>

<span data-ttu-id="7c11d-212">Um dies zu erreichen, konvertieren Sie zunächst den `HiredDate` BoundField in ein TemplateField-Element.</span><span class="sxs-lookup"><span data-stu-id="7c11d-212">To accomplish this, start by converting the `HiredDate` BoundField into a TemplateField.</span></span> <span data-ttu-id="7c11d-213">Wechseln Sie einfach zum Smarttag der GridView, und klicken Sie auf den Link Spalten bearbeiten, und klicken Sie dann auf das Dialogfeld Felder.</span><span class="sxs-lookup"><span data-stu-id="7c11d-213">Simply go to the GridView's smart tag and click the Edit Columns link, bringing up the Fields dialog box.</span></span> <span data-ttu-id="7c11d-214">Wählen Sie das `HiredDate` BoundField aus, und klicken Sie auf "dieses Feld in ein TemplateField konvertieren".</span><span class="sxs-lookup"><span data-stu-id="7c11d-214">Select the `HiredDate` BoundField and click "Convert this field into a TemplateField."</span></span>

<span data-ttu-id="7c11d-215">[![das hireddate BoundField in ein TemplateField-Element konvertieren.](using-templatefields-in-the-gridview-control-cs/_static/image32.png)](using-templatefields-in-the-gridview-control-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-215">[![Convert the HiredDate BoundField Into a TemplateField](using-templatefields-in-the-gridview-control-cs/_static/image32.png)](using-templatefields-in-the-gridview-control-cs/_static/image31.png)</span></span>

<span data-ttu-id="7c11d-216">**Abbildung 11**: Konvertieren des `HiredDate` BoundField in ein TemplateField-Element ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-216">**Figure 11**: Convert the `HiredDate` BoundField Into a TemplateField ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image33.png))</span></span>

<span data-ttu-id="7c11d-217">Wie in Schritt 2 gezeigt, ersetzt dies das BoundField durch ein TemplateField, das eine `ItemTemplate` enthält und `EditItemTemplate` mit einer Bezeichnung und einem Textfeld, dessen `Text` Eigenschaften mithilfe der Datenbindung-Syntax `<%# Bind("HiredDate")%>`an den `HiredDate` Wert gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-217">As we saw in Step 2, this will replace the BoundField with a TemplateField that contains an `ItemTemplate` and `EditItemTemplate` with a Label and TextBox whose `Text` properties are bound to the `HiredDate` value using the databinding syntax `<%# Bind("HiredDate")%>`.</span></span>

<span data-ttu-id="7c11d-218">Um den Text durch ein Kalender Steuerelement zu ersetzen, bearbeiten Sie die Vorlage, indem Sie die Bezeichnung entfernen und ein Kalender Steuerelement hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-218">To replace the text with a Calendar control, edit the template by removing the Label and adding a Calendar control.</span></span> <span data-ttu-id="7c11d-219">Wählen Sie im Designer Vorlagen bearbeiten aus dem Smarttag der GridView aus, und wählen Sie in der Dropdown Liste die `ItemTemplate` des `HireDate` TemplateField aus.</span><span class="sxs-lookup"><span data-stu-id="7c11d-219">From the Designer, select Edit Templates from the GridView's smart tag and choose the `HireDate` TemplateField's `ItemTemplate` from the drop-down list.</span></span> <span data-ttu-id="7c11d-220">Löschen Sie anschließend das Label-Steuerelement, und ziehen Sie ein Calendar-Steuerelement aus der Toolbox in die Vorlagen Bearbeitungs Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="7c11d-220">Next, delete the Label control and drag a Calendar control from the Toolbox into the template editing interface.</span></span>

<span data-ttu-id="7c11d-221">[![der ItemTemplate von HireDate TemplateField ein Kalender Steuerelement hinzufügen](using-templatefields-in-the-gridview-control-cs/_static/image35.png)](using-templatefields-in-the-gridview-control-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-221">[![Add a Calendar Control to the HireDate TemplateField's ItemTemplate](using-templatefields-in-the-gridview-control-cs/_static/image35.png)](using-templatefields-in-the-gridview-control-cs/_static/image34.png)</span></span>

<span data-ttu-id="7c11d-222">**Abbildung 12**: Hinzufügen eines Kalender Steuer Elements zur `ItemTemplate` des `HireDate` TemplateField ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-222">**Figure 12**: Add a Calendar Control to the `HireDate` TemplateField's `ItemTemplate` ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image36.png))</span></span>

<span data-ttu-id="7c11d-223">An diesem Punkt enthält jede Zeile in der GridView ein Calendar-Steuerelement in der `HiredDate` TemplateField.</span><span class="sxs-lookup"><span data-stu-id="7c11d-223">At this point each row in the GridView will contain a Calendar control in its `HiredDate` TemplateField.</span></span> <span data-ttu-id="7c11d-224">Allerdings wird der tatsächliche `HiredDate` Wert des Mitarbeiters nicht an einer beliebigen Stelle im Kalender Steuerelement festgelegt, sodass jedes Kalender Steuerelement standardmäßig den aktuellen Monat und das aktuelle Datum anzeigt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-224">However, the employee's actual `HiredDate` value is not set anywhere in the Calendar control, causing each Calendar control to default to showing the current month and date.</span></span> <span data-ttu-id="7c11d-225">Um dieses Problem zu beheben, müssen wir die `HiredDate` jedes Mitarbeiters den Eigenschaften " [SelectedDate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.calendar.selecteddate(VS.80).aspx) " und " [VisibleDate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.calendar.visibledate(VS.80).aspx) " des Kalender Steuer Elements zuweisen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-225">To remedy this, we need to assign each employee's `HiredDate` to the Calendar control's [SelectedDate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.calendar.selecteddate(VS.80).aspx) and [VisibleDate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.calendar.visibledate(VS.80).aspx) properties.</span></span>

<span data-ttu-id="7c11d-226">Wählen Sie im Smarttag des Kalender Steuer Elements die Option DataBindings bearbeiten aus.</span><span class="sxs-lookup"><span data-stu-id="7c11d-226">From the Calendar control's smart tag, choose Edit DataBindings.</span></span> <span data-ttu-id="7c11d-227">Binden Sie als nächstes die Eigenschaften `SelectedDate` und `VisibleDate` an das `HiredDate` Datenfeld.</span><span class="sxs-lookup"><span data-stu-id="7c11d-227">Next, bind both `SelectedDate` and `VisibleDate` properties to the `HiredDate` data field.</span></span>

<span data-ttu-id="7c11d-228">[![Binden der SelectedDate-Eigenschaft und der VisibleDate-Eigenschaft an das hireddate-Datenfeld](using-templatefields-in-the-gridview-control-cs/_static/image38.png)](using-templatefields-in-the-gridview-control-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-228">[![Bind the SelectedDate and VisibleDate Properties to the HiredDate Data Field](using-templatefields-in-the-gridview-control-cs/_static/image38.png)](using-templatefields-in-the-gridview-control-cs/_static/image37.png)</span></span>

<span data-ttu-id="7c11d-229">**Abbildung 13**: Binden der Eigenschaften "`SelectedDate`" und "`VisibleDate`" an das `HiredDate` Datenfeld ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-229">**Figure 13**: Bind the `SelectedDate` and `VisibleDate` Properties to the `HiredDate` Data Field ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image39.png))</span></span>

> [!NOTE]
> <span data-ttu-id="7c11d-230">Das ausgewählte Datum des Kalender Steuer Elements muss nicht unbedingt sichtbar sein.</span><span class="sxs-lookup"><span data-stu-id="7c11d-230">The Calendar control's selected date need not necessarily be visible.</span></span> <span data-ttu-id="7c11d-231">Ein Kalender kann z. b. den 1<sup>.</sup>August 1999 als ausgewähltes Datum aufweisen, zeigt jedoch den aktuellen Monat und das Jahr an.</span><span class="sxs-lookup"><span data-stu-id="7c11d-231">For example, a Calendar may have August 1<sup>st</sup>, 1999 as the selected date, but be showing the current month and year.</span></span> <span data-ttu-id="7c11d-232">Das ausgewählte Datum und sichtbare Datumsangaben werden durch die Eigenschaften `SelectedDate` und `VisibleDate` des Kalender Steuer Elements angegeben.</span><span class="sxs-lookup"><span data-stu-id="7c11d-232">The selected date and visible date are specified by the Calendar control's `SelectedDate` and `VisibleDate` properties.</span></span> <span data-ttu-id="7c11d-233">Da wir die `HiredDate` des Mitarbeiters auswählen und sicherstellen möchten, dass diese beiden Eigenschaften an das `HireDate` Datenfeld gebunden werden müssen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-233">Since we want to both select the employee's `HiredDate` and make sure that it's shown we need to bind both of these properties to the `HireDate` data field.</span></span>

<span data-ttu-id="7c11d-234">Wenn Sie die Seite in einem Browser anzeigen, zeigt der Kalender nun den Monat des Anmelders des Mitarbeiters an und wählt dieses bestimmte Datum aus.</span><span class="sxs-lookup"><span data-stu-id="7c11d-234">When viewing the page in a browser, the calendar now shows the month of the employee's hired date and selects that particular date.</span></span>

<span data-ttu-id="7c11d-235">[![das hireddate-Element des Mitarbeiters im Calendar-Steuerelement angezeigt wird.](using-templatefields-in-the-gridview-control-cs/_static/image41.png)](using-templatefields-in-the-gridview-control-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-235">[![The Employee's HiredDate is Shown in the Calendar Control](using-templatefields-in-the-gridview-control-cs/_static/image41.png)](using-templatefields-in-the-gridview-control-cs/_static/image40.png)</span></span>

<span data-ttu-id="7c11d-236">**Abbildung 14**: der `HiredDate` des Mitarbeiters wird im Kalender Steuerelement angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-236">**Figure 14**: The Employee's `HiredDate` is Shown in the Calendar Control ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image42.png))</span></span>

> [!NOTE]
> <span data-ttu-id="7c11d-237">Im Gegensatz zu allen bisher bereits gesehenen Beispielen haben wir für dieses Tutorial `EnableViewState`-Eigenschaft *nicht* auf `false` für diese GridView festgelegt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-237">Contrary to all the examples we've seen thus far, for this tutorial we did *not* set `EnableViewState` property to `false` for this GridView.</span></span> <span data-ttu-id="7c11d-238">Der Grund für diese Entscheidung liegt darin, dass durch Klicken auf die Datumsangaben des Kalender Steuer Elements ein Postback verursacht wird, wobei das ausgewählte Datum des Kalenders auf das soeben angeklickte Datum festgelegt wird</span><span class="sxs-lookup"><span data-stu-id="7c11d-238">The reason for this decision is because clicking the dates of the Calendar control causes a postback, setting the Calendar's selected date to the date just clicked.</span></span> <span data-ttu-id="7c11d-239">Wenn der Ansichts Zustand der GridView deaktiviert ist, werden die Daten von GridView bei jedem Postback an die zugrunde liegende Datenquelle zurückgesetzt, was bewirkt, dass das ausgewählte Datum des Kalenders auf den `HireDate`des Mitarbeiters *zurück* gesetzt wird und das vom Benutzer gewählte Datum überschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-239">If the GridView's view state is disabled, however, on each postback the GridView's data is rebound to its underlying data source, which causes the Calendar's selected date to be set *back* to the employee's `HireDate`, overwriting the date chosen by the user.</span></span>

<span data-ttu-id="7c11d-240">In diesem Tutorial ist dies eine Erörterung, da der Benutzer nicht in der Lage ist, die `HireDate`des Mitarbeiters zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="7c11d-240">For this tutorial this is a moot discussion since the user is not able to update the employee's `HireDate`.</span></span> <span data-ttu-id="7c11d-241">Wahrscheinlich empfiehlt es sich, das Kalender Steuerelement so zu konfigurieren, dass seine Datumsangaben nicht auswählbar sind.</span><span class="sxs-lookup"><span data-stu-id="7c11d-241">It would probably be best to configure the Calendar control so that its dates are not selectable.</span></span> <span data-ttu-id="7c11d-242">Unabhängig davon, ob in diesem Tutorial der Ansichts Zustand aktiviert werden muss, um bestimmte Funktionen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-242">Regardless, this tutorial shows that in some circumstances view state must be enabled in order to provide certain functionality.</span></span>

## <a name="step-4-showing-the-number-of-days-the-employee-has-worked-for-the-company"></a><span data-ttu-id="7c11d-243">Schritt 4: zeigen Sie die Anzahl der Tage an, die der Mitarbeiter für das Unternehmen gearbeitet hat.</span><span class="sxs-lookup"><span data-stu-id="7c11d-243">Step 4: Showing the Number of Days the Employee Has Worked for the Company</span></span>

<span data-ttu-id="7c11d-244">Bisher haben wir zwei Anwendungen von templatefields gesehen:</span><span class="sxs-lookup"><span data-stu-id="7c11d-244">So far we have seen two applications of TemplateFields:</span></span>

- <span data-ttu-id="7c11d-245">Kombinieren von zwei oder mehr Daten Feldwerten in einer Spalte und</span><span class="sxs-lookup"><span data-stu-id="7c11d-245">Combining two or more data field values into one column, and</span></span>
- <span data-ttu-id="7c11d-246">Ausdrücken eines Daten Feldwerts mithilfe eines websteuer Elements anstelle von Text</span><span class="sxs-lookup"><span data-stu-id="7c11d-246">Expressing a data field value using a Web control instead of text</span></span>

<span data-ttu-id="7c11d-247">Eine dritte Verwendung von templatefields besteht darin, Metadaten zu den zugrunde liegenden Daten der GridView anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-247">A third use of TemplateFields is in displaying metadata about the GridView's underlying data.</span></span> <span data-ttu-id="7c11d-248">Zusätzlich zum Anzeigen der Einstellungsdaten der Mitarbeiter ist es z. b. möglich, eine Spalte mit einer Spalte anzuzeigen, in der die Anzahl der Tage angezeigt wird, die für den Auftrag gelten.</span><span class="sxs-lookup"><span data-stu-id="7c11d-248">In addition to showing the employees' hire dates, for example, we might also want to have a column that displays how many total days they've been on the job.</span></span>

<span data-ttu-id="7c11d-249">In Szenarien, in denen die zugrunde liegenden Daten anders als in der Datenbank gespeichert werden müssen, wird jedoch eine andere Verwendung von templatefields durchführen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-249">Yet another use of TemplateFields arises in scenarios when the underlying data needs to be displayed differently in the web page report than in the format it's stored in the database.</span></span> <span data-ttu-id="7c11d-250">Stellen Sie sich vor, dass die `Employees` Tabelle ein `Gender` Feld enthielt, in dem das Zeichen `M` oder `F` gespeichert wurde, um das Geschlecht des Mitarbeiters anzugeben.</span><span class="sxs-lookup"><span data-stu-id="7c11d-250">Imagine that the `Employees` table had a `Gender` field that stored the character `M` or `F` to indicate the sex of the employee.</span></span> <span data-ttu-id="7c11d-251">Wenn diese Informationen auf einer Webseite angezeigt werden, können wir das Geschlecht entweder als "männlich" oder "weiblich" anzeigen, im Gegensatz zu "M" oder "F".</span><span class="sxs-lookup"><span data-stu-id="7c11d-251">When displaying this information in a web page we might want to show the gender as either "Male" or "Female", as opposed to just "M" or "F".</span></span>

<span data-ttu-id="7c11d-252">Beide Szenarien können verarbeitet werden, indem eine *Formatierungs Methode* in der Code Behind-Klasse der ASP.NET-Seite erstellt wird (oder in einer separaten Klassenbibliothek, die als `static` Methode implementiert ist), die aus der Vorlage aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-252">Both of these scenarios can be handled by creating a *formatting method* in the ASP.NET page's code-behind class (or in a separate class library, implemented as a `static` method) that is invoked from the template.</span></span> <span data-ttu-id="7c11d-253">Eine solche Formatierungs Methode wird aus der Vorlage mit der gleichen Datenbindung-Syntax aufgerufen, die bereits zuvor gesehen wurde.</span><span class="sxs-lookup"><span data-stu-id="7c11d-253">Such a formatting method is invoked from the template using the same databinding syntax seen earlier.</span></span> <span data-ttu-id="7c11d-254">Die Formatierungs Methode kann eine beliebige Anzahl von Parametern annehmen, muss jedoch eine Zeichenfolge zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="7c11d-254">The formatting method can take in any number of parameters, but must return a string.</span></span> <span data-ttu-id="7c11d-255">Diese zurückgegebene Zeichenfolge ist der HTML-Code, der in die Vorlage eingefügt wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-255">This returned string is the HTML that is injected into the template.</span></span>

<span data-ttu-id="7c11d-256">Um dieses Konzept zu veranschaulichen, soll das Tutorial erweitert werden, um eine Spalte anzuzeigen, in der die Gesamtzahl der Tage aufgeführt ist, in denen ein Mitarbeiter für den Auftrag gearbeitet hat.</span><span class="sxs-lookup"><span data-stu-id="7c11d-256">To illustrate this concept, let's augment our tutorial to show a column that lists the total number of days an employee has been on the job.</span></span> <span data-ttu-id="7c11d-257">Diese Formatierungs Methode nimmt ein `Northwind.EmployeesRow` Objekt an und gibt die Anzahl der Tage zurück, in denen der Mitarbeiter als Zeichenfolge verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="7c11d-257">This formatting method will take in a `Northwind.EmployeesRow` object and return the number of days the employee has been employed as a string.</span></span> <span data-ttu-id="7c11d-258">Diese Methode kann der Code Behind-Klasse der ASP.NET-Seite hinzugefügt werden, *muss* jedoch als `protected` oder `public` gekennzeichnet werden, damit Sie über die Vorlage zugänglich ist.</span><span class="sxs-lookup"><span data-stu-id="7c11d-258">This method can be added to the ASP.NET page's code-behind class, but *must* be marked as `protected` or `public` in order to be accessible from the template.</span></span>

[!code-csharp[Main](using-templatefields-in-the-gridview-control-cs/samples/sample5.cs)]

<span data-ttu-id="7c11d-259">Da das `HiredDate` Feld `NULL` Daten Bankwerte enthalten kann, muss zunächst sichergestellt werden, dass der Wert nicht `NULL` ist, bevor die Berechnung fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-259">Since the `HiredDate` field can contain `NULL` database values we must first ensure that the value is not `NULL` before proceeding with the calculation.</span></span> <span data-ttu-id="7c11d-260">Wenn der `HiredDate` Wert `NULL`ist, wird einfach die Zeichenfolge "unknown" zurückgegeben. Wenn dies nicht `NULL`ist, berechnen wir den Unterschied zwischen der aktuellen Uhrzeit und dem `HiredDate` Wert und geben die Anzahl der Tage zurück.</span><span class="sxs-lookup"><span data-stu-id="7c11d-260">If the `HiredDate` value is `NULL`, we simply return the string "Unknown"; if it is not `NULL`, we compute the difference between the current time and the `HiredDate` value and return the number of days.</span></span>

<span data-ttu-id="7c11d-261">Um diese Methode zu verwenden, müssen wir Sie mithilfe der Datenbindung-Syntax aus einem TemplateField in der GridView aufrufen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-261">To utilize this method we need to invoke it from a TemplateField in the GridView using the databinding syntax.</span></span> <span data-ttu-id="7c11d-262">Fügen Sie zunächst ein neues TemplateField-Element zur GridView hinzu, indem Sie auf den Link Spalten bearbeiten im Smarttags von GridView klicken und ein neues TemplateField-Element hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-262">Start by adding a new TemplateField to the GridView by clicking on the Edit Columns link in the GridView's smart tag and adding a new TemplateField.</span></span>

<span data-ttu-id="7c11d-263">[![der GridView ein neues TemplateField-Element hinzufügen](using-templatefields-in-the-gridview-control-cs/_static/image44.png)](using-templatefields-in-the-gridview-control-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-263">[![Add a New TemplateField to the GridView](using-templatefields-in-the-gridview-control-cs/_static/image44.png)](using-templatefields-in-the-gridview-control-cs/_static/image43.png)</span></span>

<span data-ttu-id="7c11d-264">**Abbildung 15**: Hinzufügen eines neuen TemplateField zur GridView ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-264">**Figure 15**: Add a New TemplateField to the GridView ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image45.png))</span></span>

<span data-ttu-id="7c11d-265">Legen Sie die `HeaderText`-Eigenschaft des neuen TemplateField-Objekts auf "Days on the Job" und die `HorizontalAlign`-Eigenschaft des `ItemStyle`auf `Center`fest.</span><span class="sxs-lookup"><span data-stu-id="7c11d-265">Set this new TemplateField's `HeaderText` property to "Days on the Job" and its `ItemStyle`'s `HorizontalAlign` property to `Center`.</span></span> <span data-ttu-id="7c11d-266">Fügen Sie eine `ItemTemplate` hinzu, und verwenden Sie die folgende Datenbindung-Syntax, um die `DisplayDaysOnJob`-Methode aus der Vorlage aufzurufen:</span><span class="sxs-lookup"><span data-stu-id="7c11d-266">To call the `DisplayDaysOnJob` method from the template, add an `ItemTemplate` and use the following databinding syntax:</span></span>

[!code-aspx[Main](using-templatefields-in-the-gridview-control-cs/samples/sample6.aspx)]

<span data-ttu-id="7c11d-267">`Container.DataItem` gibt ein `DataRowView` Objekt zurück, das dem `DataSource` Datensatz entspricht, der an den `GridViewRow`gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="7c11d-267">`Container.DataItem` returns a `DataRowView` object corresponding to the `DataSource` record bound to the `GridViewRow`.</span></span> <span data-ttu-id="7c11d-268">Die `Row`-Eigenschaft gibt die stark typisierte `Northwind.EmployeesRow`zurück, die an die `DisplayDaysOnJob`-Methode übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-268">Its `Row` property returns the strongly-typed `Northwind.EmployeesRow`, which is passed to the `DisplayDaysOnJob` method.</span></span> <span data-ttu-id="7c11d-269">Diese Datenbindung-Syntax kann direkt im `ItemTemplate` vorkommen (wie in der deklarativen Syntax unten dargestellt) oder der `Text`-Eigenschaft eines Label-websteuer Elements zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-269">This databinding syntax can appear directly in the `ItemTemplate` (as shown in the declarative syntax below) or can be assigned to the `Text` property of a Label Web control.</span></span>

> [!NOTE]
> <span data-ttu-id="7c11d-270">Anstatt eine `EmployeesRow` Instanz zu übergeben, können Sie alternativ den `HireDate` Wert auch mit `<%# DisplayDaysOnJob(Eval("HireDate")) %>`übergeben.</span><span class="sxs-lookup"><span data-stu-id="7c11d-270">Alternatively, instead of passing in an `EmployeesRow` instance, we could just pass in the `HireDate` value using `<%# DisplayDaysOnJob(Eval("HireDate")) %>`.</span></span> <span data-ttu-id="7c11d-271">Die `Eval`-Methode gibt jedoch eine `object`zurück. Deshalb müssten wir unsere `DisplayDaysOnJob` Methoden Signatur so ändern, dass Sie einen Eingabeparameter vom Typ "`object`" annimmt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-271">However, the `Eval` method returns an `object`, so we'd have to change our `DisplayDaysOnJob` method signature to accept an input parameter of type `object`, instead.</span></span> <span data-ttu-id="7c11d-272">Wir können den `Eval("HireDate")`-Aufrufe nicht blind in eine `DateTime` umwandeln, da die Spalte `HireDate` in der `Employees` Tabelle `NULL` Werte enthalten kann.</span><span class="sxs-lookup"><span data-stu-id="7c11d-272">We can't blindly cast the `Eval("HireDate")` call to a `DateTime` because the `HireDate` column in the `Employees` table can contain `NULL` values.</span></span> <span data-ttu-id="7c11d-273">Daher müssten wir eine `object` als Eingabeparameter für die `DisplayDaysOnJob`-Methode akzeptieren, überprüfen, ob Sie über einen `NULL` Wert für die Datenbank verfügt (was mit `Convert.IsDBNull(objectToCheck)`erreicht werden kann), und dann entsprechend vorgehen.</span><span class="sxs-lookup"><span data-stu-id="7c11d-273">Therefore, we'd need to accept an `object` as the input parameter for the `DisplayDaysOnJob` method, check to see if it had a database `NULL` value (which can be accomplished using `Convert.IsDBNull(objectToCheck)`), and then proceed accordingly.</span></span>

<span data-ttu-id="7c11d-274">Aufgrund dieser Feinheiten habe ich mich entschieden, die gesamte `EmployeesRow` Instanz zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="7c11d-274">Due to these subtleties, I've opted to pass in the entire `EmployeesRow` instance.</span></span> <span data-ttu-id="7c11d-275">Im nächsten Tutorial sehen Sie ein passendes Beispiel für die Verwendung der `Eval("columnName")`-Syntax zum Übergeben eines Eingabe Parameters in eine Formatierungs Methode.</span><span class="sxs-lookup"><span data-stu-id="7c11d-275">In the next tutorial we'll see a more fitting example for using the `Eval("columnName")` syntax for passing an input parameter into a formatting method.</span></span>

<span data-ttu-id="7c11d-276">Das folgende Beispiel zeigt die deklarative Syntax für unsere GridView, nachdem das TemplateField-Element hinzugefügt wurde, und die `DisplayDaysOnJob`-Methode, die vom `ItemTemplate`aufgerufen wurde:</span><span class="sxs-lookup"><span data-stu-id="7c11d-276">The following shows the declarative syntax for our GridView after the TemplateField has been added and the `DisplayDaysOnJob` method called from the `ItemTemplate`:</span></span>

[!code-aspx[Main](using-templatefields-in-the-gridview-control-cs/samples/sample7.aspx)]

<span data-ttu-id="7c11d-277">Abbildung 16 zeigt das abgeschlossene Tutorial, das in einem Browser angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7c11d-277">Figure 16 shows the completed tutorial, when viewed through a browser.</span></span>

<span data-ttu-id="7c11d-278">[![die Anzahl der Tage, die der Mitarbeiter im Auftrag festgelegt wurde.](using-templatefields-in-the-gridview-control-cs/_static/image47.png)](using-templatefields-in-the-gridview-control-cs/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="7c11d-278">[![The Number of Days the Employee Has Been on the Job is Displayed](using-templatefields-in-the-gridview-control-cs/_static/image47.png)](using-templatefields-in-the-gridview-control-cs/_static/image46.png)</span></span>

<span data-ttu-id="7c11d-279">**Abbildung 16**: die Anzahl der Tage, die der Mitarbeiter für den Auftrag festgelegt wurde ([Klicken Sie, um das Bild in voller Größe anzuzeigen](using-templatefields-in-the-gridview-control-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="7c11d-279">**Figure 16**: The Number of Days the Employee Has Been on the Job is Displayed ([Click to view full-size image](using-templatefields-in-the-gridview-control-cs/_static/image48.png))</span></span>

## <a name="summary"></a><span data-ttu-id="7c11d-280">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="7c11d-280">Summary</span></span>

<span data-ttu-id="7c11d-281">Das TemplateField im GridView-Steuerelement ermöglicht ein höheres Maß an Flexibilität bei der Anzeige von Daten, als für die anderen Feld Steuerelemente verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="7c11d-281">The TemplateField in the GridView control allows for a higher degree of flexibility in displaying data than is available with the other field controls.</span></span> <span data-ttu-id="7c11d-282">Templatefields sind ideal für Situationen, in denen Folgendes gilt:</span><span class="sxs-lookup"><span data-stu-id="7c11d-282">TemplateFields are ideal for situations where:</span></span>

- <span data-ttu-id="7c11d-283">In einer GridView-Spalte müssen mehrere Datenfelder angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="7c11d-283">Multiple data fields need to be displayed in one GridView column</span></span>
- <span data-ttu-id="7c11d-284">Die Daten werden am besten mithilfe eines websteuer Elements anstelle von nur-Text ausgedrückt.</span><span class="sxs-lookup"><span data-stu-id="7c11d-284">The data is best expressed using a Web control rather than plain text</span></span>
- <span data-ttu-id="7c11d-285">Die Ausgabe hängt von den zugrunde liegenden Daten ab, z. b. durch das Anzeigen von Metadaten oder das Neuformatieren der Daten.</span><span class="sxs-lookup"><span data-stu-id="7c11d-285">The output depends on the underlying data, such as displaying metadata or in reformatting the data</span></span>

<span data-ttu-id="7c11d-286">Zusätzlich zur Anpassung der Anzeige von Daten werden auch templatefields zum Anpassen der Benutzeroberflächen verwendet, die zum Bearbeiten und Einfügen von Daten verwendet werden, wie in zukünftigen Tutorials zu sehen ist.</span><span class="sxs-lookup"><span data-stu-id="7c11d-286">In addition to customizing the display of data, TemplateFields are also used for customizing the user interfaces used for editing and inserting data, as we'll see in future tutorials.</span></span>

<span data-ttu-id="7c11d-287">In den nächsten beiden Tutorials wird das Untersuchen von Vorlagen fortgesetzt, beginnend mit der Verwendung von templatefields in einer DetailsView.</span><span class="sxs-lookup"><span data-stu-id="7c11d-287">The next two tutorials continue exploring templates, starting with a look at using TemplateFields in a DetailsView.</span></span> <span data-ttu-id="7c11d-288">Danach wird die Form View verwendet, in der Vorlagen anstelle von Feldern verwendet werden, um eine größere Flexibilität im Layout und in der Struktur der Daten zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="7c11d-288">Following that, we'll turn to the FormView, which uses templates in lieu of fields to provide greater flexibility in the layout and structure of the data.</span></span>

<span data-ttu-id="7c11d-289">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="7c11d-289">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="7c11d-290">Zum Autor</span><span class="sxs-lookup"><span data-stu-id="7c11d-290">About the Author</span></span>

<span data-ttu-id="7c11d-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="7c11d-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7c11d-292">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="7c11d-292">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7c11d-293">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="7c11d-293">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="7c11d-294">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7c11d-294">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="7c11d-295">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="7c11d-295">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="7c11d-296">Besonders vielen Dank</span><span class="sxs-lookup"><span data-stu-id="7c11d-296">Special Thanks To</span></span>

<span data-ttu-id="7c11d-297">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="7c11d-297">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="7c11d-298">Lead Reviewer für dieses Tutorial war Dan Jagers.</span><span class="sxs-lookup"><span data-stu-id="7c11d-298">Lead reviewer for this tutorial was Dan Jagers.</span></span> <span data-ttu-id="7c11d-299">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="7c11d-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="7c11d-300">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7c11d-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="7c11d-301">[Zurück](custom-formatting-based-upon-data-cs.md)
> [Weiter](using-templatefields-in-the-detailsview-control-cs.md)</span><span class="sxs-lookup"><span data-stu-id="7c11d-301">[Previous](custom-formatting-based-upon-data-cs.md)
[Next](using-templatefields-in-the-detailsview-control-cs.md)</span></span>
