---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
title: Websteuer Elemente für die DatenC#von Netz Netzen () | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial wird erläutert, wie Sie einen Repeater verwenden, der in einem anderen Repeater geschachtelt ist. In den Beispielen wird veranschaulicht, wie Sie den inneren Repeater auffüllen, d...
ms.author: riande
ms.date: 09/13/2006
ms.assetid: ad3cb0ec-26cf-42d7-b81b-184a34ec9f86
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: 8ef15bebb2c29976274b0cca1d6ace434ccc55ce
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74640295"
---
# <a name="nested-data-web-controls-c"></a><span data-ttu-id="28e7a-104">Geschachtelte Datenwebsteuerelemente (C#)</span><span class="sxs-lookup"><span data-stu-id="28e7a-104">Nested Data Web Controls (C#)</span></span>

<span data-ttu-id="28e7a-105">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="28e7a-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="28e7a-106">[Beispiel-app herunterladen](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) oder [PDF herunterladen](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="28e7a-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) or [Download PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span></span>

> <span data-ttu-id="28e7a-107">In diesem Tutorial wird erläutert, wie Sie einen Repeater verwenden, der in einem anderen Repeater geschachtelt ist.</span><span class="sxs-lookup"><span data-stu-id="28e7a-107">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="28e7a-108">In den Beispielen wird veranschaulicht, wie der innere Repeater sowohl deklarativ als auch Programm gesteuert aufgefüllt wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-108">The examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>

## <a name="introduction"></a><span data-ttu-id="28e7a-109">Einführung</span><span class="sxs-lookup"><span data-stu-id="28e7a-109">Introduction</span></span>

<span data-ttu-id="28e7a-110">Zusätzlich zur statischen HTML-und Datenbindung-Syntax können Vorlagen auch websteuer Elemente und Benutzer Steuerelemente enthalten.</span><span class="sxs-lookup"><span data-stu-id="28e7a-110">In addition to static HTML and databinding syntax, templates can also include Web controls and User Controls.</span></span> <span data-ttu-id="28e7a-111">Die Eigenschaften dieser websteuer Elemente können über deklarative, Datenbindung-Syntax zugewiesen werden, oder Sie können Programm gesteuert in den entsprechenden serverseitigen Ereignis Handlern aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-111">These Web controls can have their properties assigned via declarative, databinding syntax, or can be accessed programmatically in the appropriate server-side event handlers.</span></span>

<span data-ttu-id="28e7a-112">Durch Einbetten von Steuerelementen in einer Vorlage können die Darstellung und die Benutzer Darstellung angepasst und verbessert werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-112">By embedding controls within a template, the appearance and user experience can be customized and improved upon.</span></span> <span data-ttu-id="28e7a-113">Beispielsweise wurde im Tutorial [Verwenden von templatefields im GridView-Steuer](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) Element erläutert, wie Sie die GridView s-Anzeige anpassen, indem Sie ein Kalender Steuerelement in einem TemplateField-Steuerelement hinzufügen, um das Einstellungs Datum eines Mitarbeiters anzuzeigen. in den Tutorials zum [Hinzufügen von Validierungs Steuerelementen zu den Bearbeitungs-und einfügeschnittstellen](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) und zum [Anpassen der Daten Änderungs Schnittstelle](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) haben wir gesehen, wie Sie die Bearbeitungs-und einfügeschnittstellen durch Hinzufügen von Validierungs Steuerelementen, Textfeldern, Dropdown Listen und anderen websteuer Elementen anpassen</span><span class="sxs-lookup"><span data-stu-id="28e7a-113">For example, in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, we saw how to customize the GridView s display by adding a Calendar control in a TemplateField to show an employee s hire date; in the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials, we saw how to customize the editing and inserting interfaces by adding validation controls, TextBoxes, DropDownLists, and other Web controls.</span></span>

<span data-ttu-id="28e7a-114">Vorlagen können auch andere datenweb Steuerelemente enthalten.</span><span class="sxs-lookup"><span data-stu-id="28e7a-114">Templates can also contain other data Web controls.</span></span> <span data-ttu-id="28e7a-115">Das heißt, dass wir einen DataList haben können, der einen anderen DataList (oder Repeater, GridView oder DetailsView usw.) in seinen Vorlagen enthält.</span><span class="sxs-lookup"><span data-stu-id="28e7a-115">That is, we can have a DataList that contains another DataList (or Repeater or GridView or DetailsView, and so on) within its templates.</span></span> <span data-ttu-id="28e7a-116">Die Herausforderung bei einer solchen Schnittstelle besteht darin, die entsprechenden Daten an das innere datenweb Steuerelement zu binden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-116">The challenge with such an interface is binding the appropriate data to the inner data Web control.</span></span> <span data-ttu-id="28e7a-117">Es gibt verschiedene Ansätze, die von deklarativen Optionen unter Verwendung von ObjectDataSource bis hin zu programmatischen Optionen reichen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-117">There are a few different approaches available, ranging from declarative options using the ObjectDataSource to programmatic ones.</span></span>

<span data-ttu-id="28e7a-118">In diesem Tutorial wird erläutert, wie Sie einen Repeater verwenden, der in einem anderen Repeater geschachtelt ist.</span><span class="sxs-lookup"><span data-stu-id="28e7a-118">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="28e7a-119">Der äußere Repeater enthält ein Element für jede Kategorie in der Datenbank und zeigt den Namen und die Beschreibung der Kategorie an.</span><span class="sxs-lookup"><span data-stu-id="28e7a-119">The outer Repeater will contain an item for each category in the database, displaying the category s name and description.</span></span> <span data-ttu-id="28e7a-120">Jedes innere Wiederholungs Modul für Kategorieelemente zeigt Informationen für jedes Produkt an, das zu dieser Kategorie gehört (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="28e7a-120">Each category item s inner Repeater will display information for each product belonging to that category (see Figure 1) in a bulleted list.</span></span> <span data-ttu-id="28e7a-121">Unsere Beispiele veranschaulichen, wie der innere Repeater sowohl deklarativ als auch Programm gesteuert aufgefüllt wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-121">Our examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>

<span data-ttu-id="28e7a-122">[![jede Kategorie zusammen mit ihren Produkten aufgeführt.](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="28e7a-122">[![Each Category, Along with its Products, are Listed](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="28e7a-123">**Abbildung 1**: jede Kategorie wird zusammen mit ihren Produkten aufgelistet ([Klicken Sie, um das Bild in voller Größe anzuzeigen](nested-data-web-controls-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="28e7a-123">**Figure 1**: Each Category, Along with its Products, are Listed ([Click to view full-size image](nested-data-web-controls-cs/_static/image3.png))</span></span>

## <a name="step-1-creating-the-category-listing"></a><span data-ttu-id="28e7a-124">Schritt 1: Erstellen der Kategorienauflistung</span><span class="sxs-lookup"><span data-stu-id="28e7a-124">Step 1: Creating the Category Listing</span></span>

<span data-ttu-id="28e7a-125">Beim Erstellen einer Seite, die geschachtelte datenweb Steuerelemente verwendet, ist es hilfreich, zuerst das äußerste datenweb Steuerelement zu entwerfen, zu erstellen und zu testen, ohne sich um das innere geschachtelte Steuerelement Gedanken machen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-125">When building a page that uses nested data Web controls, I find it helpful to design, create, and test the outermost data Web control first, without even worrying about the inner nested control.</span></span> <span data-ttu-id="28e7a-126">Beginnen Sie daher mit den Schritten, die zum Hinzufügen eines Wiederholungs Moduls zur Seite erforderlich sind, das den Namen und die Beschreibung für jede Kategorie auflistet.</span><span class="sxs-lookup"><span data-stu-id="28e7a-126">Therefore, let s start by walking through the steps necessary to add a Repeater to the page that lists the name and description for each category.</span></span>

<span data-ttu-id="28e7a-127">Öffnen Sie zunächst die Seite `NestedControls.aspx` im Ordner `DataListRepeaterBasics`, und fügen Sie der Seite ein Repeater-Steuerelement hinzu. Legen Sie dessen `ID`-Eigenschaft auf `CategoryList`fest.</span><span class="sxs-lookup"><span data-stu-id="28e7a-127">Start by opening the `NestedControls.aspx` page in the `DataListRepeaterBasics` folder and add a Repeater control to the page, setting its `ID` property to `CategoryList`.</span></span> <span data-ttu-id="28e7a-128">Erstellen Sie im smarttagwiederholungs-Tag eine neue ObjectDataSource mit dem Namen `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="28e7a-128">From the Repeater s smart tag, choose to create a new ObjectDataSource named `CategoriesDataSource`.</span></span>

<span data-ttu-id="28e7a-129">[![den Namen der neuen ObjectDataSource kategoriesdatasource.](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="28e7a-129">[![Name the New ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span></span>

<span data-ttu-id="28e7a-130">**Abbildung 2**: Benennen der neuen ObjectDataSource-`CategoriesDataSource` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](nested-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="28e7a-130">**Figure 2**: Name the New ObjectDataSource `CategoriesDataSource` ([Click to view full-size image](nested-data-web-controls-cs/_static/image6.png))</span></span>

<span data-ttu-id="28e7a-131">Konfigurieren Sie die ObjectDataSource so, dass die Daten aus der `CategoriesBLL` Klasse `GetCategories` Methode abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-131">Configure the ObjectDataSource so that it pulls its data from the `CategoriesBLL` class s `GetCategories` method.</span></span>

<span data-ttu-id="28e7a-132">[![konfigurieren Sie die ObjectDataSource für die Verwendung der GetCategories-Methode der categoriesbll-Klasse.](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="28e7a-132">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories Method](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="28e7a-133">**Abbildung 3**: Konfigurieren von ObjectDataSource für die Verwendung der `CategoriesBLL` Class s `GetCategories`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](nested-data-web-controls-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="28e7a-133">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories` Method ([Click to view full-size image](nested-data-web-controls-cs/_static/image9.png))</span></span>

<span data-ttu-id="28e7a-134">Um den Inhalt der Repeater s-Vorlage anzugeben, müssen wir zur Quell Ansicht wechseln und die deklarative Syntax manuell eingeben.</span><span class="sxs-lookup"><span data-stu-id="28e7a-134">To specify the Repeater s template content we need to go to the Source view and manually enter the declarative syntax.</span></span> <span data-ttu-id="28e7a-135">Fügen Sie einen `ItemTemplate` hinzu, der den Name der Kategorie in einem `<h4>`-Element und die Beschreibung der Kategorie s in einem Absatz Element (`<p>`) anzeigt.</span><span class="sxs-lookup"><span data-stu-id="28e7a-135">Add an `ItemTemplate` that displays the category s name in an `<h4>` element and the category s description in a paragraph element (`<p>`).</span></span> <span data-ttu-id="28e7a-136">Außerdem trennen Sie jede Kategorie durch eine horizontale Regel (`<hr>`).</span><span class="sxs-lookup"><span data-stu-id="28e7a-136">Furthermore, let s separate each category with a horizontal rule (`<hr>`).</span></span> <span data-ttu-id="28e7a-137">Nachdem Sie diese Änderungen vorgenommen haben, sollte die Seite deklarative Syntax für das Repeater und das ObjectDataSource-Objekt enthalten, das in etwa wie folgt aussieht:</span><span class="sxs-lookup"><span data-stu-id="28e7a-137">After making these changes your page should contain declarative syntax for the Repeater and ObjectDataSource that is similar to the following:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="28e7a-138">Abbildung 4 zeigt den Fortschritt, wenn Sie in einem Browser angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-138">Figure 4 shows our progress when viewed through a browser.</span></span>

<span data-ttu-id="28e7a-139">[![werden die Namen und Beschreibungen der Kategorien durch eine horizontale Regel getrennt aufgeführt.](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="28e7a-139">[![Each Category s Name and Description is Listed, Separated by a Horizontal Rule](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span></span>

<span data-ttu-id="28e7a-140">**Abbildung 4**: der Name und die Beschreibung der Kategorien sind durch eine horizontale Regel getrennt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](nested-data-web-controls-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="28e7a-140">**Figure 4**: Each Category s Name and Description is Listed, Separated by a Horizontal Rule ([Click to view full-size image](nested-data-web-controls-cs/_static/image12.png))</span></span>

## <a name="step-2-adding-the-nested-product-repeater"></a><span data-ttu-id="28e7a-141">Schritt 2: Hinzufügen des aufgefügten Produkt Wiederholungs Moduls</span><span class="sxs-lookup"><span data-stu-id="28e7a-141">Step 2: Adding the Nested Product Repeater</span></span>

<span data-ttu-id="28e7a-142">Nachdem die Kategorienauflistung fertiggestellt wurde, besteht die nächste Aufgabe darin, der `CategoryList` s `ItemTemplate` einen Repeater hinzuzufügen, der Informationen zu den Produkten anzeigt, die zur entsprechenden Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="28e7a-142">With the category listing complete, our next task is to add a Repeater to the `CategoryList` s `ItemTemplate` that displays information about those products belonging to the appropriate category.</span></span> <span data-ttu-id="28e7a-143">Es gibt eine Reihe von Möglichkeiten, die Daten für diesen inneren Wiederholungs Modul abzurufen. zwei davon werden wir kurz untersuchen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-143">There are a number of ways we can retrieve the data for this inner Repeater, two of which we'll explore shortly.</span></span> <span data-ttu-id="28e7a-144">Erstellen Sie vorerst einfach die Produkt Wiederholung innerhalb der `CategoryList` Repeater s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="28e7a-144">For now, let s just create the products Repeater within the `CategoryList` Repeater s `ItemTemplate`.</span></span> <span data-ttu-id="28e7a-145">Mit dem Produkt Repeater werden alle Produkte in einer Auflistungs Liste angezeigt, einschließlich der Produktnamen und des Preises.</span><span class="sxs-lookup"><span data-stu-id="28e7a-145">Specifically, let s have the product Repeater display each product in a bulleted list with each list item including the product s name and price.</span></span>

<span data-ttu-id="28e7a-146">Um diesen Wiederholungs Modul zu erstellen, müssen Sie die deklarative Syntax und die Vorlagen für innere Wiederholungs-e manuell in die `CategoryList` s `ItemTemplate`eingeben.</span><span class="sxs-lookup"><span data-stu-id="28e7a-146">To create this Repeater we need to manually enter the inner Repeater s declarative syntax and templates into the `CategoryList` s `ItemTemplate`.</span></span> <span data-ttu-id="28e7a-147">Fügen Sie das folgende Markup innerhalb der `CategoryList` Repeater s `ItemTemplate`hinzu:</span><span class="sxs-lookup"><span data-stu-id="28e7a-147">Add the following markup within the `CategoryList` Repeater s `ItemTemplate`:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample2.aspx)]

## <a name="step-3-binding-the-category-specific-products-to-the-productsbycategorylist-repeater"></a><span data-ttu-id="28e7a-148">Schritt 3: Binden der kategoriespezifischen Produkte an productbycategorylist Repeater</span><span class="sxs-lookup"><span data-stu-id="28e7a-148">Step 3: Binding the Category-Specific Products to the ProductsByCategoryList Repeater</span></span>

<span data-ttu-id="28e7a-149">Wenn Sie die Seite zu diesem Zeitpunkt über einen Browser aufrufen, sieht Ihr Bildschirm wie in Abbildung 4 aus, da wir noch keine Daten an den Repeater binden müssen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-149">If you visit the page through a browser at this point, your screen will look the same as in Figure 4 because we ve yet to bind any data to the Repeater.</span></span> <span data-ttu-id="28e7a-150">Es gibt mehrere Möglichkeiten, die entsprechenden Produktdaten Sätze zu erfassen und an den Repeater zu binden, was effizienter als andere ist.</span><span class="sxs-lookup"><span data-stu-id="28e7a-150">There are a few ways that we can grab the appropriate product records and bind them to the Repeater, some more efficient than others.</span></span> <span data-ttu-id="28e7a-151">Die Hauptaufgabe besteht hier darin, die entsprechenden Produkte für die angegebene Kategorie zurückzukehren.</span><span class="sxs-lookup"><span data-stu-id="28e7a-151">The main challenge here is getting back the appropriate products for the specified category.</span></span>

<span data-ttu-id="28e7a-152">Auf die Daten, die an das innere Wiederholungs Steuerelement gebunden werden sollen, kann entweder deklarativ, über eine ObjectDataSource im `CategoryList` Repeater s `ItemTemplate`oder Programm gesteuert über die Code Behind-Seite der ASP.net page s zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-152">The data to bind to the inner Repeater control can either be accessed declaratively, through an ObjectDataSource in the `CategoryList` Repeater s `ItemTemplate`, or programmatically, from the ASP.NET page s code-behind page.</span></span> <span data-ttu-id="28e7a-153">Auf ähnliche Weise können diese Daten entweder deklarativ über die inneren Repeater s `DataSourceID`-Eigenschaft oder durch deklarative Datenbindung-Syntax oder Programm gesteuert durch Verweisen auf das innere Wiederholungs Modul im `CategoryList` Repeater-`ItemDataBound`-Ereignishandler gebunden werden, die `DataSource`-Eigenschaft Programm gesteuert festlegen und die `DataBind()`-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-153">Similarly, this data can be bound to the inner Repeater either declaratively - through the inner Repeater s `DataSourceID` property or through declarative databinding syntax or programmatically by referencing the inner Repeater in the `CategoryList` Repeater s `ItemDataBound` event handler, programmatically setting its `DataSource` property, and calling its `DataBind()` method.</span></span> <span data-ttu-id="28e7a-154">Untersuchen Sie die einzelnen Ansätze.</span><span class="sxs-lookup"><span data-stu-id="28e7a-154">Let s explore each of these approaches.</span></span>

## <a name="accessing-the-data-declaratively-with-an-objectdatasource-control-and-theitemdataboundevent-handler"></a><span data-ttu-id="28e7a-155">Deklaratives zugreifen auf die Daten mit einem ObjectDataSource-Steuerelement und dem`ItemDataBound`-Ereignis Handler</span><span class="sxs-lookup"><span data-stu-id="28e7a-155">Accessing the Data Declaratively with an ObjectDataSource Control and the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="28e7a-156">Da wir die ObjectDataSource ausgiebig in dieser tutorialreihe verwendet haben, ist die natürlichste Wahl für den Datenzugriff für dieses Beispiel die Verwendung von ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="28e7a-156">Since we ve used the ObjectDataSource extensively throughout this tutorial series, the most natural choice for accessing data for this example is to stick with the ObjectDataSource.</span></span> <span data-ttu-id="28e7a-157">Die `ProductsBLL`-Klasse verfügt über eine `GetProductsByCategoryID(categoryID)`-Methode, die Informationen zu den Produkten zurückgibt, die zum angegebenen *`categoryID`* gehören.</span><span class="sxs-lookup"><span data-stu-id="28e7a-157">The `ProductsBLL` class has a `GetProductsByCategoryID(categoryID)` method that returns information about those products that belong to the specified *`categoryID`*.</span></span> <span data-ttu-id="28e7a-158">Daher können wir eine ObjectDataSource zum `CategoryList` Repeater s-`ItemTemplate` hinzufügen und diese so konfigurieren, dass Sie über diese Klassen-Methode auf Ihre Daten zugreift.</span><span class="sxs-lookup"><span data-stu-id="28e7a-158">Therefore, we can add an ObjectDataSource to the `CategoryList` Repeater s `ItemTemplate` and configure it to access its data from this class s method.</span></span>

<span data-ttu-id="28e7a-159">Leider lässt der Repeater nicht zu, dass seine Vorlagen über die Designansicht bearbeitet werden, sodass wir die deklarative Syntax für dieses ObjectDataSource-Steuerelement per Hand hinzufügen müssen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-159">Unfortunately, the Repeater doesn t allow its templates to be edited through the Design view so we need to add the declarative syntax for this ObjectDataSource control by hand.</span></span> <span data-ttu-id="28e7a-160">Die folgende Syntax zeigt die `CategoryList` Repeater s `ItemTemplate` nach dem Hinzufügen dieser neuen ObjectDataSource (`ProductsByCategoryDataSource`):</span><span class="sxs-lookup"><span data-stu-id="28e7a-160">The following syntax shows the `CategoryList` Repeater s `ItemTemplate` after adding this new ObjectDataSource (`ProductsByCategoryDataSource`):</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample3.aspx)]

<span data-ttu-id="28e7a-161">Wenn Sie den ObjectDataSource-Ansatz verwenden, müssen wir die `ProductsByCategoryList` Repeater s `DataSourceID`-Eigenschaft auf die `ID` von ObjectDataSource (`ProductsByCategoryDataSource`) festlegen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-161">When using the ObjectDataSource approach we need to set the `ProductsByCategoryList` Repeater s `DataSourceID` property to the `ID` of the ObjectDataSource (`ProductsByCategoryDataSource`).</span></span> <span data-ttu-id="28e7a-162">Beachten Sie auch, dass unsere ObjectDataSource über ein `<asp:Parameter>`-Element verfügt, das den *`categoryID`* Wert angibt, der an die `GetProductsByCategoryID(categoryID)`-Methode übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-162">Also, notice that our ObjectDataSource has an `<asp:Parameter>` element that specifies the *`categoryID`* value that will be passed into the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="28e7a-163">Aber wie geben wir diesen Wert an?</span><span class="sxs-lookup"><span data-stu-id="28e7a-163">But how do we specify this value?</span></span> <span data-ttu-id="28e7a-164">Im Idealfall kann die `DefaultValue`-Eigenschaft des `<asp:Parameter>`-Elements einfach mithilfe der Datenbindung-Syntax wie folgt festgelegt werden:</span><span class="sxs-lookup"><span data-stu-id="28e7a-164">Ideally, we d be able to just set the `DefaultValue` property of the `<asp:Parameter>` element using databinding syntax, like so:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="28e7a-165">Leider ist die Datenbindung-Syntax nur in Steuerelementen gültig, die über ein `DataBinding` Ereignis verfügen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-165">Unfortunately, databinding syntax is only valid in controls that have a `DataBinding` event.</span></span> <span data-ttu-id="28e7a-166">Die `Parameter`-Klasse verfügt nicht über ein derartiges Ereignis, daher ist die obige Syntax unzulässig und führt zu einem Laufzeitfehler.</span><span class="sxs-lookup"><span data-stu-id="28e7a-166">The `Parameter` class lacks such an event and therefore the above syntax is illegal and will result in a runtime error.</span></span>

<span data-ttu-id="28e7a-167">Um diesen Wert festzulegen, müssen wir einen Ereignishandler für das `CategoryList` Repeater s `ItemDataBound`-Ereignis erstellen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-167">To set this value, we need to create an event handler for the `CategoryList` Repeater s `ItemDataBound` event.</span></span> <span data-ttu-id="28e7a-168">Beachten Sie, dass das `ItemDataBound`-Ereignis einmal für jedes an den Repeater gebundene Element ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-168">Recall that the `ItemDataBound` event fires once for each item bound to the Repeater.</span></span> <span data-ttu-id="28e7a-169">Daher können Sie jedes Mal, wenn dieses Ereignis für die äußere Wiederholung ausgelöst wird, den aktuellen `CategoryID` Wert dem `ProductsByCategoryDataSource` ObjectDataSource s-`CategoryID`-Parameter zuweisen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-169">Therefore, each time this event fires for the outer Repeater we can assign the current `CategoryID` value to the `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parameter.</span></span>

<span data-ttu-id="28e7a-170">Erstellen Sie mit folgendem Code einen Ereignishandler für das `CategoryList` Repeater s `ItemDataBound`-Ereignis:</span><span class="sxs-lookup"><span data-stu-id="28e7a-170">Create an event handler for the `CategoryList` Repeater s `ItemDataBound` event with the following code:</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample5.cs)]

<span data-ttu-id="28e7a-171">Mit diesem Ereignishandler wird zunächst sichergestellt, dass wir mit einem Datenelement, nicht mit dem Header-, Fußzeilen-oder Trennzeichen Element, erneut arbeiten.</span><span class="sxs-lookup"><span data-stu-id="28e7a-171">This event handler starts by ensuring that we re dealing with a data item rather than the header, footer, or separator item.</span></span> <span data-ttu-id="28e7a-172">Als Nächstes verweisen wir auf die tatsächliche `CategoriesRow`-Instanz, die gerade an die aktuelle `RepeaterItem`gebunden wurde.</span><span class="sxs-lookup"><span data-stu-id="28e7a-172">Next, we reference the actual `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="28e7a-173">Schließlich verweisen wir auf die ObjectDataSource im `ItemTemplate` und weisen den Wert des `CategoryID`-Parameters dem `CategoryID` der aktuellen `RepeaterItem`zu.</span><span class="sxs-lookup"><span data-stu-id="28e7a-173">Finally, we reference the ObjectDataSource in the `ItemTemplate` and assign its `CategoryID` parameter value to the `CategoryID` of the current `RepeaterItem`.</span></span>

<span data-ttu-id="28e7a-174">Mit diesem Ereignishandler wird der `ProductsByCategoryList` Repeater in jeder `RepeaterItem` an diese Produkte in der Kategorie `RepeaterItem` s gebunden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-174">With this event handler, the `ProductsByCategoryList` Repeater in each `RepeaterItem` is bound to those products in the `RepeaterItem` s category.</span></span> <span data-ttu-id="28e7a-175">Abbildung 5 zeigt einen Screenshot der resultierenden Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="28e7a-175">Figure 5 shows a screen shot of the resulting output.</span></span>

<span data-ttu-id="28e7a-176">[![der äußere Repeater jede Kategorie auflistet. der innere Abschnitt listet die Produkte für diese Kategorie auf.](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="28e7a-176">[![The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="28e7a-177">**Abbildung 5**: der äußere Repeater listet jede Kategorie auf. die innere Liste listet die Produkte für diese Kategorie auf ([Klicken Sie, um das Bild in voller Größe anzuzeigen](nested-data-web-controls-cs/_static/image15.png)).</span><span class="sxs-lookup"><span data-stu-id="28e7a-177">**Figure 5**: The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category ([Click to view full-size image](nested-data-web-controls-cs/_static/image15.png))</span></span>

## <a name="accessing-the-products-by-category-data-programmatically"></a><span data-ttu-id="28e7a-178">Programm gesteuertes zugreifen auf die Produkte nach Kategoriedaten</span><span class="sxs-lookup"><span data-stu-id="28e7a-178">Accessing the Products by Category Data Programmatically</span></span>

<span data-ttu-id="28e7a-179">Anstatt eine ObjectDataSource zum Abrufen der Produkte für die aktuelle Kategorie zu verwenden, könnten wir eine Methode in der Code Behind-Klasse der ASP.net page s (oder im Ordner "`App_Code`" oder in einem separaten Klassen Bibliotheksprojekt) erstellen, die den passenden Satz von Produkten zurückgibt, wenn Sie in einem `CategoryID`übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-179">Instead of using an ObjectDataSource to retrieve the products for the current category, we could create a method in our ASP.NET page s code-behind class (or in the `App_Code` folder or in a separate Class Library project) that returns the appropriate set of products when passed in a `CategoryID`.</span></span> <span data-ttu-id="28e7a-180">Stellen Sie sich vor, dass wir eine solche Methode in der Code Behind-Klasse der ASP.net page s haben und dass Sie den Namen `GetProductsInCategory(categoryID)`hat.</span><span class="sxs-lookup"><span data-stu-id="28e7a-180">Imagine that we had such a method in our ASP.NET page s code-behind class and that it was named `GetProductsInCategory(categoryID)`.</span></span> <span data-ttu-id="28e7a-181">Mit dieser Methode könnten wir die Produkte für die aktuelle Kategorie mit der folgenden deklarativen Syntax an die innere Wiederholung binden:</span><span class="sxs-lookup"><span data-stu-id="28e7a-181">With this method in place we could bind the products for the current category to the inner Repeater using the following declarative syntax:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample6.aspx)]

<span data-ttu-id="28e7a-182">Die Repeater s `DataSource`-Eigenschaft verwendet die Datenbindung-Syntax, um anzugeben, dass die Daten aus der `GetProductsInCategory(categoryID)`-Methode stammen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-182">The Repeater s `DataSource` property uses the databinding syntax to indicate that its data comes from the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="28e7a-183">Da `Eval("CategoryID")` einen Wert vom Typ `Object`zurückgibt, wandeln wir das Objekt in eine `Integer` um, bevor es an die `GetProductsInCategory(categoryID)`-Methode übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-183">Since `Eval("CategoryID")` returns a value of type `Object`, we cast the object to an `Integer` before passing it into the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="28e7a-184">Beachten Sie, dass die `CategoryID`, auf die über die Datenbindung-Syntax zugegriffen wird, die `CategoryID` im *äußeren* Repeater (`CategoryList`) ist, die an die Datensätze in der `Categories` Tabelle gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="28e7a-184">Note that the `CategoryID` accessed here via the databinding syntax is the `CategoryID` in the *outer* Repeater (`CategoryList`), the one that s bound to the records in the `Categories` table.</span></span> <span data-ttu-id="28e7a-185">Aus diesem Grundwissen wir, dass `CategoryID` kein Daten Bank `NULL` Wert sein kann. aus diesem Grund können wir die `Eval`-Methode Blind umwandeln, ohne zu überprüfen, ob wir uns mit einer `DBNull`befassen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-185">Therefore, we know that `CategoryID` cannot be a database `NULL` value, which is why we can blindly cast the `Eval` method without checking if we re dealing with a `DBNull`.</span></span>

<span data-ttu-id="28e7a-186">Bei diesem Ansatz müssen wir die `GetProductsInCategory(categoryID)`-Methode erstellen und den entsprechenden Satz von Produkten abrufen lassen, wenn der bereitgestellte *`categoryID`* ist.</span><span class="sxs-lookup"><span data-stu-id="28e7a-186">With this approach, we need to create the `GetProductsInCategory(categoryID)` method and have it retrieve the appropriate set of products given the supplied *`categoryID`*.</span></span> <span data-ttu-id="28e7a-187">Hierfür können Sie einfach die `ProductsDataTable` zurückgeben, die von der `ProductsBLL` Class s `GetProductsByCategoryID(categoryID)`-Methode zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-187">We can do this by simply returning the `ProductsDataTable` returned by the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="28e7a-188">Erstellen Sie die `GetProductsInCategory(categoryID)`-Methode in der Code Behind-Klasse für unsere `NestedControls.aspx` Seite.</span><span class="sxs-lookup"><span data-stu-id="28e7a-188">Let s create the `GetProductsInCategory(categoryID)` method in the code-behind class for our `NestedControls.aspx` page.</span></span> <span data-ttu-id="28e7a-189">Verwenden Sie hierzu den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="28e7a-189">Do so using the following code:</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="28e7a-190">Diese Methode erstellt einfach eine Instanz der `ProductsBLL`-Methode und gibt die Ergebnisse der `GetProductsByCategoryID(categoryID)`-Methode zurück.</span><span class="sxs-lookup"><span data-stu-id="28e7a-190">This method simply creates an instance of the `ProductsBLL` method and returns the results of the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="28e7a-191">Beachten Sie, dass die Methode als `Public` oder `Protected`markiert werden muss. Wenn die Methode als `Private`gekennzeichnet ist, kann nicht vom deklarativen Markup der ASP.NET-Seite aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-191">Note that the method must be marked `Public` or `Protected`; if the method is marked `Private`, it will not be accessible from the ASP.NET page s declarative markup.</span></span>

<span data-ttu-id="28e7a-192">Nachdem Sie diese Änderungen vorgenommen haben, um diese neue Technik zu verwenden, nehmen Sie sich einen Moment Zeit, um die Seite über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-192">After making these changes to use this new technique, take a moment to view the page through a browser.</span></span> <span data-ttu-id="28e7a-193">Die Ausgabe sollte mit der Ausgabe identisch sein, wenn der ObjectDataSource-und `ItemDataBound`-ereignishandleransatz verwendet wird (siehe Abbildung 5, um einen Screenshot anzuzeigen).</span><span class="sxs-lookup"><span data-stu-id="28e7a-193">The output should be identical to the output when using the ObjectDataSource and `ItemDataBound` event handler approach (refer back to Figure 5 to see a screen shot).</span></span>

> [!NOTE]
> <span data-ttu-id="28e7a-194">Es mag so aussehen, als ob helpdeskrechnungen die `GetProductsInCategory(categoryID)` Methode in der Code Behind-Klasse der ASP.net page s erstellt.</span><span class="sxs-lookup"><span data-stu-id="28e7a-194">It may seem like busywork to create the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="28e7a-195">Schließlich erstellt diese Methode einfach eine Instanz der `ProductsBLL`-Klasse und gibt die Ergebnisse ihrer `GetProductsByCategoryID(categoryID)`-Methode zurück.</span><span class="sxs-lookup"><span data-stu-id="28e7a-195">After all, this method simply creates an instance of the `ProductsBLL` class and returns the results of its `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="28e7a-196">Warum wird diese Methode nicht einfach direkt aus der Datenbindung-Syntax im Inneren Repeater aufgerufen, wie: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span><span class="sxs-lookup"><span data-stu-id="28e7a-196">Why not just call this method directly from the databinding syntax in the inner Repeater, like: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span></span> <span data-ttu-id="28e7a-197">Obwohl diese Syntax nicht mit der aktuellen Implementierung der `ProductsBLL`-Klasse funktioniert (da die `GetProductsByCategoryID(categoryID)`-Methode eine Instanzmethode ist), können Sie `ProductsBLL` ändern, um eine statische `GetProductsByCategoryID(categoryID)`-Methode einzuschließen, oder die Klasse muss eine statische `Instance()` Methode enthalten, um eine neue Instanz der `ProductsBLL`-Klasse zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="28e7a-197">Although this syntax won't work with our current implementation of the `ProductsBLL` class (since the `GetProductsByCategoryID(categoryID)` method is an instance method), you could modify `ProductsBLL` to include a static `GetProductsByCategoryID(categoryID)` method or have the class include a static `Instance()` method to return a new instance of the `ProductsBLL` class.</span></span>

<span data-ttu-id="28e7a-198">Obwohl solche Änderungen die `GetProductsInCategory(categoryID)` Methode in der Code Behind-Klasse der ASP.NET-Seite nicht benötigen, bietet die Code Behind-Klassenmethode mehr Flexibilität bei der Arbeit mit den abgerufenen Daten, wie wir in Kürze sehen werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-198">While such modifications would eliminate the need for the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class, the code-behind class method gives us more flexibility in working with the data retrieved, as we'll see shortly.</span></span>

## <a name="retrieving-all-of-the-product-information-at-once"></a><span data-ttu-id="28e7a-199">Abrufen aller Produktinformationen auf einmal</span><span class="sxs-lookup"><span data-stu-id="28e7a-199">Retrieving All of the Product Information at Once</span></span>

<span data-ttu-id="28e7a-200">Die zwei von uns erprüften Verfahren untersuchen diese Produkte für die aktuelle Kategorie, indem Sie die `ProductsBLL` Klasse s `GetProductsByCategoryID(categoryID)` Methode aufrufen (der erste Ansatz hat dies durch eine ObjectDataSource erzielt, die zweite durch die `GetProductsInCategory(categoryID)`-Methode in der Code Behind-Klasse).</span><span class="sxs-lookup"><span data-stu-id="28e7a-200">The two pervious techniques we ve examined grab those products for the current category by making a call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method (the first approach did so through an ObjectDataSource, the second through the `GetProductsInCategory(categoryID)` method in the code-behind class).</span></span> <span data-ttu-id="28e7a-201">Jedes Mal, wenn diese Methode aufgerufen wird, ruft die Geschäftslogik Schicht die Datenzugriffs Ebene ab, die die Datenbank mit einer SQL-Anweisung abfragt, die Zeilen aus der `Products` Tabelle zurückgibt, deren `CategoryID` Feld mit dem angegebenen Eingabeparameter übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="28e7a-201">Each time this method is invoked, the Business Logic Layer calls down to the Data Access Layer, which queries the database with a SQL statement that returns rows from the `Products` table whose `CategoryID` field matches the supplied input parameter.</span></span>

<span data-ttu-id="28e7a-202">Bei *n* Kategorien im System sind bei diesem Ansatz *n* + 1 Aufrufe der Datenbank eine Datenbankabfrage, um alle Kategorien zu erhalten, und dann *n* Aufrufe, um die für jede Kategorie spezifischen Produkte zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="28e7a-202">Given *N* categories in the system, this approach nets *N* + 1 calls to the database one database query to get all of the categories and then *N* calls to get the products specific to each category.</span></span> <span data-ttu-id="28e7a-203">Wir können jedoch alle benötigten Daten in nur zwei Daten Bank aufrufen abrufen, indem wir einen Aufruf zum Abrufen aller Kategorien und einen anderen abrufen, um alle Produkte zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="28e7a-203">We can, however, retrieve all the needed data in just two database calls one call to get all of the categories and another to get all of the products.</span></span> <span data-ttu-id="28e7a-204">Wenn alle Produkte vorhanden sind, können wir diese Produkte so filtern, dass nur die Produkte, die mit der aktuellen `CategoryID` übereinstimmen, an die innere Wiederholung der Kategorie gebunden sind.</span><span class="sxs-lookup"><span data-stu-id="28e7a-204">Once we have all of the products, we can filter those products so that only the products matching the current `CategoryID` are bound to that category s inner Repeater.</span></span>

<span data-ttu-id="28e7a-205">Um diese Funktionalität bereitzustellen, müssen wir nur geringfügige Änderungen an der `GetProductsInCategory(categoryID)`-Methode in der Code Behind-Klasse der ASP.net page s vornehmen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-205">To provide this functionality, we only need to make a slight modification to the `GetProductsInCategory(categoryID)` method in our ASP.NET page s code-behind class.</span></span> <span data-ttu-id="28e7a-206">Anstatt die Ergebnisse der `ProductsBLL` Class s `GetProductsByCategoryID(categoryID)`-Methode zurückzugeben, können wir stattdessen zuerst auf *alle* Produkte zugreifen (sofern noch nicht darauf zugegriffen wurde) und dann nur die gefilterte Ansicht der Produkte zurückgeben, die auf dem weiter gegebenen `CategoryID`basiert.</span><span class="sxs-lookup"><span data-stu-id="28e7a-206">Rather than blindly returning the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method, we can instead first access *all* of the products (if they haven't been accessed already) and then return just the filtered view of the products based on the passed-in `CategoryID`.</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample8.cs)]

<span data-ttu-id="28e7a-207">Beachten Sie das Hinzufügen der Variablen auf Seitenebene, `allProducts`.</span><span class="sxs-lookup"><span data-stu-id="28e7a-207">Note the addition of the page-level variable, `allProducts`.</span></span> <span data-ttu-id="28e7a-208">Diese enthält Informationen zu allen Produkten und wird beim ersten Aufruf der `GetProductsInCategory(categoryID)`-Methode aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="28e7a-208">This holds information about all of the products and is populated the first time the `GetProductsInCategory(categoryID)` method is invoked.</span></span> <span data-ttu-id="28e7a-209">Nachdem sichergestellt wurde, dass das `allProducts` Objekt erstellt und aufgefüllt wurde, filtert die-Methode die Ergebnisse der Datentabelle, sodass nur die Zeilen, deren `CategoryID` mit dem angegebenen `CategoryID` übereinstimmen, zugänglich sind.</span><span class="sxs-lookup"><span data-stu-id="28e7a-209">After ensuring that the `allProducts` object has been created and populated, the method filters the DataTable s results such that only those rows whose `CategoryID` matches the specified `CategoryID` are accessible.</span></span> <span data-ttu-id="28e7a-210">Diese Vorgehensweise verringert die Häufigkeit, mit der der Zugriff auf die Datenbank von *N* + 1 auf zwei reduziert wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-210">This approach reduces the number of times the database is accessed from *N* + 1 down to two.</span></span>

<span data-ttu-id="28e7a-211">Durch diese Erweiterung werden keine Änderungen am gerenderten Markup der Seite eingeführt, und es werden weniger Datensätze als bei der anderen Methode zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="28e7a-211">This enhancement does not introduce any change to the rendered markup of the page, nor does it bring back fewer records than the other approach.</span></span> <span data-ttu-id="28e7a-212">Die Anzahl der Aufrufe der Datenbank wird einfach reduziert.</span><span class="sxs-lookup"><span data-stu-id="28e7a-212">It simply reduces the number of calls to the database.</span></span>

> [!NOTE]
> <span data-ttu-id="28e7a-213">Dies kann intuitiv daran liegen, dass durch das Reduzieren der Anzahl von Daten Bank Zugriffen die Leistung ordnungsgemäß verbessert wird.</span><span class="sxs-lookup"><span data-stu-id="28e7a-213">One might intuitively reason that reducing the number of database accesses would assuredly improve performance.</span></span> <span data-ttu-id="28e7a-214">Dies ist jedoch möglicherweise nicht der Fall.</span><span class="sxs-lookup"><span data-stu-id="28e7a-214">However, this might not be the case.</span></span> <span data-ttu-id="28e7a-215">Wenn Sie über eine große Anzahl von Produkten verfügen, deren `CategoryID` z. b. `NULL`ist, gibt der-Befehl der `GetProducts`-Methode eine Reihe von Produkten zurück, die nie angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-215">If you have a large number of products whose `CategoryID` is `NULL`, for example, then the call to the `GetProducts` method returns a number of products that are never displayed.</span></span> <span data-ttu-id="28e7a-216">Außerdem kann das Zurückgeben aller Produkte verschwenderisch sein, wenn Sie nur eine Teilmenge der Kategorien anzeigt. Dies kann der Fall sein, wenn Sie Paging implementiert haben.</span><span class="sxs-lookup"><span data-stu-id="28e7a-216">Moreover, returning all of the products can be wasteful if you re only showing a subset of the categories, which might be the case if you have implemented paging.</span></span>

<span data-ttu-id="28e7a-217">Wie immer, wenn es um die Analyse der Leistung von zwei Techniken geht, besteht das einzige Surefire-Measure darin, gesteuerte Tests auszuführen, die auf gängige Fallszenarien Ihrer Anwendung zugeschnitten sind.</span><span class="sxs-lookup"><span data-stu-id="28e7a-217">As always, when it comes to analyzing the performance of two techniques, the only surefire measure is to run controlled tests tailored for your application s common case scenarios.</span></span>

## <a name="summary"></a><span data-ttu-id="28e7a-218">Summary</span><span class="sxs-lookup"><span data-stu-id="28e7a-218">Summary</span></span>

<span data-ttu-id="28e7a-219">In diesem Tutorial haben Sie erfahren, wie Sie ein datenweb Steuerelement in einem anderen schachteln können. dabei wird erläutert, wie ein äußerer Repeater ein Element für jede Kategorie mit einem inneren Repeater anzeigt, in dem die Produkte für jede Kategorie in einer Auflistungs Liste aufgelistet werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-219">In this tutorial we saw how to nest one data Web control within another, specifically examining how to have an outer Repeater display an item for each category with an inner Repeater listing the products for each category in a bulleted list.</span></span> <span data-ttu-id="28e7a-220">Die größte Herausforderung beim Aufbau einer geschachtelten Benutzeroberfläche besteht darin, auf die richtigen Daten zuzugreifen und diese an das innere datenweb Steuerelement zu binden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-220">The main challenge in building a nested user interface lies in accessing and binding the correct data to the inner data Web control.</span></span> <span data-ttu-id="28e7a-221">Es stehen eine Vielzahl von Techniken zur Verfügung, von denen zwei in diesem Tutorial untersucht wurden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-221">There are a variety of techniques available, two of which we examined in this tutorial.</span></span> <span data-ttu-id="28e7a-222">Der erste Ansatz, der untersucht wurde, verwendete ObjectDataSource im Outer Data Web Control s-`ItemTemplate`, das über seine `DataSourceID`-Eigenschaft an das innere Daten-websteuer Element gebunden war.</span><span class="sxs-lookup"><span data-stu-id="28e7a-222">The first approach examined used an ObjectDataSource in the outer data Web control s `ItemTemplate` that was bound to the inner data Web control through its `DataSourceID` property.</span></span> <span data-ttu-id="28e7a-223">Das zweite Verfahren hat über eine Methode in der Code Behind-Klasse der ASP.NET-Seite auf die Daten zugegriffen.</span><span class="sxs-lookup"><span data-stu-id="28e7a-223">The second technique accessed the data via a method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="28e7a-224">Diese Methode kann dann über die Datenbindung-Syntax an die `DataSource` Eigenschaft des inneren Daten-websteuer Elements gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-224">This method can then be bound to the inner data Web control s `DataSource` property through databinding syntax.</span></span>

<span data-ttu-id="28e7a-225">Obwohl die geschachtelte Benutzeroberfläche, die in diesem Tutorial überprüft wurde, einen Repeater verwendet hat, der in einem Repeater geschachtelt ist, können diese Techniken auf die anderen datenweb Steuerelemente erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="28e7a-225">While the nested user interface examined in this tutorial used a Repeater nested within a Repeater, these techniques can be extended to the other data Web controls.</span></span> <span data-ttu-id="28e7a-226">Sie können einen Repeater innerhalb einer GridView oder einer GridView innerhalb eines DataList Schachteln usw.</span><span class="sxs-lookup"><span data-stu-id="28e7a-226">You can nest a Repeater within a GridView, or a GridView within a DataList, and so on.</span></span>

<span data-ttu-id="28e7a-227">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="28e7a-227">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="28e7a-228">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="28e7a-228">About the Author</span></span>

<span data-ttu-id="28e7a-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="28e7a-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="28e7a-230">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="28e7a-230">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="28e7a-231">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="28e7a-231">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="28e7a-232">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="28e7a-232">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="28e7a-233">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="28e7a-233">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="28e7a-234">Besonders vielen Dank</span><span class="sxs-lookup"><span data-stu-id="28e7a-234">Special Thanks To</span></span>

<span data-ttu-id="28e7a-235">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="28e7a-235">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="28e7a-236">Führende Prüfer für dieses Tutorial waren Zack Jones und Liz shulok.</span><span class="sxs-lookup"><span data-stu-id="28e7a-236">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="28e7a-237">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="28e7a-237">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="28e7a-238">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="28e7a-238">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="28e7a-239">[Zurück](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
> [Weiter](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span><span class="sxs-lookup"><span data-stu-id="28e7a-239">[Previous](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[Next](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span></span>
