---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-cs
title: Eine Übersicht über das Bearbeiten und Löschen von Daten im DataListC#-Steuerelemente () | Microsoft-Dokumentation
author: rick-anderson
description: Während dem DataList die integrierten Funktionen zum Bearbeiten und löschen fehlen, sehen Sie in diesem Tutorial, wie Sie einen DataList erstellen, der das Bearbeiten und Löschen von o... unterstützt.
ms.author: riande
ms.date: 10/30/2006
ms.assetid: c3b0c86e-fe98-41ee-b26f-ca38cddaa75e
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 481c9a14b1ebfe36ffcddd0237701bc04266e393
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74629537"
---
# <a name="an-overview-of-editing-and-deleting-data-in-the-datalist-c"></a><span data-ttu-id="1ce96-103">Eine Übersicht über das Bearbeiten und Löschen von Daten im DataListC#-Steuerelemente ()</span><span class="sxs-lookup"><span data-stu-id="1ce96-103">An Overview of Editing and Deleting Data in the DataList (C#)</span></span>

<span data-ttu-id="1ce96-104">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1ce96-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1ce96-105">[Beispiel-app herunterladen](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_36_CS.exe) oder [PDF herunterladen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/datatutorial36cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="1ce96-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_36_CS.exe) or [Download PDF](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/datatutorial36cs1.pdf)</span></span>

> <span data-ttu-id="1ce96-106">Während dem DataList die integrierten Funktionen zum Bearbeiten und löschen fehlen, sehen Sie in diesem Tutorial, wie Sie einen DataList erstellen, der das Bearbeiten und löschen seiner zugrunde liegenden Daten unterstützt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-106">While the DataList lacks built-in editing and deleting capabilities, in this tutorial we'll see how to create a DataList that supports editing and deleting of its underlying data.</span></span>

## <a name="introduction"></a><span data-ttu-id="1ce96-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="1ce96-107">Introduction</span></span>

<span data-ttu-id="1ce96-108">In der [Übersicht über das Einfügen, aktualisieren und Löschen von Daten](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) haben wir uns mit dem Einfügen, aktualisieren und Löschen von Daten mit der Anwendungsarchitektur, einem ObjectDataSource-Steuerelement und dem GridView-, DetailsView-und FormView-Steuerelement beschäftigt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-108">In the [An Overview of Inserting, Updating, and Deleting Data](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) tutorial we looked at how to insert, update, and delete data using the application architecture, an ObjectDataSource, and the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="1ce96-109">Mit dem ObjectDataSource-Steuerelement und diesen drei datenweb-Steuerelementen war das Implementieren von Schnittstellen für die einfache Datenänderung ein Snap-in, das nur ein Kontrollkästchen von einem Smarttags</span><span class="sxs-lookup"><span data-stu-id="1ce96-109">With the ObjectDataSource and these three data Web controls, implementing simple data modification interfaces was a snap and involved merely ticking a checkbox from a smart tag.</span></span> <span data-ttu-id="1ce96-110">Es muss kein Code geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-110">No code needed to be written.</span></span>

<span data-ttu-id="1ce96-111">Leider fehlen dem DataList die integrierten Funktionen zum Bearbeiten und löschen, die im GridView-Steuerelement enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="1ce96-111">Unfortunately, the DataList lacks the built-in editing and deleting capabilities inherent in the GridView control.</span></span> <span data-ttu-id="1ce96-112">Diese fehlende Funktion ist Teil der Tatsache, dass der DataList ein Relic aus der früheren Version von ASP.net ist, wenn deklarative Datenquellen-Steuerelemente und Code freie Daten Änderungs Seiten nicht verfügbar waren.</span><span class="sxs-lookup"><span data-stu-id="1ce96-112">This missing functionality is due in part to the fact that the DataList is a relic from the previous version of ASP.NET, when declarative data source controls and code-free data modification pages were unavailable.</span></span> <span data-ttu-id="1ce96-113">Obwohl der DataList in ASP.NET 2,0 nicht die gleichen Funktionen für die Datenänderung bietet wie die GridView, können wir ASP.NET 1. x-Techniken verwenden, um solche Funktionen einzubeziehen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-113">While the DataList in ASP.NET 2.0 does not offer the same out of the box data modification capabilities as the GridView, we can use ASP.NET 1.x techniques to include such functionality.</span></span> <span data-ttu-id="1ce96-114">Diese Vorgehensweise erfordert etwas Code, aber wie in diesem Tutorial zu sehen ist, enthält der DataList einige Ereignisse und Eigenschaften, die zur Unterstützung dieses Prozesses vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="1ce96-114">This approach requires a bit of code but, as we'll see in this tutorial, the DataList has some events and properties in place to aid in this process.</span></span>

<span data-ttu-id="1ce96-115">In diesem Lernprogramm erfahren Sie, wie Sie einen DataList erstellen, der das Bearbeiten und Löschen der zugrunde liegenden Daten unterstützt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-115">In this tutorial we'll see how to create a DataList that supports editing and deleting of its underlying data.</span></span> <span data-ttu-id="1ce96-116">In zukünftigen Tutorials werden erweiterte Bearbeitungs-und Lösch Szenarien, einschließlich der Überprüfung des Eingabe Felds, die ordnungsgemäße Behandlung von Ausnahmen, die von den Datenzugriffs-oder Geschäftslogik Schichten ausgelöst werden, und so weiter untersucht.</span><span class="sxs-lookup"><span data-stu-id="1ce96-116">Future tutorials will examine more advanced editing and deleting scenarios, including input field validation, gracefully handling exceptions raised from the Data Access or Business Logic Layers, and so on.</span></span>

> [!NOTE]
> <span data-ttu-id="1ce96-117">Wie das DataList-Steuerelement fehlen dem Repeater-Steuerelement die Standardfunktionen für das Einfügen, aktualisieren oder löschen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-117">Like the DataList, the Repeater control lacks the out of the box functionality for inserting, updating, or deleting.</span></span> <span data-ttu-id="1ce96-118">Obwohl diese Funktionalität hinzugefügt werden kann, enthält der DataList Eigenschaften und Ereignisse, die im Wiederholungs Modul nicht gefunden wurden und das Hinzufügen solcher Funktionen vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-118">While such functionality can be added, the DataList includes properties and events not found in the Repeater that simplify adding such capabilities.</span></span> <span data-ttu-id="1ce96-119">Dieses Lernprogramm und zukünftige Elemente, die sich mit dem Bearbeiten und löschen befassen, konzentrieren sich daher ausschließlich auf den DataList.</span><span class="sxs-lookup"><span data-stu-id="1ce96-119">Therefore, this tutorial and future ones that look at editing and deleting will focus strictly on the DataList.</span></span>

## <a name="step-1-creating-the-editing-and-deleting-tutorials-web-pages"></a><span data-ttu-id="1ce96-120">Schritt 1: Erstellen der Webseiten zum Bearbeiten und Löschen von Tutorials</span><span class="sxs-lookup"><span data-stu-id="1ce96-120">Step 1: Creating the Editing and Deleting Tutorials Web Pages</span></span>

<span data-ttu-id="1ce96-121">Bevor wir uns mit dem Aktualisieren und Löschen von Daten aus einem DataList beschäftigen, nehmen Sie sich zunächst einen Moment Zeit, um die ASP.NET-Seiten in unserem Website Projekt zu erstellen, die wir für dieses Tutorial benötigen, und die nächsten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-121">Before we start exploring how to update and delete data from a DataList, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="1ce96-122">Fügen Sie zunächst einen neuen Ordner mit dem Namen `EditDeleteDataList`hinzu.</span><span class="sxs-lookup"><span data-stu-id="1ce96-122">Start by adding a new folder named `EditDeleteDataList`.</span></span> <span data-ttu-id="1ce96-123">Fügen Sie dann die folgenden ASP.NET-Seiten zu diesem Ordner hinzu, und stellen Sie sicher, dass Sie die einzelnen Seiten der `Site.master` Master Seite zuordnen:</span><span class="sxs-lookup"><span data-stu-id="1ce96-123">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `BatchUpdate.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`

![Fügen Sie die ASP.NET-Seiten für die Tutorials hinzu.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image1.png)

<span data-ttu-id="1ce96-125">**Abbildung 1**: Hinzufügen der ASP.NET-Seiten für die Tutorials</span><span class="sxs-lookup"><span data-stu-id="1ce96-125">**Figure 1**: Add the ASP.NET Pages for the Tutorials</span></span>

<span data-ttu-id="1ce96-126">Wie in den anderen Ordnern werden `Default.aspx` im Ordner `EditDeleteDataList` die Lernprogramme in diesem Abschnitt auflistet.</span><span class="sxs-lookup"><span data-stu-id="1ce96-126">Like in the other folders, `Default.aspx` in the `EditDeleteDataList` folder lists the tutorials in its section.</span></span> <span data-ttu-id="1ce96-127">Denken Sie daran, dass das `SectionLevelTutorialListing.ascx` Benutzer Steuerelement diese Funktionalität bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-127">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="1ce96-128">Fügen Sie dieses Benutzer Steuerelement daher `Default.aspx` hinzu, indem Sie es aus dem Projektmappen-Explorer auf die Seite s Designansicht ziehen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-128">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="1ce96-129">[![das Benutzer Steuerelement "sectionleveltutoriallisting. ascx" zu "default. aspx" hinzufügen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image3.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-129">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image3.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image2.png)</span></span>

<span data-ttu-id="1ce96-130">**Abbildung 2**: Hinzufügen des `SectionLevelTutorialListing.ascx` Benutzer Steuer Elements zu `Default.aspx` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-130">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image4.png))</span></span>

<span data-ttu-id="1ce96-131">Fügen Sie abschließend die Seiten als Einträge zur `Web.sitemap` Datei hinzu.</span><span class="sxs-lookup"><span data-stu-id="1ce96-131">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="1ce96-132">Fügen Sie insbesondere das folgende Markup nach den Master-/Detailberichten mit dem DataList-und Repeater-`<siteMapNode>`hinzu:</span><span class="sxs-lookup"><span data-stu-id="1ce96-132">Specifically, add the following markup after the Master/Detail Reports with the DataList and Repeater `<siteMapNode>`:</span></span>

[!code-xml[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample1.xml)]

<span data-ttu-id="1ce96-133">Nehmen Sie sich nach dem Aktualisieren `Web.sitemap`einen Moment Zeit, um die Tutorials-Website über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-133">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="1ce96-134">Das Menü auf der linken Seite enthält jetzt Elemente für die DataList-Tutorials zum Bearbeiten und löschen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-134">The menu on the left now includes items for the DataList editing and deleting tutorials.</span></span>

![Die Site Übersicht enthält jetzt Einträge für die DataList-Tutorials zum Bearbeiten und löschen.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image5.png)

<span data-ttu-id="1ce96-136">**Abbildung 3**: die Site Übersicht enthält jetzt Einträge für die DataList-Tutorials zum Bearbeiten und löschen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-136">**Figure 3**: The Site Map Now Includes Entries for the DataList Editing and Deleting Tutorials</span></span>

## <a name="step-2-examining-techniques-for-updating-and-deleting-data"></a><span data-ttu-id="1ce96-137">Schritt 2: Untersuchen von Techniken zum Aktualisieren und Löschen von Daten</span><span class="sxs-lookup"><span data-stu-id="1ce96-137">Step 2: Examining Techniques for Updating and Deleting Data</span></span>

<span data-ttu-id="1ce96-138">Das Bearbeiten und Löschen von Daten mit der GridView ist so einfach, da das GridView-Objekt und das ObjectDataSource-Objekt unter dem Hintergrund in der Arbeit arbeiten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-138">Editing and deleting data with the GridView is so easy because, underneath the covers, the GridView and ObjectDataSource work in concert.</span></span> <span data-ttu-id="1ce96-139">Wie im Tutorial unter [Suchen der Ereignisse im Zusammenhang mit dem Einfügen, aktualisieren und löschen](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) erläutert, weist das GridView-Objekt automatisch seine Felder, die die bidirektionale Datenbindung verwendet haben, der `UpdateParameters`-Auflistung von ObjectDataSource zu und ruft dann diese ObjectDataSource s `Update()` Methode auf.</span><span class="sxs-lookup"><span data-stu-id="1ce96-139">As discussed in the [Examining the Events Associated with Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial, when a row s Update button is clicked, the GridView automatically assigns its fields that used two-way databinding to the `UpdateParameters` collection of its ObjectDataSource and then invokes that ObjectDataSource s `Update()` method.</span></span>

<span data-ttu-id="1ce96-140">Leider stellt der DataList keine dieser integrierten Funktionen bereit.</span><span class="sxs-lookup"><span data-stu-id="1ce96-140">Sadly, the DataList does not provide any of this built-in functionality.</span></span> <span data-ttu-id="1ce96-141">Sie müssen sicherstellen, dass die Werte des Benutzers den Parametern von ObjectDataSource zugewiesen werden und dass die `Update()`-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="1ce96-141">It is our responsibility to ensure that the user s values are assigned to the ObjectDataSource s parameters and that its `Update()` method is called.</span></span> <span data-ttu-id="1ce96-142">Zur Unterstützung dieses Vorhabens bietet der DataList die folgenden Eigenschaften und Ereignisse:</span><span class="sxs-lookup"><span data-stu-id="1ce96-142">To aid us in this endeavor, the DataList provides the following properties and events:</span></span>

- <span data-ttu-id="1ce96-143">**Die [`DataKeyField`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basedatalist.datakeyfield.aspx)**  beim Aktualisieren oder löschen muss jedes Element im DataList eindeutig identifizieren können.</span><span class="sxs-lookup"><span data-stu-id="1ce96-143">**The [`DataKeyField` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basedatalist.datakeyfield.aspx)** when updating or deleting, we need to be able to uniquely identify each item in the DataList.</span></span> <span data-ttu-id="1ce96-144">Legen Sie diese Eigenschaft auf das Primärschlüssel Feld der angezeigten Daten fest.</span><span class="sxs-lookup"><span data-stu-id="1ce96-144">Set this property to the primary key field of the displayed data.</span></span> <span data-ttu-id="1ce96-145">Dadurch wird die DataList s- [`DataKeys` Collection](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basedatalist.datakeys.aspx) mit dem angegebenen `DataKeyField` Wert für jedes DataList-Element aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-145">Doing so will populate the DataList s [`DataKeys` collection](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basedatalist.datakeys.aspx) with the specified `DataKeyField` value for each DataList item.</span></span>
- <span data-ttu-id="1ce96-146">**Das [`EditCommand`-Ereignis](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.editcommand.aspx)**  wird ausgelöst, wenn auf eine Schaltfläche, einen LinkButton oder ein ImageButton geklickt wird, dessen `CommandName`-Eigenschaft auf Bearbeiten festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1ce96-146">**The [`EditCommand` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.editcommand.aspx)** fires when a Button, LinkButton, or ImageButton whose `CommandName` property is set to Edit is clicked.</span></span>
- <span data-ttu-id="1ce96-147">**Das [`CancelCommand`-Ereignis](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.cancelcommand.aspx)**  wird ausgelöst, wenn auf eine Schaltfläche, einen LinkButton oder ein ImageButton geklickt wird, dessen `CommandName`-Eigenschaft auf Abbrechen festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1ce96-147">**The [`CancelCommand` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.cancelcommand.aspx)** fires when a Button, LinkButton, or ImageButton whose `CommandName` property is set to Cancel is clicked.</span></span>
- <span data-ttu-id="1ce96-148">**Das [`UpdateCommand` Ereignis](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.updatecommand.aspx)**  wird ausgelöst, wenn auf eine Schaltfläche, ein LinkButton oder ein ImageButton geklickt wird, dessen `CommandName`-Eigenschaft auf Update festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1ce96-148">**The [`UpdateCommand` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.updatecommand.aspx)** fires when a Button, LinkButton, or ImageButton whose `CommandName` property is set to Update is clicked.</span></span>
- <span data-ttu-id="1ce96-149">**Das [`DeleteCommand`-Ereignis](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.deletecommand.aspx)**  wird ausgelöst, wenn auf eine Schaltfläche, einen LinkButton oder ein ImageButton geklickt wird, dessen `CommandName`-Eigenschaft auf Löschen festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1ce96-149">**The [`DeleteCommand` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.deletecommand.aspx)** fires when a Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete is clicked.</span></span>

<span data-ttu-id="1ce96-150">Mithilfe dieser Eigenschaften und Ereignisse gibt es vier Ansätze, mit denen Sie Daten aus dem DataList aktualisieren und löschen können:</span><span class="sxs-lookup"><span data-stu-id="1ce96-150">Using these properties and events, there are four approaches we can use to update and delete data from the DataList:</span></span>

1. <span data-ttu-id="1ce96-151">**Mithilfe von ASP.NET 1. x-Techniken** war der DataList vor ASP.NET 2,0 und objectdatasources vorhanden und konnte Daten vollständig über programmgesteuerte Mittel aktualisieren und löschen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-151">**Using ASP.NET 1.x Techniques** the DataList existed prior to ASP.NET 2.0 and ObjectDataSources and was able to update and delete data entirely through programmatic means.</span></span> <span data-ttu-id="1ce96-152">Diese Technik Ruft die ObjectDataSource vollständig ab und erfordert, dass die Daten direkt aus der Geschäftslogik Schicht an den DataList gebunden werden, und zwar sowohl beim Abrufen der anzuzeigenden Daten als auch beim Aktualisieren oder Löschen eines Datensatzes.</span><span class="sxs-lookup"><span data-stu-id="1ce96-152">This technique ditches the ObjectDataSource altogether and requires that we bind the data to the DataList directly from the Business Logic Layer, both in retrieving the data to display and when updating or deleting a record.</span></span>
2. <span data-ttu-id="1ce96-153">Die **Verwendung eines einzelnen ObjectDataSource-Steuer Elements auf der Seite zum auswählen, aktualisieren und löschen** , während dem DataList-Steuerelement keine Funktionen zum Bearbeiten und Löschen von GridView-Funktionen fehlen, gibt es keinen Grund, den wir nicht in sich selbst hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="1ce96-153">**Using a Single ObjectDataSource Control on the Page for Selecting, Updating, and Deleting** while the DataList lacks the GridView s inherent editing and deleting capabilities, there s no reason we can t add them in ourselves.</span></span> <span data-ttu-id="1ce96-154">Bei dieser Vorgehensweise verwenden wir eine ObjectDataSource wie in den GridView-Beispielen, müssen jedoch einen Ereignishandler für das DataList s-`UpdateCommand` Ereignis erstellen, bei dem die ObjectDataSource s-Parameter festgelegt und die `Update()`-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="1ce96-154">With this approach, we use an ObjectDataSource just like in the GridView examples, but must create an event handler for the DataList s `UpdateCommand` event where we set the ObjectDataSource s parameters and call its `Update()` method.</span></span>
3. <span data-ttu-id="1ce96-155">Wenn **Sie ein ObjectDataSource-Steuerelement zum Auswählen von, aber aktualisieren und Löschen bei der** Verwendung von Option 2 verwenden, müssen wir ein wenig Code in das `UpdateCommand`-Ereignis schreiben und Parameterwerte zuweisen usw.</span><span class="sxs-lookup"><span data-stu-id="1ce96-155">**Using an ObjectDataSource Control for Selecting, but Updating and Deleting Directly Against the BLL** when using option 2, we need to write a bit of code in the `UpdateCommand` event, assigning parameter values and so on.</span></span> <span data-ttu-id="1ce96-156">Stattdessen können wir uns mit der Verwendung von ObjectDataSource für die Auswahl von "ObjectDataSource" (z. b. mit Option 1) angleichen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-156">Instead, we can stick with using the ObjectDataSource for selecting, but make the updating and deleting calls directly against the BLL (like with option 1).</span></span> <span data-ttu-id="1ce96-157">Meiner Meinung nach führt das Aktualisieren von Daten durch direkte Interaktion mit der BLL zu mehr lesbarem Code als das Zuweisen der ObjectDataSource s `UpdateParameters` und das Aufrufen der `Update()`-Methode.</span><span class="sxs-lookup"><span data-stu-id="1ce96-157">In my opinion, updating data by interfacing directly with the BLL leads to more readable code than assigning the ObjectDataSource s `UpdateParameters` and calling its `Update()` method.</span></span>
4. <span data-ttu-id="1ce96-158">Die **Verwendung deklarativer Mittel durch mehrere objectdatasources** erfordert, dass die vorherigen drei Ansätze etwas Code erfordern.</span><span class="sxs-lookup"><span data-stu-id="1ce96-158">**Using Declarative Means through Multiple ObjectDataSources** the previous three approaches all require a bit of code.</span></span> <span data-ttu-id="1ce96-159">Wenn Sie stattdessen möglichst viel deklarative Syntax verwenden, besteht die letzte Möglichkeit darin, mehrere objectdatasources auf der Seite einzubeziehen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-159">If you d rather keep using as much declarative syntax as possible, a final option is to include multiple ObjectDataSources on the page.</span></span> <span data-ttu-id="1ce96-160">Die erste ObjectDataSource Ruft die Daten aus der BLL ab und bindet Sie an den DataList.</span><span class="sxs-lookup"><span data-stu-id="1ce96-160">The first ObjectDataSource retrieves the data from the BLL and binds it to the DataList.</span></span> <span data-ttu-id="1ce96-161">Zum Aktualisieren wird eine andere ObjectDataSource hinzugefügt, die jedoch direkt in der DataList-`EditItemTemplate`hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="1ce96-161">For updating, another ObjectDataSource is added, but added directly within the DataList s `EditItemTemplate`.</span></span> <span data-ttu-id="1ce96-162">Um die Unterstützung für das Löschen einzuschließen, wäre eine andere ObjectDataSource im `ItemTemplate`erforderlich.</span><span class="sxs-lookup"><span data-stu-id="1ce96-162">To include deleting support, yet another ObjectDataSource would be needed in the `ItemTemplate`.</span></span> <span data-ttu-id="1ce96-163">Bei dieser Vorgehensweise verwenden diese eingebetteten ObjectDataSource-Objekte `ControlParameters`, um deklarativ die ObjectDataSource s-Parameter an die Benutzereingabe-Steuerelemente zu binden (anstatt Sie Programm gesteuert im DataList s `UpdateCommand`-Ereignishandler anzugeben).</span><span class="sxs-lookup"><span data-stu-id="1ce96-163">With this approach, these embedded ObjectDataSource s use `ControlParameters` to declaratively bind the ObjectDataSource s parameters to the user input controls (rather than having to specify them programmatically in the DataList s `UpdateCommand` event handler).</span></span> <span data-ttu-id="1ce96-164">Dieser Ansatz erfordert weiterhin einen Teil des Codes, den Sie benötigen, um den eingebetteten ObjectDataSource s-`Update()` oder `Delete()`-Befehl aufzurufen, erfordert jedoch weitaus weniger als bei den anderen drei Ansätzen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-164">This approach still requires a bit of code we need to call the embedded ObjectDataSource s `Update()` or `Delete()` command but requires far less than with the other three approaches.</span></span> <span data-ttu-id="1ce96-165">Der Nachteil hierbei ist, dass mehrere objectdatasources die Seite überladen und dabei von der allgemeinen Lesbarkeit abgezogen werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-165">The downside here is that the multiple ObjectDataSources do clutter up the page, detracting from the overall readability.</span></span>

<span data-ttu-id="1ce96-166">Wenn die Anwendung nur einen dieser Ansätze verwendet, wähle ich Option 1 aus, da Sie die größtmögliche Flexibilität bietet und der DataList ursprünglich für dieses Muster konzipiert wurde.</span><span class="sxs-lookup"><span data-stu-id="1ce96-166">If forced to only ever use one of these approaches, I d choose option 1 because it provides the most flexibility and because the DataList was originally designed to accommodate this pattern.</span></span> <span data-ttu-id="1ce96-167">Obwohl das DataList-Steuerelement für die Arbeit mit den ASP.NET 2,0-Datenquellen-Steuerelementen erweitert wurde, verfügt es nicht über alle Erweiterungs Punkte oder Features der offiziellen ASP.NET 2,0-datenweb Steuerelemente (GridView, DetailsView und FormView).</span><span class="sxs-lookup"><span data-stu-id="1ce96-167">While the DataList was extended to work with the ASP.NET 2.0 data source controls, it does not have all of the extensibility points or features of the official ASP.NET 2.0 data Web controls (the GridView, DetailsView, and FormView).</span></span> <span data-ttu-id="1ce96-168">Die Optionen 2 bis 4 sind jedoch nicht ohne Verdienst.</span><span class="sxs-lookup"><span data-stu-id="1ce96-168">Options 2 through 4 are not without merit, though.</span></span>

<span data-ttu-id="1ce96-169">In diesem und den zukünftigen Tutorials zum Bearbeiten und löschen wird eine ObjectDataSource zum Abrufen der anzuzeigenden Daten und zum Weiterleiten von Aufrufen der BLL zum Aktualisieren und Löschen von Daten verwendet (Option 3).</span><span class="sxs-lookup"><span data-stu-id="1ce96-169">This and the future editing and deleting tutorials will use an ObjectDataSource for retrieving the data to display and direct calls to the BLL to update and delete data (option 3).</span></span>

## <a name="step-3-adding-the-datalist-and-configuring-its-objectdatasource"></a><span data-ttu-id="1ce96-170">Schritt 3: Hinzufügen von DataList und Konfigurieren von ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="1ce96-170">Step 3: Adding the DataList and Configuring its ObjectDataSource</span></span>

<span data-ttu-id="1ce96-171">In diesem Tutorial erstellen wir einen DataList, der Produktinformationen auflistet, und für jedes Produkt bietet dem Benutzer die Möglichkeit, den Namen und den Preis zu bearbeiten und das Produkt vollständig zu löschen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-171">In this tutorial we will create a DataList that lists product information and, for each product, provides the user the ability to edit the name and price and to delete the product altogether.</span></span> <span data-ttu-id="1ce96-172">Insbesondere rufen wir die Datensätze ab, die mithilfe von ObjectDataSource angezeigt werden sollen, führen jedoch die Aktualisierungs-und Lösch Aktionen aus, indem Sie direkt mit der BLL interagieren.</span><span class="sxs-lookup"><span data-stu-id="1ce96-172">In particular, we will retrieve the records to display using an ObjectDataSource, but perform the update and delete actions by interfacing directly with the BLL.</span></span> <span data-ttu-id="1ce96-173">Bevor wir uns mit der Implementierung der Bearbeitungs-und Löschfunktionen für den DataList beschäftigen, wird die Seite zuerst von der Seite zum Anzeigen der Produkte in einer schreibgeschützten Oberfläche angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-173">Before we worry about implementing the editing and deleting capabilities to the DataList, let s first get the page to display the products in a read-only interface.</span></span> <span data-ttu-id="1ce96-174">Da wir diese Schritte in vorherigen Tutorials überprüft haben, werde ich Sie schnell durchgehen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-174">Since we ve examined these steps in previous tutorials, I'll proceed through them quickly.</span></span>

<span data-ttu-id="1ce96-175">Öffnen Sie zunächst die Seite `Basics.aspx` im Ordner `EditDeleteDataList`, und fügen Sie der Seite aus dem Designansicht einen DataList hinzu.</span><span class="sxs-lookup"><span data-stu-id="1ce96-175">Start by opening the `Basics.aspx` page in the `EditDeleteDataList` folder and, from the Design view, add a DataList to the page.</span></span> <span data-ttu-id="1ce96-176">Erstellen Sie als nächstes ein neues ObjectDataSource-Objekt aus dem DataList s-Smarttag.</span><span class="sxs-lookup"><span data-stu-id="1ce96-176">Next, from the DataList s smart tag, create a new ObjectDataSource.</span></span> <span data-ttu-id="1ce96-177">Da wir mit Produktdaten arbeiten, konfigurieren Sie Sie so, dass Sie die `ProductsBLL`-Klasse verwenden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-177">Since we are working with product data, configure it to use the `ProductsBLL` class.</span></span> <span data-ttu-id="1ce96-178">Um *alle* Produkte abzurufen, wählen Sie auf der Registerkarte auswählen die `GetProducts()` Methode aus.</span><span class="sxs-lookup"><span data-stu-id="1ce96-178">To retrieve *all* products, choose the `GetProducts()` method in the SELECT tab.</span></span>

<span data-ttu-id="1ce96-179">[![konfigurieren Sie ObjectDataSource für die Verwendung der productbll-Klasse.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image7.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-179">[![Configure the ObjectDataSource to Use the ProductsBLL Class](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image7.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image6.png)</span></span>

<span data-ttu-id="1ce96-180">**Abbildung 4**: Konfigurieren von ObjectDataSource für die Verwendung der `ProductsBLL`-Klasse ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-180">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image8.png))</span></span>

<span data-ttu-id="1ce96-181">[![die Produktinformationen mithilfe der GetProducts ()-Methode zurückgeben](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image10.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-181">[![Return the Product Information Using the GetProducts() Method](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image10.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image9.png)</span></span>

<span data-ttu-id="1ce96-182">**Abbildung 5**: Zurückgeben der Produktinformationen mithilfe der `GetProducts()`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-182">**Figure 5**: Return the Product Information Using the `GetProducts()` Method ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image11.png))</span></span>

<span data-ttu-id="1ce96-183">Der DataList, wie z. b. GridView, ist nicht für das Einfügen neuer Daten konzipiert. Wählen Sie daher in der Dropdown Liste auf der Registerkarte Einfügen die Option (keine) aus. Wählen Sie für die Registerkarten aktualisieren und löschen außerdem (keine) aus, da Updates und Löschvorgänge Programm gesteuert über die BLL ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-183">The DataList, like the GridView, is not designed for inserting new data; therefore, select the (None) option from the drop-down list in the INSERT tab. Also choose (None) for the UPDATE and DELETE tabs since the updates and deletes will be performed programmatically through the BLL.</span></span>

<span data-ttu-id="1ce96-184">[![bestätigen, dass die Dropdown Listen in den Registerkarten "Einfügen", "Aktualisieren" und "Löschen" von ObjectDataSource auf (keine) festgelegt sind.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image13.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-184">[![Confirm that the Drop-Down Lists in the ObjectDataSource s INSERT, UPDATE, and DELETE Tabs are Set to (None)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image13.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image12.png)</span></span>

<span data-ttu-id="1ce96-185">**Abbildung 6**: überprüfen, ob die Dropdown Listen in den Registerkarten "Einfügen", "Aktualisieren" und "Löschen" von ObjectDataSource auf (keine) festgelegt sind ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-185">**Figure 6**: Confirm that the Drop-Down Lists in the ObjectDataSource s INSERT, UPDATE, and DELETE Tabs are Set to (None) ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image14.png))</span></span>

<span data-ttu-id="1ce96-186">Klicken Sie nach dem Konfigurieren von ObjectDataSource auf Fertigstellen, und kehren Sie zum Designer zurück.</span><span class="sxs-lookup"><span data-stu-id="1ce96-186">After configuring the ObjectDataSource, click Finish, returning to the Designer.</span></span> <span data-ttu-id="1ce96-187">Wie bereits in den vergangenen Beispielen gezeigt, erstellt Visual Studio beim Abschließen der Konfiguration von ObjectDataSource automatisch eine `ItemTemplate` für die Dropdown Liste, die jedes der Datenfelder anzeigt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-187">As we ve seen in past examples, when completing the ObjectDataSource configuration, Visual Studio automatically creates an `ItemTemplate` for the DropDownList, displaying each of the data fields.</span></span> <span data-ttu-id="1ce96-188">Ersetzen Sie diese `ItemTemplate` durch eine, in der nur der Name und der Preis des Produkts angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-188">Replace this `ItemTemplate` with one that displays only the product s name and price.</span></span> <span data-ttu-id="1ce96-189">Legen Sie außerdem die `RepeatColumns`-Eigenschaft auf 2 fest.</span><span class="sxs-lookup"><span data-stu-id="1ce96-189">Also, set the `RepeatColumns` property to 2.</span></span>

> [!NOTE]
> <span data-ttu-id="1ce96-190">Wie im Tutorial Übersicht über das *Einfügen, aktualisieren und Löschen von Daten* erläutert, muss beim Ändern von Daten mithilfe von ObjectDataSource die `OldValuesParameterFormatString`-Eigenschaft aus dem deklarativen Markup von ObjectDataSource (oder dem Standardwert `{0}`) entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-190">As discussed in the *Overview of Inserting, Updating, and Deleting Data* tutorial, when modifying data using the ObjectDataSource our architecture requires that we remove the `OldValuesParameterFormatString` property from the ObjectDataSource s declarative markup (or reset it to its default value, `{0}`).</span></span> <span data-ttu-id="1ce96-191">In diesem Tutorial verwenden wir jedoch ObjectDataSource nur zum Abrufen von Daten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-191">In this tutorial, however, we are using the ObjectDataSource only for retrieving data.</span></span> <span data-ttu-id="1ce96-192">Daher müssen wir den Eigenschafts Wert von ObjectDataSource s `OldValuesParameterFormatString` nicht ändern (obwohl er dies nicht tut).</span><span class="sxs-lookup"><span data-stu-id="1ce96-192">Therefore, we do not need to modify the ObjectDataSource s `OldValuesParameterFormatString` property value (although it doesn t hurt to do so).</span></span>

<span data-ttu-id="1ce96-193">Nachdem Sie die standarddatalist-`ItemTemplate` durch eine angepasste ersetzt haben, sollte das deklarative Markup auf der Seite in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="1ce96-193">After replacing the default DataList `ItemTemplate` with a customized one, the declarative markup on your page should look similar to the following:</span></span>

[!code-aspx[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="1ce96-194">Nehmen Sie sich einen Moment Zeit, um den Fortschritt über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-194">Take a moment to view our progress through a browser.</span></span> <span data-ttu-id="1ce96-195">Wie in Abbildung 7 dargestellt, zeigt der DataList den Produktnamen und den Preis für jedes Produkt in zwei Spalten an.</span><span class="sxs-lookup"><span data-stu-id="1ce96-195">As Figure 7 shows, the DataList displays the product name and unit price for each product in two columns.</span></span>

<span data-ttu-id="1ce96-196">[![die Namen und Preise der Produkte in einem DataList mit zwei Spalten angezeigt.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image16.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-196">[![The Products Names and Prices are Displayed in a Two-Column DataList](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image16.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image15.png)</span></span>

<span data-ttu-id="1ce96-197">**Abbildung 7**: die Produktnamen und-Preise werden in einem zwei spaltigen DataList angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-197">**Figure 7**: The Products Names and Prices are Displayed in a Two-Column DataList ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image17.png))</span></span>

> [!NOTE]
> <span data-ttu-id="1ce96-198">Der DataList verfügt über eine Reihe von Eigenschaften, die für den Aktualisierungs-und Löschvorgang erforderlich sind, und diese Werte werden im Ansichts Zustand gespeichert.</span><span class="sxs-lookup"><span data-stu-id="1ce96-198">The DataList has a number of properties that are required for the updating and deleting process, and these values are stored in view state.</span></span> <span data-ttu-id="1ce96-199">Daher ist es bei der Erstellung eines DataList-Datentyps, der das Bearbeiten oder Löschen von Daten unterstützt, erforderlich, dass der Ansichts Zustand der DataList-</span><span class="sxs-lookup"><span data-stu-id="1ce96-199">Therefore, when building a DataList that supports editing or deleting data, it is essential that the DataList s view state be enabled.</span></span>  
>   
> <span data-ttu-id="1ce96-200">Der behebbare Reader kann sich erinnern, dass wir den Ansichts Zustand beim Erstellen bearbeitbarer GridViews, DetailsViews und formviews deaktivieren konnten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-200">The astute reader may recall that we were able to disable view state when creating editable GridViews, DetailsViews, and FormViews.</span></span> <span data-ttu-id="1ce96-201">Dies liegt daran, dass ASP.NET 2,0- *websteuer*Elemente den Steuerelement Zustand einschließen können. Dies ist ein Zustand, der über Postbacks wie den Ansichts Zustand beibehalten wird</span><span class="sxs-lookup"><span data-stu-id="1ce96-201">This is because ASP.NET 2.0 Web controls can include *control state*, which is state persisted across postbacks like view state, but deemed essential.</span></span>

<span data-ttu-id="1ce96-202">Durch das Deaktivieren des Ansichts Zustands in der GridView werden nur triviale Zustandsinformationen ausgelassen, aber der Steuerelement Zustand (einschließlich des zum Bearbeiten und Löschen erforderlichen Status) wird beibehalten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-202">Disabling view state in the GridView merely omits trivial state information, but maintains the control state (which includes the state necessary for editing and deleting).</span></span> <span data-ttu-id="1ce96-203">Der DataList, der im ASP.NET 1. x-Zeitrahmen erstellt wurde, verwendet nicht den Steuerelement Zustand und muss daher den Ansichts Zustand aktiviert haben.</span><span class="sxs-lookup"><span data-stu-id="1ce96-203">The DataList, having been created in the ASP.NET 1.x timeframe, does not utilize control state and therefore must have view state enabled.</span></span> <span data-ttu-id="1ce96-204">Weitere Informationen zum Zweck des Steuerungs Zustands und dessen Unterschiede zum Ansichts Zustand finden Sie unter [Control State or View State](https://msdn.microsoft.com/library/1whwt1k7.aspx) .</span><span class="sxs-lookup"><span data-stu-id="1ce96-204">See [Control State vs. View State](https://msdn.microsoft.com/library/1whwt1k7.aspx) for more information on the purpose of control state and how it differs from view state.</span></span>

## <a name="step-4-adding-an-editing-user-interface"></a><span data-ttu-id="1ce96-205">Schritt 4: Hinzufügen einer Bearbeitungs Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="1ce96-205">Step 4: Adding an Editing User Interface</span></span>

<span data-ttu-id="1ce96-206">Das GridView-Steuerelement besteht aus einer Auflistung von Feldern (boundfields, checkboxfields, templatefields usw.).</span><span class="sxs-lookup"><span data-stu-id="1ce96-206">The GridView control is composed of a collection of fields (BoundFields, CheckBoxFields, TemplateFields, and so on).</span></span> <span data-ttu-id="1ce96-207">Diese Felder können Ihr gerendertes Markup abhängig von Ihrem Modus anpassen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-207">These fields can adjust their rendered markup depending on their mode.</span></span> <span data-ttu-id="1ce96-208">Wenn z. b. im schreibgeschützten Modus ein BoundField den Wert des Daten Felds als Text anzeigt, im Bearbeitungsmodus wird ein TextBox-websteuer Element gerendert, dessen `Text`-Eigenschaft dem Daten Feldwert zugewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="1ce96-208">For example, when in read-only mode, a BoundField displays its data field value as text; when in edit mode, it renders a TextBox Web control whose `Text` property is assigned the data field value.</span></span>

<span data-ttu-id="1ce96-209">Der DataList hingegen rendert seine Elemente mithilfe von Vorlagen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-209">The DataList, on the other hand, renders its items using templates.</span></span> <span data-ttu-id="1ce96-210">Schreibgeschützte Elemente werden mithilfe der `ItemTemplate` gerendert, während Elemente im Bearbeitungsmodus über die `EditItemTemplate`gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-210">Read-only items are rendered using the `ItemTemplate` whereas items in edit mode are rendered via the `EditItemTemplate`.</span></span> <span data-ttu-id="1ce96-211">An diesem Punkt hat unser DataList nur eine `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1ce96-211">At this point, our DataList has only an `ItemTemplate`.</span></span> <span data-ttu-id="1ce96-212">Um Bearbeitungsfunktionen auf Element Ebene zu unterstützen, müssen wir eine `EditItemTemplate` hinzufügen, die das Markup enthält, das für das bearbeitbare Element angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="1ce96-212">To support item-level editing functionality we need to add an `EditItemTemplate` that contains the markup to be displayed for the editable item.</span></span> <span data-ttu-id="1ce96-213">In diesem Tutorial verwenden wir TextBox-websteuer Elemente zum Bearbeiten des Namens und des Einheits Preises des Produkts.</span><span class="sxs-lookup"><span data-stu-id="1ce96-213">For this tutorial, we'll use TextBox Web controls for editing the product s name and unit price.</span></span>

<span data-ttu-id="1ce96-214">Der `EditItemTemplate` kann entweder deklarativ oder über den Designer erstellt werden (durch Auswählen der Option Vorlagen bearbeiten aus dem DataList s Smarttags).</span><span class="sxs-lookup"><span data-stu-id="1ce96-214">The `EditItemTemplate` can be created either declaratively or through the Designer (by selecting the Edit Templates option from the DataList s smart tag).</span></span> <span data-ttu-id="1ce96-215">Wenn Sie die Option Vorlagen bearbeiten verwenden möchten, klicken Sie zuerst auf den Link Vorlagen bearbeiten im Smarttags, und wählen Sie dann in der Dropdown Liste das `EditItemTemplate` Element aus.</span><span class="sxs-lookup"><span data-stu-id="1ce96-215">To use the Edit Templates option, first click the Edit Templates link in the smart tag and then select the `EditItemTemplate` item from the drop-down list.</span></span>

<span data-ttu-id="1ce96-216">[![Sie sich für die Arbeit mit dem DataList-EditItemTemplate-Element entscheiden.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image19.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-216">[![Opt to Work with the DataList s EditItemTemplate](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image19.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image18.png)</span></span>

<span data-ttu-id="1ce96-217">**Abbildung 8**: Arbeiten mit dem DataList-`EditItemTemplate` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-217">**Figure 8**: Opt to Work with the DataList s `EditItemTemplate` ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image20.png))</span></span>

<span data-ttu-id="1ce96-218">Geben Sie als nächstes Product Name: und Price: ein, und ziehen Sie dann zwei TextBox-Steuerelemente aus der Toolbox in die `EditItemTemplate`-Schnittstelle im Designer.</span><span class="sxs-lookup"><span data-stu-id="1ce96-218">Next, type in Product name: and Price: and then drag two TextBox controls from the Toolbox into the `EditItemTemplate` interface on the Designer.</span></span> <span data-ttu-id="1ce96-219">Legen Sie die Textfelder `ID` Eigenschaften auf `ProductName` und `UnitPrice`fest.</span><span class="sxs-lookup"><span data-stu-id="1ce96-219">Set the TextBoxes `ID` properties to `ProductName` and `UnitPrice`.</span></span>

<span data-ttu-id="1ce96-220">[![ein Textfeld für den Namen und den Preis des Produkts hinzufügen.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image22.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-220">[![Add a TextBox for the Product s Name and Price](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image22.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image21.png)</span></span>

<span data-ttu-id="1ce96-221">**Abbildung 9**: Hinzufügen eines Textfelds für den Namen und den Preis des Produkts ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-221">**Figure 9**: Add a TextBox for the Product s Name and Price ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image23.png))</span></span>

<span data-ttu-id="1ce96-222">Wir müssen die entsprechenden Product Data-Feldwerte an die `Text` Eigenschaften der beiden Textfelder binden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-222">We need to bind the corresponding product data field values to the `Text` properties of the two TextBoxes.</span></span> <span data-ttu-id="1ce96-223">Klicken Sie in den Textfeldern Smarttags auf den Link DataBindings bearbeiten, und ordnen Sie dann dem `Text`-Eigenschaft das entsprechende Datenfeld zu, wie in Abbildung 10 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-223">From the TextBoxes smart tags, click on the Edit DataBindings link and then associate the appropriate data field with the `Text` property, as shown in Figure 10.</span></span>

> [!NOTE]
> <span data-ttu-id="1ce96-224">Wenn Sie das `UnitPrice` Datenfeld an das Feld "Price TextBox s `Text`" binden, können Sie es als Währungswert (`{0:C}`), als allgemeine Zahl (`{0:N}`) oder als nicht formatiert formatieren.</span><span class="sxs-lookup"><span data-stu-id="1ce96-224">When binding the `UnitPrice` data field to the price TextBox s `Text` field, you may format it as a currency value (`{0:C}`), a general number (`{0:N}`), or leave it unformatted.</span></span>

![Binden Sie die Datenfelder ProductName und UnitPrice an die Text-Eigenschaften der Textfelder.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image24.png)

<span data-ttu-id="1ce96-226">**Abbildung 10**: Binden der Felder für `ProductName` und `UnitPrice` Daten an die `Text` Eigenschaften der Textfelder</span><span class="sxs-lookup"><span data-stu-id="1ce96-226">**Figure 10**: Bind the `ProductName` and `UnitPrice` Data Fields to the `Text` Properties of the TextBoxes</span></span>

<span data-ttu-id="1ce96-227">Beachten Sie, dass das Dialogfeld DataBindings bearbeiten in Abbildung 10 das bidirektionale Datenbindung-Kontroll *Kästchen enthält,* das beim Bearbeiten eines TemplateField in der GridView-oder DetailsView oder einer Vorlage in der FormView vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="1ce96-227">Notice how the Edit DataBindings dialog box in Figure 10 does *not* include the Two-way databinding checkbox that is present when editing a TemplateField in the GridView or DetailsView, or a template in the FormView.</span></span> <span data-ttu-id="1ce96-228">Mit der bidirektionalen Datenbindung-Funktion konnte der Wert, der in das Eingabe-websteuer Element eingegeben wurde, beim Einfügen oder Aktualisieren von Daten automatisch den entsprechenden ObjectDataSource s `InsertParameters` oder `UpdateParameters` zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-228">The two-way databinding feature allowed the value entered into the input Web control to be automatically assigned to the corresponding ObjectDataSource s `InsertParameters` or `UpdateParameters` when inserting or updating data.</span></span> <span data-ttu-id="1ce96-229">Der DataList unterstützt die bidirektionale Datenbindung nicht, wie wir später in diesem Tutorial sehen werden, nachdem der Benutzer die Änderungen vorgenommen hat und bereit ist, die Daten zu aktualisieren, müssen wir Programm gesteuert auf diese Textfelder `Text` Eigenschaften zugreifen und deren Werte an die entsprechende `UpdateProduct` Methode in der `ProductsBLL`-Klasse übergeben.</span><span class="sxs-lookup"><span data-stu-id="1ce96-229">The DataList does not support two-way databinding as we'll see later on in this tutorial, after the user makes her changes and is ready to update the data, we will need to programmatically access these TextBoxes `Text` properties and pass in their values to the appropriate `UpdateProduct` method in the `ProductsBLL` class.</span></span>

<span data-ttu-id="1ce96-230">Zum Schluss müssen die Schaltflächen aktualisieren und Abbrechen der `EditItemTemplate`hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-230">Finally, we need to add Update and Cancel buttons to the `EditItemTemplate`.</span></span> <span data-ttu-id="1ce96-231">Wie wir im [Master/Detail mithilfe einer aufgeschachtelten Liste von Master Datensätzen mit einem DataList-DataList](../filtering-scenarios-with-the-datalist-and-repeater/master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md) -Lernprogramm festgelegt haben, wird beim Klicken auf eine Schaltfläche, eine LinkButton oder ein ImageButton, deren `CommandName`-Eigenschaft auf festgelegt ist, in einem Repeater oder DataList das Ereignis Repeater oder DataList s `ItemCommand` ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="1ce96-231">As we saw in the [Master/Detail Using a Bulleted List of Master Records with a Details DataList](../filtering-scenarios-with-the-datalist-and-repeater/master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md) tutorial, when a Button, LinkButton, or ImageButton whose `CommandName` property is set is clicked from within a Repeater or DataList, the Repeater or DataList s `ItemCommand` event is raised.</span></span> <span data-ttu-id="1ce96-232">Wenn für DataList die `CommandName`-Eigenschaft auf einen bestimmten Wert festgelegt ist, kann auch ein zusätzliches Ereignis ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-232">For the DataList, if the `CommandName` property is set to a certain value, an additional event may be raised as well.</span></span> <span data-ttu-id="1ce96-233">Zu den besonderen `CommandName` Eigenschafts Werten gehören u.a.:</span><span class="sxs-lookup"><span data-stu-id="1ce96-233">The special `CommandName` property values include, among others:</span></span>

- <span data-ttu-id="1ce96-234">Abbrechen löst das `CancelCommand`-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="1ce96-234">Cancel raises the `CancelCommand` event</span></span>
- <span data-ttu-id="1ce96-235">Bearbeiten löst das `EditCommand`-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="1ce96-235">Edit raises the `EditCommand` event</span></span>
- <span data-ttu-id="1ce96-236">Update löst das `UpdateCommand`-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="1ce96-236">Update raises the `UpdateCommand` event</span></span>

<span data-ttu-id="1ce96-237">Beachten Sie, dass diese Ereignisse *zusätzlich zum* `ItemCommand` Ereignis ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-237">Keep in mind that these events are raised *in addition to* the `ItemCommand` event.</span></span>

<span data-ttu-id="1ce96-238">Fügen Sie dem `EditItemTemplate` zwei Schaltflächen-websteuer Elemente hinzu, von denen eine `CommandName` auf "Aktualisieren" festgelegt ist, und die anderen s auf "Abbrechen"</span><span class="sxs-lookup"><span data-stu-id="1ce96-238">Add to the `EditItemTemplate` two Button Web controls, one whose `CommandName` is set to Update and the other s set to Cancel.</span></span> <span data-ttu-id="1ce96-239">Nach dem Hinzufügen dieser zwei Schaltflächen-websteuer Elemente sollte der Designer in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="1ce96-239">After adding these two Button Web controls the Designer should look similar to the following:</span></span>

<span data-ttu-id="1ce96-240">[![die Schaltflächen aktualisieren und Abbrechen zu EditItemTemplate hinzufügen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image26.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-240">[![Add Update and Cancel Buttons to the EditItemTemplate](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image26.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="1ce96-241">**Abbildung 11**: Hinzufügen der Schaltflächen zum Aktualisieren und Abbrechen zum `EditItemTemplate` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-241">**Figure 11**: Add Update and Cancel Buttons to the `EditItemTemplate` ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image27.png))</span></span>

<span data-ttu-id="1ce96-242">Wenn Sie die `EditItemTemplate` vervollständigen, sollte das deklarative Markup des DataList s in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="1ce96-242">With the `EditItemTemplate` complete your DataList s declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample3.aspx)]

## <a name="step-5-adding-the-plumbing-to-enter-edit-mode"></a><span data-ttu-id="1ce96-243">Schritt 5: Hinzufügen der Grundlagen zum Wechseln in den Bearbeitungsmodus</span><span class="sxs-lookup"><span data-stu-id="1ce96-243">Step 5: Adding the Plumbing to Enter Edit Mode</span></span>

<span data-ttu-id="1ce96-244">An diesem Punkt hat unser DataList eine Bearbeitungs Schnittstelle definiert, die über seine `EditItemTemplate`definiert ist. Es gibt jedoch derzeit keine Möglichkeit für einen Benutzer, auf unserer Seite zu zeigen, dass er die Informationen eines Produkts bearbeiten möchte.</span><span class="sxs-lookup"><span data-stu-id="1ce96-244">At this point our DataList has an editing interface defined via its `EditItemTemplate`; however, there s currently no way for a user visiting our page to indicate that he wants to edit a product s information.</span></span> <span data-ttu-id="1ce96-245">Wir müssen jedem Produkt eine Bearbeitungs Schaltfläche hinzufügen, bei der das DataList-Element im Bearbeitungsmodus gerendert wird, wenn darauf geklickt wird.</span><span class="sxs-lookup"><span data-stu-id="1ce96-245">We need to add an Edit button to each product that, when clicked, renders that DataList item in edit mode.</span></span> <span data-ttu-id="1ce96-246">Fügen Sie zunächst dem `ItemTemplate`eine Bearbeitungs Schaltfläche hinzu, entweder über den Designer oder deklarativ.</span><span class="sxs-lookup"><span data-stu-id="1ce96-246">Start by adding an Edit button to the `ItemTemplate`, either through the Designer or declaratively.</span></span> <span data-ttu-id="1ce96-247">Stellen Sie sicher, dass die Bearbeitungs Schaltfläche s `CommandName` Eigenschaft auf Bearbeiten festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1ce96-247">Be certain to set the Edit button s `CommandName` property to Edit .</span></span>

<span data-ttu-id="1ce96-248">Nachdem Sie diese Bearbeitungs Schaltfläche hinzugefügt haben, nehmen Sie sich einen Moment Zeit, um die Seite in einem Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-248">After you have added this Edit button, take a moment to view the page through a browser.</span></span> <span data-ttu-id="1ce96-249">Mit dieser Addition sollte jede Produkt Auflistung eine Bearbeitungs Schaltfläche enthalten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-249">With this addition, each product listing should include an Edit button.</span></span>

<span data-ttu-id="1ce96-250">[![die Schaltflächen aktualisieren und Abbrechen zu EditItemTemplate hinzufügen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image29.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-250">[![Add Update and Cancel Buttons to the EditItemTemplate](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image29.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image28.png)</span></span>

<span data-ttu-id="1ce96-251">**Abbildung 12**: Hinzufügen der Schaltflächen zum Aktualisieren und Abbrechen zum `EditItemTemplate` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-251">**Figure 12**: Add Update and Cancel Buttons to the `EditItemTemplate` ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image30.png))</span></span>

<span data-ttu-id="1ce96-252">Wenn Sie auf die Schaltfläche klicken, wird ein Postback ausgelöst, aber die Produkt Auflistung wird *nicht* in den Bearbeitungsmodus versetzt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-252">Clicking the button causes a postback, but does *not* bring the product listing into edit mode.</span></span> <span data-ttu-id="1ce96-253">Um das Produkt bearbeitbar zu machen, müssen Sie Folgendes durchführen:</span><span class="sxs-lookup"><span data-stu-id="1ce96-253">To make the product editable, we need to:</span></span>

1. <span data-ttu-id="1ce96-254">Legen Sie die DataList s [`EditItemIndex`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.edititemindex.aspx) auf den Index des `DataListItem` fest, dessen Bearbeitungs Schaltfläche soeben geklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="1ce96-254">Set the DataList s [`EditItemIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.edititemindex.aspx) to the index of the `DataListItem` whose Edit button was just clicked.</span></span>
2. <span data-ttu-id="1ce96-255">Binden Sie die Daten erneut an den DataList.</span><span class="sxs-lookup"><span data-stu-id="1ce96-255">Rebind the data to the DataList.</span></span> <span data-ttu-id="1ce96-256">Wenn der DataList erneut gerendert wird, wird die `DataListItem`, deren `ItemIndex` dem DataList-`EditItemIndex` entspricht, mithilfe der `EditItemTemplate`gerendert.</span><span class="sxs-lookup"><span data-stu-id="1ce96-256">When the DataList is re-rendered, the `DataListItem` whose `ItemIndex` corresponds with the DataList s `EditItemIndex` will render using its `EditItemTemplate`.</span></span>

<span data-ttu-id="1ce96-257">Da das DataList s-`EditCommand` Ereignis beim Klicken auf die Schaltfläche Bearbeiten ausgelöst wird, erstellen Sie einen `EditCommand`-Ereignishandler mit folgendem Code:</span><span class="sxs-lookup"><span data-stu-id="1ce96-257">Since the DataList s `EditCommand` event is fired when the Edit button is clicked, create an `EditCommand` event handler with the following code:</span></span>

[!code-csharp[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample4.cs)]

<span data-ttu-id="1ce96-258">Der `EditCommand` Ereignishandler wird in ein Objekt des Typs `DataListCommandEventArgs` als zweiter Eingabeparameter übergeben, der einen Verweis auf die `DataListItem` enthält, auf deren Bearbeitungs Schaltfläche geklickt wurde (`e.Item`).</span><span class="sxs-lookup"><span data-stu-id="1ce96-258">The `EditCommand` event handler is passed in an object of type `DataListCommandEventArgs` as its second input parameter, which includes a reference to the `DataListItem` whose Edit button was clicked (`e.Item`).</span></span> <span data-ttu-id="1ce96-259">Der Ereignishandler legt die DataList s-`EditItemIndex` zuerst auf die `ItemIndex` der bearbeitbaren `DataListItem` fest und bindet die Daten dann erneut an den DataList, indem die DataList s-`DataBind()`-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="1ce96-259">The event handler first sets the DataList s `EditItemIndex` to the `ItemIndex` of the editable `DataListItem` and then rebinds the data to the DataList by calling the DataList s `DataBind()` method.</span></span>

<span data-ttu-id="1ce96-260">Nachdem Sie diesen Ereignishandler hinzugefügt haben, besuchen Sie die Seite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="1ce96-260">After adding this event handler, revisit the page in a browser.</span></span> <span data-ttu-id="1ce96-261">Wenn Sie auf die Schaltfläche "Bearbeiten" klicken, wird das angeklickte Produkt bearbeitet (siehe Abbildung 13).</span><span class="sxs-lookup"><span data-stu-id="1ce96-261">Clicking the Edit button now makes the clicked product editable (see Figure 13).</span></span>

<span data-ttu-id="1ce96-262">[Wenn Sie ![auf die Schaltfläche Bearbeiten klicken, wird das Produkt bearbeitet.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image32.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-262">[![Clicking the Edit Button Makes the Product Editable](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image32.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image31.png)</span></span>

<span data-ttu-id="1ce96-263">**Abbildung 13**: durch Klicken auf die Schaltfläche Bearbeiten wird das Produkt bearbeitbar ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-263">**Figure 13**: Clicking the Edit Button Makes the Product Editable ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image33.png))</span></span>

## <a name="step-6-saving-the-user-s-changes"></a><span data-ttu-id="1ce96-264">Schritt 6: Speichern der Benutzer-e-Änderungen</span><span class="sxs-lookup"><span data-stu-id="1ce96-264">Step 6: Saving the User s Changes</span></span>

<span data-ttu-id="1ce96-265">Wenn Sie auf die Schaltflächen Aktualisieren oder Abbrechen der bearbeiteten Produkte klicken, wird an dieser Stelle nichts unternommen. um diese Funktionalität hinzuzufügen, müssen wir Ereignishandler für die DataList s-`UpdateCommand` und `CancelCommand`-Ereignisse erstellen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-265">Clicking the edited product s Update or Cancel buttons does nothing at this point; to add this functionality we need to create event handlers for the DataList s `UpdateCommand` and `CancelCommand` events.</span></span> <span data-ttu-id="1ce96-266">Beginnen Sie mit dem Erstellen des `CancelCommand` Ereignis Handlers, der ausgeführt wird, wenn auf die Schaltfläche "Abbrechen" des bearbeiteten Produkts geklickt wird, und damit die Aufgabe, den DataList in den Zustand der vorabbearbeitung zurückzukehren.</span><span class="sxs-lookup"><span data-stu-id="1ce96-266">Start by creating the `CancelCommand` event handler, which will execute when the edited product s Cancel button is clicked and it tasked with returning the DataList to its pre-editing state.</span></span>

<span data-ttu-id="1ce96-267">Damit das DataList all seine Elemente im schreibgeschützten Modus Renderer, müssen folgende Schritte ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="1ce96-267">To have the DataList render all of its items in the read-only mode, we need to:</span></span>

1. <span data-ttu-id="1ce96-268">Legen Sie die DataList s [`EditItemIndex`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.edititemindex.aspx) auf den Index eines nicht vorhandenen `DataListItem` Indexes fest.</span><span class="sxs-lookup"><span data-stu-id="1ce96-268">Set the DataList s [`EditItemIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.edititemindex.aspx) to the index of a non-existent `DataListItem` index.</span></span> <span data-ttu-id="1ce96-269">`-1` ist eine sichere Wahl, da die `DataListItem` Indizes bei `0`beginnen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-269">`-1` is a safe choice, since the `DataListItem` indexes start at `0`.</span></span>
2. <span data-ttu-id="1ce96-270">Binden Sie die Daten erneut an den DataList.</span><span class="sxs-lookup"><span data-stu-id="1ce96-270">Rebind the data to the DataList.</span></span> <span data-ttu-id="1ce96-271">Da keine `DataListItem` `ItemIndex` es dem DataList-`EditItemIndex`entsprechen, wird der gesamte DataList in einem schreibgeschützten Modus gerendert.</span><span class="sxs-lookup"><span data-stu-id="1ce96-271">Since no `DataListItem` `ItemIndex` es correspond to the DataList s `EditItemIndex`, the entire DataList will be rendered in a read-only mode.</span></span>

<span data-ttu-id="1ce96-272">Diese Schritte können mit folgendem Ereignishandlercode ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="1ce96-272">These steps can be accomplished with the following event handler code:</span></span>

[!code-csharp[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample5.cs)]

<span data-ttu-id="1ce96-273">Durch Klicken auf die Schaltfläche Abbrechen wird der DataList in den Zustand der vorabbearbeitung zurückversetzt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-273">With this addition, clicking the Cancel button returns the DataList to its pre-editing state.</span></span>

<span data-ttu-id="1ce96-274">Der letzte Ereignishandler, den wir vervollständigen müssen, ist der `UpdateCommand` Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="1ce96-274">The last event handler we need to complete is the `UpdateCommand` event handler.</span></span> <span data-ttu-id="1ce96-275">Dieser Ereignishandler muss folgende Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="1ce96-275">This event handler needs to:</span></span>

1. <span data-ttu-id="1ce96-276">Programm gesteuerter Zugriff auf den vom Benutzer eingegebenen Produktnamen und Preis sowie auf die `ProductID`bearbeiteten Produkte.</span><span class="sxs-lookup"><span data-stu-id="1ce96-276">Programmatically access the user-entered product name and price as well as the edited product s `ProductID`.</span></span>
2. <span data-ttu-id="1ce96-277">Initiieren Sie den Aktualisierungs Vorgang, indem Sie die entsprechende `UpdateProduct` Überladung in der `ProductsBLL`-Klasse aufrufen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-277">Initiate the update process by calling the appropriate `UpdateProduct` overload in the `ProductsBLL` class.</span></span>
3. <span data-ttu-id="1ce96-278">Legen Sie die DataList s [`EditItemIndex`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.edititemindex.aspx) auf den Index eines nicht vorhandenen `DataListItem` Indexes fest.</span><span class="sxs-lookup"><span data-stu-id="1ce96-278">Set the DataList s [`EditItemIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.edititemindex.aspx) to the index of a non-existent `DataListItem` index.</span></span> <span data-ttu-id="1ce96-279">`-1` ist eine sichere Wahl, da die `DataListItem` Indizes bei `0`beginnen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-279">`-1` is a safe choice, since the `DataListItem` indexes start at `0`.</span></span>
4. <span data-ttu-id="1ce96-280">Binden Sie die Daten erneut an den DataList.</span><span class="sxs-lookup"><span data-stu-id="1ce96-280">Rebind the data to the DataList.</span></span> <span data-ttu-id="1ce96-281">Da keine `DataListItem` `ItemIndex` es dem DataList-`EditItemIndex`entsprechen, wird der gesamte DataList in einem schreibgeschützten Modus gerendert.</span><span class="sxs-lookup"><span data-stu-id="1ce96-281">Since no `DataListItem` `ItemIndex` es correspond to the DataList s `EditItemIndex`, the entire DataList will be rendered in a read-only mode.</span></span>

<span data-ttu-id="1ce96-282">Die Schritte 1 und 2 sind dafür verantwortlich, die Benutzer Änderungen zu speichern. die Schritte 3 und 4 geben den DataList in den Zustand der vorabbearbeitung zurück, nachdem die Änderungen gespeichert wurden, und sind mit den im `CancelCommand` Ereignishandler ausgeführten Schritten identisch.</span><span class="sxs-lookup"><span data-stu-id="1ce96-282">Steps 1 and 2 are responsible for saving the user s changes; steps 3 and 4 return the DataList to its pre-editing state after the changes have been saved and are identical to the steps performed in the `CancelCommand` event handler.</span></span>

<span data-ttu-id="1ce96-283">Um den aktualisierten Produktnamen und Preis zu erhalten, müssen wir die `FindControl`-Methode verwenden, um Programm gesteuert auf die TextBox-websteuer Elemente innerhalb der `EditItemTemplate`zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-283">To get the updated product name and price, we need to use the `FindControl` method to programmatically reference the TextBox Web controls within the `EditItemTemplate`.</span></span> <span data-ttu-id="1ce96-284">Wir müssen auch die bearbeiteten Produkte `ProductID` Wert erhalten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-284">We also need to get the edited product s `ProductID` value.</span></span> <span data-ttu-id="1ce96-285">Bei der anfänglichen Bindung von ObjectDataSource an DataList hat Visual Studio dem Primärschlüssel Wert aus der Datenquelle (`ProductID`) die DataList s `DataKeyField`-Eigenschaft zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-285">When we initially bound the ObjectDataSource to the DataList, Visual Studio assigned the DataList s `DataKeyField` property to the primary key value from the data source (`ProductID`).</span></span> <span data-ttu-id="1ce96-286">Dieser Wert kann dann aus der DataList s-`DataKeys` Collection abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-286">This value can then be retrieved from the DataList s `DataKeys` collection.</span></span> <span data-ttu-id="1ce96-287">Nehmen Sie sich einen Moment Zeit, um sicherzustellen, dass die `DataKeyField` Eigenschaft tatsächlich auf `ProductID`festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="1ce96-287">Take a moment to ensure that the `DataKeyField` property is indeed set to `ProductID`.</span></span>

<span data-ttu-id="1ce96-288">Der folgende Code implementiert die vier Schritte:</span><span class="sxs-lookup"><span data-stu-id="1ce96-288">The following code implements the four steps:</span></span>

[!code-csharp[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="1ce96-289">Der Ereignishandler beginnt mit dem Lesen der bearbeiteten Product s `ProductID` aus der `DataKeys` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="1ce96-289">The event handler starts by reading in the edited product s `ProductID` from the `DataKeys` collection.</span></span> <span data-ttu-id="1ce96-290">Im nächsten Schritt werden die beiden Textfelder in der `EditItemTemplate` referenziert, und ihre `Text` Eigenschaften werden in den lokalen Variablen `productNameValue` und `unitPriceValue`gespeichert.</span><span class="sxs-lookup"><span data-stu-id="1ce96-290">Next, the two TextBoxes in the `EditItemTemplate` are referenced and their `Text` properties stored in local variables, `productNameValue` and `unitPriceValue`.</span></span> <span data-ttu-id="1ce96-291">Verwenden Sie die `Decimal.Parse()`-Methode, um den Wert aus dem `UnitPrice` Textfeld zu lesen, sodass der Wert, wenn der eingegebene Wert ein Währungssymbol aufweist, trotzdem ordnungsgemäß in einen `Decimal` Wert konvertiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="1ce96-291">We use the `Decimal.Parse()` method to read the value from the `UnitPrice` TextBox so that if the value entered has a currency symbol, it can still be correctly converted into a `Decimal` value.</span></span>

> [!NOTE]
> <span data-ttu-id="1ce96-292">Die Werte aus den Textfeldern `ProductName` und `UnitPrice` werden nur den Variablen productnamevalue und unitpricevalue zugewiesen, wenn für die Textfelder Texteigenschaften ein Wert angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="1ce96-292">The values from the `ProductName` and `UnitPrice` TextBoxes are only assigned to the productNameValue and unitPriceValue variables if the TextBoxes Text properties have a value specified.</span></span> <span data-ttu-id="1ce96-293">Andernfalls wird der Wert `Nothing` für die Variablen verwendet, wodurch die Daten mit einem Daten Bank `NULL` Wert aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="1ce96-293">Otherwise, a value of `Nothing` is used for the variables, which has the effect of updating the data with a database `NULL` value.</span></span> <span data-ttu-id="1ce96-294">Das heißt, der Code behandelt leere Zeichen folgen in Daten Bank `NULL` Werte. Dies ist das Standardverhalten der Bearbeitungs Schnittstelle in den GridView-, DetailsView-und FormView-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-294">That is, our code treats converts empty strings to database `NULL` values, which is the default behavior of the editing interface in the GridView, DetailsView, and FormView controls.</span></span>

<span data-ttu-id="1ce96-295">Nachdem Sie die Werte gelesen haben, wird die `ProductsBLL` Class s `UpdateProduct`-Methode aufgerufen, und der Name, der Preis und die `ProductID`des Produkts werden übergeben.</span><span class="sxs-lookup"><span data-stu-id="1ce96-295">After reading the values, the `ProductsBLL` class s `UpdateProduct` method is called, passing in the product s name, price, and `ProductID`.</span></span> <span data-ttu-id="1ce96-296">Der Ereignishandler wird beendet, indem der DataList mit exakt derselben Logik wie im `CancelCommand` Ereignishandler in den Zustand der vorabbearbeitung zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="1ce96-296">The event handler completes by returning the DataList to its pre-editing state using the exact same logic as in the `CancelCommand` event handler.</span></span>

<span data-ttu-id="1ce96-297">Mit den `EditCommand`-, `CancelCommand`-und `UpdateCommand` Ereignis Handlern kann ein Besucher den Namen und den Preis eines Produkts bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="1ce96-297">With the `EditCommand`, `CancelCommand`, and `UpdateCommand` event handlers complete, a visitor can edit the name and price of a product.</span></span> <span data-ttu-id="1ce96-298">In Abbildung 14-16 wird dieser Bearbeitungs Workflow in Aktion angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-298">Figures 14-16 show this editing workflow in action.</span></span>

<span data-ttu-id="1ce96-299">[![beim ersten Besuch der Seite befinden sich alle Produkte im schreibgeschützten Modus.](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image35.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-299">[![When First Visiting the Page, All Products are in Read-Only Mode](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image35.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image34.png)</span></span>

<span data-ttu-id="1ce96-300">**Abbildung 14**: beim ersten Besuch der Seite befinden sich alle Produkte im schreibgeschützten Modus ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="1ce96-300">**Figure 14**: When First Visiting the Page, All Products are in Read-Only Mode ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image36.png))</span></span>

<span data-ttu-id="1ce96-301">[Klicken Sie auf die Schaltfläche "Bearbeiten", ![Sie den Namen oder den Preis eines Produkts aktualisieren](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image38.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-301">[![To Update a Product s Name or Price, Click the Edit Button](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image38.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image37.png)</span></span>

<span data-ttu-id="1ce96-302">**Abbildung 15**: Klicken Sie auf die Schaltfläche "Bearbeiten" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image39.png)), um den Namen oder Preis eines Produkts zu aktualisieren</span><span class="sxs-lookup"><span data-stu-id="1ce96-302">**Figure 15**: To Update a Product s Name or Price, Click the Edit Button ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image39.png))</span></span>

<span data-ttu-id="1ce96-303">[Nachdem Sie den Wert geändert haben, klicken Sie auf aktualisieren, um zum schreibgeschützten Modus zurückzukehren. ![](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image41.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="1ce96-303">[![After Changing the Value, Click Update to Return to the Read-Only Mode](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image41.png)](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image40.png)</span></span>

<span data-ttu-id="1ce96-304">**Abbildung 16**: Nachdem Sie den Wert geändert haben, klicken Sie auf aktualisieren, um zum schreibgeschützten Modus zurückzukehren ([Klicken Sie, um das Bild in voller Größe anzuzeigen](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image42.png)).</span><span class="sxs-lookup"><span data-stu-id="1ce96-304">**Figure 16**: After Changing the Value, Click Update to Return to the Read-Only Mode ([Click to view full-size image](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/_static/image42.png))</span></span>

## <a name="step-7-adding-delete-capabilities"></a><span data-ttu-id="1ce96-305">Schritt 7: Hinzufügen von Löschfunktionen</span><span class="sxs-lookup"><span data-stu-id="1ce96-305">Step 7: Adding Delete Capabilities</span></span>

<span data-ttu-id="1ce96-306">Die Schritte zum Hinzufügen von Löschfunktionen zu einem DataList ähneln denen zum Hinzufügen von Bearbeitungsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-306">The steps for adding delete capabilities to a DataList are similar to those for adding editing capabilities.</span></span> <span data-ttu-id="1ce96-307">Kurz gesagt, wir müssen dem `ItemTemplate` eine Lösch Schaltfläche hinzufügen, die beim Klicken auf Folgendes angezeigt wird:</span><span class="sxs-lookup"><span data-stu-id="1ce96-307">In short, we need to add a Delete button to the `ItemTemplate` that, when clicked:</span></span>

1. <span data-ttu-id="1ce96-308">Liest die entsprechenden Product s `ProductID` über die `DataKeys` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="1ce96-308">Reads in the corresponding product s `ProductID` via the `DataKeys` collection.</span></span>
2. <span data-ttu-id="1ce96-309">Führt den Löschvorgang durch Aufrufen der `ProductsBLL` Class s `DeleteProduct`-Methode aus.</span><span class="sxs-lookup"><span data-stu-id="1ce96-309">Performs the delete by calling the `ProductsBLL` class s `DeleteProduct` method.</span></span>
3. <span data-ttu-id="1ce96-310">Bindet die Daten erneut an den DataList.</span><span class="sxs-lookup"><span data-stu-id="1ce96-310">Rebinds the data to the DataList.</span></span>

<span data-ttu-id="1ce96-311">Beginnen Sie, indem Sie dem `ItemTemplate`eine Lösch Schaltfläche hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-311">Let s start by adding a Delete button to the `ItemTemplate`.</span></span>

<span data-ttu-id="1ce96-312">Beim Klicken auf eine Schaltfläche, deren `CommandName` bearbeiten, aktualisieren oder Abbrechen ist, wird das DataList s `ItemCommand`-Ereignis zusammen mit einem zusätzlichen Ereignis ausgelöst (z. b. bei Verwendung von Edit wird auch das `EditCommand` Ereignis ausgelöst).</span><span class="sxs-lookup"><span data-stu-id="1ce96-312">When clicked, a Button whose `CommandName` is Edit, Update, or Cancel raises the DataList s `ItemCommand` event along with an additional event (for example, when using Edit the `EditCommand` event is raised as well).</span></span> <span data-ttu-id="1ce96-313">Entsprechend bewirkt jede Schaltfläche, jede Schaltfläche oder jedes ImageButton in der DataList, deren `CommandName`-Eigenschaft auf Delete festgelegt ist, das `DeleteCommand` Ereignis (zusammen mit `ItemCommand`).</span><span class="sxs-lookup"><span data-stu-id="1ce96-313">Similarly, any Button, LinkButton, or ImageButton in the DataList whose `CommandName` property is set to Delete causes the `DeleteCommand` event to fire (along with `ItemCommand`).</span></span>

<span data-ttu-id="1ce96-314">Fügen Sie eine Lösch Schaltfläche neben der Bearbeitungs Schaltfläche im `ItemTemplate`hinzu, und legen Sie dessen `CommandName`-Eigenschaft auf Löschen fest.</span><span class="sxs-lookup"><span data-stu-id="1ce96-314">Add a Delete button next to the Edit button in the `ItemTemplate`, setting its `CommandName` property to Delete.</span></span> <span data-ttu-id="1ce96-315">Nachdem Sie dieses Schaltflächen Steuerelement hinzugefügt haben, sollte die deklarative Syntax des DataList s `ItemTemplate` aussehen:</span><span class="sxs-lookup"><span data-stu-id="1ce96-315">After adding this Button control your DataList s `ItemTemplate` declarative syntax should look like:</span></span>

[!code-aspx[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample7.aspx)]

<span data-ttu-id="1ce96-316">Erstellen Sie als nächstes einen Ereignishandler für das DataList s `DeleteCommand`-Ereignis, indem Sie den folgenden Code verwenden:</span><span class="sxs-lookup"><span data-stu-id="1ce96-316">Next, create an event handler for the DataList s `DeleteCommand` event, using the following code:</span></span>

[!code-csharp[Main](an-overview-of-editing-and-deleting-data-in-the-datalist-cs/samples/sample8.cs)]

<span data-ttu-id="1ce96-317">Wenn Sie auf die Schaltfläche "Löschen" klicken, wird ein Postback ausgelöst und das Ereignis "DataList s `DeleteCommand`</span><span class="sxs-lookup"><span data-stu-id="1ce96-317">Clicking the Delete button causes a postback and fires the DataList s `DeleteCommand` event.</span></span> <span data-ttu-id="1ce96-318">Im-Ereignishandler wird auf den `ProductID` Wert, auf den geklickt wurde, von der `DataKeys` Auflistung aus zugegriffen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-318">In the event handler, the clicked product s `ProductID` value is accessed from the `DataKeys` collection.</span></span> <span data-ttu-id="1ce96-319">Im nächsten Schritt wird das Produkt durch Aufrufen der `DeleteProduct` Methode der `ProductsBLL`-Klasse gelöscht.</span><span class="sxs-lookup"><span data-stu-id="1ce96-319">Next, the product is deleted by calling the `ProductsBLL` class s `DeleteProduct` method.</span></span>

<span data-ttu-id="1ce96-320">Nach dem Löschen des Produkts ist es wichtig, dass die Daten erneut an den DataList (`DataList1.DataBind()`) gebunden werden, andernfalls zeigt der DataList weiterhin das Produkt an, das soeben gelöscht wurde.</span><span class="sxs-lookup"><span data-stu-id="1ce96-320">After deleting the product, it s important that we rebind the data to the DataList (`DataList1.DataBind()`), otherwise the DataList will continue to show the product that was just deleted.</span></span>

## <a name="summary"></a><span data-ttu-id="1ce96-321">Summary</span><span class="sxs-lookup"><span data-stu-id="1ce96-321">Summary</span></span>

<span data-ttu-id="1ce96-322">Obwohl das DataList-Steuerelemente nicht den Punkt hat und auf Bearbeitung und Löschung der Unterstützung durch das GridView-Steuerelemente klickt, kann es mit einem kurzen Code verbessert werden, um diese Funktionen einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-322">While the DataList lacks the point and click editing and deleting support enjoyed by the GridView, with a short bit of code it can be enhanced to include these features.</span></span> <span data-ttu-id="1ce96-323">In diesem Tutorial haben Sie erfahren, wie Sie eine zweispaltige Auflistung von Produkten erstellen, die gelöscht werden können und deren Name und Preis bearbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="1ce96-323">In this tutorial we saw how to create a two-column listing of products that could be deleted and whose name and price could be edited.</span></span> <span data-ttu-id="1ce96-324">Das Hinzufügen von Unterstützung für Bearbeitung und Löschung besteht darin, die entsprechenden websteuer Elemente in den `ItemTemplate` und `EditItemTemplate`einzuschließen, die entsprechenden Ereignishandler zu erstellen, die vom Benutzer eingegebenen und die Primärschlüssel Werte zu lesen und mit der Geschäftslogik Schicht zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="1ce96-324">Adding editing and deleting support is a matter of including the appropriate Web controls in the `ItemTemplate` and `EditItemTemplate`, creating the corresponding event handlers, reading the user-entered and primary key values, and interfacing with the Business Logic Layer.</span></span>

<span data-ttu-id="1ce96-325">Obwohl wir dem DataList grundlegende Bearbeitungs-und Löschfunktionen hinzugefügt haben, fehlen ihm erweiterte Funktionen.</span><span class="sxs-lookup"><span data-stu-id="1ce96-325">While we have added basic editing and deleting capabilities to the DataList, it lacks more advanced features.</span></span> <span data-ttu-id="1ce96-326">Beispielsweise gibt es keine Überprüfung des Eingabe Felds. Wenn ein Benutzer einen Preis zu teuer eingibt, wird eine Ausnahme von `Decimal.Parse` ausgelöst, wenn versucht wird, zu teuer in eine `Decimal`zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="1ce96-326">For example, there is no input field validation - if a user enters a price of Too expensive, an exception will be thrown by `Decimal.Parse` when attempting to convert Too expensive into a `Decimal`.</span></span> <span data-ttu-id="1ce96-327">Ebenso gilt: Wenn beim Aktualisieren der Daten in der Geschäftslogik oder bei Datenzugriffsebenen ein Problem auftritt, wird dem Benutzer der Standardfehler Bildschirm angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-327">Similarly, if there is a problem in updating the data at the Business Logic or Data Access Layers the user will be presented with the standard error screen.</span></span> <span data-ttu-id="1ce96-328">Ohne eine Bestätigung der Schaltfläche "Löschen" ist das versehentlich Löschen eines Produkts zu wahrscheinlich.</span><span class="sxs-lookup"><span data-stu-id="1ce96-328">Without any sort of confirmation on the Delete button, accidentally deleting a product is all too likely.</span></span>

<span data-ttu-id="1ce96-329">In zukünftigen Tutorials erfahren Sie, wie Sie die Benutzeroberflächen Bearbeitung verbessern.</span><span class="sxs-lookup"><span data-stu-id="1ce96-329">In future tutorials we'll see how to improve the editing user experience.</span></span>

<span data-ttu-id="1ce96-330">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="1ce96-330">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="1ce96-331">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="1ce96-331">About the Author</span></span>

<span data-ttu-id="1ce96-332">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="1ce96-332">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1ce96-333">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="1ce96-333">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1ce96-334">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1ce96-334">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1ce96-335">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1ce96-335">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="1ce96-336">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1ce96-336">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="1ce96-337">Besonders vielen Dank</span><span class="sxs-lookup"><span data-stu-id="1ce96-337">Special Thanks To</span></span>

<span data-ttu-id="1ce96-338">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="1ce96-338">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1ce96-339">Lead Prüfer für dieses Tutorial waren Zack Jones, Ken pespisa und Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="1ce96-339">Lead reviewers for this tutorial were Zack Jones, Ken Pespisa, and Randy Schmidt.</span></span> <span data-ttu-id="1ce96-340">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="1ce96-340">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="1ce96-341">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1ce96-341">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="1ce96-342">Nächste</span><span class="sxs-lookup"><span data-stu-id="1ce96-342">Next</span></span>](performing-batch-updates-cs.md)
