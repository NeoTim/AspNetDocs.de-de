---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
title: Anpassen von DataList-Steuerelement des bearbeiten-Schnittstelle (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial erstellen wir eine umfangreichere Benutzeroberfläche für die Bearbeitung für DataList-Steuerelement, eine, die DropDownList-Steuerelementen und ein Kontrollkästchen enthält.
ms.author: riande
ms.date: 10/30/2006
ms.assetid: a5d13067-ddfb-4c36-8209-0f69fd40e45c
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: 7f7723895dd50b1923de49ca4a3a7055bbad5fe4
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/01/2019
ms.locfileid: "57078549"
---
<a name="customizing-the-datalists-editing-interface-c"></a><span data-ttu-id="f02de-103">Anpassen der Oberfläche für die Bearbeitung von DataList (C#)</span><span class="sxs-lookup"><span data-stu-id="f02de-103">Customizing the DataList's Editing Interface (C#)</span></span>
====================
<span data-ttu-id="f02de-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="f02de-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="f02de-105">[Beispiel-App herunter](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe) oder [PDF-Datei herunterladen](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="f02de-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe) or [Download PDF](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span></span>

> <span data-ttu-id="f02de-106">In diesem Tutorial erstellen wir eine umfangreichere Benutzeroberfläche für die Bearbeitung für DataList-Steuerelement, eine, die DropDownList-Steuerelementen und ein Kontrollkästchen enthält.</span><span class="sxs-lookup"><span data-stu-id="f02de-106">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span>


## <a name="introduction"></a><span data-ttu-id="f02de-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="f02de-107">Introduction</span></span>

<span data-ttu-id="f02de-108">Markup und Websteuerelemente im DataList-Steuerelement s `EditItemTemplate` definieren die Schnittstelle bearbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="f02de-108">The markup and Web controls in the DataList s `EditItemTemplate` define its editable interface.</span></span> <span data-ttu-id="f02de-109">In allen Beispielen DataList-Steuerelement bearbeitet werden wir haben überprüft, die bearbeitbare Schnittstelle verfügt über bestehend aus TextBox-Websteuerelemente wurde.</span><span class="sxs-lookup"><span data-stu-id="f02de-109">In all of the editable DataList examples we ve examined thus far, the editable interface has been composed of TextBox Web controls.</span></span> <span data-ttu-id="f02de-110">In der [vorherigen Lernprogramm](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md) wir verbessert die Bearbeitungszeit Benutzeroberfläche durch Hinzufügen von Validierungssteuerelementen.</span><span class="sxs-lookup"><span data-stu-id="f02de-110">In the [preceding tutorial](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md) we improved the edit-time user experience by adding validation controls.</span></span>

<span data-ttu-id="f02de-111">Die `EditItemTemplate` Weiter um Websteuerelemente als das Textfeld ein, z. B. DropDownList-Steuerelementen, RadioButtonList, Kalender, erweitert werden kann und so weiter.</span><span class="sxs-lookup"><span data-stu-id="f02de-111">The `EditItemTemplate` can be further expanded to include Web controls other than the TextBox, such as DropDownLists, RadioButtonLists, Calendars, and so on.</span></span> <span data-ttu-id="f02de-112">Wie bei der Textfelder ein, wenn die Bearbeitung-Schnittstelle, um andere Websteuerelemente anpassen, verwenden Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="f02de-112">As with TextBoxes, when customizing the editing interface to include other Web controls, employ the following steps:</span></span>

1. <span data-ttu-id="f02de-113">Fügen Sie das Web-Steuerelement, um die `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="f02de-113">Add the Web control to the `EditItemTemplate`.</span></span>
2. <span data-ttu-id="f02de-114">Verwenden Sie Databinding-Syntax, um die entsprechende Eigenschaft den Wert im entsprechenden Datenfeld zuweisen.</span><span class="sxs-lookup"><span data-stu-id="f02de-114">Use databinding syntax to assign the corresponding data field value to the appropriate property.</span></span>
3. <span data-ttu-id="f02de-115">In der `UpdateCommand` programmgesteuerten Zugriff auf die Web-Ereignishandler Steuerelementwert, und übergeben dieses an die entsprechende BLL-Methode.</span><span class="sxs-lookup"><span data-stu-id="f02de-115">In the `UpdateCommand` event handler, programmatically access the Web control value and pass it into the appropriate BLL method.</span></span>

<span data-ttu-id="f02de-116">In diesem Tutorial erstellen wir eine umfangreichere Benutzeroberfläche für die Bearbeitung für DataList-Steuerelement, eine, die DropDownList-Steuerelementen und ein Kontrollkästchen enthält.</span><span class="sxs-lookup"><span data-stu-id="f02de-116">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span> <span data-ttu-id="f02de-117">Wir erstellen vor allem einem DataList-Steuerelement, die Produktinformationen enthält, und ermöglicht die s Produktname, Lieferanten, Kategorie, und nicht mehr unterstützte Status aktualisiert werden (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="f02de-117">In particular, we'll create a DataList that lists product information and permits the product s name, supplier, category, and discontinued status to be updated (see Figure 1).</span></span>


<span data-ttu-id="f02de-118">[![Die Bearbeitungsschnittstelle enthält ein Textfeld, zwei DropDownList-Steuerelementen und ein Kontrollkästchen](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-118">[![The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="f02de-119">**Abbildung 1**: Die bearbeiten-Schnittstelle enthält ein Textfeld, zwei DropDownList-Steuerelementen und ein Kontrollkästchen ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-119">**Figure 1**: The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image3.png))</span></span>


## <a name="step-1-displaying-product-information"></a><span data-ttu-id="f02de-120">Schritt 1: Anzeigen von Produktinformationen</span><span class="sxs-lookup"><span data-stu-id="f02de-120">Step 1: Displaying Product Information</span></span>

<span data-ttu-id="f02de-121">Bevor wir den bearbeitbaren DataList-s-Schnittstelle erstellen können, müssen wir zuerst die schreibgeschützte Schnittstelle zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f02de-121">Before we can create the DataList s editable interface, we first need to build the read-only interface.</span></span> <span data-ttu-id="f02de-122">Öffnen Sie zunächst die `CustomizedUI.aspx` Seite die `EditDeleteDataList` Ordner und Designer fügen Sie einem DataList-Steuerelement auf der Seite festlegen seiner `ID` Eigenschaft `Products`.</span><span class="sxs-lookup"><span data-stu-id="f02de-122">Start by opening the `CustomizedUI.aspx` page from the `EditDeleteDataList` folder and, from the Designer, add a DataList to the page, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="f02de-123">Erstellen Sie über DataList s Smarttags eine neue "ObjectDataSource".</span><span class="sxs-lookup"><span data-stu-id="f02de-123">From the DataList s smart tag, create a new ObjectDataSource.</span></span> <span data-ttu-id="f02de-124">Nennen Sie diese neue "ObjectDataSource" `ProductsDataSource` und konfigurieren Sie ihn zum Abrufen von Daten aus der `ProductsBLL` Klasse s `GetProducts` Methode.</span><span class="sxs-lookup"><span data-stu-id="f02de-124">Name this new ObjectDataSource `ProductsDataSource` and configure it to retrieve data from the `ProductsBLL` class s `GetProducts` method.</span></span> <span data-ttu-id="f02de-125">Als mit den vorherigen bearbeitbaren DataList-Tutorials aktualisieren die bearbeitete s Produktinformationen wir dazu direkt auf der Geschäftslogikebene.</span><span class="sxs-lookup"><span data-stu-id="f02de-125">As with the previous editable DataList tutorials, we'll update the edited product s information by going directly to the Business Logic Layer.</span></span> <span data-ttu-id="f02de-126">Entsprechend, legen Sie die Dropdownlisten in der Update-, INSERT-, ein, und löschen Sie die Registerkarten (keine).</span><span class="sxs-lookup"><span data-stu-id="f02de-126">Accordingly, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None).</span></span>


<span data-ttu-id="f02de-127">[![Legen Sie die Update-, INSERT- und DELETE-Registerkarten Dropdownlisten auf (keine)](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-127">[![Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None)](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="f02de-128">**Abbildung 2**: Update-, INSERT- und DELETE Registerkarten Dropdownlisten auf (keine) festgelegt ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-128">**Figure 2**: Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None) ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image6.png))</span></span>


<span data-ttu-id="f02de-129">Nach der Konfiguration dem ObjectDataSource-Steuerelement, erstellt Visual Studio einen Standard- `ItemTemplate` für DataList-Steuerelement, das den Namen und Wert für die einzelnen Datenfelder aufgeführt zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="f02de-129">After configuring the ObjectDataSource, Visual Studio will create a default `ItemTemplate` for the DataList that lists the name and value for each of the data fields returned.</span></span> <span data-ttu-id="f02de-130">Ändern der `ItemTemplate` , damit die Vorlage den Produktnamen in führt ein `<h4>` -Elements zusammen mit den Kategorienamen, Lieferantenname, Preis und nicht mehr unterstützte Status.</span><span class="sxs-lookup"><span data-stu-id="f02de-130">Modify the `ItemTemplate` so that the template lists the product name in an `<h4>` element along with the category name, supplier name, price, and discontinued status.</span></span> <span data-ttu-id="f02de-131">Darüber hinaus fügen eine Bearbeiten-Schaltfläche, die sicherstellen, dass die `CommandName` -Eigenschaftensatz auf Bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="f02de-131">Moreover, add an Edit button, making sure that its `CommandName` property is set to Edit.</span></span> <span data-ttu-id="f02de-132">Deklarativen Markup für meine `ItemTemplate` folgt:</span><span class="sxs-lookup"><span data-stu-id="f02de-132">The declarative markup for my `ItemTemplate` follows:</span></span>


[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="f02de-133">Das obenstehende Markup zeigt die Produkt-Informationen mithilfe einer &lt;h4&gt; Überschrift für den Namen des Produkts s und eine vierspaltige `<table>` für die verbleibenden Felder.</span><span class="sxs-lookup"><span data-stu-id="f02de-133">The above markup lays out the product information using an &lt;h4&gt; heading for the product s name and a four-column `<table>` for the remaining fields.</span></span> <span data-ttu-id="f02de-134">Die `ProductPropertyLabel` und `ProductPropertyValue` CSS-Klassen, die in definierten `Styles.css`, wurde in vorherigen Tutorials erläutert wurde.</span><span class="sxs-lookup"><span data-stu-id="f02de-134">The `ProductPropertyLabel` and `ProductPropertyValue` CSS classes, defined in `Styles.css`, have been discussed in previous tutorials.</span></span> <span data-ttu-id="f02de-135">Abbildung 3 zeigt unseren Fortschritt, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="f02de-135">Figure 3 shows our progress when viewed through a browser.</span></span>


<span data-ttu-id="f02de-136">[![Der Name, Lieferanten, Kategorie, Status nicht mehr unterstützt und Preis jedes Produkt wird angezeigt.](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-136">[![The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span></span>

<span data-ttu-id="f02de-137">**Abbildung 3**: Der Name, Lieferanten, Kategorie, Status nicht mehr unterstützt und Preis jedes Produkt angezeigt wird ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-137">**Figure 3**: The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image9.png))</span></span>


## <a name="step-2-adding-the-web-controls-to-the-editing-interface"></a><span data-ttu-id="f02de-138">Schritt 2: Die Bearbeitungsschnittstelle hinzugefügt Websteuerelemente</span><span class="sxs-lookup"><span data-stu-id="f02de-138">Step 2: Adding the Web Controls to the Editing Interface</span></span>

<span data-ttu-id="f02de-139">Der erste Schritt bei der Erstellung von benutzerdefinierten DataList-Steuerelement ist, Hinzufügen der erforderlichen Web-Steuerelemente zum Bearbeiten-Schnittstelle der `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="f02de-139">The first step in building the customized DataList editing interface is to add the needed Web controls to the `EditItemTemplate`.</span></span> <span data-ttu-id="f02de-140">Insbesondere benötigen wir eine DropDownList für die Kategorie für den Lieferanten und in der ein Kontrollkästchen für den nicht mehr unterstützte Status.</span><span class="sxs-lookup"><span data-stu-id="f02de-140">In particular, we need a DropDownList for the category, another for the supplier, and a CheckBox for the discontinued state.</span></span> <span data-ttu-id="f02de-141">Da Produktpreis s nicht bearbeitet werden, in diesem Beispiel ist, können wir weiterhin, verwenden ein Label-Steuerelement anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="f02de-141">Since the product s price is not editable in this example, we can continue displaying it using a Label Web control.</span></span>

<span data-ttu-id="f02de-142">Wenn die Bearbeitungsschnittstelle anpassen möchten, klicken Sie auf den Link "Vorlagen bearbeiten" aus dem DataList-s-Smarttag, und wählen Sie die `EditItemTemplate` Option in der Dropdown-Liste.</span><span class="sxs-lookup"><span data-stu-id="f02de-142">To customize the editing interface, click on the Edit Templates link from the DataList s smart tag and choose the `EditItemTemplate` option from the drop-down list.</span></span> <span data-ttu-id="f02de-143">Fügen Sie einem DropDownList-Steuerelement, das `EditItemTemplate` und legen Sie seine `ID` zu `Categories`.</span><span class="sxs-lookup"><span data-stu-id="f02de-143">Add a DropDownList to the `EditItemTemplate` and set its `ID` to `Categories`.</span></span>


<span data-ttu-id="f02de-144">[![Fügen Sie einer DropDownList für die Kategorien hinzu.](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-144">[![Add a DropDownList for the Categories](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span></span>

<span data-ttu-id="f02de-145">**Abbildung 4**: Hinzufügen eine DropDownList für die Kategorien ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-145">**Figure 4**: Add a DropDownList for the Categories ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image12.png))</span></span>


<span data-ttu-id="f02de-146">Als nächstes wählen Sie aus DropDownList s Smarttags, die Option für die Datenquelle auswählen und erstellen Sie eine neue, mit dem Namen "ObjectDataSource" `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="f02de-146">Next, from the DropDownList s smart tag, select the Choose Data Source option and create a new ObjectDataSource named `CategoriesDataSource`.</span></span> <span data-ttu-id="f02de-147">Konfigurieren Sie diese "ObjectDataSource" Verwenden der `CategoriesBLL` Klasse s `GetCategories()` Methode (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="f02de-147">Configure this ObjectDataSource to use the `CategoriesBLL` class s `GetCategories()` method (see Figure 5).</span></span> <span data-ttu-id="f02de-148">Im nächsten Schritt die DropDownList-s für die Datenfelder für jeden Assistenten zur Datenquellenkonfiguration fordert `ListItem` s `Text` und `Value` Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="f02de-148">Next, the DropDownList s Data Source Configuration Wizard prompts for the data fields to use for each `ListItem` s `Text` and `Value` properties.</span></span> <span data-ttu-id="f02de-149">Haben Sie die DropDownList-Anzeige der `CategoryName` Feld "Daten" und die Verwendung der `CategoryID` als der Wert, wie in Abbildung 6 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="f02de-149">Have the DropDownList display the `CategoryName` data field and use the `CategoryID` as the value, as shown in Figure 6.</span></span>


<span data-ttu-id="f02de-150">[![Erstellen Sie eine neue, mit dem Namen CategoriesDataSource "ObjectDataSource"](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-150">[![Create a New ObjectDataSource Named CategoriesDataSource](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span></span>

<span data-ttu-id="f02de-151">**Abbildung 5**: Erstellen Sie eine neue "ObjectDataSource" mit dem Namen `CategoriesDataSource` ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-151">**Figure 5**: Create a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image15.png))</span></span>


<span data-ttu-id="f02de-152">[![Konfigurieren der DropDownList-s-Anzeige und der Wert der Felder](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-152">[![Configure the DropDownList s Display and Value Fields](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span></span>

<span data-ttu-id="f02de-153">**Abbildung 6**: Konfigurieren Sie die DropDownList s anzeigen und den Feldern ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-153">**Figure 6**: Configure the DropDownList s Display and Value Fields ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image18.png))</span></span>


<span data-ttu-id="f02de-154">Wiederholen Sie diese Abfolge der Schritte zum Erstellen einer DropDownList für die Lieferanten.</span><span class="sxs-lookup"><span data-stu-id="f02de-154">Repeat this series of steps to create a DropDownList for the suppliers.</span></span> <span data-ttu-id="f02de-155">Legen Sie die `ID` für diese DropDownList, `Suppliers` und nennen Sie die "ObjectDataSource" `SuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="f02de-155">Set the `ID` for this DropDownList to `Suppliers` and name its ObjectDataSource `SuppliersDataSource`.</span></span>

<span data-ttu-id="f02de-156">Fügen Sie nach dem Hinzufügen der zwei DropDownList-Steuerelementen, die ein Kontrollkästchen für den Status nicht mehr unterstützte und ein Textfeld für den Namen des Produkts s hinzu.</span><span class="sxs-lookup"><span data-stu-id="f02de-156">After adding the two DropDownLists, add a CheckBox for the discontinued state and a TextBox for the product s name.</span></span> <span data-ttu-id="f02de-157">Legen Sie die `ID` s für die Kontrollkästchen und Textfeldern nicht das für `Discontinued` und `ProductName`bzw.</span><span class="sxs-lookup"><span data-stu-id="f02de-157">Set the `ID` s for the CheckBox and TextBox to `Discontinued` and `ProductName`, respectively.</span></span> <span data-ttu-id="f02de-158">Fügen Sie einen RequiredFieldValidator, um sicherzustellen, dass der Benutzer einen Wert für den Namen des Produkts s bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="f02de-158">Add a RequiredFieldValidator to ensure that the user provides a value for the product s name.</span></span>

<span data-ttu-id="f02de-159">Abschließend fügen Sie die Schaltflächen Update und "Abbrechen".</span><span class="sxs-lookup"><span data-stu-id="f02de-159">Lastly, add the Update and Cancel buttons.</span></span> <span data-ttu-id="f02de-160">Beachten Sie, dass dieser beiden Schaltflächen es unumgänglich ist, deren `CommandName` Eigenschaften aktualisieren und stornieren, bzw. festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="f02de-160">Remember that for these two buttons it is imperative that their `CommandName` properties are set to Update and Cancel, respectively.</span></span>

<span data-ttu-id="f02de-161">Können Sie die Bearbeitungsschnittstelle Layout beliebig.</span><span class="sxs-lookup"><span data-stu-id="f02de-161">Feel free to lay out the editing interface however you like.</span></span> <span data-ttu-id="f02de-162">Ich haben sich entschieden, den gleichen vier Spalten `<table>` Layout aus der nur-Lese Schnittstelle, wie die folgende deklarative Syntax und den Screenshot veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="f02de-162">I ve opted to use the same four-column `<table>` layout from the read-only interface, as the following declarative syntax and screen shot illustrates:</span></span>


[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample2.aspx)]


<span data-ttu-id="f02de-163">[![Die bearbeiten-Schnittstelle ist, das Layout, wie die Read-Only-Schnittstelle](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-163">[![The Editing Interface is Laid Out like the Read-Only Interface](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span></span>

<span data-ttu-id="f02de-164">**Abbildung 7**: Die bearbeiten-Schnittstelle ist, das Layout, wie die Read-Only-Schnittstelle ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-164">**Figure 7**: The Editing Interface is Laid Out like the Read-Only Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image21.png))</span></span>


## <a name="step-3-creating-the-editcommand-and-cancelcommand-event-handlers"></a><span data-ttu-id="f02de-165">Schritt 3: Erstellen der EditCommand und CancelCommand-Ereignishandler</span><span class="sxs-lookup"><span data-stu-id="f02de-165">Step 3: Creating the EditCommand and CancelCommand Event Handlers</span></span>

<span data-ttu-id="f02de-166">Derzeit besteht keine Databinding-Syntax in der `EditItemTemplate` (mit Ausnahme der `UnitPriceLabel`, die kopiert wurde über wörtlich der `ItemTemplate`).</span><span class="sxs-lookup"><span data-stu-id="f02de-166">Currently, there is no databinding syntax in the `EditItemTemplate` (except for the `UnitPriceLabel`, which was copied over verbatim from the `ItemTemplate`).</span></span> <span data-ttu-id="f02de-167">Wir fügen die Datenbindungssyntax vorübergehend, aber zunächst mitteilen s erstellen die Ereignishandler für das DataList s `EditCommand` und `CancelCommand` Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="f02de-167">We'll add the databinding syntax momentarily, but first let s create the event handlers for the DataList s `EditCommand` and `CancelCommand` events.</span></span> <span data-ttu-id="f02de-168">Bedenken Sie, dass die Verantwortung für die `EditCommand` -Ereignishandler ist, um die Bearbeitungsschnittstelle für das DataList-Element, dessen Schaltfläche "Bearbeiten" geklickt wurde, zu rendern, während die `CancelCommand` s Aufgabe besteht darin, DataList-Steuerelement in den Zustand vor der Bearbeitung zurück.</span><span class="sxs-lookup"><span data-stu-id="f02de-168">Recall that the responsibility of the `EditCommand` event handler is to render the editing interface for the DataList item whose Edit button was clicked, whereas the `CancelCommand` s job is to return the DataList to its pre-editing state.</span></span>

<span data-ttu-id="f02de-169">Erstellen Sie diese zwei Ereignishandler, und Sie den folgenden Code verwenden:</span><span class="sxs-lookup"><span data-stu-id="f02de-169">Create these two event handlers and have them use the following code:</span></span>


[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample3.cs)]

<span data-ttu-id="f02de-170">Mit diesen zwei Ereignishandler vorhanden, die Sie auf die Schaltfläche "Bearbeiten" die Benutzeroberfläche der Bearbeitung angezeigt werden, und klicken auf die Schaltfläche "Abbrechen", die nur-Lese Modus gibt das bearbeitete Element zurück.</span><span class="sxs-lookup"><span data-stu-id="f02de-170">With these two event handlers in place, clicking the Edit button displays the editing interface and clicking the Cancel button returns the edited item to its read-only mode.</span></span> <span data-ttu-id="f02de-171">Abbildung 8 zeigt DataList-Steuerelement aus, nachdem auf die Schaltfläche "Bearbeiten" für Chef Anton s Gumbo Mix geklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="f02de-171">Figure 8 shows the DataList after the Edit button has been clicked for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="f02de-172">Seit wir Ve noch hinzuzufügende jede Databinding-Syntax die bearbeiten-Schnittstelle, die `ProductName` Textfeld leer ist, ist der `Discontinued` deaktiviert und die ersten Elemente ausgewählt werden, aus der `Categories` und `Suppliers` DropDownList-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="f02de-172">Since we ve yet to add any databinding syntax to the editing interface, the `ProductName` TextBox is blank, the `Discontinued` CheckBox unchecked, and the first items selected from the `Categories` and `Suppliers` DropDownLists.</span></span>


<span data-ttu-id="f02de-173">[![Klicken Sie auf das Bearbeiten-Schaltfläche zeigt die Bearbeitungsschnittstelle](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-173">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span></span>

<span data-ttu-id="f02de-174">**Abbildung 8**: Klicken Sie auf die Schaltfläche "Bearbeiten" zeigt die bearbeiten-Schnittstelle ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-174">**Figure 8**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image24.png))</span></span>


## <a name="step-4-adding-the-databinding-syntax-to-the-editing-interface"></a><span data-ttu-id="f02de-175">Schritt 4: Die Bearbeitungsschnittstelle hinzugefügt die DataBinding-Syntax</span><span class="sxs-lookup"><span data-stu-id="f02de-175">Step 4: Adding the DataBinding Syntax to the Editing Interface</span></span>

<span data-ttu-id="f02de-176">Um die Bearbeitungsschnittstelle Anzeigen der aktuellen Produkt-s-Werte zu erhalten, müssen wir Databinding-Syntax verwenden, um die entsprechenden Werte der Web-Steuerelement die Datenfeldwerte zuweisen.</span><span class="sxs-lookup"><span data-stu-id="f02de-176">To have the editing interface display the current product s values, we need to use databinding syntax to assign the data field values to the appropriate Web control values.</span></span> <span data-ttu-id="f02de-177">Die Databinding-Syntax kann über den Designer angewendet werden, indem Sie auf dem Bildschirm Vorlagen bearbeiten aus, und wählen Sie den DataBindings bearbeiten-Link aus dem Web Smarttags steuert.</span><span class="sxs-lookup"><span data-stu-id="f02de-177">The databinding syntax can be applied through the Designer by going to the Edit Templates screen and selecting the Edit DataBindings link from the Web controls smart tags.</span></span> <span data-ttu-id="f02de-178">Alternativ kann die Datenbindungssyntax direkt mit der deklarativen Markup hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="f02de-178">Alternatively, the databinding syntax can be added directly to the declarative markup.</span></span>

<span data-ttu-id="f02de-179">Zuweisen der `ProductName` Datenfeld Wert, der die `ProductName` Textfeld s `Text` -Eigenschaft, die `CategoryID` und `SupplierID` -Datenfeldwerte, um die `Categories` und `Suppliers` DropDownList-Steuerelementen `SelectedValue` Eigenschaften, und die `Discontinued` Datenfeld Wert, der die `Discontinued` Kontrollkästchen s `Checked` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="f02de-179">Assign the `ProductName` data field value to the `ProductName` TextBox s `Text` property, the `CategoryID` and `SupplierID` data field values to the `Categories` and `Suppliers` DropDownLists `SelectedValue` properties, and the `Discontinued` data field value to the `Discontinued` CheckBox s `Checked` property.</span></span> <span data-ttu-id="f02de-180">Nach dem vornehmen dieser Änderungen werden entweder mithilfe des Designers oder direkt über die deklaratives Markup, die Seite über einen Browser, und klicken Sie auf die Schaltfläche "Bearbeiten" für Chef Anton s Gumbo kombinieren.</span><span class="sxs-lookup"><span data-stu-id="f02de-180">After making these changes, either through the Designer or directly through the declarative markup, revisit the page through a browser and click the Edit button for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="f02de-181">Wie in Abbildung 9 gezeigt, wurde die Datenbindungssyntax die aktuellen Werte in das Textfeld, DropDownList-Steuerelementen, und das Kontrollkästchen hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="f02de-181">As Figure 9 shows, the databinding syntax has added the current values into the TextBox, DropDownLists, and CheckBox.</span></span>


<span data-ttu-id="f02de-182">[![Klicken Sie auf das Bearbeiten-Schaltfläche zeigt die Bearbeitungsschnittstelle](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-182">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span></span>

<span data-ttu-id="f02de-183">**Abbildung 9**: Klicken Sie auf die Schaltfläche "Bearbeiten" zeigt die bearbeiten-Schnittstelle ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-183">**Figure 9**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image27.png))</span></span>


## <a name="step-5-saving-the-user-s-changes-in-the-updatecommand-event-handler"></a><span data-ttu-id="f02de-184">Schritt 5: Speichern die Benutzer s Änderungen im UpdateCommand-Ereignishandler</span><span class="sxs-lookup"><span data-stu-id="f02de-184">Step 5: Saving the User s Changes in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="f02de-185">Wenn der Benutzer ein Produkt bearbeitet und klickt auf die Schaltfläche "Aktualisieren", einem Postback und DataList-Steuerelement s `UpdateCommand` -Ereignis ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="f02de-185">When the user edits a product and clicks the Update button, a postback occurs and the DataList s `UpdateCommand` event fires.</span></span> <span data-ttu-id="f02de-186">In dieser Handler auf, müssen wir die Websteuerelemente im Lesen der Werte der `EditItemTemplate` und Schnittstelle mit der BLL, die das Produkt in der Datenbank zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="f02de-186">In the event handler, we need to read the values from the Web controls in the `EditItemTemplate` and interface with the BLL to update the product in the database.</span></span> <span data-ttu-id="f02de-187">Als wir finden Sie in vorherigen Tutorials haben die `ProductID` des aktualisierten Produkts wird über die `DataKeys` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="f02de-187">As we ve seen in previous tutorials, the `ProductID` of the updated product is accessible through the `DataKeys` collection.</span></span> <span data-ttu-id="f02de-188">Die Felder der freien Eingabe erfolgt durch Programmgesteuertes Verweisen auf die Web-Steuerelemente, die unter Verwendung `FindControl("controlID")`, wie der folgende Code zeigt:</span><span class="sxs-lookup"><span data-stu-id="f02de-188">The user-entered fields are accessed by programmatically referencing the Web controls using `FindControl("controlID")`, as the following code shows:</span></span>


[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample4.cs)]

<span data-ttu-id="f02de-189">Der Code von consulting beginnt die `Page.IsValid` Eigenschaft, um sicherzustellen, dass alle Validierungssteuerelemente auf der Seite gültig sind.</span><span class="sxs-lookup"><span data-stu-id="f02de-189">The code starts out by consulting the `Page.IsValid` property to ensure that all the validation controls on the page are valid.</span></span> <span data-ttu-id="f02de-190">Wenn `Page.IsValid` ist `True`, das bearbeitete Produkt s `ProductID` aus gelesene Wert der `DataKeys` Sammlung und die Dateneingabe, in websteuerungselemente der `EditItemTemplate` programmgesteuert auf die verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="f02de-190">If `Page.IsValid` is `True`, the edited product s `ProductID` value is read from the `DataKeys` collection and the data entry Web controls in the `EditItemTemplate` are programmatically referenced.</span></span> <span data-ttu-id="f02de-191">Als Nächstes werden die Werte aus dieser Websteuerelemente gelesen, in der Variablen, die anschließend in die entsprechenden übergeben werden `UpdateProduct` überladen.</span><span class="sxs-lookup"><span data-stu-id="f02de-191">Next, the values from these Web controls are read into variables that are then passed into the appropriate `UpdateProduct` overload.</span></span> <span data-ttu-id="f02de-192">Nach dem Aktualisieren der Daten, DataList-Steuerelement in den Zustand vor der Bearbeitung zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="f02de-192">After updating the data, the DataList is returned to its pre-editing state.</span></span>

> [!NOTE]
> <span data-ttu-id="f02de-193">Ich Ve weggelassen, wird der Ausnahmebehandlungslogik in hinzugefügt der [behandeln Geschäftslogikschicht und Ausnahmen auf DAL-Ebene](handling-bll-and-dal-level-exceptions-cs.md) Tutorial damit bleibt der Code und in diesem Beispiel konzentriert sich.</span><span class="sxs-lookup"><span data-stu-id="f02de-193">I ve omitted the exception handling logic added in the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md) tutorial in order to keep the code and this example focused.</span></span> <span data-ttu-id="f02de-194">Fügen Sie nach Abschluss dieses Lernprogramms diese Funktionalität hinzu, als Übung.</span><span class="sxs-lookup"><span data-stu-id="f02de-194">As an exercise, add this functionality after completing this tutorial.</span></span>


## <a name="step-6-handling-null-categoryid-and-supplierid-values"></a><span data-ttu-id="f02de-195">Schritt 6: Behandeln von NULL CategoryID und SupplierID Werte</span><span class="sxs-lookup"><span data-stu-id="f02de-195">Step 6: Handling NULL CategoryID and SupplierID Values</span></span>

<span data-ttu-id="f02de-196">Die Northwind-Datenbank ermöglicht `NULL` Werte für die `Products` Tabelle s `CategoryID` und `SupplierID` Spalten.</span><span class="sxs-lookup"><span data-stu-id="f02de-196">The Northwind database allows for `NULL` values for the `Products` table s `CategoryID` and `SupplierID` columns.</span></span> <span data-ttu-id="f02de-197">Unsere Bearbeitung Schnittstelle t jedoch derzeit zu berücksichtigen `NULL` Werte.</span><span class="sxs-lookup"><span data-stu-id="f02de-197">However, our editing interface doesn t currently accommodate `NULL` values.</span></span> <span data-ttu-id="f02de-198">Wenn wir versuchen, ein Produkt zu bearbeiten, verfügt eine `NULL` Wert entweder die `CategoryID` oder `SupplierID` Spalten, wir kommen ein `ArgumentOutOfRangeException` mit einer Fehlermeldung ähnelt: *"Kategorien" verfügt über eine SelectedValue, das ungültig ist, da sie in der Liste der Elemente nicht vorhanden ist.*</span><span class="sxs-lookup"><span data-stu-id="f02de-198">If we attempt to edit a product that has a `NULL` value for either its `CategoryID` or `SupplierID` columns, we'll get an `ArgumentOutOfRangeException` with an error message similar to: *'Categories' has a SelectedValue which is invalid because it does not exist in the list of items.*</span></span> <span data-ttu-id="f02de-199">Darüber hinaus gibt es s derzeit keine Möglichkeit, eine Produktkategorie s oder Lieferanten ändern Wert nicht von einem`NULL` -Werts in einen `NULL` eine.</span><span class="sxs-lookup"><span data-stu-id="f02de-199">Also, there s currently no way to change a product s category or supplier value from a non-`NULL` value to a `NULL` one.</span></span>

<span data-ttu-id="f02de-200">Zur Unterstützung `NULL` Werte für die Kategorie und Lieferanten DropDownList-Steuerelementen, wir müssen einen zusätzlichen `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="f02de-200">To support `NULL` values for the category and supplier DropDownLists, we need to add an additional `ListItem`.</span></span> <span data-ttu-id="f02de-201">Ich Ve ausgewählt (keine) als der `Text` Wert für diesen `ListItem`, aber Sie können diese auf etwas anderes (z. B. eine leere Zeichenfolge) ändern, wenn d gewünscht.</span><span class="sxs-lookup"><span data-stu-id="f02de-201">I ve chosen to use (None) as the `Text` value for this `ListItem`, but you can change it to something else (such as an empty string) if you d like.</span></span> <span data-ttu-id="f02de-202">Schließlich müssen die DropDownList-Steuerelementen festgelegt `AppendDataBoundItems` zu `True`; Wenn Sie es vergessen, die Kategorien und Lieferanten zu DropDownList gebunden, die statisch hinzugefügt überschrieben werden `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="f02de-202">Finally, remember to set the DropDownLists `AppendDataBoundItems` to `True`; if you forget to do so, the categories and suppliers bound to the DropDownList will overwrite the statically-added `ListItem`.</span></span>

<span data-ttu-id="f02de-203">Nach diesen Änderungen, die DropDownList-Steuerelementen Markup im DataList-Steuerelement s `EditItemTemplate` sollte etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="f02de-203">After making these changes, the DropDownLists markup in the DataList s `EditItemTemplate` should look similar to the following:</span></span>


[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample5.aspx)]

> [!NOTE]
> <span data-ttu-id="f02de-204">Statische `ListItem` s einer DropDownList mithilfe des Designers oder direkt über die deklarative Syntax hinzugefügt werden kann.</span><span class="sxs-lookup"><span data-stu-id="f02de-204">Static `ListItem` s can be added to a DropDownList through the Designer or directly through the declarative syntax.</span></span> <span data-ttu-id="f02de-205">Beim Hinzufügen einer DropDownList-Elements zur Darstellung einer Datenbank `NULL` -Wert, achten Sie darauf, dass Sie zum Hinzufügen der `ListItem` mithilfe der deklarativen Syntax.</span><span class="sxs-lookup"><span data-stu-id="f02de-205">When adding a DropDownList item to represent a database `NULL` value, be sure to add the `ListItem` through the declarative syntax.</span></span> <span data-ttu-id="f02de-206">Bei Verwendung der `ListItem` Auflistungs-Editor im Designer die deklarative Syntax des generierte lässt die `Value` Einstellung vollständig, wenn eine leere Zeichenfolge, und Erstellen von deklarativen Markup wie zugewiesen: `<asp:ListItem>(None)</asp:ListItem>`.</span><span class="sxs-lookup"><span data-stu-id="f02de-206">If you use the `ListItem` Collection Editor in the Designer, the generated declarative syntax will omit the `Value` setting altogether when assigned a blank string, creating declarative markup like: `<asp:ListItem>(None)</asp:ListItem>`.</span></span> <span data-ttu-id="f02de-207">Während dieser harmlos, sehen Sie möglicherweise die fehlende `Value` bewirkt, dass der Dropdownliste mit den `Text` Eigenschaftswert an seiner Stelle.</span><span class="sxs-lookup"><span data-stu-id="f02de-207">While this may look harmless, the missing `Value` causes the DropDownList to use the `Text` property value in its place.</span></span> <span data-ttu-id="f02de-208">Das bedeutet, dass bei dieser `NULL` `ListItem` wird ausgewählt, der Wert (None) versucht, das Feld der Product-Daten zugewiesen werden soll (`CategoryID` oder `SupplierID`, in diesem Tutorial), die führt zu einer Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="f02de-208">That means that if this `NULL` `ListItem` is selected, the value (None) will be attempted to be assigned to the product data field (`CategoryID` or `SupplierID`, in this tutorial), which will result in an exception.</span></span> <span data-ttu-id="f02de-209">Durch das explizite Festlegen `Value=""`, `NULL` Wert für das Produkt zugewiesen wird Datenfeld, wenn die `NULL` `ListItem` ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="f02de-209">By explicitly setting `Value=""`, a `NULL` value will be assigned to the product data field when the `NULL` `ListItem` is selected.</span></span>


<span data-ttu-id="f02de-210">Nehmen Sie einen Moment Zeit, um unseren Fortschritt über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="f02de-210">Take a moment to view our progress through a browser.</span></span> <span data-ttu-id="f02de-211">Wenn Sie ein Produkt bearbeiten zu können, beachten Sie, dass die `Categories` und `Suppliers` DropDownList-Steuerelementen beide haben einen (keine) Option am Anfang der DropDownList.</span><span class="sxs-lookup"><span data-stu-id="f02de-211">When editing a product, note that the `Categories` and `Suppliers` DropDownLists both have a (None) option at the start of the DropDownList.</span></span>


<span data-ttu-id="f02de-212">[![Die Kategorien und Lieferanten DropDownList-Steuerelementen sind eine (None) Option](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="f02de-212">[![The Categories and Suppliers DropDownLists include a (None) Option](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span></span>

<span data-ttu-id="f02de-213">**Abbildung 10**: Die `Categories` und `Suppliers` DropDownList-Steuerelementen sind eine (None) Option ([klicken Sie, um das Bild in voller Größe anzeigen](customizing-the-datalist-s-editing-interface-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="f02de-213">**Figure 10**: The `Categories` and `Suppliers` DropDownLists include a (None) Option ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image30.png))</span></span>


<span data-ttu-id="f02de-214">Speichern (keine) als Datenbank option `NULL` Wert müssen wir zum Zurückgeben der `UpdateCommand` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="f02de-214">To save the (None) option as a database `NULL` value, we need to return to the `UpdateCommand` event handler.</span></span> <span data-ttu-id="f02de-215">Ändern der `categoryIDValue` und `supplierIDValue` Variablen auf NULL festlegbare ganze Zahlen sein, und weisen sie einen Wert als `Nothing` nur, wenn die DropDownList-Zuordnungsvorgänge `SelectedValue` handelt es sich nicht um eine leere Zeichenfolge:</span><span class="sxs-lookup"><span data-stu-id="f02de-215">Change the `categoryIDValue` and `supplierIDValue` variables to be nullable integers and assign them a value other than `Nothing` only if the DropDownList s `SelectedValue` is not an empty string:</span></span>


[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample6.cs)]

<span data-ttu-id="f02de-216">Durch diese Änderung Wert `Nothing` werden an übergeben die `UpdateProduct` BLL-Methode, die bei der Benutzerauswahl (keine) aus der Dropdown-Listen, die entspricht option eine `NULL` Datenbank-Wert.</span><span class="sxs-lookup"><span data-stu-id="f02de-216">With this change, a value of `Nothing` will be passed into the `UpdateProduct` BLL method if the user selected the (None) option from either of the drop-down lists, which corresponds to a `NULL` database value.</span></span>

## <a name="summary"></a><span data-ttu-id="f02de-217">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="f02de-217">Summary</span></span>

<span data-ttu-id="f02de-218">In diesem Tutorial wurde erläutert, wie eine komplexere Bearbeitung von DataList zu erstellen, die drei verschiedene Web Eingabesteuerelemente ein TextBox-Element, zwei DropDownList-Steuerelementen und ein Kontrollkästchen zusammen mit Steuerelementen zur gültigkeitsprüfung enthalten.</span><span class="sxs-lookup"><span data-stu-id="f02de-218">In this tutorial we saw how to create a more complex DataList editing interface that included three different input Web controls a TextBox, two DropDownLists, and a CheckBox along with validation controls.</span></span> <span data-ttu-id="f02de-219">Wenn Sie die Bearbeitungsschnittstelle zu erstellen, die Schritte sind unabhängig von den Websteuerelementen verwendet werden: durch Hinzufügen der Web-Steuerelemente an die Datenliste s start `EditItemTemplate`; verwenden Databinding-Syntax, um die entsprechenden Datenwerte in der angegebenen Feld mit dem entsprechenden Web zuweisen Eigenschaften des Steuerelements; und dann in der `UpdateCommand` -Ereignishandler programmgesteuerten Zugriff auf die Websteuerelemente und ihre entsprechenden Eigenschaften, übergeben die Werte an die BLL.</span><span class="sxs-lookup"><span data-stu-id="f02de-219">When building the editing interface, the steps are the same regardless of the Web controls being used: start by adding the Web controls to the DataList s `EditItemTemplate`; use databinding syntax to assign the corresponding data field values with the appropriate Web control properties; and, in the `UpdateCommand` event handler, programmatically access the Web controls and their appropriate properties, passing their values into the BLL.</span></span>

<span data-ttu-id="f02de-220">Beim Erstellen einer bearbeiten-Schnittstelle, gibt an, ob es s besteht aus nur Textfeldern oder eine Auflistung von anderen Websteuerelemente, achten Sie darauf, um die Datenbank ordnungsgemäß zu behandeln `NULL` Werte.</span><span class="sxs-lookup"><span data-stu-id="f02de-220">When creating an editing interface, whether it s composed of just TextBoxes or a collection of different Web controls, be sure to correctly handle database `NULL` values.</span></span> <span data-ttu-id="f02de-221">Wenn für die Kontoführung `NULL` s, es ist zwingend erforderlich, dass Sie nicht nur eine vorhandene richtigerweise `NULL` Wert in die Bearbeitungsschnittstelle, sondern auch, die Sie bieten eine Möglichkeit zum Markieren eines Werts als `NULL`.</span><span class="sxs-lookup"><span data-stu-id="f02de-221">When accounting for `NULL` s, it is imperative that you not only correctly display an existing `NULL` value in the editing interface, but also that you offer a means for marking a value as `NULL`.</span></span> <span data-ttu-id="f02de-222">Für DropDownList-Steuerelementen in DataList-Steuerelementen unterstützt, das in der Regel bedeutet hinzufügen einen statischen `ListItem` , deren `Value` -Eigenschaft explizit auf eine leere Zeichenfolge festgelegt (`Value=""`), und Hinzufügen von ein paar Codezeilen, die `UpdateCommand` -Ereignishandler, um zu bestimmen, und zwar unabhängig davon, ob die `NULL``ListItem` ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="f02de-222">For DropDownLists in DataLists, that typically means adding a static `ListItem` whose `Value` property is explicitly set to an empty string (`Value=""`), and adding a bit of code to the `UpdateCommand` event handler to determine whether or not the `NULL``ListItem` was selected.</span></span>

<span data-ttu-id="f02de-223">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="f02de-223">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="f02de-224">Der Autor</span><span class="sxs-lookup"><span data-stu-id="f02de-224">About the Author</span></span>

<span data-ttu-id="f02de-225">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="f02de-225">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="f02de-226">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="f02de-226">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="f02de-227">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="f02de-227">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="f02de-228">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="f02de-228">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="f02de-229">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="f02de-229">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="f02de-230">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="f02de-230">Special Thanks To</span></span>

<span data-ttu-id="f02de-231">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="f02de-231">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="f02de-232">Führendes Prüfer für dieses Tutorial wurden Randy Schmidt, Dennis Patterson und David Suru.</span><span class="sxs-lookup"><span data-stu-id="f02de-232">Lead reviewers for this tutorial were Dennis Patterson, David Suru, and Randy Schmidt.</span></span> <span data-ttu-id="f02de-233">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="f02de-233">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="f02de-234">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="f02de-234">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="f02de-235">[Zurück](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
> [Weiter](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="f02de-235">[Previous](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
[Next](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span></span>
