---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
title: Hinzufügen von Validierungssteuerelementen zu bearbeiten und Einfügen von Schnittstellen (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial sehen wir, wie einfach es ist das EditItemTemplate und InsertItemTemplate eines Daten-Websteuerelement, geben Sie eine Überprüfungssteuerelemente hinzufügen...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: 2086cb1a-ab78-49ae-9c0b-03891c69776a
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
msc.type: authoredcontent
ms.openlocfilehash: e2742348d8a9f0d9ecfefb3f7142e58911b5ba48
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/06/2019
ms.locfileid: "65124260"
---
# <a name="adding-validation-controls-to-the-editing-and-inserting-interfaces-c"></a><span data-ttu-id="9e1be-103">Hinzufügen von Validierungssteuerelementen zu Schnittstellen zum Bearbeiten und Einfügen (C#)</span><span class="sxs-lookup"><span data-stu-id="9e1be-103">Adding Validation Controls to the Editing and Inserting Interfaces (C#)</span></span>

<span data-ttu-id="9e1be-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9e1be-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9e1be-105">[Beispiel-App herunter](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) oder [PDF-Datei herunterladen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9e1be-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) or [Download PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span></span>

> <span data-ttu-id="9e1be-106">In diesem Tutorial erfahren Sie, wie einfach es ist hinzuzufügende Steuerelemente zur gültigkeitsprüfung der EditItemTemplate und InsertItemTemplate eines Daten-Websteuerelement oder eine weitere narrensicher Benutzeroberfläche bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-106">In this tutorial we'll see how easy it is to add validation controls to the EditItemTemplate and InsertItemTemplate of a data Web control, to provide a more foolproof user interface.</span></span>

## <a name="introduction"></a><span data-ttu-id="9e1be-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="9e1be-107">Introduction</span></span>

<span data-ttu-id="9e1be-108">Die GridView und DetailsView-Steuerelemente in den Beispielen haben wir in den letzten untersucht, die drei Lernprogramme alle BoundFields CheckBoxFields (die Feldtypen von Visual Studio automatisch hinzugefügt, bei der Bindung von einem GridView- oder DetailsView an eine Datenquelle aus und wurden haben Steuern Sie, über das Smarttag).</span><span class="sxs-lookup"><span data-stu-id="9e1be-108">The GridView and DetailsView controls in the examples we've explored over the past three tutorials have all been composed of BoundFields and CheckBoxFields (the field types automatically added by Visual Studio when binding a GridView or DetailsView to a data source control through the smart tag).</span></span> <span data-ttu-id="9e1be-109">Wenn Sie eine Zeile in einem GridView- oder DetailsView bearbeiten zu können, werden diese BoundFields, die nicht schreibgeschützt sind in Textfelder ein, konvertiert in dem der Endbenutzer die vorhandenen Daten ändern können.</span><span class="sxs-lookup"><span data-stu-id="9e1be-109">When editing a row in a GridView or DetailsView, those BoundFields that are not read-only are converted into textboxes, from which the end user can modify the existing data.</span></span> <span data-ttu-id="9e1be-110">Auf ähnliche Weise beim Einfügen einer neuen Notieren Sie in einem DetailsView-Steuerelement, diese BoundFields, deren `InsertVisible` -Eigenschaftensatz auf `true` (Standardeinstellung) werden gerendert als leere Textfelder ein, in die der Benutzer des neuen Datensatzes Feldwerte angeben kann.</span><span class="sxs-lookup"><span data-stu-id="9e1be-110">Similarly, when inserting a new record into a DetailsView control, those BoundFields whose `InsertVisible` property is set to `true` (the default) are rendered as empty textboxes, into which the user can provide the new record's field values.</span></span> <span data-ttu-id="9e1be-111">CheckBoxFields, die in der standard, schreibgeschützte Schnittstelle deaktiviert sind, werden ebenso in aktivierten Kontrollkästchen in das Bearbeiten und Einfügen von Schnittstellen konvertiert.</span><span class="sxs-lookup"><span data-stu-id="9e1be-111">Likewise, CheckBoxFields, which are disabled in the standard, read-only interface, are converted into enabled checkboxes in the editing and inserting interfaces.</span></span>

<span data-ttu-id="9e1be-112">Der Standardwert, bearbeiten und Einfügen von Schnittstellen für die BoundField- und CheckBoxField kann hilfreich sein, fehlen die Schnittstelle jede Art von Validierung an.</span><span class="sxs-lookup"><span data-stu-id="9e1be-112">While the default editing and inserting interfaces for the BoundField and CheckBoxField can be helpful, the interface lacks any sort of validation.</span></span> <span data-ttu-id="9e1be-113">Wenn ein Benutzer einen Fehler für das Data-Eintrag - z. B. das Auslassen macht die `ProductName` Feld oder einen ungültigen Wert für die Eingabe `UnitsInStock` (z. B.-50) eine Ausnahme ausgelöst, falls von in die Tiefe der Anwendungsarchitektur.</span><span class="sxs-lookup"><span data-stu-id="9e1be-113">If a user makes a data entry mistake - such as omitting the `ProductName` field or entering an invalid value for `UnitsInStock` (such as -50) an exception will be raised from within the depths of the application architecture.</span></span> <span data-ttu-id="9e1be-114">Während dieser Ausnahme ordnungsgemäß verarbeitet werden kann, wie in der [vorherigen Tutorial](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), im Idealfall die Bearbeitung oder Einfügen von Benutzeroberfläche würde enthalten Validierungssteuerelemente aus, um zu verhindern, dass einen Benutzer eingeben solche ungültigen Daten in der zuerst platzieren.</span><span class="sxs-lookup"><span data-stu-id="9e1be-114">While this exception can be gracefully handled as demonstrated in the [previous tutorial](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), ideally the editing or inserting user interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="9e1be-115">Um eine benutzerdefinierte Bearbeitung oder das Einfügen von Schnittstelle bereitzustellen, müssen wir die BoundField- oder CheckBoxField durch ein TemplateField zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-115">In order to provide a customized editing or inserting interface, we need to replace the BoundField or CheckBoxField with a TemplateField.</span></span> <span data-ttu-id="9e1be-116">Von TemplateFields, die im Rahmen der Diskussion Waren in der [Verwenden von TemplateFields, im GridView-Steuerelement](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) und [Verwenden von TemplateFields, im DetailsView-Steuerelement](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) Tutorials kann aus mehreren bestehen Schnittstellen für die verschiedenen Zeilenstatus trennen Sie die Vorlagen definieren.</span><span class="sxs-lookup"><span data-stu-id="9e1be-116">TemplateFields, which were the topic of discussion in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) and [Using TemplateFields in the DetailsView Control](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) tutorials, can consist of multiple templates defining separate interfaces for different row states.</span></span> <span data-ttu-id="9e1be-117">Das TemplateFields `ItemTemplate` wird verwendet, um beim Rendern von schreibgeschützten Feldern oder Zeilen in der DetailsView oder GridView-Steuerelemente, während die `EditItemTemplate` und `InsertItemTemplate` die Schnittstellen für die Bearbeitung und Einfügen von Modi bzw. anzugeben.</span><span class="sxs-lookup"><span data-stu-id="9e1be-117">The TemplateField's `ItemTemplate` is used to when rendering read-only fields or rows in the DetailsView or GridView controls, whereas the `EditItemTemplate` and `InsertItemTemplate` indicate the interfaces to use for the editing and inserting modes, respectively.</span></span>

<span data-ttu-id="9e1be-118">In diesem Tutorial werden wir sehen, wie einfach es ist das TemplateField Steuerelementen zur gültigkeitsprüfung hinzuzufügende `EditItemTemplate` und `InsertItemTemplate` eine mehr narrensicher Benutzeroberfläche bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-118">In this tutorial we'll see how easy it is to add validation controls to the TemplateField's `EditItemTemplate` and `InsertItemTemplate` to provide a more foolproof user interface.</span></span> <span data-ttu-id="9e1be-119">In diesem Tutorial werden insbesondere das Beispiel erstellt der [Untersuchen der Ereignisse zugeordnet einfügen, aktualisieren und löschen](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) Tutorial und Argumente, die das Bearbeiten und Einfügen von Schnittstellen, für die entsprechende Validierungsfehlermeldung enthalten.</span><span class="sxs-lookup"><span data-stu-id="9e1be-119">Specifically, this tutorial takes the example created in the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial and augments the editing and inserting interfaces to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromexamining-the-events-associated-with-inserting-updating-and-deletingexamining-the-events-associated-with-inserting-updating-and-deleting-csmd"></a><span data-ttu-id="9e1be-120">Schritt 1: Replizieren das Beispiel aus[Überprüfen von Ereignissen im Zusammenhang mit einfügen, aktualisieren und löschen](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="9e1be-120">Step 1: Replicating the Example from[Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span></span>

<span data-ttu-id="9e1be-121">In der [Untersuchen der Ereignisse zugeordnet einfügen, aktualisieren und löschen](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) Tutorial, die wir erstellt haben, eine Seite, die die Namen und Preise der Produkte in einem bearbeitbaren GridView aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-121">In the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial we created a page that listed the names and prices of the products in an editable GridView.</span></span> <span data-ttu-id="9e1be-122">Darüber hinaus enthalten die Seite eine DetailsView, deren `DefaultMode` -Eigenschaft wurde festgelegt, um `Insert`, wodurch immer Rendering im Einfügemodus befindet.</span><span class="sxs-lookup"><span data-stu-id="9e1be-122">Additionally, the page included a DetailsView whose `DefaultMode` property was set to `Insert`, thereby always rendering in insert mode.</span></span> <span data-ttu-id="9e1be-123">Aus diesem DetailsView, der Benutzer konnte Geben Sie den Namen und den Preis für ein neues Produkt auf Einfügen, und es dem System hinzugefügt (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="9e1be-123">From this DetailsView, the user could enter the name and price for a new product, click Insert, and have it added to the system (see Figure 1).</span></span>

<span data-ttu-id="9e1be-124">[![Im vorherige Beispiel ermöglicht Benutzern das Hinzufügen eines neuen Produkts, und vorhandene bearbeiten](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-124">[![The Previous Example Allows Users to Add New Products and Edit Existing Ones](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)</span></span>

<span data-ttu-id="9e1be-125">**Abbildung 1**: Das vorherige Beispiel ermöglicht es Benutzern auf neue Produkte hinzufügen und vorhandene bearbeiten ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-125">**Figure 1**: The Previous Example Allows Users to Add New Products and Edit Existing Ones ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span></span>

<span data-ttu-id="9e1be-126">Unser Ziel für dieses Tutorial ist das DetailsView und GridView, zum Bereitstellen von Validierungssteuerelementen zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="9e1be-126">Our goal for this tutorial is to augment the DetailsView and GridView to provide validation controls.</span></span> <span data-ttu-id="9e1be-127">Insbesondere wird unsere Validierungslogik:</span><span class="sxs-lookup"><span data-stu-id="9e1be-127">In particular, our validation logic will:</span></span>

- <span data-ttu-id="9e1be-128">Erfordern Sie, dass der Name angegeben werden, beim Einfügen oder Bearbeiten eines Produkts</span><span class="sxs-lookup"><span data-stu-id="9e1be-128">Require that the name be provided when inserting or editing a product</span></span>
- <span data-ttu-id="9e1be-129">Erfordern Sie, dass der Preis bereitgestellt werden, wenn einen Datensatz eingefügt; Wenn Sie einen Datensatz zu bearbeiten, wir benötigen Sie bei einen Preis, verwenden jedoch die programmgesteuerte Logik in des GridView `RowUpdating` -Ereignishandler aus dem Lernprogramm weiter oben bereits vorhanden.</span><span class="sxs-lookup"><span data-stu-id="9e1be-129">Require that the price be provided when inserting a record; when editing a record, we will still require a price, but will use the programmatic logic in the GridView's `RowUpdating` event handler already present from the earlier tutorial</span></span>
- <span data-ttu-id="9e1be-130">Stellen Sie sicher, dass der eingegebene Wert für den Preis einer gültigen Währungsformat ist</span><span class="sxs-lookup"><span data-stu-id="9e1be-130">Ensure that the value entered for the price is a valid currency format</span></span>

<span data-ttu-id="9e1be-131">Bevor wir weiter erweitern im vorherige Beispiel um regulierte sehen können, müssen wir zuerst auf das Beispiel aus Replizieren der `DataModificationEvents.aspx` Seite, um die Seite für dieses Tutorial `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-131">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `DataModificationEvents.aspx` page to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="9e1be-132">Um dies zu erreichen, wir beide kopiert müssen, die `DataModificationEvents.aspx` deklaratives Markup der Seite und deren Quellcode.</span><span class="sxs-lookup"><span data-stu-id="9e1be-132">To accomplish this we need to copy over both the `DataModificationEvents.aspx` page's declarative markup and its source code.</span></span> <span data-ttu-id="9e1be-133">Kopieren Sie zuerst die deklarativen Markup durch die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="9e1be-133">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="9e1be-134">Öffnen der `DataModificationEvents.aspx` Seite in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="9e1be-134">Open the `DataModificationEvents.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="9e1be-135">Wechseln Sie zu der Seite deklaratives Markup (klicken Sie auf die Schaltfläche "Quelle" am unteren Rand der Seite ")</span><span class="sxs-lookup"><span data-stu-id="9e1be-135">Go to the page's declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="9e1be-136">Kopieren Sie den Text innerhalb der `<asp:Content>` und `</asp:Content>` Tags (Zeilen 3 bis 44), dargestellt in Abbildung 2.</span><span class="sxs-lookup"><span data-stu-id="9e1be-136">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 44), as shown in Figure 2.</span></span>

<span data-ttu-id="9e1be-137">[![Kopieren Sie den Text innerhalb der &lt;Asp: Content&gt; Steuerelement](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-137">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)</span></span>

<span data-ttu-id="9e1be-138">**Abbildung 2**: Kopieren Sie den Text innerhalb der `<asp:Content>` Control ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-138">**Figure 2**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span></span>

1. <span data-ttu-id="9e1be-139">Öffnen der `UIValidation.aspx` Seite</span><span class="sxs-lookup"><span data-stu-id="9e1be-139">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="9e1be-140">Wechseln Sie zum deklarativen Markup der Seite</span><span class="sxs-lookup"><span data-stu-id="9e1be-140">Go to the page's declarative markup</span></span>
3. <span data-ttu-id="9e1be-141">Fügen Sie den Text innerhalb der `<asp:Content>` Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="9e1be-141">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="9e1be-142">Öffnen Sie zum Kopieren von über den Quellcode der `DataModificationEvents.aspx.cs` Seite, und kopieren Sie nur den Text *in* der `EditInsertDelete_DataModificationEvents` Klasse.</span><span class="sxs-lookup"><span data-stu-id="9e1be-142">To copy over the source code, open the `DataModificationEvents.aspx.cs` page and copy just the text *within* the `EditInsertDelete_DataModificationEvents` class.</span></span> <span data-ttu-id="9e1be-143">Kopieren Sie die drei Ereignishandler (`Page_Load`, `GridView1_RowUpdating`, und `ObjectDataSource1_Inserting`), aber **nicht** kopieren Sie die Klassendeklaration oder `using` Anweisungen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-143">Copy the three event handlers (`Page_Load`, `GridView1_RowUpdating`, and `ObjectDataSource1_Inserting`), but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="9e1be-144">Fügen Sie den kopierten Text *in* der `EditInsertDelete_UIValidation` -Klasse im `UIValidation.aspx.cs`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-144">Paste the copied text *within* the `EditInsertDelete_UIValidation` class in `UIValidation.aspx.cs`.</span></span>

<span data-ttu-id="9e1be-145">Nach der Umstellung auf den Inhalt und Code aus `DataModificationEvents.aspx` zu `UIValidation.aspx`, können Sie Ihre Fortschritte in einem Browser zu testen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-145">After moving over the content and code from `DataModificationEvents.aspx` to `UIValidation.aspx`, take a moment to test out your progress in a browser.</span></span> <span data-ttu-id="9e1be-146">Daraufhin sollte die gleichen ausgegeben, und erleben die gleiche Funktionalität in jede dieser zwei Seiten (siehe Abbildung 1 für einen Screenshot des `DataModificationEvents.aspx` in Aktion).</span><span class="sxs-lookup"><span data-stu-id="9e1be-146">You should see the same output and experience the same functionality in each of these two pages (refer back to Figure 1 for a screen shot of `DataModificationEvents.aspx` in action).</span></span>

## <a name="step-2-converting-the-boundfields-into-templatefields"></a><span data-ttu-id="9e1be-147">Schritt 2: Konvertieren die BoundFields in von TemplateFields</span><span class="sxs-lookup"><span data-stu-id="9e1be-147">Step 2: Converting the BoundFields Into TemplateFields</span></span>

<span data-ttu-id="9e1be-148">Um die Schnittstellen zum Bearbeiten und Einfügen von Steuerelementen zur gültigkeitsprüfung hinzugefügt haben, müssen die BoundFields ein, die die DetailsView und GridView-Steuerelemente in von TemplateFields konvertiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="9e1be-148">To add validation controls to the editing and inserting interfaces, the BoundFields used by the DetailsView and GridView controls need to be converted into TemplateFields.</span></span> <span data-ttu-id="9e1be-149">Um dies zu erreichen, klicken Sie jeweils auf die Links "Bearbeiten von Spalten und Felder bearbeiten" in der GridView und DetailsView des Smarttags.</span><span class="sxs-lookup"><span data-stu-id="9e1be-149">To achieve this, click on the Edit Columns and Edit Fields links in the GridView and DetailsView's smart tags, respectively.</span></span> <span data-ttu-id="9e1be-150">Wählen Sie dort jeweils von den BoundFields, und klicken Sie auf den Link "Dieses Feld in ein TemplateField konvertieren".</span><span class="sxs-lookup"><span data-stu-id="9e1be-150">There, select each of the BoundFields and click the "Convert this field into a TemplateField" link.</span></span>

<span data-ttu-id="9e1be-151">[![Konvertieren Sie jede der DetailsView und GridView BoundFields in von TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-151">[![Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)</span></span>

<span data-ttu-id="9e1be-152">**Abbildung 3**: Konvertieren Sie jede der DetailsView und GridView BoundFields in von TemplateFields ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-152">**Figure 3**: Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span></span>

<span data-ttu-id="9e1be-153">Konvertieren einer BoundField in ein TemplateField über die Felder (Dialogfeld), wird ein TemplateField, die die gleichen schreibgeschützten, bearbeiten und Einfügen von Schnittstellen die BoundField selbst weist generiert.</span><span class="sxs-lookup"><span data-stu-id="9e1be-153">Converting a BoundField into a TemplateField through the Fields dialog box generates a TemplateField that exhibits the same read-only, editing, and inserting interfaces as the BoundField itself.</span></span> <span data-ttu-id="9e1be-154">Das folgende Markup zeigt die deklarative Syntax für die `ProductName` Feld in der DetailsView, nachdem es in ein TemplateField konvertiert wurde:</span><span class="sxs-lookup"><span data-stu-id="9e1be-154">The following markup shows the declarative syntax for the `ProductName` field in the DetailsView after it has been converted into a TemplateField:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample1.aspx)]

<span data-ttu-id="9e1be-155">Beachten Sie, dass diese TemplateField drei Vorlagen, die automatisch erstellt hatte `ItemTemplate`, `EditItemTemplate`, und `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-155">Note that this TemplateField had three templates automatically created `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate`.</span></span> <span data-ttu-id="9e1be-156">Die `ItemTemplate` zeigt einen einzelnen Datenwert des Felds (`ProductName`) verwenden ein Label-Steuerelement, das `EditItemTemplate` und `InsertItemTemplate` den Datenfeldwert in ein Textfeld-Steuerelement, das das Datenfeld Textfeldss zuordnet vorhanden `Text` Eigenschaft, die bidirektionale Datenbindung verwenden.</span><span class="sxs-lookup"><span data-stu-id="9e1be-156">The `ItemTemplate` displays a single data field value (`ProductName`) using a Label Web control, while the `EditItemTemplate` and `InsertItemTemplate` present the data field value in a TextBox Web control that associates the data field with the TextBox's `Text` property using two-way databinding.</span></span> <span data-ttu-id="9e1be-157">Da wir für das Einfügen von nur DetailsView auf dieser Seite verwenden, können Sie entfernen die `ItemTemplate` und `EditItemTemplate` aus den zwei von TemplateFields, jedoch es nicht schädlich ist, sodass sie.</span><span class="sxs-lookup"><span data-stu-id="9e1be-157">Since we are only using the DetailsView in this page for inserting, you may remove the `ItemTemplate` and `EditItemTemplate` from the two TemplateFields, although there's no harm in leaving them.</span></span>

<span data-ttu-id="9e1be-158">Da die GridView nicht die integrierten Funktionen von DetailsView einfügen, Konvertieren des GridView unterstützt `ProductName` Feld in ein TemplateField führt nur eine `ItemTemplate` und `EditItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="9e1be-158">Since the GridView does not support the built-in inserting features of the DetailsView, converting the GridView's `ProductName` field into a TemplateField results in only an `ItemTemplate` and `EditItemTemplate`:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample2.aspx)]

<span data-ttu-id="9e1be-159">Visual Studio verfügt über ein TemplateField erstellt, indem Sie auf "Convert dieses Feld in ein TemplateField", dessen Vorlagen die Benutzeroberfläche der konvertierten BoundField-imitieren, kann.</span><span class="sxs-lookup"><span data-stu-id="9e1be-159">By clicking the "Convert this field into a TemplateField," Visual Studio has created a TemplateField whose templates mimic the user interface of the converted BoundField.</span></span> <span data-ttu-id="9e1be-160">Sie können dies überprüfen, indem Sie auf dieser Seite über einen Browser.</span><span class="sxs-lookup"><span data-stu-id="9e1be-160">You can verify this by visiting this page through a browser.</span></span> <span data-ttu-id="9e1be-161">Sie werden feststellen, dass das Aussehen und Verhalten von der von TemplateFields auf die Benutzeroberfläche identisch ist, wenn BoundFields stattdessen verwendet wurden.</span><span class="sxs-lookup"><span data-stu-id="9e1be-161">You'll find that the appearance and behavior of the TemplateFields is identical to the experience when BoundFields were used instead.</span></span>

> [!NOTE]
> <span data-ttu-id="9e1be-162">Die Bearbeitung Schnittstellen in den Vorlagen nach Bedarf anpassen können.</span><span class="sxs-lookup"><span data-stu-id="9e1be-162">Feel free to customize the editing interfaces in the templates as needed.</span></span> <span data-ttu-id="9e1be-163">Wir möchten z. B. das Textfeld enthalten, der `UnitPrice` von TemplateFields gerendert als Textfeld kleiner als die `ProductName` Textfeld.</span><span class="sxs-lookup"><span data-stu-id="9e1be-163">For example, we may want to have the TextBox in the `UnitPrice` TemplateFields rendered as a smaller textbox than the `ProductName` textbox.</span></span> <span data-ttu-id="9e1be-164">Hierzu können Sie festlegen, des Textfelds `Columns` Eigenschaft auf einen geeigneten Wert, oder geben Sie die Breite eine absolute über die `Width` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="9e1be-164">To accomplish this you can set the TextBox's `Columns` property to an appropriate value or provide an absolute width via the `Width` property.</span></span> <span data-ttu-id="9e1be-165">Im nächsten Tutorial sehen wir, wie Sie die Bearbeitungsschnittstelle ersetzen das Textfeld mit einem alternativen Eintrag Websteuerelement vollständig anpassen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-165">In the next tutorial we'll see how to completely customize the editing interface by replacing the TextBox with an alternate data entry Web control.</span></span>

## <a name="step-3-adding-the-validation-controls-to-the-gridviewsedititemtemplate-s"></a><span data-ttu-id="9e1be-166">Schritt 3: GridView Steuerelemente zur gültigkeitsprüfung hinzugefügt`EditItemTemplate` s</span><span class="sxs-lookup"><span data-stu-id="9e1be-166">Step 3: Adding the Validation Controls to the GridView's`EditItemTemplate` s</span></span>

<span data-ttu-id="9e1be-167">Wenn Dateneingabeformularen erstellen zu können, ist es wichtig, dass Benutzer alle erforderlichen Felder eingeben und, dass alle bereitgestellte Eingaben für den gesetzlichen, korrekt formatierte Werte.</span><span class="sxs-lookup"><span data-stu-id="9e1be-167">When constructing data entry forms, it is important that users enter any required fields and that all provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="9e1be-168">Um sicherzustellen, dass ein Benutzer die Eingaben gültig sind, bietet ASP.NET die fünf integrierten Validierungssteuerelemente, die entwickelt wurden, um zur Überprüfung des Werts, der ein einzelnes Eingabesteuerelement verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="9e1be-168">To help ensure that a user's inputs are valid, ASP.NET provides five built-in validation controls that are designed to be used to validate the value of a single input control:</span></span>

- <span data-ttu-id="9e1be-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) wird sichergestellt, dass ein Wert bereitgestellt wurde</span><span class="sxs-lookup"><span data-stu-id="9e1be-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="9e1be-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) überprüft einen Wert für eine andere Web-Control-Wert oder einen konstanten Wert oder wird sichergestellt, dass das Format des Werts für einen angegebenen Datentyp gültig ist</span><span class="sxs-lookup"><span data-stu-id="9e1be-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value's format is legal for a specified data type</span></span>
- <span data-ttu-id="9e1be-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) wird sichergestellt, dass ein Wert innerhalb eines Bereichs von Werten ist.</span><span class="sxs-lookup"><span data-stu-id="9e1be-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="9e1be-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) überprüft einen Wert für eine [reguläre Ausdrücke](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="9e1be-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="9e1be-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) überprüft einen Wert für eine benutzerdefinierte, eine benutzerdefinierte Methode</span><span class="sxs-lookup"><span data-stu-id="9e1be-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="9e1be-174">Finden Sie weitere Informationen zu diesen fünf Steuerelemente, die [Steuerelemente zur gültigkeitsprüfung Abschnitt](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) von der [Schnellstart-Lernprogramme für ASP.NET](https://asp.net/QuickStart/aspnet/).</span><span class="sxs-lookup"><span data-stu-id="9e1be-174">For more information on these five controls, check out the [Validation Controls section](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://asp.net/QuickStart/aspnet/).</span></span>

<span data-ttu-id="9e1be-175">Für unser Tutorial müssen wir verwenden einen RequiredFieldValidator in den DetailsView und GridView `ProductName` von TemplateFields und ein RequiredFieldValidator im DetailsView `UnitPrice` TemplateField.</span><span class="sxs-lookup"><span data-stu-id="9e1be-175">For our tutorial we'll need to use a RequiredFieldValidator in both the DetailsView and GridView's `ProductName` TemplateFields and a RequiredFieldValidator in the DetailsView's `UnitPrice` TemplateField.</span></span> <span data-ttu-id="9e1be-176">Darüber hinaus müssen beide Steuerelemente ein CompareValidator-Steuerelement hinzuzufügende `UnitPrice` von TemplateFields, die sicherstellt, dass der eingegebene Preis verfügt über einen Wert größer als oder gleich 0 und wird in einem gültigen Währungsformat angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-176">Furthermore, we'll need to add a CompareValidator to both controls' `UnitPrice` TemplateFields that ensures that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="9e1be-177">Während ASP.NET 1.x mussten diese gleichen fünf Validierungssteuerelemente, ASP.NET 2.0 wurde eine Reihe von Verbesserungen hinzugefügt, die dem hauptblatt zwei Client-seitige Skript Unterstützung von Browsern als Internet Explorer sowie die Möglichkeit, Steuerelementen zur gültigkeitsprüfung Partition auf einer Seite in Überprüfung von Gruppen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-177">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers other than Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="9e1be-178">Weitere Informationen zu den neuen Features der Validierung-Steuerelement in 2.0 finden Sie unter [Analyse der Validierungssteuerelemente in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="9e1be-178">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>

<span data-ttu-id="9e1be-179">Zunächst fügen die erforderlichen Validierungssteuerelemente auf der `EditItemTemplate` s in den GridView von TemplateFields.</span><span class="sxs-lookup"><span data-stu-id="9e1be-179">Let's start by adding the necessary validation controls to the `EditItemTemplate` s in the GridView's TemplateFields.</span></span> <span data-ttu-id="9e1be-180">Um dies zu erreichen, klicken Sie auf die Vorlagen bearbeiten aus den GridView Smarttag, um die Vorlage Bearbeitungsschnittstelle anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-180">To accomplish this, click on the Edit Templates link from the GridView's smart tag to bring up the template editing interface.</span></span> <span data-ttu-id="9e1be-181">Von hier aus können Sie die Vorlage so bearbeiten Sie in der Dropdown-Liste auswählen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-181">From here, you can select which template to edit from the drop-down list.</span></span> <span data-ttu-id="9e1be-182">Da wir die Bearbeitungsschnittstelle erweitern möchten, müssen Sie Steuerelemente zur gültigkeitsprüfung zum Hinzufügen der `ProductName` und `UnitPrice`des `EditItemTemplate` s.</span><span class="sxs-lookup"><span data-stu-id="9e1be-182">Since we want to augment the editing interface, we need to add validation controls to the `ProductName` and `UnitPrice`'s `EditItemTemplate` s.</span></span>

<span data-ttu-id="9e1be-183">[![Wir müssen die ProductName "und" der UnitPrice EditItemTemplates erweitern](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-183">[![We Need to Extend the ProductName and UnitPrice's EditItemTemplates](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)</span></span>

<span data-ttu-id="9e1be-184">**Abbildung 4**: Möchten wir erweitern die `ProductName` und `UnitPrice`des `EditItemTemplate` s ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-184">**Figure 4**: We Need to Extend the `ProductName` and `UnitPrice`'s `EditItemTemplate` s ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span></span>

<span data-ttu-id="9e1be-185">In der `ProductName` `EditItemTemplate`, fügen Sie einen RequiredFieldValidator durch Ziehen aus der Toolbox in die Vorlage bearbeiten-Oberfläche, nachdem das Textfeld platzieren.</span><span class="sxs-lookup"><span data-stu-id="9e1be-185">In the `ProductName` `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing after the TextBox.</span></span>

<span data-ttu-id="9e1be-186">[![Das ProductName EditItemTemplate einen RequiredFieldValidator hinzugefügt](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-186">[![Add a RequiredFieldValidator to the ProductName EditItemTemplate](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)</span></span>

<span data-ttu-id="9e1be-187">**Abbildung 5**: Einen RequiredFieldValidator zum Hinzufügen der `ProductName` `EditItemTemplate` ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-187">**Figure 5**: Add a RequiredFieldValidator to the `ProductName` `EditItemTemplate` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span></span>

<span data-ttu-id="9e1be-188">Alle Validierungssteuerelemente funktionieren durch Überprüfen der Eingabe eines einzelnen ASP.NET Web-Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="9e1be-188">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="9e1be-189">Aus diesem Grund müssen wir angeben, dass für das Textfeld auf das soeben hinzugefügte RequiredFieldValidator-Steuerelement überprüfen soll die `EditItemTemplate`; dies geschieht durch Festlegen des Validierungssteuerelements [ControlToValidate-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) auf der `ID` des entsprechenden Websteuerelements.</span><span class="sxs-lookup"><span data-stu-id="9e1be-189">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the TextBox in the `EditItemTemplate`; this is accomplished by setting the validation control's [ControlToValidate property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control.</span></span> <span data-ttu-id="9e1be-190">Das Textfeld verfügt derzeit über das Recht unbestimmter `ID` von `TextBox1`, aber ändern Sie es in eine passendere.</span><span class="sxs-lookup"><span data-stu-id="9e1be-190">The TextBox currently has the rather nondescript `ID` of `TextBox1`, but let's change it to something more appropriate.</span></span> <span data-ttu-id="9e1be-191">Klicken Sie auf das Textfeld in der Vorlage, und ändern Sie dann im Eigenschaftenfenster die `ID` aus `TextBox1` zu `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-191">Click on the TextBox in the template and then, from the Properties window, change the `ID` from `TextBox1` to `EditProductName`.</span></span>

<span data-ttu-id="9e1be-192">[![Ändern Sie den Text des Textfelds-ID in EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-192">[![Change the TextBox's ID to EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)</span></span>

<span data-ttu-id="9e1be-193">**Abbildung 6**: Ändern des Textfelds `ID` zu `EditProductName` ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-193">**Figure 6**: Change the TextBox's `ID` to `EditProductName` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span></span>

<span data-ttu-id="9e1be-194">Legen Sie als Nächstes des RequiredFieldValidator-Steuerelement `ControlToValidate` Eigenschaft `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-194">Next, set the RequiredFieldValidator's `ControlToValidate` property to `EditProductName`.</span></span> <span data-ttu-id="9e1be-195">Legen Sie schließlich die ["ErrorMessage"-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) "müssen Sie den Namen des Produkts bereitstellen" und die [Texteigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) zu "\*".</span><span class="sxs-lookup"><span data-stu-id="9e1be-195">Finally, set the [ErrorMessage property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to "You must provide the product's name" and the [Text property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to "\*".</span></span> <span data-ttu-id="9e1be-196">Die `Text` Eigenschaftswert, wenn angegeben, wird der Text, der durch das Validierungssteuerelement angezeigt wird, wenn die Validierung fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-196">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="9e1be-197">Die `ErrorMessage` Eigenschaftswert, der erforderlich ist, wird von dem Steuerelement ValidationSummary verwendet, wenn die `Text` -Eigenschaftswert fehlt, die `ErrorMessage` Eigenschaftswert ist auch der vom Validierungssteuerelement bei ungültiger Eingabe angezeigte Text.</span><span class="sxs-lookup"><span data-stu-id="9e1be-197">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is also the text displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="9e1be-198">Nachdem diese drei Eigenschaften, der das RequiredFieldValidator-Steuerelement festlegen, sollte Ihr Bildschirm Abbildung 7 ähneln.</span><span class="sxs-lookup"><span data-stu-id="9e1be-198">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 7.</span></span>

<span data-ttu-id="9e1be-199">[![Legen Sie des RequiredFieldValidator-Steuerelement ControlToValidate, ErrorMessage und Eigenschaften von Text](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-199">[![Set the RequiredFieldValidator's ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)</span></span>

<span data-ttu-id="9e1be-200">**Abbildung 7**: Legen Sie des RequiredFieldValidator-Steuerelement `ControlToValidate`, `ErrorMessage`, und `Text` Eigenschaften ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-200">**Figure 7**: Set the RequiredFieldValidator's `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span></span>

<span data-ttu-id="9e1be-201">Mit das RequiredFieldValidator-Steuerelement hinzugefügt, die `ProductName` `EditItemTemplate`, bleibt die erforderlichen Überprüfung hinzufügen wird der `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-201">With the RequiredFieldValidator added to the `ProductName` `EditItemTemplate`, all that remains is to add the necessary validation to the `UnitPrice` `EditItemTemplate`.</span></span> <span data-ttu-id="9e1be-202">Da wir, dass für diese Seite, entschieden haben die `UnitPrice` ist optional, wenn einen Datensatz bearbeiten, es müssen keinen RequiredFieldValidator hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-202">Since we've decided that, for this page, the `UnitPrice` is optional when editing a record, we don't need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="9e1be-203">Müssen wir tun, jedoch eine CompareValidator, um sicherzustellen, dass Hinzufügen der `UnitPrice`, sofern angegeben, wird ordnungsgemäß als Währung formatiert und ist größer als oder gleich 0.</span><span class="sxs-lookup"><span data-stu-id="9e1be-203">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="9e1be-204">Vor dem Hinzufügen der CompareValidator auf die `UnitPrice` `EditItemTemplate`, zuerst ändern wir das TextBox-Websteuerelements-ID aus `TextBox2` zu `EditUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-204">Before we add the CompareValidator to the `UnitPrice` `EditItemTemplate`, let's first change the TextBox Web control's ID from `TextBox2` to `EditUnitPrice`.</span></span> <span data-ttu-id="9e1be-205">Nach dieser Änderung festlegen CompareValidator, Hinzufügen der `ControlToValidate` Eigenschaft, um `EditUnitPrice`, dessen `ErrorMessage` Eigenschaft auf "der Preis muss größer als oder gleich 0 (null) sein und darf keine enthalten das Währungssymbol", und die zugehörige `Text` Eigenschaft "\*".</span><span class="sxs-lookup"><span data-stu-id="9e1be-205">After making this change, add the CompareValidator, setting its `ControlToValidate` property to `EditUnitPrice`, its `ErrorMessage` property to "The price must be greater than or equal to zero and cannot include the currency symbol", and its `Text` property to "\*".</span></span>

<span data-ttu-id="9e1be-206">Gibt an, dass die `UnitPrice` Wert muss größer als oder gleich 0, Festlegen des CompareValidator [Operatoreigenschaften](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) zu `GreaterThanEqual`, dessen [ValueToCompare-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) "0" und dessen [ Type-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) zu `Currency`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-206">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator's [Operator property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [ValueToCompare property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to "0", and its [Type property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span> <span data-ttu-id="9e1be-207">Die folgende deklarative Syntax stellt die `UnitPrice` TemplateFields `EditItemTemplate` nachdem diese Änderungen vorgenommen wurden:</span><span class="sxs-lookup"><span data-stu-id="9e1be-207">The following declarative syntax shows the `UnitPrice` TemplateField's `EditItemTemplate` after these changes have been made:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample3.aspx)]

<span data-ttu-id="9e1be-208">Öffnen Sie nachdem Sie diese Änderungen haben die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="9e1be-208">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="9e1be-209">Wenn Sie versuchen, den Namen des weglassen, oder geben einen ungültigen preiswert, wenn Sie ein Produkt zu bearbeiten, wird ein Sternchen neben dem Textfeld angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-209">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="9e1be-210">Wie in Abbildung 8 gezeigt, wird ein preiswert, der das Währungssymbol wie z. B. 19,95 $ enthält als ungültig angesehen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-210">As Figure 8 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="9e1be-211">CompareValidator `Currency` `Type` ermöglicht das Trennzeichen für Ziffern (z. B. Kommas oder Punkte, je nach den kultureinstellungen) und eine führende Plus- oder Minuszeichen (-), funktioniert jedoch *nicht* ein Währungssymbol zulassen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-211">The CompareValidator's `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="9e1be-212">Dieses Verhalten kann Benutzer perplex, während die Bearbeitungsschnittstelle derzeit rendert die `UnitPrice` verwenden das Währungsformat.</span><span class="sxs-lookup"><span data-stu-id="9e1be-212">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="9e1be-213">Denken Sie daran, dass in der *einfügen, aktualisieren und Löschen von Ereignissen zu zugeordneten* Tutorial legen wir die BoundField des `DataFormatString` Eigenschaft `{0:c}` um es als Währung zu formatieren.</span><span class="sxs-lookup"><span data-stu-id="9e1be-213">Recall that in the *Events Associated with Inserting, Updating, and Deleting* tutorial we set the BoundField's `DataFormatString` property to `{0:c}` in order to format it as a currency.</span></span> <span data-ttu-id="9e1be-214">Darüber hinaus legen wir die `ApplyFormatInEditMode` -Eigenschaft auf "true", verursacht der GridView des bearbeiten-Schnittstelle zum Formatieren der `UnitPrice` als Währung.</span><span class="sxs-lookup"><span data-stu-id="9e1be-214">Furthermore, we set the `ApplyFormatInEditMode` property to true, causing the GridView's editing interface to format the `UnitPrice` as a currency.</span></span> <span data-ttu-id="9e1be-215">Wenn Sie die BoundField in ein TemplateField konvertieren, wird Visual Studio diese Einstellungen angegeben und formatiert des Text des Textfelds `Text` Eigenschaft als eine Währung, die mit der Datenbindungssyntax `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-215">When converting the BoundField into a TemplateField, Visual Studio noted these settings and formatted the TextBox's `Text` property as a currency using the databinding syntax `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span>

<span data-ttu-id="9e1be-216">[![Ein Sternchen wird neben die Textfelder ein, mit der ungültigen Eingabe angezeigt.](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-216">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)</span></span>

<span data-ttu-id="9e1be-217">**Abbildung 8**: Ein Sternchen wird neben die Textfelder ein, mit der ungültigen Eingabe ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-217">**Figure 8**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span></span>

<span data-ttu-id="9e1be-218">Während der Überprüfung funktioniert als-ist, muss der Benutzer das Währungssymbol manuell zu entfernen, wenn einen Datensatz bearbeiten, die nicht zulässig ist.</span><span class="sxs-lookup"><span data-stu-id="9e1be-218">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="9e1be-219">Zur Behebung des Problems, gibt es drei Optionen:</span><span class="sxs-lookup"><span data-stu-id="9e1be-219">To remedy this, we have three options:</span></span>

1. <span data-ttu-id="9e1be-220">Konfigurieren der `EditItemTemplate` , damit die `UnitPrice` ist nicht als Währung formatiert.</span><span class="sxs-lookup"><span data-stu-id="9e1be-220">Configure the `EditItemTemplate` so that the `UnitPrice` value is not formatted as a currency.</span></span>
2. <span data-ttu-id="9e1be-221">Ermöglicht dem Benutzer ein Währungssymbol eingeben, indem CompareValidator entfernen und Ersetzen durch eine RegularExpressionValidator ordnungsgemäß für eine ordnungsgemäß formatierte Currency-Wert für die Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="9e1be-221">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that properly checks for a properly formatted currency value.</span></span> <span data-ttu-id="9e1be-222">Das Problem hier besteht darin, dass der reguläre Ausdruck, der einen Währungswert überprüfen nicht sehr und müsste das Schreiben von Code aus, wenn wir die kultureinstellungen integrieren möchten.</span><span class="sxs-lookup"><span data-stu-id="9e1be-222">The problem here is that the regular expression to validate a currency value is not pretty and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="9e1be-223">Entfernen Sie das Validierungssteuerelement und basieren auf serverseitige Validierungslogik in des GridView `RowUpdating` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="9e1be-223">Remove the validation control altogether and rely on server-side validation logic in the GridView's `RowUpdating` event handler.</span></span>

<span data-ttu-id="9e1be-224">Kehren Sie mit der Option #1 für diese Übung.</span><span class="sxs-lookup"><span data-stu-id="9e1be-224">Let's go with option #1 for this exercise.</span></span> <span data-ttu-id="9e1be-225">Derzeit den `UnitPrice` als eine Währung aufgrund der Datenbindungsausdruck für das Textfeld in die `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-225">Currently the `UnitPrice` is formatted as a currency due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="9e1be-226">Ändern Sie die Bind-Anweisung, um `Bind("UnitPrice", "{0:n2}")`, formatiert das Ergebnis als Zahl mit zwei Ziffern für die Genauigkeit.</span><span class="sxs-lookup"><span data-stu-id="9e1be-226">Change the Bind statement to `Bind("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="9e1be-227">Dies kann erfolgen direkt über die deklarative Syntax oder durch Klicken auf den Link "DataBindings bearbeiten" aus der `EditUnitPrice` im Textfeld die `UnitPrice` TemplateFields `EditItemTemplate` (Siehe Abbildungen 9 und 10).</span><span class="sxs-lookup"><span data-stu-id="9e1be-227">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `EditUnitPrice` TextBox in the `UnitPrice` TemplateField's `EditItemTemplate` (see Figures 9 and 10).</span></span>

<span data-ttu-id="9e1be-228">[![Klicken Sie auf das Textfelds DataBindings bearbeiten link](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-228">[![Click on the TextBox's Edit DataBindings link](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)</span></span>

<span data-ttu-id="9e1be-229">**Abbildung 9**: Klicken Sie auf das Textfelds DataBindings bearbeiten Link ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-229">**Figure 9**: Click on the TextBox's Edit DataBindings link ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span></span>

<span data-ttu-id="9e1be-230">[![Geben Sie den Formatbezeichner in der Bind-Anweisung](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-230">[![Specify the Format Specifier in the Bind Statement](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)</span></span>

<span data-ttu-id="9e1be-231">**Abbildung 10**: Geben Sie den Formatbezeichner in der `Bind` Anweisung ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-231">**Figure 10**: Specify the Format Specifier in the `Bind` Statement ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span></span>

<span data-ttu-id="9e1be-232">Durch diese Änderung der formatierte Preis in die Bearbeitungsschnittstelle enthält Kommas als das Gruppentrennzeichen und einen Punkt als Dezimaltrennzeichen, aber das Währungssymbol lässt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-232">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="9e1be-233">Die `UnitPrice` `EditItemTemplate` einen RequiredFieldValidator, sodass das Postback, stellen Sie sicher und Update Logik, um zu beginnen. sind nicht enthalten.</span><span class="sxs-lookup"><span data-stu-id="9e1be-233">The `UnitPrice` `EditItemTemplate` doesn't include a RequiredFieldValidator, allowing the postback to ensue and the updating logic to commence.</span></span> <span data-ttu-id="9e1be-234">Allerdings die `RowUpdating` -Ereignishandler aus kopiert die *Untersuchen der Ereignisse zugeordnet einfügen, aktualisieren und löschen* Tutorial enthält eine programmgesteuerte Überprüfung, die wird, dass sichergestellt die `UnitPrice` wird bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-234">However, the `RowUpdating` event handler copied over from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial includes a programmatic check that ensures that the `UnitPrice` is provided.</span></span> <span data-ttu-id="9e1be-235">Entfernen Sie diese Logik, behalten sie in gerne-ist, oder fügen Sie einen RequiredFieldValidator auf die `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-235">Feel free to remove this logic, leave it in as-is, or add a RequiredFieldValidator to the `UnitPrice` `EditItemTemplate`.</span></span>

## <a name="step-4-summarizing-data-entry-problems"></a><span data-ttu-id="9e1be-236">Schritt 4: Zusammenfassung der Probleme mit der Dateneingabe</span><span class="sxs-lookup"><span data-stu-id="9e1be-236">Step 4: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="9e1be-237">Zusätzlich zu den fünf Validation-Steuerelementen, enthält ASP.NET die [ValidationSummary-Steuerelement](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), welche zeigt die `ErrorMessage` s von diesen Steuerelementen zur gültigkeitsprüfung, die ungültige Daten erkannt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-237">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="9e1be-238">Diese zusammenfassenden Daten können als Text auf der Webseite oder über ein modales, clientseitige Messagebox angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="9e1be-238">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="9e1be-239">Erweitern wir jetzt dieses Lernprogramm enthält eine Zusammenfassung der Überprüfungsprobleme der clientseitigen-Messagebox.</span><span class="sxs-lookup"><span data-stu-id="9e1be-239">Let's enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="9e1be-240">Ziehen Sie zu diesem Zweck ein ValidationSummary-Steuerelement aus der Toolbox in den Designer.</span><span class="sxs-lookup"><span data-stu-id="9e1be-240">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="9e1be-241">Der Speicherort des Validierungssteuerelements ist unerheblich, da wir konfigurieren jetzt, um die Zusammenfassung nur als eine Messagebox anzeigt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-241">The location of the Validation control doesn't really matter, since we're going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="9e1be-242">Nach Hinzufügen des Steuerelements, legen Sie seine [ShowSummary-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) zu `false` und die zugehörige [ShowMessageBox Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) zu `true`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-242">After adding the control, set its [ShowSummary property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `false` and its [ShowMessageBox property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `true`.</span></span> <span data-ttu-id="9e1be-243">Durch diese hinzufügen werden Validierungsfehler in einer clientseitigen Messagebox zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="9e1be-243">With this addition, any validation errors are summarized in a client-side messagebox.</span></span>

<span data-ttu-id="9e1be-244">[![Fehler bei der Validierung werden in einer Client-Side-Messagebox zusammengefasst.](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-244">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)</span></span>

<span data-ttu-id="9e1be-245">**Abbildung 11**: Fehler bei der Validierung werden zusammengefasst, in einer Client-Side-Messagebox ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-245">**Figure 11**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span></span>

## <a name="step-5-adding-the-validation-controls-to-the-detailsviewsinsertitemtemplate"></a><span data-ttu-id="9e1be-246">Schritt 5: Der DetailsView hinzugefügt Steuerelemente zur gültigkeitsprüfung`InsertItemTemplate`</span><span class="sxs-lookup"><span data-stu-id="9e1be-246">Step 5: Adding the Validation Controls to the DetailsView's`InsertItemTemplate`</span></span>

<span data-ttu-id="9e1be-247">Alle diese bleibt in diesem Tutorial wird die Validierungssteuerelemente Einfügen DetailsViews-Schnittstelle hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-247">All that remains for this tutorial is to add the validation controls to the DetailsView's inserting interface.</span></span> <span data-ttu-id="9e1be-248">Beim Hinzufügen von Steuerelementen zur gültigkeitsprüfung DetailsViews-Vorlagen ist identisch mit den in Schritt 3 überprüft; aus diesem Grund werden wir durch die Aufgabe in diesem Schritt breeze.</span><span class="sxs-lookup"><span data-stu-id="9e1be-248">The process of adding validation controls to the DetailsView's templates is identical to that examined in Step 3; therefore, we'll breeze through the task in this step.</span></span> <span data-ttu-id="9e1be-249">Wie wir mit GridView `EditItemTemplate` s, sollten Sie zum Umbenennen der `ID` s der TextBox-Elemente aus der unbestimmter `TextBox1` und `TextBox2` zu `InsertProductName` und `InsertUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-249">As we did with the GridView's `EditItemTemplate` s, I encourage you to rename the `ID` s of the TextBoxes from the nondescript `TextBox1` and `TextBox2` to `InsertProductName` and `InsertUnitPrice`.</span></span>

<span data-ttu-id="9e1be-250">Einen RequiredFieldValidator zum Hinzufügen der `ProductName` `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-250">Add a RequiredFieldValidator to the `ProductName` `InsertItemTemplate`.</span></span> <span data-ttu-id="9e1be-251">Festlegen der `ControlToValidate` zu der `ID` des Textfelds in der Vorlage seine `Text` Eigenschaft, um "\*" und dessen `ErrorMessage` Eigenschaft auf "müssen Sie den Namen des Produkts bereitstellen".</span><span class="sxs-lookup"><span data-stu-id="9e1be-251">Set the `ControlToValidate` to the `ID` of the TextBox in the template, its `Text` property to "\*" and its `ErrorMessage` property to "You must provide the product's name".</span></span>

<span data-ttu-id="9e1be-252">Da die `UnitPrice` ist für diese Seite erforderlich, wenn Sie einen neuen Datensatz hinzufügen, einen RequiredFieldValidator zum Hinzufügen der `UnitPrice` `InsertItemTemplate`wird durch das Festlegen der `ControlToValidate`, `Text`, und `ErrorMessage` Eigenschaften entsprechend.</span><span class="sxs-lookup"><span data-stu-id="9e1be-252">Since the `UnitPrice` is required for this page when adding a new record, add a RequiredFieldValidator to the `UnitPrice` `InsertItemTemplate`, setting its `ControlToValidate`, `Text`, and `ErrorMessage` properties appropriately.</span></span> <span data-ttu-id="9e1be-253">Fügen Sie schließlich ein CompareValidator-Steuerelement auf der `UnitPrice` `InsertItemTemplate` , konfigurieren die `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, und `ValueToCompare` Eigenschaften, wie wir mit der `UnitPrice`des CompareValidator in des GridView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-253">Finally, add a CompareValidator to the `UnitPrice` `InsertItemTemplate` as well, configuring its `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, and `ValueToCompare` properties just like we did with the `UnitPrice`'s CompareValidator in the GridView's `EditItemTemplate`.</span></span>

<span data-ttu-id="9e1be-254">Ein neues Produkt kann nicht zum System hinzugefügt werden, wenn der Name nicht angegeben ist, oder wenn der Preis berechnet eine negative Zahl ist oder illegal formatiert werden, nach dem Hinzufügen von diesen Steuerelementen zur gültigkeitsprüfung.</span><span class="sxs-lookup"><span data-stu-id="9e1be-254">After adding these validation controls, a new product cannot be added to the system if its name is not supplied or if its price is a negative number or illegally formatted.</span></span>

<span data-ttu-id="9e1be-255">[![Validierungslogik wurde Einfügen DetailsViews-Schnittstelle hinzugefügt](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-255">[![Validation Logic has been Added to the DetailsView's Inserting Interface](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)</span></span>

<span data-ttu-id="9e1be-256">**Abbildung 12**: Einfügen DetailsViews-Schnittstelle Validierungslogik hinzugefügt wurde ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-256">**Figure 12**: Validation Logic has been Added to the DetailsView's Inserting Interface ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span></span>

## <a name="step-6-partitioning-the-validation-controls-into-validation-groups"></a><span data-ttu-id="9e1be-257">Schritt 6: Die Validierungssteuerelemente in Validierungsgruppen zu partitionieren.</span><span class="sxs-lookup"><span data-stu-id="9e1be-257">Step 6: Partitioning the Validation Controls Into Validation Groups</span></span>

<span data-ttu-id="9e1be-258">Die Seite besteht aus zwei logisch unterschiedlichen Gruppen von Steuerelementen zur gültigkeitsprüfung: an die GridView entsprechen den bearbeiten-Schnittstelle und, DetailsView entsprechen der Schnittstelle einfügen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-258">Our page consists of two logically disparate sets of validation controls: those that correspond to the GridView's editing interface and those that correspond to the DetailsView's inserting interface.</span></span> <span data-ttu-id="9e1be-259">Wenn ein Postback auftritt, wird standardmäßig *alle* Validierungssteuerelemente auf der Seite überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="9e1be-259">By default, when a postback occurs *all* validation controls on the page are checked.</span></span> <span data-ttu-id="9e1be-260">Allerdings sollten nicht beim Bearbeiten eines Datensatzes Einfügen von Schnittstelle DetailsView Steuerelementen zur gültigkeitsprüfung überprüfen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-260">However, when editing a record we don't want the DetailsView's inserting interface's validation controls to validate.</span></span> <span data-ttu-id="9e1be-261">Abbildung 13 zeigt unseren aktuellen Dilemma aus, wenn ein Benutzer ein Produkt mit durchaus zulässige Werte bearbeitet, wird durch Klicken auf Aktualisieren tritt ein Validierungsfehler verursacht, da die Werte für Name und Preis in der Schnittstelle einfügen leer sind.</span><span class="sxs-lookup"><span data-stu-id="9e1be-261">Figure 13 illustrates our current dilemma when a user is editing a product with perfectly legal values, clicking Update causes a validation error because the name and price values in the inserting interface are blank.</span></span>

<span data-ttu-id="9e1be-262">[![Aktualisieren eines Produkts führt dazu, dass Validierungssteuerelementen für die einfügende Schnittstelle zum Auslösen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-262">[![Updating a Product Causes the Inserting Interface's Validation Controls to Fire](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)</span></span>

<span data-ttu-id="9e1be-263">**Abbildung 13**: Aktualisieren eines Produkts führt dazu, dass die einfügen-Schnittstelle von Validierungssteuerelementen auszulösende ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-263">**Figure 13**: Updating a Product Causes the Inserting Interface's Validation Controls to Fire ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span></span>

<span data-ttu-id="9e1be-264">Die Validierungssteuerelemente in ASP.NET 2.0 können partitioniert werden, in Validierungsgruppen über ihre `ValidationGroup` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="9e1be-264">The validation controls in ASP.NET 2.0 can be partitioned into validation groups through their `ValidationGroup` property.</span></span> <span data-ttu-id="9e1be-265">Um einen Satz von Steuerelementen zur gültigkeitsprüfung in einer Gruppe zuzuordnen, legen Sie einfach ihre `ValidationGroup` Eigenschaft auf den gleichen Wert.</span><span class="sxs-lookup"><span data-stu-id="9e1be-265">To associate a set of validation controls in a group, simply set their `ValidationGroup` property to the same value.</span></span> <span data-ttu-id="9e1be-266">Legen Sie für unser Tutorial die `ValidationGroup` Eigenschaften der Steuerelemente zur gültigkeitsprüfung in den GridView von TemplateFields zu `EditValidationControls` und `ValidationGroup` Eigenschaften DetailsViews von TemplateFields zu `InsertValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-266">For our tutorial, set the `ValidationGroup` properties of the validation controls in the GridView's TemplateFields to `EditValidationControls` and the `ValidationGroup` properties of the DetailsView's TemplateFields to `InsertValidationControls`.</span></span> <span data-ttu-id="9e1be-267">Diese Änderungen können direkt im deklarativen Markup ausgeführt werden, oder Bearbeiten über das Eigenschaftenfenster bei Verwendung des Designers des vorlagenschnittstelle.</span><span class="sxs-lookup"><span data-stu-id="9e1be-267">These changes can be done directly in the declarative markup or through the Properties window when using the Designer's edit template interface.</span></span>

<span data-ttu-id="9e1be-268">Neben der Überprüfung Steuerelemente, die Schaltfläche und schaltflächenbezogene Steuerelemente in ASP.NET 2.0 auch enthalten eine `ValidationGroup` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="9e1be-268">In addition to the validation controls, the Button and Button-related controls in ASP.NET 2.0 also include a `ValidationGroup` property.</span></span> <span data-ttu-id="9e1be-269">Einer Validierungsgruppe Validierungssteuerelemente auf Gültigkeit überprüft nur wenn ein Postback über eine Schaltfläche ausgelöst wird mit dem gleichen `ValidationGroup` Einstellung der Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="9e1be-269">A validation group's validators are checked for validity only when a postback is induced by a Button that has the same `ValidationGroup` property setting.</span></span> <span data-ttu-id="9e1be-270">Z. B. in der Reihenfolge für DetailsViews-Einfügen-Schaltfläche zum Auslösen der `InsertValidationControls` Validierungsgruppe wir die CommandFields festlegen müssen `ValidationGroup` Eigenschaft `InsertValidationControls` (siehe Abbildung 14).</span><span class="sxs-lookup"><span data-stu-id="9e1be-270">For example, in order for the DetailsView's Insert button to trigger the `InsertValidationControls` validation group we need to set the CommandField's `ValidationGroup` property to `InsertValidationControls` (see Figure 14).</span></span> <span data-ttu-id="9e1be-271">Legen Sie zudem des GridView CommandFields `ValidationGroup` Eigenschaft `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-271">Additionally, set the GridView's CommandField's `ValidationGroup` property to `EditValidationControls`.</span></span>

<span data-ttu-id="9e1be-272">[![Set DetailsView ist CommandFields ValidationGroup-Eigenschaft, um InsertValidationControls](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="9e1be-272">[![Set the DetailsView's CommandField's ValidationGroup property to InsertValidationControls](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)</span></span>

<span data-ttu-id="9e1be-273">**Abbildung 14**: Legen Sie die DetailsView CommandFields `ValidationGroup` Eigenschaft `InsertValidationControls` ([klicken Sie, um das Bild in voller Größe anzeigen](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="9e1be-273">**Figure 14**: Set the DetailsView's CommandField's `ValidationGroup` property to `InsertValidationControls` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span></span>

<span data-ttu-id="9e1be-274">Nach diesen Änderungen sollte das DetailsView und GridView von TemplateFields und CommandFields etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="9e1be-274">After these changes, the DetailsView and GridView's TemplateFields and CommandFields should look similar to the following:</span></span>

<span data-ttu-id="9e1be-275">Die DetailsView von TemplateFields und CommandField</span><span class="sxs-lookup"><span data-stu-id="9e1be-275">The DetailsView's TemplateFields and CommandField</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample4.aspx)]

<span data-ttu-id="9e1be-276">GridView CommandField und von TemplateFields</span><span class="sxs-lookup"><span data-stu-id="9e1be-276">The GridView's CommandField and TemplateFields</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample5.aspx)]

<span data-ttu-id="9e1be-277">An diesem Punkt werden Steuerelemente zur gültigkeitsprüfung des bearbeiten-spezifische nur bei der Behebung des Problems markiert durch den in Abbildung 13 DetailsView Einfügen-Schaltfläche klicken, wird nur angezeigt, wenn die GridView Schaltfläche "Aktualisieren" geklickt wird und Insert-spezifische Validierung Steuerelemente Fire ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="9e1be-277">At this point the edit-specific validation controls fire only when the GridView's Update button is clicked and the insert-specific validation controls fire only when the DetailsView's Insert button is clicked, resolving the problem highlighted by Figure 13.</span></span> <span data-ttu-id="9e1be-278">Unsere ValidationSummary-Steuerelement zeigt jedoch durch diese Änderung nicht mehr bei der Eingabe von ungültiger Daten.</span><span class="sxs-lookup"><span data-stu-id="9e1be-278">However, with this change our ValidationSummary control no longer displays when entering invalid data.</span></span> <span data-ttu-id="9e1be-279">ValidationSummary-Steuerelement enthält auch eine `ValidationGroup` -Eigenschaft und nur zeigt zusammenfassende Informationen für die Validierungssteuerelemente in der Gruppe für die Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="9e1be-279">The ValidationSummary control also contains a `ValidationGroup` property and only shows summary information for those validation controls in its validation group.</span></span> <span data-ttu-id="9e1be-280">Aus diesem Grund müssen wir haben zwei Steuerelementen zur gültigkeitsprüfung auf dieser Seite eine für die `InsertValidationControls` Validierungsgruppe und eine für `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="9e1be-280">Therefore, we need to have two validation controls in this page, one for the `InsertValidationControls` validation group and one for `EditValidationControls`.</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample6.aspx)]

<span data-ttu-id="9e1be-281">Mit folgender Ergänzung für unser Tutorial abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="9e1be-281">With this addition our tutorial is complete!</span></span>

## <a name="summary"></a><span data-ttu-id="9e1be-282">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="9e1be-282">Summary</span></span>

<span data-ttu-id="9e1be-283">Zwar BoundFields sowohl eine Schnittstelle zum Einfügen und bearbeiten können, ist die Schnittstelle nicht anpassbar.</span><span class="sxs-lookup"><span data-stu-id="9e1be-283">While BoundFields can provide both an inserting and editing interface, the interface is not customizable.</span></span> <span data-ttu-id="9e1be-284">Normalerweise möchten wir das Bearbeiten und Einfügen-Schnittstelle, um sicherzustellen, dass der Benutzer die erforderliche Eingaben in einem legal-Format Gibt Steuerelemente zur gültigkeitsprüfung hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="9e1be-284">Commonly, we want to add validation controls to the editing and inserting interface to ensure that the user enters required inputs in a legal format.</span></span> <span data-ttu-id="9e1be-285">Zu diesem Zweck müssen wir die BoundFields in von TemplateFields konvertieren, und fügen Steuerelemente zur gültigkeitsprüfung der entsprechenden Vorlagen hinzu.</span><span class="sxs-lookup"><span data-stu-id="9e1be-285">To accomplish this we must convert the BoundFields into TemplateFields and add the validation controls to the appropriate template(s).</span></span> <span data-ttu-id="9e1be-286">In diesem Tutorial, die wir Erweitert des Beispiel aus der *Untersuchen der Ereignisse zugeordnet einfügen, aktualisieren und löschen* Tutorials: dem Hinzufügen von Steuerelementen zur gültigkeitsprüfung zur beide DetailsView der Schnittstelle und GridView einfügen Bearbeiten die-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="9e1be-286">In this tutorial we extended the example from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial, adding validation controls to both the DetailsView's inserting interface and the GridView's editing interface.</span></span> <span data-ttu-id="9e1be-287">Darüber hinaus haben wir gesehen, wie zum Anzeigen der Zusammenfassung Validierungsinformationen, die mit dem ValidationSummary-Steuerelement und die Validierungssteuerelemente auf der Seite in unterschiedlichen Validierungsgruppen zu partitionieren.</span><span class="sxs-lookup"><span data-stu-id="9e1be-287">Moreover, we saw how to display summary validation information using the ValidationSummary control and how to partition the validation controls on the page into distinct validation groups.</span></span>

<span data-ttu-id="9e1be-288">Wie wir in diesem Tutorial gesehen haben, können von TemplateFields bearbeiten und Einfügen von Schnittstellen ergänzt werden, um Steuerelemente zur gültigkeitsprüfung einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="9e1be-288">As we saw in this tutorial, TemplateFields allow the editing and inserting interfaces to be augmented to include validation controls.</span></span> <span data-ttu-id="9e1be-289">Von TemplateFields kann auch erweitert werden um zusätzliche Eingabe Websteuerelemente, aktivieren das Textfeld durch ein geeigneter-Steuerelement ersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="9e1be-289">TemplateFields can also be extended to include additional input Web controls, enabling the TextBox to be replaced by a more suitable Web control.</span></span> <span data-ttu-id="9e1be-290">In unserem nächsten Tutorial erfahren Sie, wie das TextBox-Steuerelement mit einem datengebundenen DropDownList-Steuerelement, eignet sich ideal, wenn einen Fremdschlüssel zu bearbeiten, ersetzen (z. B. `CategoryID` oder `SupplierID` in die `Products` Tabelle).</span><span class="sxs-lookup"><span data-stu-id="9e1be-290">In our next tutorial we'll see how to replace the TextBox control with a data-bound DropDownList control, which is ideal when editing a foreign key (such as `CategoryID` or `SupplierID` in the `Products` table).</span></span>

<span data-ttu-id="9e1be-291">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="9e1be-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="9e1be-292">Der Autor</span><span class="sxs-lookup"><span data-stu-id="9e1be-292">About the Author</span></span>

<span data-ttu-id="9e1be-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="9e1be-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9e1be-294">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="9e1be-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9e1be-295">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="9e1be-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9e1be-296">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9e1be-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="9e1be-297">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="9e1be-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="9e1be-298">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="9e1be-298">Special Thanks To</span></span>

<span data-ttu-id="9e1be-299">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="9e1be-299">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9e1be-300">Führendes Prüfer für dieses Tutorial wurden Liz Shulok und Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="9e1be-300">Lead reviewers for this tutorial were Liz Shulok and Zack Jones.</span></span> <span data-ttu-id="9e1be-301">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="9e1be-301">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9e1be-302">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9e1be-302">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9e1be-303">[Zurück](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
> [Weiter](customizing-the-data-modification-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="9e1be-303">[Previous](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
[Next](customizing-the-data-modification-interface-cs.md)</span></span>
