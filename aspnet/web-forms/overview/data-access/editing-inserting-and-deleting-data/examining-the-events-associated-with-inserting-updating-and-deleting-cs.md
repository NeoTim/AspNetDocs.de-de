---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs
title: Untersuchen der Ereignisse im Zusammenhang mit einfügen, aktualisieren undC#löschen () | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial untersuchen wir die Verwendung der Ereignisse, die vor, während und nach einem INSERT-, Update-oder DELETE-Vorgang eines ASP.NET Data Web-Steuer Elements auftreten. W...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: dab291a0-a8b5-46fa-9dd8-3d35b249201f
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs
msc.type: authoredcontent
ms.openlocfilehash: a8c1388b73524a8bb918b67aa265db894c07636f
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78493425"
---
# <a name="examining-the-events-associated-with-inserting-updating-and-deleting-c"></a><span data-ttu-id="11006-104">Überprüfen von Ereignissen im Zusammenhang mit Vorgängen zum Einfügen, Aktualisieren und Löschen (C#)</span><span class="sxs-lookup"><span data-stu-id="11006-104">Examining the Events Associated with Inserting, Updating, and Deleting (C#)</span></span>

<span data-ttu-id="11006-105">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="11006-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="11006-106">[Beispiel-app herunterladen](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_17_CS.exe) oder [PDF herunterladen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/datatutorial17cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="11006-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_17_CS.exe) or [Download PDF](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/datatutorial17cs1.pdf)</span></span>

> <span data-ttu-id="11006-107">In diesem Tutorial untersuchen wir die Verwendung der Ereignisse, die vor, während und nach einem INSERT-, Update-oder DELETE-Vorgang eines ASP.NET Data Web-Steuer Elements auftreten.</span><span class="sxs-lookup"><span data-stu-id="11006-107">In this tutorial we'll examine using the events that occur before, during, and after an insert, update, or delete operation of an ASP.NET data Web control.</span></span> <span data-ttu-id="11006-108">Außerdem wird erläutert, wie die Bearbeitungs Schnittstelle so angepasst wird, dass nur eine Teilmenge der Produktfelder aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="11006-108">We'll also see how to customize the editing interface to only update a subset of the product fields.</span></span>

## <a name="introduction"></a><span data-ttu-id="11006-109">Einführung</span><span class="sxs-lookup"><span data-stu-id="11006-109">Introduction</span></span>

<span data-ttu-id="11006-110">Bei Verwendung der integrierten Funktionen zum Einfügen, bearbeiten oder Löschen der Steuerelemente GridView, DetailsView oder FormView wird eine Reihe von Schritten ausgeführt, wenn der Endbenutzer den Vorgang zum Hinzufügen eines neuen Datensatzes oder zum Aktualisieren oder Löschen eines vorhandenen Datensatzes abschließt.</span><span class="sxs-lookup"><span data-stu-id="11006-110">When using the built-in inserting, editing, or deleting features of the GridView, DetailsView, or FormView controls, a variety of steps transpire when the end user completes the process of adding a new record or updating or deleting an existing record.</span></span> <span data-ttu-id="11006-111">Wie bereits im [vorherigen Tutorial](an-overview-of-inserting-updating-and-deleting-data-cs.md)erläutert, wird die Schaltfläche Bearbeiten durch die Schaltflächen aktualisieren und Abbrechen ersetzt, wenn eine Zeile in der GridView bearbeitet wird und die Schaltfläche "boundfields" in Textfelder umgewandelt wird.</span><span class="sxs-lookup"><span data-stu-id="11006-111">As we discussed in the [previous tutorial](an-overview-of-inserting-updating-and-deleting-data-cs.md), when a row is edited in the GridView the Edit button is replaced by Update and Cancel buttons and the BoundFields turn into TextBoxes.</span></span> <span data-ttu-id="11006-112">Nachdem der Endbenutzer die Daten aktualisiert und auf Aktualisieren geklickt hat, werden die folgenden Schritte für das Postback ausgeführt:</span><span class="sxs-lookup"><span data-stu-id="11006-112">After the end user updates the data and clicks Update, the following steps are performed on postback:</span></span>

1. <span data-ttu-id="11006-113">Die GridView füllt die `UpdateParameters` ihrer ObjectDataSource mit den eindeutigen identifizierenden Feldern (n) des bearbeiteten Datensatzes (über die `DataKeyNames`-Eigenschaft) zusammen mit den Werten, die vom Benutzer eingegeben wurden.</span><span class="sxs-lookup"><span data-stu-id="11006-113">The GridView populates its ObjectDataSource's `UpdateParameters` with the edited record's unique identifying field(s) (via the `DataKeyNames` property) along with the values entered by the user</span></span>
2. <span data-ttu-id="11006-114">Die GridView ruft die `Update()`-Methode der ObjectDataSource auf, die wiederum die entsprechende Methode im zugrunde liegenden Objekt aufruft (`ProductsDAL.UpdateProduct`, in unserem vorherigen Tutorial).</span><span class="sxs-lookup"><span data-stu-id="11006-114">The GridView invokes its ObjectDataSource's `Update()` method, which in turn invokes the appropriate method in the underlying object (`ProductsDAL.UpdateProduct`, in our previous tutorial)</span></span>
3. <span data-ttu-id="11006-115">Die zugrunde liegenden Daten, die nun die aktualisierten Änderungen enthalten, werden an die GridView zurückgebunden.</span><span class="sxs-lookup"><span data-stu-id="11006-115">The underlying data, which now includes the updated changes, is rebound to the GridView</span></span>

<span data-ttu-id="11006-116">Während dieser Abfolge von Schritten wird eine Reihe von Ereignissen ausgelöst, die es uns ermöglichen, Ereignishandler zu erstellen, um bei Bedarf benutzerdefinierte Logik hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="11006-116">During this sequence of steps, a number of events fire, enabling us to create event handlers to add custom logic where needed.</span></span> <span data-ttu-id="11006-117">Beispielsweise wird vor Schritt 1 das `RowUpdating` Ereignis von GridView ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="11006-117">For example, prior to Step 1, the GridView's `RowUpdating` event fires.</span></span> <span data-ttu-id="11006-118">An diesem Punkt kann die Aktualisierungs Anforderung abgebrochen werden, wenn ein Validierungs Fehler vorliegt.</span><span class="sxs-lookup"><span data-stu-id="11006-118">We can, at this point, cancel the update request if there is some validation error.</span></span> <span data-ttu-id="11006-119">Wenn die `Update()`-Methode aufgerufen wird, wird das `Updating`-Ereignis von ObjectDataSource ausgelöst und bietet die Möglichkeit, die Werte eines beliebigen `UpdateParameters`hinzuzufügen oder anzupassen.</span><span class="sxs-lookup"><span data-stu-id="11006-119">When the `Update()` method is invoked, the ObjectDataSource's `Updating` event fires, providing an opportunity to add or customize the values of any of the `UpdateParameters`.</span></span> <span data-ttu-id="11006-120">Nachdem die Ausführung der-Methode des zugrunde liegenden Objekts von ObjectDataSource abgeschlossen wurde, wird das `Updated`-Ereignis von ObjectDataSource ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="11006-120">After the ObjectDataSource's underlying object's method has completed executing, the ObjectDataSource's `Updated` event is raised.</span></span> <span data-ttu-id="11006-121">Ein Ereignishandler für das `Updated` Ereignis kann die Details zum Aktualisierungs Vorgang überprüfen, z. b. wie viele Zeilen betroffen sind und ob eine Ausnahme aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="11006-121">An event handler for the `Updated` event can inspect the details about the update operation, such as how many rows were affected and whether or not an exception occurred.</span></span> <span data-ttu-id="11006-122">Schließlich wird das `RowUpdated` Ereignis der GridView nach Schritt 2 ausgelöst. ein Ereignishandler für dieses Ereignis kann zusätzliche Informationen über den soeben ausgeführten Aktualisierungs Vorgang überprüfen.</span><span class="sxs-lookup"><span data-stu-id="11006-122">Finally, after Step 2, the GridView's `RowUpdated` event fires; an event handler for this event can examine additional information about the update operation just performed.</span></span>

<span data-ttu-id="11006-123">Abbildung 1 zeigt eine Reihe von Ereignissen und Schritten beim Aktualisieren von GridView.</span><span class="sxs-lookup"><span data-stu-id="11006-123">Figure 1 depicts this series of events and steps when updating a GridView.</span></span> <span data-ttu-id="11006-124">Das Ereignis Muster in Abbildung 1 ist nicht eindeutig für die Aktualisierung mit einer GridView.</span><span class="sxs-lookup"><span data-stu-id="11006-124">The event pattern in Figure 1 is not unique to updating with a GridView.</span></span> <span data-ttu-id="11006-125">Durch das Einfügen, aktualisieren oder Löschen von Daten aus GridView, DetailsView oder FormView wird die gleiche Abfolge von Ereignissen vor und nach der Ebene für das datenweb-und das ObjectDataSource-Steuerelement verursacht.</span><span class="sxs-lookup"><span data-stu-id="11006-125">Inserting, updating, or deleting data from the GridView, DetailsView, or FormView precipitates the same sequence of pre- and post-level events for both the data Web control and the ObjectDataSource.</span></span>

<span data-ttu-id="11006-126">[![einer Reihe von vor-und nach Ereignissen, die beim Aktualisieren von Daten in einer GridView ausgelöst werden](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image2.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="11006-126">[![A Series of Pre- and Post-Events Fire When Updating Data in a GridView](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image2.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image1.png)</span></span>

<span data-ttu-id="11006-127">**Abbildung 1**: eine Reihe von vor-und Post-Ereignissen wird beim Aktualisieren von Daten in einer GridView ausgelöst ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="11006-127">**Figure 1**: A Series of Pre- and Post-Events Fire When Updating Data in a GridView ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image3.png))</span></span>

<span data-ttu-id="11006-128">In diesem Tutorial untersuchen wir die Verwendung dieser Ereignisse, um die integrierten Einfüge-, Aktualisierungs-und Löschfunktionen der ASP.net-datenweb Steuerelemente zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="11006-128">In this tutorial we'll examine using these events to extend the built-in inserting, updating, and deleting capabilities of the ASP.NET data Web controls.</span></span> <span data-ttu-id="11006-129">Außerdem wird erläutert, wie die Bearbeitungs Schnittstelle so angepasst wird, dass nur eine Teilmenge der Produktfelder aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="11006-129">We'll also see how to customize the editing interface to only update a subset of the product fields.</span></span>

## <a name="step-1-updating-a-productsproductnameandunitpricefields"></a><span data-ttu-id="11006-130">Schritt 1: Aktualisieren der`ProductName`-und`UnitPrice`Felder eines Produkts</span><span class="sxs-lookup"><span data-stu-id="11006-130">Step 1: Updating a Product's`ProductName`and`UnitPrice`Fields</span></span>

<span data-ttu-id="11006-131">In den Bearbeitungs Schnittstellen aus dem vorherigen Tutorial mussten *alle* Produktfelder, die nicht schreibgeschützt waren, eingeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="11006-131">In the editing interfaces from the previous tutorial *all* product fields that were not read-only had to be included.</span></span> <span data-ttu-id="11006-132">Wenn ein Feld aus der GridView entfernt werden soll, z. `QuantityPerUnit`: beim Aktualisieren der Daten würde das datenweb-Steuerelement den `QuantityPerUnit` `UpdateParameters` Wert von ObjectDataSource nicht festlegen.</span><span class="sxs-lookup"><span data-stu-id="11006-132">If we were to remove a field from the GridView - say `QuantityPerUnit` - when updating the data the data Web control would not set the ObjectDataSource's `QuantityPerUnit` `UpdateParameters` value.</span></span> <span data-ttu-id="11006-133">Die ObjectDataSource übergibt dann einen `null` Wert an die `UpdateProduct` Business Logic Layer (BLL)-Methode, die die `QuantityPerUnit` Spalte des bearbeiteten Datensatzes in einen `NULL` Wert ändern würde.</span><span class="sxs-lookup"><span data-stu-id="11006-133">The ObjectDataSource would then pass in a `null` value into the `UpdateProduct` Business Logic Layer (BLL) method, which would change the edited database record's `QuantityPerUnit` column to a `NULL` value.</span></span> <span data-ttu-id="11006-134">Wenn ein erforderliches Feld, z. b. `ProductName`, von der Bearbeitungs Schnittstelle entfernt wird, schlägt das Update ebenso mit der Ausnahme "*Spalte ' ProductName ' keine NULL-Werte zulassen '* fehl.</span><span class="sxs-lookup"><span data-stu-id="11006-134">Similarly, if a required field, such as `ProductName`, is removed from the editing interface, the update will fail with a "*Column 'ProductName' does not allow nulls*" exception.</span></span> <span data-ttu-id="11006-135">Der Grund für dieses Verhalten war, dass die ObjectDataSource so konfiguriert wurde, dass Sie die `UpdateProduct`-Methode der `ProductsBLL` Klasse aufruft, die für jedes der Produktfelder einen Eingabeparameter erwartet hat.</span><span class="sxs-lookup"><span data-stu-id="11006-135">The reason for this behavior was because the ObjectDataSource was configured to call the `ProductsBLL` class's `UpdateProduct` method, which expected an input parameter for each of the product fields.</span></span> <span data-ttu-id="11006-136">Daher enthielt die `UpdateParameters` Auflistung von ObjectDataSource einen Parameter für jeden Eingabeparameter der Methode.</span><span class="sxs-lookup"><span data-stu-id="11006-136">Therefore, the ObjectDataSource's `UpdateParameters` collection contained a parameter for each of the method's input parameters.</span></span>

<span data-ttu-id="11006-137">Wenn ein datenweb Steuerelement bereitgestellt werden soll, mit dem der Endbenutzer nur eine Teilmenge von Feldern aktualisieren kann, müssen die fehlenden `UpdateParameters` Werte im `Updating` Ereignishandler von ObjectDataSource Programm gesteuert festgelegt oder eine BLL-Methode erstellt und aufgerufen werden, die nur eine Teilmenge der Felder erwartet.</span><span class="sxs-lookup"><span data-stu-id="11006-137">If we want to provide a data Web control that allows the end user to only update a subset of fields, then we need to either programmatically set the missing `UpdateParameters` values in the ObjectDataSource's `Updating` event handler or create and call a BLL method that expects only a subset of the fields.</span></span> <span data-ttu-id="11006-138">Sehen wir uns den letzteren Ansatz an.</span><span class="sxs-lookup"><span data-stu-id="11006-138">Let's explore this latter approach.</span></span>

<span data-ttu-id="11006-139">Erstellen wir insbesondere eine Seite, auf der nur die Felder "`ProductName`" und "`UnitPrice`" in einer bearbeitbaren GridView angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="11006-139">Specifically, let's create a page that displays just the `ProductName` and `UnitPrice` fields in an editable GridView.</span></span> <span data-ttu-id="11006-140">Mithilfe der Bearbeitungs Schnittstelle dieser GridView kann der Benutzer nur die beiden angezeigten Felder `ProductName` und `UnitPrice`aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="11006-140">This GridView's editing interface will only allow the user to update the two displayed fields, `ProductName` and `UnitPrice`.</span></span> <span data-ttu-id="11006-141">Da diese Bearbeitungs Schnittstelle nur eine Teilmenge der Felder eines Produkts bereitstellt, müssen wir entweder eine ObjectDataSource erstellen, die die `UpdateProduct`-Methode der vorhandenen BLL verwendet, und die fehlenden Produkt Feldwerte werden Programm gesteuert in Ihrem `Updating`-Ereignishandler festgelegt, oder wir müssen eine neue BLL-Methode erstellen, die nur die Teilmenge der in der GridView definierten Felder erwartet</span><span class="sxs-lookup"><span data-stu-id="11006-141">Since this editing interface only provides a subset of a product's fields, we either need to create an ObjectDataSource that uses the existing BLL's `UpdateProduct` method and has the missing product field values set programmatically in its `Updating` event handler, or we need to create a new BLL method that expects only the subset of fields defined in the GridView.</span></span> <span data-ttu-id="11006-142">Verwenden Sie für dieses Tutorial die letztgenannte Option, und erstellen Sie eine Überladung der `UpdateProduct`-Methode, die nur drei Eingabeparameter annimmt: `productName`, `unitPrice`und `productID`:</span><span class="sxs-lookup"><span data-stu-id="11006-142">For this tutorial, let's use the latter option and create an overload of the `UpdateProduct` method, one that takes in just three input parameters: `productName`, `unitPrice`, and `productID`:</span></span>

[!code-csharp[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample1.cs)]

<span data-ttu-id="11006-143">Wie bei der ursprünglichen `UpdateProduct` Methode prüft diese Überladung zunächst, ob ein Produkt in der Datenbank mit dem angegebenen `ProductID`vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="11006-143">Like the original `UpdateProduct` method, this overload starts by checking to see if there is a product in the database with the specified `ProductID`.</span></span> <span data-ttu-id="11006-144">Wenn dies nicht der Fall ist, wird `false`zurückgegeben. Dies gibt an, dass die Anforderung zum Aktualisieren der Produktinformationen nicht</span><span class="sxs-lookup"><span data-stu-id="11006-144">If not, it returns `false`, indicating that the request to update the product information failed.</span></span> <span data-ttu-id="11006-145">Andernfalls werden die `ProductName`-und `UnitPrice` Felder des vorhandenen Produktdaten Satzes entsprechend aktualisiert, und es wird ein Commit für das Update ausgeführt, indem die `Update()`-Methode des TableAdapters aufgerufen und die `ProductsRow`-Instanz übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="11006-145">Otherwise it updates the existing product record's `ProductName` and `UnitPrice` fields accordingly and commits the update by calling the TableAdapter's `Update()` method, passing in the `ProductsRow` instance.</span></span>

<span data-ttu-id="11006-146">Mit dieser Ergänzung unserer `ProductsBLL`-Klasse können wir nun die vereinfachte GridView-Schnittstelle erstellen.</span><span class="sxs-lookup"><span data-stu-id="11006-146">With this addition to our `ProductsBLL` class, we're ready to create the simplified GridView interface.</span></span> <span data-ttu-id="11006-147">Öffnen Sie die `DataModificationEvents.aspx` im Ordner `EditInsertDelete`, und fügen Sie der Seite eine GridView hinzu.</span><span class="sxs-lookup"><span data-stu-id="11006-147">Open the `DataModificationEvents.aspx` in the `EditInsertDelete` folder and add a GridView to the page.</span></span> <span data-ttu-id="11006-148">Erstellen Sie eine neue ObjectDataSource, und konfigurieren Sie Sie so, dass Sie die `ProductsBLL`-Klasse mit ihrer `Select()`-Methoden Zuordnung zu `GetProducts` und deren `Update()`-Methode der `UpdateProduct` Überladung verwendet, die nur die `productName`-, `unitPrice`-und `productID`-Eingabeparameter verwendet.</span><span class="sxs-lookup"><span data-stu-id="11006-148">Create a new ObjectDataSource and configure it to use the `ProductsBLL` class with its `Select()` method mapping to `GetProducts` and its `Update()` method mapping to the `UpdateProduct` overload that takes in only the `productName`, `unitPrice`, and `productID` input parameters.</span></span> <span data-ttu-id="11006-149">Abbildung 2 zeigt den Assistenten zum Erstellen von Datenquellen, wenn die `Update()`-Methode der ObjectDataSource der neuen `UpdateProduct`-Methoden Überladung der `ProductsBLL` Klasse entspricht.</span><span class="sxs-lookup"><span data-stu-id="11006-149">Figure 2 shows the Create Data Source wizard when mapping the ObjectDataSource's `Update()` method to the `ProductsBLL` class's new `UpdateProduct` method overload.</span></span>

<span data-ttu-id="11006-150">[![die Update ()-Methode von ObjectDataSource der neuen UpdateProduct-Überladung zuzuordnen.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image5.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="11006-150">[![Map the ObjectDataSource's Update() Method to the New UpdateProduct Overload](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image5.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image4.png)</span></span>

<span data-ttu-id="11006-151">**Abbildung 2**: Ordnen Sie die `Update()` Methode der ObjectDataSource der neuen `UpdateProduct` Überladung zu ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image6.png)).</span><span class="sxs-lookup"><span data-stu-id="11006-151">**Figure 2**: Map the ObjectDataSource's `Update()` Method to the New `UpdateProduct` Overload ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image6.png))</span></span>

<span data-ttu-id="11006-152">Da unser Beispiel anfänglich nur die Möglichkeit zum Bearbeiten von Daten benötigt, aber keine Datensätze einfügen oder löschen, nehmen Sie sich einen Moment Zeit, um explizit anzugeben, dass die `Insert()`-und `Delete()` Methoden von ObjectDataSource keinen der Methoden der `ProductsBLL` Klasse zugeordnet werden sollen, indem Sie auf die Registerkarten einfügen und löschen klicken und (keine) aus der Dropdown Liste auswählen.</span><span class="sxs-lookup"><span data-stu-id="11006-152">Since our example will initially just need the ability to edit data, but not to insert or delete records, take a moment to explicitly indicate that the ObjectDataSource's `Insert()` and `Delete()` methods shouldn't be mapped to any of the `ProductsBLL` class's methods by going to the INSERT and DELETE tabs and choosing (None) from the drop-down list.</span></span>

<span data-ttu-id="11006-153">[![wählen Sie in der Dropdown Liste für die Registerkarten einfügen und löschen die Option (keine) aus.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image8.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="11006-153">[![Choose (None) From the Drop-Down List for the INSERT and DELETE Tabs](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image8.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image7.png)</span></span>

<span data-ttu-id="11006-154">**Abbildung 3**: Wählen Sie in der Dropdown Liste für die Registerkarten einfügen und löschen die Option (keine) aus ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image9.png)).</span><span class="sxs-lookup"><span data-stu-id="11006-154">**Figure 3**: Choose (None) From the Drop-Down List for the INSERT and DELETE Tabs ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image9.png))</span></span>

<span data-ttu-id="11006-155">Aktivieren Sie nach Abschluss dieses Assistenten das Kontrollkästchen Bearbeitung aktivieren im Smarttag der GridView.</span><span class="sxs-lookup"><span data-stu-id="11006-155">After completing this wizard check the Enable Editing checkbox from the GridView's smart tag.</span></span>

<span data-ttu-id="11006-156">Mit dem Abschluss des Assistenten zum Erstellen von Datenquellen und der Bindung an die GridView hat Visual Studio die deklarative Syntax für beide Steuerelemente erstellt.</span><span class="sxs-lookup"><span data-stu-id="11006-156">With the completion of the Create Data Source wizard and binding that to the GridView, Visual Studio has created the declarative syntax for both controls.</span></span> <span data-ttu-id="11006-157">Wechseln Sie zur Quell Ansicht, um das deklarative Markup von ObjectDataSource zu überprüfen. Dies wird unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="11006-157">Go to the Source view to inspect the ObjectDataSource's declarative markup, which is shown below:</span></span>

[!code-aspx[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample2.aspx)]

<span data-ttu-id="11006-158">Da keine Zuordnungen für die Methoden `Insert()` und `Delete()` von ObjectDataSource vorhanden sind, gibt es keine `InsertParameters` oder `DeleteParameters` Abschnitte.</span><span class="sxs-lookup"><span data-stu-id="11006-158">Since there are no mappings for the ObjectDataSource's `Insert()` and `Delete()` methods, there are no `InsertParameters` or `DeleteParameters` sections.</span></span> <span data-ttu-id="11006-159">Da die `Update()`-Methode der `UpdateProduct`-Methoden Überladung zugeordnet ist, die nur drei Eingabeparameter akzeptiert, enthält der `UpdateParameters` Abschnitt nur drei `Parameter` Instanzen.</span><span class="sxs-lookup"><span data-stu-id="11006-159">Furthermore, since the `Update()` method is mapped to the `UpdateProduct` method overload that only accepts three input parameters, the `UpdateParameters` section has just three `Parameter` instances.</span></span>

<span data-ttu-id="11006-160">Beachten Sie, dass die `OldValuesParameterFormatString`-Eigenschaft von ObjectDataSource auf `original_{0}`festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="11006-160">Note that the ObjectDataSource's `OldValuesParameterFormatString` property is set to `original_{0}`.</span></span> <span data-ttu-id="11006-161">Diese Eigenschaft wird von Visual Studio automatisch festgelegt, wenn der Assistent zum Konfigurieren von Datenquellen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="11006-161">This property is set automatically by Visual Studio when using the Configure Data Source wizard.</span></span> <span data-ttu-id="11006-162">Da unsere BLL-Methoden jedoch nicht erwarten, dass der ursprüngliche `ProductID` Wert übergeben wird, entfernen Sie diese Eigenschaften Zuordnung vollständig aus der deklarativen Syntax von ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="11006-162">However, since our BLL methods don't expect the original `ProductID` value to be passed in, remove this property assignment altogether from the ObjectDataSource's declarative syntax.</span></span>

> [!NOTE]
> <span data-ttu-id="11006-163">Wenn Sie einfach den `OldValuesParameterFormatString`-Eigenschafts Wert aus der Eigenschaftenfenster im Designansicht löschen, ist die Eigenschaft in der deklarativen Syntax weiterhin vorhanden, wird jedoch auf eine leere Zeichenfolge festgelegt.</span><span class="sxs-lookup"><span data-stu-id="11006-163">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but will be set to an empty string.</span></span> <span data-ttu-id="11006-164">Entfernen Sie die-Eigenschaft vollständig aus der deklarativen Syntax, oder legen Sie aus dem Eigenschaftenfenster den Wert auf den Standardwert `{0}`fest.</span><span class="sxs-lookup"><span data-stu-id="11006-164">Either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>

<span data-ttu-id="11006-165">Obwohl ObjectDataSource nur `UpdateParameters` für den Namen, den Preis und die ID des Produkts hat, hat Visual Studio in der GridView für jedes der Felder des Produkts ein BoundField-oder CheckBoxField-Element hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="11006-165">While the ObjectDataSource only has `UpdateParameters` for the product's name, price, and ID, Visual Studio has added a BoundField or CheckBoxField in the GridView for each of the product's fields.</span></span>

<span data-ttu-id="11006-166">[![der GridView ein BoundField-oder CheckBoxField-Feld für jedes der Produktfelder enthält.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image11.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="11006-166">[![The GridView Contains a BoundField or CheckBoxField for Each of the Product's Fields](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image11.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image10.png)</span></span>

<span data-ttu-id="11006-167">**Abbildung 4**: die GridView enthält ein BoundField-oder CheckBoxField-Feld für jedes der Produktfelder ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="11006-167">**Figure 4**: The GridView Contains a BoundField or CheckBoxField for Each of the Product's Fields ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image12.png))</span></span>

<span data-ttu-id="11006-168">Wenn der Endbenutzer ein Produkt bearbeitet und auf die Aktualisierungs Schaltfläche klickt, listet die GridView die Felder auf, die nicht schreibgeschützt waren.</span><span class="sxs-lookup"><span data-stu-id="11006-168">When the end user edits a product and clicks its Update button, the GridView enumerates those fields that were not read-only.</span></span> <span data-ttu-id="11006-169">Anschließend wird der Wert des entsprechenden Parameters in der `UpdateParameters` Auflistung von ObjectDataSource auf den Wert festgelegt, der vom Benutzer eingegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="11006-169">It then sets the value of the corresponding parameter in the ObjectDataSource's `UpdateParameters` collection to the value entered by the user.</span></span> <span data-ttu-id="11006-170">Wenn kein entsprechender Parameter vorhanden ist, fügt der GridView der Auflistung eine hinzu.</span><span class="sxs-lookup"><span data-stu-id="11006-170">If there is not a corresponding parameter, the GridView adds one to the collection.</span></span> <span data-ttu-id="11006-171">Wenn unsere GridView boundfields und checkboxfields für alle Felder des Produkts enthält, wird von ObjectDataSource schließlich die `UpdateProduct` Überladung aufgerufen, die alle diese Parameter annimmt, obwohl das deklarative Markup von ObjectDataSource nur drei Eingabeparameter angibt (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="11006-171">Therefore, if our GridView contains BoundFields and CheckBoxFields for all of the product's fields, the ObjectDataSource will end up invoking the `UpdateProduct` overload that takes in all of these parameters, despite the fact that the ObjectDataSource's declarative markup specifies only three input parameters (see Figure 5).</span></span> <span data-ttu-id="11006-172">Wenn in der GridView eine Kombination von nicht schreibgeschützten Produkt Feldern vorhanden ist, die nicht den Eingabe Parametern für eine `UpdateProduct` Überladung entspricht, wird eine Ausnahme ausgelöst, wenn versucht wird, zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="11006-172">Similarly, if there is some combination of non-read-only product fields in the GridView that doesn't correspond to the input parameters for a `UpdateProduct` overload, an exception will be raised when attempting to update.</span></span>

<span data-ttu-id="11006-173">[![der GridView Parameter zur UpdateParameters-Sammlung von ObjectDataSource hinzufügt](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image14.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="11006-173">[![The GridView Will Add Parameters to the ObjectDataSource's UpdateParameters Collection](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image14.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image13.png)</span></span>

<span data-ttu-id="11006-174">**Abbildung 5**: die GridView fügt der `UpdateParameters` Auflistung von ObjectDataSource Parameter hinzu ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="11006-174">**Figure 5**: The GridView Will Add Parameters to the ObjectDataSource's `UpdateParameters` Collection ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image15.png))</span></span>

<span data-ttu-id="11006-175">Um sicherzustellen, dass ObjectDataSource die `UpdateProduct` Überladung aufruft, die nur den Namen, den Preis und die ID des Produkts annimmt, muss die GridView auf bearbeitbare Felder nur für die `ProductName` und `UnitPrice`eingeschränkt werden.</span><span class="sxs-lookup"><span data-stu-id="11006-175">To ensure that the ObjectDataSource invokes the `UpdateProduct` overload that takes in just the product's name, price, and ID, we need to restrict the GridView to having editable fields for just the `ProductName` and `UnitPrice`.</span></span> <span data-ttu-id="11006-176">Dies können Sie erreichen, indem Sie die anderen boundfields-und checkboxfields-Felder entfernen, indem Sie die `ReadOnly`-Eigenschaft der anderen Felder auf `true`oder eine Kombination der beiden Eigenschaften festlegen.</span><span class="sxs-lookup"><span data-stu-id="11006-176">This can be accomplished by removing the other BoundFields and CheckBoxFields, by setting those other fields' `ReadOnly` property to `true`, or by some combination of the two.</span></span> <span data-ttu-id="11006-177">In diesem Tutorial entfernen wir einfach alle GridView-Felder außer den `ProductName`-und `UnitPrice` boundfields, nach denen das deklarative Markup der GridView aussieht:</span><span class="sxs-lookup"><span data-stu-id="11006-177">For this tutorial let's simply remove all GridView fields except the `ProductName` and `UnitPrice` BoundFields, after which the GridView's declarative markup will look like:</span></span>

[!code-aspx[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample3.aspx)]

<span data-ttu-id="11006-178">Obwohl die `UpdateProduct` Überladung drei Eingabeparameter erwartet, haben wir nur zwei boundfields in unserer GridView.</span><span class="sxs-lookup"><span data-stu-id="11006-178">Even though the `UpdateProduct` overload expects three input parameters, we only have two BoundFields in our GridView.</span></span> <span data-ttu-id="11006-179">Dies liegt daran, dass der `productID` Eingabeparameter ein Primärschlüssel Wert ist und über den Wert der `DataKeyNames`-Eigenschaft der bearbeiteten Zeile übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="11006-179">This is because the `productID` input parameter is a primary key value and passed in through the value of the `DataKeyNames` property for the edited row.</span></span>

<span data-ttu-id="11006-180">Unsere GridView ermöglicht zusammen mit der `UpdateProduct` Überladung einem Benutzer, nur den Namen und den Preis eines Produkts zu bearbeiten, ohne dass die anderen Produktfelder verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="11006-180">Our GridView, along with the `UpdateProduct` overload, allows a user to edit just the name and price of a product without losing any of the other product fields.</span></span>

<span data-ttu-id="11006-181">[![die Schnittstelle die Bearbeitung des Produkt namens und-Preises ermöglicht.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image17.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="11006-181">[![The Interface Allows Editing Just the Product's Name and Price](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image17.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image16.png)</span></span>

<span data-ttu-id="11006-182">**Abbildung 6**: die Schnittstelle ermöglicht das Bearbeiten nur des Produkt namens und-Preises ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="11006-182">**Figure 6**: The Interface Allows Editing Just the Product's Name and Price ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image18.png))</span></span>

> [!NOTE]
> <span data-ttu-id="11006-183">Wie bereits im vorherigen Tutorial erläutert, ist es von entscheidender Bedeutung, dass der GridView s-Ansichts Zustand aktiviert ist (das Standardverhalten).</span><span class="sxs-lookup"><span data-stu-id="11006-183">As discussed in the previous tutorial, it is vitally important that the GridView s view state be enabled (the default behavior).</span></span> <span data-ttu-id="11006-184">Wenn Sie die Eigenschaft GridView s `EnableViewState` auf `false`festlegen, besteht das Risiko, dass gleichzeitige Benutzerdaten Sätze versehentlich löschen oder bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="11006-184">If you set the GridView s `EnableViewState` property to `false`, you run the risk of having concurrent users unintentionally deleting or editing records.</span></span> <span data-ttu-id="11006-185">Weitere Informationen finden Sie [unter Warnung: Parallelitäts Problem mit ASP.NET 2,0 GridViews/DetailsView/formviews, die das Bearbeiten und/oder löschen unterstützen und deren Ansichts Zustand deaktiviert ist](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx) .</span><span class="sxs-lookup"><span data-stu-id="11006-185">See [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx) for more information.</span></span>

## <a name="improving-theunitpriceformatting"></a><span data-ttu-id="11006-186">Verbessern der`UnitPrice`Formatierung</span><span class="sxs-lookup"><span data-stu-id="11006-186">Improving the`UnitPrice`Formatting</span></span>

<span data-ttu-id="11006-187">Obwohl das in Abbildung 6 gezeigte GridView-Beispiel funktioniert, ist das `UnitPrice` Feld überhaupt nicht formatiert, was zu einer Preisanzeige führt, die keine Währungssymbole und vier Dezimalstellen enthält.</span><span class="sxs-lookup"><span data-stu-id="11006-187">While the GridView example shown in Figure 6 works, the `UnitPrice` field is not formatted at all, resulting in a price display that lacks any currency symbols and has four decimal places.</span></span> <span data-ttu-id="11006-188">Wenn Sie eine Währungs Formatierung für die nicht bearbeitbaren Zeilen anwenden möchten, legen Sie einfach die `DataFormatString`-Eigenschaft des `UnitPrice` BoundField auf `{0:c}` und deren `HtmlEncode`-Eigenschaft auf `false`fest.</span><span class="sxs-lookup"><span data-stu-id="11006-188">To apply a currency formatting for the non-editable rows, simply set the `UnitPrice` BoundField's `DataFormatString` property to `{0:c}` and its `HtmlEncode` property to `false`.</span></span>

<span data-ttu-id="11006-189">[![die Eigenschaften DataFormatString und HtmlEncode von UnitPrice entsprechend festlegen.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image20.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="11006-189">[![Set the UnitPrice's DataFormatString and HtmlEncode Properties Accordingly](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image20.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image19.png)</span></span>

<span data-ttu-id="11006-190">**Abbildung 7**: Festlegen der Eigenschaften des `UnitPrice``DataFormatString` und `HtmlEncode` entsprechend ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="11006-190">**Figure 7**: Set the `UnitPrice`'s `DataFormatString` and `HtmlEncode` Properties Accordingly ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image21.png))</span></span>

<span data-ttu-id="11006-191">Durch diese Änderung formatieren die nicht bearbeitbaren Zeilen den Preis als Währung. die bearbeitete Zeile zeigt jedoch weiterhin den Wert ohne das Währungssymbol und vier Dezimalstellen an.</span><span class="sxs-lookup"><span data-stu-id="11006-191">With this change, the non-editable rows format the price as a currency; the edited row, however, still displays the value without the currency symbol and with four decimal places.</span></span>

<span data-ttu-id="11006-192">[![nicht bearbeitbare Zeilen werden nun als Währungswerte formatiert.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image23.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="11006-192">[![Non-Editable Rows are Now Formatted as Currency Values](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image23.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image22.png)</span></span>

<span data-ttu-id="11006-193">**Abbildung 8**: nicht bearbeitbare Zeilen werden nun als Währungswerte formatiert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="11006-193">**Figure 8**: Non-Editable Rows are Now Formatted as Currency Values ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image24.png))</span></span>

<span data-ttu-id="11006-194">Die in der `DataFormatString`-Eigenschaft angegebenen Formatierungs Anweisungen können auf die Bearbeitungs Schnittstelle angewendet werden, indem die `ApplyFormatInEditMode`-Eigenschaft von BoundField auf `true` festgelegt wird (der Standardwert ist `false`).</span><span class="sxs-lookup"><span data-stu-id="11006-194">The formatting instructions specified in the `DataFormatString` property can be applied to the editing interface by setting the BoundField's `ApplyFormatInEditMode` property to `true` (the default is `false`).</span></span> <span data-ttu-id="11006-195">Nehmen Sie sich einen Moment Zeit, um diese Eigenschaft auf `true`festzulegen.</span><span class="sxs-lookup"><span data-stu-id="11006-195">Take a moment to set this property to `true`.</span></span>

<span data-ttu-id="11006-196">[![die ApplyFormatInEditMode-Eigenschaft des UnitPrice BoundField auf "true" festgelegt.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image26.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="11006-196">[![Set the UnitPrice BoundField's ApplyFormatInEditMode property to true](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image26.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image25.png)</span></span>

<span data-ttu-id="11006-197">**Abbildung 9**: Festlegen der `ApplyFormatInEditMode`-Eigenschaft des `UnitPrice` BoundField auf `true` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="11006-197">**Figure 9**: Set the `UnitPrice` BoundField's `ApplyFormatInEditMode` property to `true` ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image27.png))</span></span>

<span data-ttu-id="11006-198">Mit dieser Änderung wird der Wert des in der bearbeiteten Zeile angezeigten `UnitPrice` auch als Währung formatiert.</span><span class="sxs-lookup"><span data-stu-id="11006-198">With this change, the value of the `UnitPrice` displayed in the edited row is also formatted as a currency.</span></span>

<span data-ttu-id="11006-199">[![der UnitPrice-Wert der bearbeiteten Zeile ist nun als Währung formatiert.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image29.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="11006-199">[![The Edited Row's UnitPrice Value is Now Formatted as a Currency](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image29.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image28.png)</span></span>

<span data-ttu-id="11006-200">**Abbildung 10**: der `UnitPrice` Wert der bearbeiteten Zeile ist nun als Währung formatiert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="11006-200">**Figure 10**: The Edited Row's `UnitPrice` Value is Now Formatted as a Currency ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image30.png))</span></span>

<span data-ttu-id="11006-201">Beim Aktualisieren eines Produkts mit dem Währungssymbol im Textfeld, z. b. $19,00, wird jedoch ein `FormatException`ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="11006-201">However, updating a product with the currency symbol in the textbox such as $19.00 throws a `FormatException`.</span></span> <span data-ttu-id="11006-202">Wenn die GridView versucht, die vom Benutzer bereitgestellten Werte der `UpdateParameters` Collection von ObjectDataSource zuzuweisen, kann die `UnitPrice` Zeichenfolge "$19,00" nicht in die `decimal` konvertiert werden, die für den-Parameter erforderlich ist (siehe Abbildung 11).</span><span class="sxs-lookup"><span data-stu-id="11006-202">When the GridView attempts to assign the user-supplied values to the ObjectDataSource's `UpdateParameters` collection it is unable to convert the `UnitPrice` string "$19.00" into the `decimal` required by the parameter (see Figure 11).</span></span> <span data-ttu-id="11006-203">Um dieses Problem zu beheben, können wir einen Ereignishandler für das `RowUpdating` Ereignis der GridView erstellen und die vom Benutzer bereitgestellten `UnitPrice` als Währungs formatierte `decimal`analysieren lassen.</span><span class="sxs-lookup"><span data-stu-id="11006-203">To remedy this we can create an event handler for the GridView's `RowUpdating` event and have it parse the user-supplied `UnitPrice` as a currency-formatted `decimal`.</span></span>

<span data-ttu-id="11006-204">Das `RowUpdating` Ereignis von GridView akzeptiert als zweiten Parameter ein Objekt vom Typ " [GridViewUpdateEventArgs](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridviewupdateeventargs(VS.80).aspx)", das ein `NewValues` Wörterbuch als eine seiner Eigenschaften enthält, die die vom Benutzer bereitgestellten Werte enthält, die der `UpdateParameters` Auflistung von ObjectDataSource zugewiesen werden können.</span><span class="sxs-lookup"><span data-stu-id="11006-204">The GridView's `RowUpdating` event accepts as its second parameter an object of type [GridViewUpdateEventArgs](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridviewupdateeventargs(VS.80).aspx), which includes a `NewValues` dictionary as one of its properties that holds the user-supplied values ready to be assigned to the ObjectDataSource's `UpdateParameters` collection.</span></span> <span data-ttu-id="11006-205">Wir können den vorhandenen `UnitPrice` Wert in der `NewValues` Auflistung mit einem Dezimalwert überschreiben, der im Währungs Format mit den folgenden Codezeilen im `RowUpdating`-Ereignishandler analysiert wurde:</span><span class="sxs-lookup"><span data-stu-id="11006-205">We can overwrite the existing `UnitPrice` value in the `NewValues` collection with a decimal value parsed using the currency format with the following lines of code in the `RowUpdating` event handler:</span></span>

[!code-csharp[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample4.cs)]

<span data-ttu-id="11006-206">Wenn der Benutzer einen `UnitPrice` Wert (z. b. "$19,00") angegeben hat, wird dieser Wert mit dem Dezimalwert überschrieben, der durch [Decimal.](https://msdn.microsoft.com/library/system.decimal.parse(VS.80).aspx)Analyse berechnet wird, wobei der Wert als Währung analysiert wird.</span><span class="sxs-lookup"><span data-stu-id="11006-206">If the user has supplied a `UnitPrice` value (such as "$19.00"), this value is overwritten with the decimal value computed by [Decimal.Parse](https://msdn.microsoft.com/library/system.decimal.parse(VS.80).aspx), parsing the value as a currency.</span></span> <span data-ttu-id="11006-207">Dadurch wird das Dezimaltrennzeichen im Fall von Währungs Symbolen, Kommas, Dezimaltrennzeichen usw. ordnungsgemäß analysiert und die [Enumeration "zahlstile](https://msdn.microsoft.com/library/system.globalization.numberstyles(VS.80).aspx) " im [System. Globalization](https://msdn.microsoft.com/library/abeh092z(VS.80).aspx) -Namespace verwendet.</span><span class="sxs-lookup"><span data-stu-id="11006-207">This will correctly parse the decimal in the event of any currency symbols, commas, decimal points, and so on, and uses the [NumberStyles enumeration](https://msdn.microsoft.com/library/system.globalization.numberstyles(VS.80).aspx) in the [System.Globalization](https://msdn.microsoft.com/library/abeh092z(VS.80).aspx) namespace.</span></span>

<span data-ttu-id="11006-208">Abbildung 11 zeigt das Problem, das durch Währungssymbole in der vom Benutzer bereitgestellten `UnitPrice`verursacht wird, sowie die Art und Weise, wie der `RowUpdating` Ereignishandler von GridView zum ordnungsgemäßen analysieren solcher Eingaben verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="11006-208">Figure 11 shows both the problem caused by currency symbols in the user-supplied `UnitPrice`, along with how the GridView's `RowUpdating` event handler can be utilized to correctly parse such input.</span></span>

<span data-ttu-id="11006-209">[![der UnitPrice-Wert der bearbeiteten Zeile ist nun als Währung formatiert.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image32.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="11006-209">[![The Edited Row's UnitPrice Value is Now Formatted as a Currency](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image32.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image31.png)</span></span>

<span data-ttu-id="11006-210">**Abbildung 11**: der `UnitPrice` Wert der bearbeiteten Zeile ist nun als Währung formatiert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="11006-210">**Figure 11**: The Edited Row's `UnitPrice` Value is Now Formatted as a Currency ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image33.png))</span></span>

## <a name="step-2-prohibitingnull-unitprices"></a><span data-ttu-id="11006-211">Schritt 2: verbieten von`NULL UnitPrices`</span><span class="sxs-lookup"><span data-stu-id="11006-211">Step 2: Prohibiting`NULL UnitPrices`</span></span>

<span data-ttu-id="11006-212">Obwohl die Datenbank so konfiguriert ist, dass `NULL` Werte in der `UnitPrice` Spalte der `Products` Tabelle zulässig sind, möchten Sie möglicherweise verhindern, dass Benutzer, die diese bestimmte Seite besuchen, eine `NULL` `UnitPrice` Wert angeben.</span><span class="sxs-lookup"><span data-stu-id="11006-212">While the database is configured to allow `NULL` values in the `Products` table's `UnitPrice` column, we may want to prevent users visiting this particular page from specifying a `NULL` `UnitPrice` value.</span></span> <span data-ttu-id="11006-213">Das heißt, wenn ein Benutzer beim Bearbeiten einer Produkt Zeile einen `UnitPrice` Wert nicht eingeben kann, anstatt die Ergebnisse in der Datenbank zu speichern, möchten wir eine Meldung anzeigen, die den Benutzer darüber informiert, dass auf dieser Seite für alle bearbeiteten Produkte ein Preis angegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="11006-213">That is, if a user fails to enter a `UnitPrice` value when editing a product row, rather than save the results to the database we want to display a message informing the user that, through this page, any edited products must have a price specified.</span></span>

<span data-ttu-id="11006-214">Das `GridViewUpdateEventArgs` Objekt, das an den `RowUpdating`-Ereignishandler der GridView übermittelt wird, enthält eine `Cancel`-Eigenschaft, die bei Festlegung auf `true`den Aktualisierungsprozess beendet.</span><span class="sxs-lookup"><span data-stu-id="11006-214">The `GridViewUpdateEventArgs` object passed into the GridView's `RowUpdating` event handler contains a `Cancel` property that, if set to `true`, terminates the updating process.</span></span> <span data-ttu-id="11006-215">Erweitern Sie den `RowUpdating`-Ereignishandler, um `e.Cancel` auf `true` festzulegen, und zeigen Sie eine Meldung an, in der erläutert wird, warum der `UnitPrice` Wert in der `NewValues` Auflistung `null`ist.</span><span class="sxs-lookup"><span data-stu-id="11006-215">Let's extend the `RowUpdating` event handler to set `e.Cancel` to `true` and display a message explaining why if the `UnitPrice` value in the `NewValues` collection is `null`.</span></span>

<span data-ttu-id="11006-216">Fügen Sie zunächst der Seite mit dem Namen `MustProvideUnitPriceMessage`ein Label-websteuer Element hinzu.</span><span class="sxs-lookup"><span data-stu-id="11006-216">Start by adding a Label Web control to the page named `MustProvideUnitPriceMessage`.</span></span> <span data-ttu-id="11006-217">Dieses Bezeichnung-Steuerelement wird angezeigt, wenn der Benutzer beim Aktualisieren eines Produkts keinen `UnitPrice` Wert angeben kann.</span><span class="sxs-lookup"><span data-stu-id="11006-217">This Label control will be displayed if the user fails to specify a `UnitPrice` value when updating a product.</span></span> <span data-ttu-id="11006-218">Legen Sie die `Text`-Eigenschaft der Bezeichnung auf "Sie müssen einen Preis für das Produkt angeben" fest.</span><span class="sxs-lookup"><span data-stu-id="11006-218">Set the Label's `Text` property to "You must provide a price for the product."</span></span> <span data-ttu-id="11006-219">Außerdem habe ich eine neue CSS-Klasse in `Styles.css` namens `Warning` mit der folgenden Definition erstellt:</span><span class="sxs-lookup"><span data-stu-id="11006-219">I've also created a new CSS class in `Styles.css` named `Warning` with the following definition:</span></span>

[!code-css[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample5.css)]

<span data-ttu-id="11006-220">Legen Sie abschließend die `CssClass`-Eigenschaft der Bezeichnung auf `Warning`fest.</span><span class="sxs-lookup"><span data-stu-id="11006-220">Finally, set the Label's `CssClass` property to `Warning`.</span></span> <span data-ttu-id="11006-221">An diesem Punkt sollte der Designer die Warnmeldung in einer rot, Fett, kursiv und sehr großen Schriftgröße oberhalb der GridView anzeigen, wie in Abbildung 12 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="11006-221">At this point the Designer should show the warning message in a red, bold, italic, extra large font size above the GridView, as shown in Figure 12.</span></span>

<span data-ttu-id="11006-222">[![eine Bezeichnung oberhalb der GridView hinzugefügt wurde.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image35.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="11006-222">[![A Label Has Been Added Above the GridView](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image35.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image34.png)</span></span>

<span data-ttu-id="11006-223">**Abbildung 12**: eine Bezeichnung wurde oberhalb der GridView hinzugefügt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="11006-223">**Figure 12**: A Label Has Been Added Above the GridView ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image36.png))</span></span>

<span data-ttu-id="11006-224">Diese Bezeichnung sollte standardmäßig ausgeblendet werden. Legen Sie daher die `Visible`-Eigenschaft auf `false` im `Page_Load`-Ereignishandler fest:</span><span class="sxs-lookup"><span data-stu-id="11006-224">By default, this Label should be hidden, so set its `Visible` property to `false` in the `Page_Load` event handler:</span></span>

[!code-csharp[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample6.cs)]

<span data-ttu-id="11006-225">Wenn der Benutzer versucht, ein Produkt zu aktualisieren, ohne den `UnitPrice`anzugeben, möchten wir die Aktualisierung abbrechen und die Bezeichnung "Warning" anzeigen.</span><span class="sxs-lookup"><span data-stu-id="11006-225">If the user attempts to update a product without specifying the `UnitPrice`, we want to cancel the update and display the warning label.</span></span> <span data-ttu-id="11006-226">Vergrößern Sie den `RowUpdating` Ereignishandler der GridView wie folgt:</span><span class="sxs-lookup"><span data-stu-id="11006-226">Augment the GridView's `RowUpdating` event handler as follows:</span></span>

[!code-csharp[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample7.cs)]

<span data-ttu-id="11006-227">Wenn ein Benutzer versucht, ein Produkt zu speichern, ohne einen Preis anzugeben, wird das Update abgebrochen, und es wird eine hilfreiche Meldung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="11006-227">If a user attempts to save a product without specifying a price, the update is cancelled and a helpful message is displayed.</span></span> <span data-ttu-id="11006-228">Obwohl die Datenbank (und die Geschäftslogik) `NULL` `UnitPrice` s zulässt, ist diese spezielle ASP.NET Seite nicht.</span><span class="sxs-lookup"><span data-stu-id="11006-228">While the database (and business logic) allows for `NULL` `UnitPrice` s, this particular ASP.NET page does not.</span></span>

<span data-ttu-id="11006-229">[![ein Benutzer darf UnitPrice nicht leer lassen.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image38.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="11006-229">[![A User Cannot Leave UnitPrice Blank](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image38.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image37.png)</span></span>

<span data-ttu-id="11006-230">**Abbildung 13**: ein Benutzer kann `UnitPrice` nicht leer lassen ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="11006-230">**Figure 13**: A User Cannot Leave `UnitPrice` Blank ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image39.png))</span></span>

<span data-ttu-id="11006-231">Bisher haben wir gesehen, wie das `RowUpdating` Ereignis der GridView verwendet wird, um die Parameterwerte Programm gesteuert zu ändern, die der `UpdateParameters` Auflistung von ObjectDataSource zugewiesen sind, und wie der Aktualisierungsprozess vollständig abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="11006-231">So far we have seen how to use the GridView's `RowUpdating` event to programmatically alter the parameter values assigned to the ObjectDataSource's `UpdateParameters` collection as well as how to cancel the updating process altogether.</span></span> <span data-ttu-id="11006-232">Diese Konzepte werden in die Steuerelemente DetailsView und FormView übernommen und gelten auch für das Einfügen und löschen.</span><span class="sxs-lookup"><span data-stu-id="11006-232">These concepts carry over to the DetailsView and FormView controls and also apply to inserting and deleting.</span></span>

<span data-ttu-id="11006-233">Diese Aufgaben können auch auf der ObjectDataSource-Ebene durch Ereignishandler für die `Inserting`-, `Updating`-und `Deleting`-Ereignisse ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="11006-233">These tasks can also be done at the ObjectDataSource level through event handlers for its `Inserting`, `Updating`, and `Deleting` events.</span></span> <span data-ttu-id="11006-234">Diese Ereignisse werden ausgelöst, bevor die zugehörige-Methode des zugrunde liegenden Objekts aufgerufen wird, und stellen eine Chance der letzten Chance bereit, die Auflistung der Eingabeparameter zu ändern oder den Vorgang direkt abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="11006-234">These events fire before the associated method of the underlying object is invoked and provide a last-chance opportunity to modify the input parameters collection or cancel the operation outright.</span></span> <span data-ttu-id="11006-235">Den Ereignis Handlern für diese drei Ereignisse wird ein Objekt vom Typ [ObjectDataSourceMethodEventArgs](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourcemethodeventargs(VS.80).aspx) übergeben, das zwei relevante Eigenschaften hat:</span><span class="sxs-lookup"><span data-stu-id="11006-235">The event handlers for these three events are passed an object of type [ObjectDataSourceMethodEventArgs](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourcemethodeventargs(VS.80).aspx) that has two properties of interest:</span></span>

- <span data-ttu-id="11006-236">[Abbrechen](https://msdn.microsoft.com/library/system.componentmodel.canceleventargs.cancel(VS.80).aspx), bei Festlegung auf `true`bricht den ausgeführten Vorgang ab.</span><span class="sxs-lookup"><span data-stu-id="11006-236">[Cancel](https://msdn.microsoft.com/library/system.componentmodel.canceleventargs.cancel(VS.80).aspx), which, if set to `true`, cancels the operation being performed</span></span>
- <span data-ttu-id="11006-237">[InputParameters](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourcemethodeventargs.inputparameters(VS.80).aspx), eine Auflistung von `InsertParameters`, `UpdateParameters`oder `DeleteParameters`, abhängig davon, ob der Ereignishandler für das `Inserting`-, `Updating`-oder `Deleting`-Ereignis gilt.</span><span class="sxs-lookup"><span data-stu-id="11006-237">[InputParameters](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourcemethodeventargs.inputparameters(VS.80).aspx), which is the collection of `InsertParameters`, `UpdateParameters`, or `DeleteParameters`, depending on whether the event handler is for the `Inserting`, `Updating`, or `Deleting` event</span></span>

<span data-ttu-id="11006-238">Um die Arbeit mit den Parameterwerten auf der ObjectDataSource-Ebene zu veranschaulichen, nehmen wir eine DetailsView auf unserer Seite auf, mit der Benutzer ein neues Produkt hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="11006-238">To illustrate working with the parameter values at the ObjectDataSource level, let's include a DetailsView in our page that allows the users to add a new product.</span></span> <span data-ttu-id="11006-239">Diese DetailsView wird verwendet, um eine Schnittstelle zum schnellen Hinzufügen eines neuen Produkts zur Datenbank bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="11006-239">This DetailsView will be used to provide an interface for quickly adding a new product to the database.</span></span> <span data-ttu-id="11006-240">Um beim Hinzufügen eines neuen Produkts eine konsistente Benutzeroberfläche beizubehalten, dürfen Benutzer nur Werte für die Felder `ProductName` und `UnitPrice` eingeben.</span><span class="sxs-lookup"><span data-stu-id="11006-240">To keep a consistent user interface when adding a new product let's allow the user to only enter values for the `ProductName` and `UnitPrice` fields.</span></span> <span data-ttu-id="11006-241">Standardmäßig werden die Werte, die nicht in der einfügeschnittstelle der DetailsView bereitgestellt werden, auf einen `NULL` Daten Bank Wert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="11006-241">By default, those values that aren't supplied in the DetailsView's inserting interface will be set to a `NULL` database value.</span></span> <span data-ttu-id="11006-242">Wir können jedoch das `Inserting`-Ereignis von ObjectDataSource verwenden, um andere Standardwerte einzufügen, wie wir es in Kürze sehen werden.</span><span class="sxs-lookup"><span data-stu-id="11006-242">However, we can use the ObjectDataSource's `Inserting` event to inject different default values, as we'll see shortly.</span></span>

## <a name="step-3-providing-an-interface-to-add-new-products"></a><span data-ttu-id="11006-243">Schritt 3: Bereitstellen einer Schnittstelle zum Hinzufügen neuer Produkte</span><span class="sxs-lookup"><span data-stu-id="11006-243">Step 3: Providing an Interface to Add New Products</span></span>

<span data-ttu-id="11006-244">Ziehen Sie eine DetailsView aus der Toolbox auf den Designer oberhalb der GridView, löschen Sie den `Height`-und `Width` Eigenschaften, und binden Sie ihn an die bereits auf der Seite vorhandene ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="11006-244">Drag a DetailsView from the Toolbox onto the Designer above the GridView, clear out its `Height` and `Width` properties, and bind it to the ObjectDataSource already present on the page.</span></span> <span data-ttu-id="11006-245">Dadurch wird ein BoundField-oder CheckBoxField-Feld für jedes der Felder des Produkts hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="11006-245">This will add a BoundField or CheckBoxField for each of the product's fields.</span></span> <span data-ttu-id="11006-246">Da wir diese DetailsView zum Hinzufügen neuer Produkte verwenden möchten, müssen wir die Option zum Aktivieren der Option zum Aktivieren des Smarttags aktivieren. Diese Option ist jedoch nicht verfügbar, da die `Insert()`-Methode von ObjectDataSource keiner Methode in der `ProductsBLL`-Klasse zugeordnet ist (denken Sie daran, dass Sie diese Zuordnung auf (keine) festgelegt haben, wenn Sie die Datenquelle konfigurieren, siehe Abbildung 3).</span><span class="sxs-lookup"><span data-stu-id="11006-246">Since we want to use this DetailsView to add new products, we need to check the Enable Inserting option from the smart tag; however, there's no such option because the ObjectDataSource's `Insert()` method is not mapped to a method in the `ProductsBLL` class (recall that we set this mapping to (None) when configuring the data source see Figure 3).</span></span>

<span data-ttu-id="11006-247">Wählen Sie zum Konfigurieren von ObjectDataSource den Link Datenquelle konfigurieren aus dem Smarttag aus, und starten Sie den Assistenten.</span><span class="sxs-lookup"><span data-stu-id="11006-247">To configure the ObjectDataSource, select the Configure Data Source link from its smart tag, launching the wizard.</span></span> <span data-ttu-id="11006-248">Auf dem ersten Bildschirm können Sie das zugrunde liegende Objekt ändern, an das ObjectDataSource gebunden ist. Legen Sie den Wert auf `ProductsBLL`fest.</span><span class="sxs-lookup"><span data-stu-id="11006-248">The first screen allows you to change the underlying object the ObjectDataSource is bound to; leave it set to `ProductsBLL`.</span></span> <span data-ttu-id="11006-249">Auf dem nächsten Bildschirm werden die Zuordnungen von den Methoden von ObjectDataSource zum zugrunde liegenden-Objekt aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="11006-249">The next screen lists the mappings from the ObjectDataSource's methods to the underlying object's.</span></span> <span data-ttu-id="11006-250">Obwohl wir explizit angegeben haben, dass die Methoden `Insert()` und `Delete()` keinen Methoden zugeordnet werden sollen, sehen Sie, dass eine Zuordnung vorhanden ist, wenn Sie auf die Registerkarten einfügen und löschen klicken.</span><span class="sxs-lookup"><span data-stu-id="11006-250">Even though we explicitly indicated that the `Insert()` and `Delete()` methods should not be mapped to any methods, if you go to the INSERT and DELETE tabs you'll see that a mapping is there.</span></span> <span data-ttu-id="11006-251">Dies liegt daran, dass die Methoden `AddProduct` und `DeleteProduct` des `ProductsBLL`das `DataObjectMethodAttribute`-Attribut verwenden, um anzugeben, dass es sich hierbei um die Standardmethoden für `Insert()` bzw. `Delete()`handelt.</span><span class="sxs-lookup"><span data-stu-id="11006-251">This is because the `ProductsBLL`'s `AddProduct` and `DeleteProduct` methods use the `DataObjectMethodAttribute` attribute to indicate that they are the default methods for `Insert()` and `Delete()`, respectively.</span></span> <span data-ttu-id="11006-252">Daher wählt der ObjectDataSource-Assistent diese bei jedem Ausführen des Assistenten aus, es sei denn, es ist explizit ein anderer Wert angegeben.</span><span class="sxs-lookup"><span data-stu-id="11006-252">Hence, the ObjectDataSource wizard selects these each time you run the wizard unless there's some other value explicitly specified.</span></span>

<span data-ttu-id="11006-253">Belassen Sie die `Insert()`-Methode, die auf die `AddProduct`-Methode zeigt, und legen Sie die Dropdown Liste der Registerkarte löschen auf (keine) fest.</span><span class="sxs-lookup"><span data-stu-id="11006-253">Leave the `Insert()` method pointing to the `AddProduct` method, but again set the DELETE tab's drop-down list to (None).</span></span>

<span data-ttu-id="11006-254">[![die Dropdown Liste der Registerkarte Einfügen auf die addProduct-Methode festgelegt.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image41.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="11006-254">[![Set the INSERT Tab's Drop-Down List to the AddProduct Method](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image41.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image40.png)</span></span>

<span data-ttu-id="11006-255">**Abbildung 14**: Festlegen der Dropdown Liste der Registerkarte "Einfügen" auf die `AddProduct` Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="11006-255">**Figure 14**: Set the INSERT Tab's Drop-Down List to the `AddProduct` Method ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image42.png))</span></span>

<span data-ttu-id="11006-256">[![die Dropdown Liste der Registerkarte löschen auf (keine) festgelegt.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image44.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="11006-256">[![Set the DELETE Tab's Drop-Down List to (None)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image44.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image43.png)</span></span>

<span data-ttu-id="11006-257">**Abbildung 15**: Festlegen der Dropdown Liste der Registerkarte "Löschen" auf "(keine)" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="11006-257">**Figure 15**: Set the DELETE Tab's Drop-Down List to (None) ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image45.png))</span></span>

<span data-ttu-id="11006-258">Nachdem Sie diese Änderungen vorgenommen haben, wird die deklarative Syntax von ObjectDataSource so erweitert, dass Sie eine `InsertParameters` Auflistung enthält, wie unten dargestellt:</span><span class="sxs-lookup"><span data-stu-id="11006-258">After making these changes, the ObjectDataSource's declarative syntax will be expanded to include an `InsertParameters` collection, as shown below:</span></span>

[!code-aspx[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample8.aspx)]

<span data-ttu-id="11006-259">Wenn Sie den Assistenten erneut ausführen, wird die `OldValuesParameterFormatString`-Eigenschaft zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="11006-259">Rerunning the wizard added back the `OldValuesParameterFormatString` property.</span></span> <span data-ttu-id="11006-260">Nehmen Sie sich einen Moment Zeit, um diese Eigenschaft zu löschen, indem Sie Sie auf den Standardwert (`{0}`) festlegen oder Sie vollständig aus der deklarativen Syntax entfernen.</span><span class="sxs-lookup"><span data-stu-id="11006-260">Take a moment to clear this property by setting it to the default value (`{0}`) or removing it altogether from the declarative syntax.</span></span>

<span data-ttu-id="11006-261">Wenn die ObjectDataSource Einfügefunktionen bereitstellt, enthält das Smarttag der DetailsView nun das Kontrollkästchen einfügen aktivieren. Kehren Sie zum Designer zurück, und aktivieren Sie diese Option.</span><span class="sxs-lookup"><span data-stu-id="11006-261">With the ObjectDataSource providing inserting capabilities, the DetailsView's smart tag will now include the Enable Inserting checkbox; return to the Designer and check this option.</span></span> <span data-ttu-id="11006-262">Im nächsten Schritt wird in der DetailsView nach unten angezeigt, sodass nur zwei boundfields-`ProductName` und `UnitPrice` sowie das CommandField-Feld verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="11006-262">Next, pare down the DetailsView so that it only has two BoundFields - `ProductName` and `UnitPrice` - and the CommandField.</span></span> <span data-ttu-id="11006-263">An diesem Punkt sollte die deklarative Syntax der DetailsView wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="11006-263">At this point the DetailsView's declarative syntax should look like:</span></span>

[!code-aspx[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample9.aspx)]

<span data-ttu-id="11006-264">In Abbildung 16 wird diese Seite angezeigt, wenn Sie an dieser Stelle über einen Browser angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="11006-264">Figure 16 shows this page when viewed through a browser at this point.</span></span> <span data-ttu-id="11006-265">Wie Sie sehen können, listet die DetailsView den Namen und den Preis des ersten Produkts (Chai) auf.</span><span class="sxs-lookup"><span data-stu-id="11006-265">As you can see, the DetailsView lists the name and price of the first product (Chai).</span></span> <span data-ttu-id="11006-266">Es ist jedoch eine Benutzeroberfläche, die eine Benutzeroberfläche bereitstellt, mit der der Benutzer schnell ein neues Produkt zur Datenbank hinzufügen kann.</span><span class="sxs-lookup"><span data-stu-id="11006-266">What we want, however, is an inserting interface that provides a means for the user to quickly add a new product to the database.</span></span>

<span data-ttu-id="11006-267">[![die DetailsView momentan im schreibgeschützten Modus gerendert wird.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image47.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="11006-267">[![The DetailsView is Currently Rendered in Read-Only Mode](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image47.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image46.png)</span></span>

<span data-ttu-id="11006-268">**Abbildung 16**: die DetailsView wird zurzeit im schreibgeschützten Modus gerendert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="11006-268">**Figure 16**: The DetailsView is Currently Rendered in Read-Only Mode ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image48.png))</span></span>

<span data-ttu-id="11006-269">Um die DetailsView im Einfügemodus anzuzeigen, müssen Sie die `DefaultMode`-Eigenschaft auf `Inserting`festlegen.</span><span class="sxs-lookup"><span data-stu-id="11006-269">In order to show the DetailsView in its inserting mode we need to set the `DefaultMode` property to `Inserting`.</span></span> <span data-ttu-id="11006-270">Dadurch wird die DetailsView beim ersten Besuch im Einfügemodus gerendert und dort nach dem Einfügen eines neuen Datensatzes aufbewahrt.</span><span class="sxs-lookup"><span data-stu-id="11006-270">This renders the DetailsView in insert mode when first visited and keeps it there after inserting a new record.</span></span> <span data-ttu-id="11006-271">Wie in Abbildung 17 dargestellt, bietet eine solche DetailsView eine kurze Oberfläche zum Hinzufügen eines neuen Datensatzes.</span><span class="sxs-lookup"><span data-stu-id="11006-271">As Figure 17 shows, such a DetailsView provides a quick interface for adding a new record.</span></span>

<span data-ttu-id="11006-272">[![DetailsView stellt eine Schnittstelle für das schnelle Hinzufügen eines neuen Produkts bereit.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image50.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="11006-272">[![The DetailsView Provides an Interface for Quickly Adding a New Product](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image50.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image49.png)</span></span>

<span data-ttu-id="11006-273">**Abbildung 17**: die DetailsView stellt eine Schnittstelle zum schnellen Hinzufügen eines neuen Produkts bereit ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="11006-273">**Figure 17**: The DetailsView Provides an Interface for Quickly Adding a New Product ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image51.png))</span></span>

<span data-ttu-id="11006-274">Wenn der Benutzer einen Produktnamen und-Preis (z. b. "Acme Water" und 1,99, wie in Abbildung 17) eingibt und auf "Einfügen" klickt, wird ein Postback durchlaufen, und der einfügeworkflow beginnt mit einem neuen Produktdaten Satz, der der Datenbank hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="11006-274">When the user enters a product name and price (such as "Acme Water" and 1.99, as in Figure 17) and clicks Insert, a postback ensues and the inserting workflow commences, culminating in a new product record being added to the database.</span></span> <span data-ttu-id="11006-275">Die DetailsView verwaltet die einfügeschnittstelle, und die GridView wird automatisch an die zugehörige Datenquelle zurückgebracht, um das neue Produkt einzuschließen, wie in Abbildung 18 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="11006-275">The DetailsView maintains its inserting interface and the GridView is automatically rebound to its data source in order to include the new product, as shown in Figure 18.</span></span>

![Das Produkt](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image52.png)

<span data-ttu-id="11006-277">**Abbildung 18**: das Produkt "Acme Water" wurde der Datenbank hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="11006-277">**Figure 18**: The Product "Acme Water" Has Been Added to the Database</span></span>

<span data-ttu-id="11006-278">Obwohl die GridView in Abbildung 18 dies nicht anzeigt, werden die Produktfelder, die in der DetailsView-Schnittstelle fehlen `CategoryID`, `SupplierID`, `QuantityPerUnit`usw. `NULL` Daten Bankwerte zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="11006-278">While the GridView in Figure 18 doesn't show it, the product fields lacking from the DetailsView interface `CategoryID`, `SupplierID`, `QuantityPerUnit`, and so on are assigned `NULL` database values.</span></span> <span data-ttu-id="11006-279">Sie sehen dies, indem Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="11006-279">You can see this by performing the following steps:</span></span>

1. <span data-ttu-id="11006-280">Wechseln Sie in Visual Studio zum Server-Explorer.</span><span class="sxs-lookup"><span data-stu-id="11006-280">Go to the Server Explorer in Visual Studio</span></span>
2. <span data-ttu-id="11006-281">Erweitern des Knotens "`NORTHWND.MDF` Datenbank"</span><span class="sxs-lookup"><span data-stu-id="11006-281">Expanding the `NORTHWND.MDF` database node</span></span>
3. <span data-ttu-id="11006-282">Klicken Sie mit der rechten Maustaste auf den Knoten Datenbanktabelle `Products`.</span><span class="sxs-lookup"><span data-stu-id="11006-282">Right-click on the `Products` database table node</span></span>
4. <span data-ttu-id="11006-283">Wählen Sie Tabellendaten anzeigen aus.</span><span class="sxs-lookup"><span data-stu-id="11006-283">Select Show Table Data</span></span>

<span data-ttu-id="11006-284">Dadurch werden alle Datensätze in der `Products` Tabelle aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="11006-284">This will list all of the records in the `Products` table.</span></span> <span data-ttu-id="11006-285">Wie in Abbildung 19 gezeigt, haben alle anderen Spalten des neuen Produkts als `ProductID`, `ProductName`und `UnitPrice` `NULL` Werte.</span><span class="sxs-lookup"><span data-stu-id="11006-285">As Figure 19 shows, all of our new product's columns other than `ProductID`, `ProductName`, and `UnitPrice` have `NULL` values.</span></span>

<span data-ttu-id="11006-286">[![den in der DetailsView nicht angegebenen Produkt Feldern werden NULL-Werte zugewiesen.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image54.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="11006-286">[![The Product Fields Not Provided in the DetailsView are Assigned NULL Values](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image54.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image53.png)</span></span>

<span data-ttu-id="11006-287">**Abbildung 19**: die Produktfelder, die nicht in der DetailsView angegeben sind, werden `NULL` Werten zugewiesen ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image55.png))</span><span class="sxs-lookup"><span data-stu-id="11006-287">**Figure 19**: The Product Fields Not Provided in the DetailsView are Assigned `NULL` Values ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image55.png))</span></span>

<span data-ttu-id="11006-288">Möglicherweise möchten Sie einen anderen Standardwert als `NULL` für einen oder mehrere dieser Spaltenwerte angeben, da `NULL` nicht die beste Standardoption ist oder weil die Daten Bank Spalte selbst `NULL` s nicht zulässt.</span><span class="sxs-lookup"><span data-stu-id="11006-288">We may want to provide a default value other than `NULL` for one or more of these column values, either because `NULL` isn't the best default option or because the database column itself doesn't allow `NULL` s.</span></span> <span data-ttu-id="11006-289">Um dies zu erreichen, können Sie die Werte der Parameter der `InputParameters` Auflistung der DetailsView Programm gesteuert festlegen.</span><span class="sxs-lookup"><span data-stu-id="11006-289">To accomplish this we can programmatically set the values of the parameters of the DetailsView's `InputParameters` collection.</span></span> <span data-ttu-id="11006-290">Diese Zuweisung kann entweder im Ereignishandler für das `ItemInserting`-Ereignis der DetailsView oder in das `Inserting`-Ereignis von ObjectDataSource erfolgen.</span><span class="sxs-lookup"><span data-stu-id="11006-290">This assignment can be done either in the event handler for the DetailsView's `ItemInserting` event or the ObjectDataSource's `Inserting` event.</span></span> <span data-ttu-id="11006-291">Da wir bereits die Verwendung der Ereignisse vor und nach der Ebene auf der Daten-websteuer Element Ebene untersucht haben, können wir uns dieses Mal mit den Ereignissen von ObjectDataSource beschäftigen.</span><span class="sxs-lookup"><span data-stu-id="11006-291">Since we've already looked at using the pre- and post-level events at the data Web control level, let's explore using the ObjectDataSource's events this time.</span></span>

## <a name="step-4-assigning-values-to-thecategoryidandsupplieridparameters"></a><span data-ttu-id="11006-292">Schritt 4: Zuweisen von Werten zu den Parametern`CategoryID`und`SupplierID`</span><span class="sxs-lookup"><span data-stu-id="11006-292">Step 4: Assigning Values to the`CategoryID`and`SupplierID`Parameters</span></span>

<span data-ttu-id="11006-293">In diesem Tutorial stellen wir uns vor, dass für die Anwendung beim Hinzufügen eines neuen Produkts über diese Schnittstelle eine `CategoryID` und `SupplierID` Wert von 1 zugewiesen werden soll.</span><span class="sxs-lookup"><span data-stu-id="11006-293">For this tutorial let's imagine that for our application when adding a new product through this interface it should be assigned a `CategoryID` and `SupplierID` value of 1.</span></span> <span data-ttu-id="11006-294">Wie bereits erwähnt, verfügt ObjectDataSource über ein paar von Ereignissen vor und nach der Ebene, die während des Daten Änderungsprozesses ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="11006-294">As mentioned earlier, the ObjectDataSource has a pair of pre- and post-level events that fire during the data modification process.</span></span> <span data-ttu-id="11006-295">Wenn die `Insert()`-Methode aufgerufen wird, löst ObjectDataSource zuerst das `Inserting`-Ereignis aus, ruft dann die-Methode auf, der die `Insert()`-Methode zugeordnet wurde, und löst schließlich das `Inserted`-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="11006-295">When its `Insert()` method is invoked, the ObjectDataSource first raises its `Inserting` event, then calls the method that its `Insert()` method has been mapped to, and finally raises the `Inserted` event.</span></span> <span data-ttu-id="11006-296">Der `Inserting`-Ereignishandler bietet uns eine letzte Gelegenheit, die Eingabeparameter zu optimieren oder den Vorgang ganz einfach abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="11006-296">The `Inserting` event handler affords us one last opportunity to tweak the input parameters or cancel the operation outright.</span></span>

> [!NOTE]
> <span data-ttu-id="11006-297">In einer realen Anwendung ist es wahrscheinlich, dass der Benutzer die Kategorie und den Lieferanten angeben oder diesen Wert auf der Grundlage bestimmter Kriterien oder Geschäftslogik auswählen soll (anstatt die ID 1 Blind auszuwählen).</span><span class="sxs-lookup"><span data-stu-id="11006-297">In a real-world application you would likely want to either let the user specify the category and supplier or would pick this value for them based on some criteria or business logic (rather than blindly selecting an ID of 1).</span></span> <span data-ttu-id="11006-298">Das Beispiel veranschaulicht, wie der Wert eines Eingabe Parameters Programm gesteuert aus dem Pre-Level-Ereignis von ObjectDataSource festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="11006-298">Regardless, the example illustrates how to programmatically set the value of an input parameter from the ObjectDataSource's pre-level event.</span></span>

<span data-ttu-id="11006-299">Nehmen Sie sich einen Moment Zeit, um einen Ereignishandler für das `Inserting` Ereignis von ObjectDataSource zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="11006-299">Take a moment to create an event handler for the ObjectDataSource's `Inserting` event.</span></span> <span data-ttu-id="11006-300">Beachten Sie, dass der zweite Eingabeparameter des Ereignis Handlers ein Objekt vom Typ `ObjectDataSourceMethodEventArgs`ist, das über eine-Eigenschaft für den Zugriff auf die Parameter Auflistung (`InputParameters`) und eine-Eigenschaft verfügt, um den Vorgang abzubrechen (`Cancel`).</span><span class="sxs-lookup"><span data-stu-id="11006-300">Notice that the event handler's second input parameter is an object of type `ObjectDataSourceMethodEventArgs`, which has a property to access the parameters collection (`InputParameters`) and a property to cancel the operation (`Cancel`).</span></span>

[!code-csharp[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample10.cs)]

<span data-ttu-id="11006-301">An diesem Punkt enthält die `InputParameters`-Eigenschaft die `InsertParameters` Auflistung von ObjectDataSource mit den Werten, die aus der DetailsView zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="11006-301">At this point, the `InputParameters` property contains the ObjectDataSource's `InsertParameters` collection with the values assigned from the DetailsView.</span></span> <span data-ttu-id="11006-302">Wenn Sie den Wert eines dieser Parameter ändern möchten, verwenden Sie einfach: `e.InputParameters["paramName"] = value`.</span><span class="sxs-lookup"><span data-stu-id="11006-302">To change the value of one of these parameters, simply use: `e.InputParameters["paramName"] = value`.</span></span> <span data-ttu-id="11006-303">Wenn Sie die `CategoryID` und `SupplierID` auf die Werte 1 festlegen möchten, passen Sie den Ereignishandler für `Inserting` so an, dass er wie folgt aussieht:</span><span class="sxs-lookup"><span data-stu-id="11006-303">Therefore, to set the `CategoryID` and `SupplierID` to values of 1, adjust the `Inserting` event handler to look like the following:</span></span>

[!code-csharp[Main](examining-the-events-associated-with-inserting-updating-and-deleting-cs/samples/sample11.cs)]

<span data-ttu-id="11006-304">Dieses Mal, wenn Sie ein neues Produkt hinzufügen (z. b. acme Soda), werden die `CategoryID`-und `SupplierID` Spalten des neuen Produkts auf 1 festgelegt (siehe Abbildung 20).</span><span class="sxs-lookup"><span data-stu-id="11006-304">This time when adding a new product (such as Acme Soda), the `CategoryID` and `SupplierID` columns of the new product are set to 1 (see Figure 20).</span></span>

<span data-ttu-id="11006-305">[für ![neuen Produkte sind nun die Werte für CategoryID und SupplierID auf 1 festgelegt.](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image57.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="11006-305">[![New Products Now Have Their CategoryID and SupplierID Values Set to 1](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image57.png)](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image56.png)</span></span>

<span data-ttu-id="11006-306">**Abbildung 20**: für neue Produkte werden nun ihre `CategoryID` und `SupplierID` Werte auf 1 festgelegt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image58.png))</span><span class="sxs-lookup"><span data-stu-id="11006-306">**Figure 20**: New Products Now Have Their `CategoryID` and `SupplierID` Values Set to 1 ([Click to view full-size image](examining-the-events-associated-with-inserting-updating-and-deleting-cs/_static/image58.png))</span></span>

## <a name="summary"></a><span data-ttu-id="11006-307">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="11006-307">Summary</span></span>

<span data-ttu-id="11006-308">Beim Bearbeiten, einfügen und löschen durchlaufen sowohl das datenweb Steuerelement als auch die ObjectDataSource eine Reihe von Ereignissen vor und nach der Ebene.</span><span class="sxs-lookup"><span data-stu-id="11006-308">During the editing, inserting, and deleting process, both the data Web control and the ObjectDataSource proceed through a number of pre- and post-level events.</span></span> <span data-ttu-id="11006-309">In diesem Tutorial haben wir die Ereignisse vor der Ebene untersucht und gesehen, wie diese verwendet werden, um die Eingabeparameter anzupassen oder den Daten Änderungs Vorgang vollständig sowohl aus dem datenweb-Steuerelement als auch aus den Ereignissen von ObjectDataSource abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="11006-309">In this tutorial we examined the pre-level events and saw how to use these to customize the input parameters or cancel the data modification operation altogether both from the data Web control and ObjectDataSource's events.</span></span> <span data-ttu-id="11006-310">Im nächsten Tutorial wird das Erstellen und Verwenden von Ereignis Handlern für die Ereignisse nach der Ebene untersucht.</span><span class="sxs-lookup"><span data-stu-id="11006-310">In the next tutorial we'll look at creating and using event handlers for the post-level events.</span></span>

<span data-ttu-id="11006-311">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="11006-311">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="11006-312">Zum Autor</span><span class="sxs-lookup"><span data-stu-id="11006-312">About the Author</span></span>

<span data-ttu-id="11006-313">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="11006-313">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="11006-314">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="11006-314">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="11006-315">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="11006-315">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="11006-316">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="11006-316">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="11006-317">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="11006-317">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="11006-318">Besonders vielen Dank</span><span class="sxs-lookup"><span data-stu-id="11006-318">Special Thanks To</span></span>

<span data-ttu-id="11006-319">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="11006-319">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="11006-320">Die führenden Prüfer für dieses Tutorial waren Jackie Goor und Liz shulok.</span><span class="sxs-lookup"><span data-stu-id="11006-320">Lead reviewers for this tutorial were Jackie Goor and Liz Shulok.</span></span> <span data-ttu-id="11006-321">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="11006-321">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="11006-322">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="11006-322">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="11006-323">[Zurück](an-overview-of-inserting-updating-and-deleting-data-cs.md)
> [Weiter](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)</span><span class="sxs-lookup"><span data-stu-id="11006-323">[Previous](an-overview-of-inserting-updating-and-deleting-data-cs.md)
[Next](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)</span></span>
