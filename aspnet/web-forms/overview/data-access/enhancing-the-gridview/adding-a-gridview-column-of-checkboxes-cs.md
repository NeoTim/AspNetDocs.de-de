---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
title: Hinzufügen einer GridView-Spalte mit Kontrollkästchen (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial dargestellt, wie ein GridView-Steuerelement, um Benutzern eine intuitive Möglichkeit der Auswählen mehrerer Zeilen mit g eine Spalte mit Kontrollkästchen hinzu...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: f63a9443-2db0-4f80-8246-840d3e86c2a3
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
msc.type: authoredcontent
ms.openlocfilehash: 0b381623487ce1f10ce2ae8d640b87589d06d412
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/06/2019
ms.locfileid: "65114692"
---
# <a name="adding-a-gridview-column-of-checkboxes-c"></a><span data-ttu-id="6c974-103">Hinzufügen einer GridView-Spalte mit Kontrollkästchen (C#)</span><span class="sxs-lookup"><span data-stu-id="6c974-103">Adding a GridView Column of Checkboxes (C#)</span></span>

<span data-ttu-id="6c974-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="6c974-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="6c974-105">[Beispiel-App herunter](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) oder [PDF-Datei herunterladen](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="6c974-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span></span>

> <span data-ttu-id="6c974-106">In diesem Tutorial dargestellt, wie eine Spalte mit Kontrollkästchen ein GridView-Steuerelement, um Benutzern eine intuitive Möglichkeit der Auswählen mehrerer Zeilen mit GridView hinzu.</span><span class="sxs-lookup"><span data-stu-id="6c974-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="6c974-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="6c974-107">Introduction</span></span>

<span data-ttu-id="6c974-108">Im vorherigen Tutorial untersucht wir, wie Sie eine Spalte mit Optionsfeldern an die GridView für die Auswahl eines bestimmten Datensatzes hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6c974-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="6c974-109">Eine Spalte mit Optionsfeldern ist eine geeignete Benutzeroberfläche auf, wenn der Benutzer beschränkt ist, darf höchstens ein Element aus dem Raster auswählen.</span><span class="sxs-lookup"><span data-stu-id="6c974-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="6c974-110">In einigen Fällen jedoch, sollten wir dem Benutzer ermöglichen, wählen Sie eine beliebige Anzahl von Elementen aus dem Raster.</span><span class="sxs-lookup"><span data-stu-id="6c974-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="6c974-111">Webbasierte e-Mail-Clients, angezeigt in der Regel z. B. die Liste der Nachrichten mit einer Spalte mit Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="6c974-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="6c974-112">Der Benutzer eine beliebige Anzahl von Nachrichten aktivieren und dann eine Aktion ausführen, z. B. die e-Mail-Nachrichten in einen anderen Ordner verschieben oder löschen.</span><span class="sxs-lookup"><span data-stu-id="6c974-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="6c974-113">In diesem Tutorial sehen wir, wie hinzufügen eine Spalte mit Kontrollkästchen und um zu bestimmen, welche Kontrollkästchen auf Postback eingecheckt wurden.</span><span class="sxs-lookup"><span data-stu-id="6c974-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="6c974-114">Insbesondere erstellen wir ein Beispiel an, die genau die Benutzeroberfläche des webbasierten e-Mail-Clients imitiert.</span><span class="sxs-lookup"><span data-stu-id="6c974-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="6c974-115">In unserem Beispiel enthält eine ausgelagerte GridView Auflisten der Produkte in der `Products` Datenbanktabelle mit einem Kontrollkästchen in jeder Zeile (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="6c974-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="6c974-116">Eine ausgewählter Produkte löschen-Schaltfläche, wenn geklickt, werden diese Produkte ausgewählt gelöscht.</span><span class="sxs-lookup"><span data-stu-id="6c974-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>

<span data-ttu-id="6c974-117">[![Jede Zeile des Produkts enthält ein Kontrollkästchen](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span></span>

<span data-ttu-id="6c974-118">**Abbildung 1**: Jede Produktzeile enthält ein Kontrollkästchen ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span></span>

## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="6c974-119">Schritt 1: Hinzufügen einer ausgelagerten GridView-Ansicht, die Produktinformationen enthält.</span><span class="sxs-lookup"><span data-stu-id="6c974-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="6c974-120">Bevor wir eine Spalte mit Kontrollkästchen hinzufügen fürchten, können Sie zuerst darauf konzentrieren s zum Auflisten der Produkte in einer GridView-Ansicht, die Paging unterstützt.</span><span class="sxs-lookup"><span data-stu-id="6c974-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="6c974-121">Öffnen Sie zunächst die `CheckBoxField.aspx` auf der Seite die `EnhancedGridView` Ordner, und ziehen Sie einer GridView-Ansicht aus der Toolbox auf den Designer, Festlegen der `ID` zu `Products`.</span><span class="sxs-lookup"><span data-stu-id="6c974-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="6c974-122">Wählen Sie als Nächstes zum Binden von GridView an eine neue, mit dem Namen "ObjectDataSource" `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="6c974-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="6c974-123">Konfigurieren Sie mit dem ObjectDataSource-Steuerelement die `ProductsBLL` Klasse Aufrufen der `GetProducts()` Methode, um die Daten zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="6c974-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="6c974-124">Da diese GridView schreibgeschützt ist, legen Sie die Dropdownlisten in der Update-, INSERT-, und Löschen von Registerkarten (keine) aus.</span><span class="sxs-lookup"><span data-stu-id="6c974-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="6c974-125">[![Erstellen Sie eine neue, mit dem Namen ProductsDataSource "ObjectDataSource"](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span></span>

<span data-ttu-id="6c974-126">**Abbildung 2**: Erstellen Sie eine neue "ObjectDataSource" mit dem Namen `ProductsDataSource` ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span></span>

<span data-ttu-id="6c974-127">[![Konfigurieren Sie das "ObjectDataSource" zum Abrufen von Daten mithilfe der GetProducts()-Methode](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span></span>

<span data-ttu-id="6c974-128">**Abbildung 3**: Konfigurieren Sie das "ObjectDataSource" zum Abrufen von Daten mithilfe der `GetProducts()` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span></span>

<span data-ttu-id="6c974-129">[![Legen Sie die Dropdownlisten in der Update-, INSERT- und DELETE werden Registerkarten (keine)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span></span>

<span data-ttu-id="6c974-130">**Abbildung 4**: Legen Sie die Dropdownlisten in der Update-, INSERT- und Löschen von Registerkarten auf (keine) ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span></span>

<span data-ttu-id="6c974-131">Visual Studio wird automatisch nach dem Fertigstellen des Assistenten für die Datenquelle konfigurieren BoundColumns und eine CheckBoxColumn für die Felder produktbezogene Daten erstellt.</span><span class="sxs-lookup"><span data-stu-id="6c974-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="6c974-132">Wie im vorherigen Tutorial weiter, entfernen Sie alle außer den `ProductName`, `CategoryName`, und `UnitPrice` BoundFields, und ändern Sie die `HeaderText` Eigenschaften, die Produkte, Kategorie und Preis.</span><span class="sxs-lookup"><span data-stu-id="6c974-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="6c974-133">Konfigurieren der `UnitPrice` BoundField, damit der Wert als Währung formatiert ist.</span><span class="sxs-lookup"><span data-stu-id="6c974-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="6c974-134">Außerdem konfigurieren Sie die GridView zur Unterstützung von Paging durch Aktivieren des Kontrollkästchens Paging aktivieren, aus dem Smarttag.</span><span class="sxs-lookup"><span data-stu-id="6c974-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="6c974-135">Lassen Sie s, die auch die Benutzeroberfläche für das Löschen der ausgewählten Produkte hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6c974-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="6c974-136">Fügen Sie ein Steuerelement Schaltfläche unterhalb der GridView, Festlegen der `ID` zu `DeleteSelectedProducts` und die zugehörige `Text` Eigenschaft, um die ausgewählten Produkte löschen.</span><span class="sxs-lookup"><span data-stu-id="6c974-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="6c974-137">Statt tatsächlich Produkte aus der Datenbank zu löschen, in diesem Beispiel zeigen wir einfach eine Meldung, die die Produkte, die gelöscht worden wäre.</span><span class="sxs-lookup"><span data-stu-id="6c974-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="6c974-138">Um dies zu unterstützen, fügen Sie ein Label-Steuerelement unterhalb der Schaltfläche hinzu.</span><span class="sxs-lookup"><span data-stu-id="6c974-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="6c974-139">Legen Sie seine ID auf `DeleteResults`, deaktivieren Sie die `Text` -Eigenschaft, und legen dessen `Visible` und `EnableViewState` Eigenschaften `false`.</span><span class="sxs-lookup"><span data-stu-id="6c974-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `false`.</span></span>

<span data-ttu-id="6c974-140">Nach diesen Änderungen durchführen, sollten die GridView, ObjectDataSource-Steuerelement, Schaltfläche und Bezeichnung s deklarative Markup etwa wie folgt:</span><span class="sxs-lookup"><span data-stu-id="6c974-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample1.aspx)]

<span data-ttu-id="6c974-141">Nehmen Sie einen Moment Zeit, um die Seite in einem Browser anzuzeigen (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="6c974-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="6c974-142">An diesem Punkt sollte der Name, Kategorie und Preis der ersten zehn Produkte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6c974-142">At this point you should see the name, category, and price of the first ten products.</span></span>

<span data-ttu-id="6c974-143">[![Der Name, Kategorie und der Preis der ersten zehn Produkte werden aufgeführt.](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span></span>

<span data-ttu-id="6c974-144">**Abbildung 5**: Der Name, Kategorie und der Preis der ersten zehn Produkte aufgeführt sind ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span></span>

## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="6c974-145">Schritt 2: Hinzufügen einer Spalte mit Kontrollkästchen</span><span class="sxs-lookup"><span data-stu-id="6c974-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="6c974-146">Da ASP.NET 2.0 eine CheckBoxField enthält, eine lässt zunächst vermuten, dass sie zum Hinzufügen einer GridView-Ansicht einer Spalteninhalts mit Kontrollkästchen verwendet werden konnte.</span><span class="sxs-lookup"><span data-stu-id="6c974-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="6c974-147">Leider ist, die nicht der Fall, wie die CheckBoxField ausgelegt ist ein boolesches Feld.</span><span class="sxs-lookup"><span data-stu-id="6c974-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="6c974-148">Um die CheckBoxField verwenden müssen wir, also das zugrunde liegende Datenfeld angeben, deren Wert verwendet wird, um festzustellen, ob das gerenderte Kontrollkästchen aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="6c974-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="6c974-149">Wir können keine CheckBoxField verwenden, um die nur eine Spalte eines deaktivierten Kontrollkästchen enthalten.</span><span class="sxs-lookup"><span data-stu-id="6c974-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="6c974-150">Stattdessen müssen wir ein TemplateField hinzufügen und fügen Sie ein Kontrollkästchen-Steuerelement, dessen `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6c974-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="6c974-151">Fahren Sie fort, und fügen Sie ein TemplateField auf die `Products` GridView und legen Sie ihn mit das erste (linken)-Feld.</span><span class="sxs-lookup"><span data-stu-id="6c974-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="6c974-152">GridView s Smarttags, klicken Sie auf den Link für die Vorlagen bearbeiten und ziehen Sie dann ein Kontrollkästchen-Steuerelement aus der Toolbox in die `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="6c974-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="6c974-153">Legen Sie dieses Kontrollkästchen s `ID` Eigenschaft `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="6c974-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>

<span data-ttu-id="6c974-154">[![Fügen Sie ein Kontrollkästchen-Steuerelement mit dem Namen ProductSelector für ItemTemplate verbleibt TemplateField s hinzu.](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span></span>

<span data-ttu-id="6c974-155">**Abbildung 6**: Fügen Sie ein Kontrollkästchen Web-Steuerelement mit dem Namen `ProductSelector` der TemplateField s `ItemTemplate` ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span></span>

<span data-ttu-id="6c974-156">Das TemplateField und Kontrollkästchen-Web-Steuerelement hinzugefügt enthält jede Zeile nun ein Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="6c974-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="6c974-157">Abbildung 7 zeigt diese Seite, über einen Webbrowser angezeigt werden soll, nachdem das TemplateField und Kontrollkästchen hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="6c974-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>

<span data-ttu-id="6c974-158">[![Jede Zeile des Produkts enthält nun ein Kontrollkästchen](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span></span>

<span data-ttu-id="6c974-159">**Abbildung 7**: Jede Produktzeile enthält nun ein Kontrollkästchen ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span></span>

## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="6c974-160">Schritt 3: Welche Kontrollkästchen bestimmen in Postback überprüft wurden.</span><span class="sxs-lookup"><span data-stu-id="6c974-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="6c974-161">An diesem Punkt haben wir eine Spalte mit Kontrollkästchen aber keine Möglichkeit, zu bestimmen, welche Kontrollkästchen auf Postback eingecheckt wurden.</span><span class="sxs-lookup"><span data-stu-id="6c974-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="6c974-162">Wenn die ausgewählten Produkte löschen-Schaltfläche geklickt wird, müssen wir jedoch wissen, welche Kontrollkästchen aktiviert wurden, um diese Produkte zu löschen.</span><span class="sxs-lookup"><span data-stu-id="6c974-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="6c974-163">Das GridView-s [ `Rows` Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) ermöglicht den Zugriff auf die Datenzeilen in den GridView-Ansicht.</span><span class="sxs-lookup"><span data-stu-id="6c974-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="6c974-164">Wir können diese Zeilen durchlaufen programmgesteuerten Zugriff auf das CheckBox-Steuerelement, und klicken Sie dann wenden Sie sich an die `Checked` Eigenschaft, um zu bestimmen, ob das Kontrollkästchen aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="6c974-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="6c974-165">Erstellen Sie einen Ereignishandler für die `DeleteSelectedProducts` Schaltfläche Websteuerelement s `Click` Ereignis und fügen Sie den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="6c974-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample2.cs)]

<span data-ttu-id="6c974-166">Die `Rows` Eigenschaft gibt eine Auflistung von `GridViewRow` Instanzen dieser Zusammensetzung der GridView-s-Datenzeilen.</span><span class="sxs-lookup"><span data-stu-id="6c974-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="6c974-167">Die `foreach` hier Schleife zählt dieser Auflistung.</span><span class="sxs-lookup"><span data-stu-id="6c974-167">The `foreach` loop here enumerates this collection.</span></span> <span data-ttu-id="6c974-168">Für jede `GridViewRow` Objekt ist, wird die Zeile s Kontrollkästchen erfolgt programmgesteuert mithilfe von `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="6c974-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="6c974-169">Wenn das Kontrollkästchen aktiviert ist, die Zeile s entsprechende `ProductID` Wert wird abgerufen, von der `DataKeys` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="6c974-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="6c974-170">In dieser Übung zeigen wir einfach eine informationsmeldung in die `DeleteResults` bezeichnen, die zwar in einer arbeitsanwendung wir d stattdessen einen Aufruf der `ProductsBLL` s-Klasse `DeleteProduct(productID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="6c974-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="6c974-171">Durch das Hinzufügen dieses ereignishandlers, klicken Sie nun auf die ausgewählten Produkte löschen-Schaltfläche zeigt den `ProductID` s der ausgewählten Produkte.</span><span class="sxs-lookup"><span data-stu-id="6c974-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>

<span data-ttu-id="6c974-172">[![Klicken auf die Schaltfläche zum Löschen ausgewählten Produkte werden die ausgewählten Produkte Produkt-IDs aufgeführt.](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span></span>

<span data-ttu-id="6c974-173">**Abbildung 8**: Wenn auf der Schaltfläche zum Löschen ausgewählten Produkte die Produkte ausgewählt geklickt wird `ProductID` s werden aufgelistet ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span></span>

## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="6c974-174">Schritt 4: Überprüft alle und deaktivieren Sie alle Schaltflächen hinzufügen</span><span class="sxs-lookup"><span data-stu-id="6c974-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="6c974-175">Wenn ein Benutzer alle Produkte auf der aktuellen Seite zu löschen möchte, müssen sie jedes der zehn Kontrollkästchen überprüfen.</span><span class="sxs-lookup"><span data-stu-id="6c974-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="6c974-176">Können wir diesen Prozess zu beschleunigen, durch das Hinzufügen einer alle-Schaltfläche geklickt wird, wählt Sie alle Kontrollkästchen im Raster.</span><span class="sxs-lookup"><span data-stu-id="6c974-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="6c974-177">Eine Schaltfläche deaktivieren Sie alle wäre gleichermaßen hilfreich.</span><span class="sxs-lookup"><span data-stu-id="6c974-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="6c974-178">Fügen Sie zwei Schaltfläche-Web-Steuerelemente auf der Seite, die sie über die GridView zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="6c974-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="6c974-179">Legen Sie die erste s `ID` zu `CheckAll` und die zugehörige `Text` Eigenschaft, um alle; der Satz das zweite Argument s `ID` zu `UncheckAll` und die zugehörige `Text` Eigenschaft, um alle deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="6c974-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample3.aspx)]

<span data-ttu-id="6c974-180">Als Nächstes erstellen Sie eine Methode in der CodeBehind-Klasse, die mit dem Namen `ToggleCheckState(checkState)` , wenn aufgerufen wird, listet die `Products` GridView s `Rows` Auflistung und legt jede Kontrollkästchen s `Checked` -Eigenschaft auf den Wert des übergebenen in *CheckState*  Parameter.</span><span class="sxs-lookup"><span data-stu-id="6c974-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample4.cs)]

<span data-ttu-id="6c974-181">Erstellen Sie als Nächstes `Click` -Ereignishandlern für die `CheckAll` und `UncheckAll` Schaltflächen.</span><span class="sxs-lookup"><span data-stu-id="6c974-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="6c974-182">In `CheckAll` s-Ereignishandler rufen einfach `ToggleCheckState(true)`in `UncheckAll`, rufen Sie `ToggleCheckState(false)`.</span><span class="sxs-lookup"><span data-stu-id="6c974-182">In `CheckAll` s event handler, simply call `ToggleCheckState(true)`; in `UncheckAll`, call `ToggleCheckState(false)`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample5.cs)]

<span data-ttu-id="6c974-183">Mit diesem Code wird ein Postback auslöst und überprüft alle Kontrollkästchen in den GridView-Ansicht auf die Schaltfläche "alle".</span><span class="sxs-lookup"><span data-stu-id="6c974-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="6c974-184">Ebenso hebt die auf alle deaktivieren Sie alle Kontrollkästchen Auswahl.</span><span class="sxs-lookup"><span data-stu-id="6c974-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="6c974-185">Abbildung 9 zeigt den Bildschirm, nachdem die Schaltfläche "alle" eingecheckt wurde.</span><span class="sxs-lookup"><span data-stu-id="6c974-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>

<span data-ttu-id="6c974-186">[![Klicken Sie auf die Schaltfläche alle Kontrollkästchen alle Kontrollkästchen ausgewählt](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="6c974-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span></span>

<span data-ttu-id="6c974-187">**Abbildung 9**: Klicken Sie auf dem Überprüfen aller Schaltfläche wählt alle Kontrollkästchen ([klicken Sie, um das Bild in voller Größe anzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="6c974-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span></span>

> [!NOTE]
> <span data-ttu-id="6c974-188">Wenn ist die Anzeige einer Spalteninhalts mit Kontrollkästchen, eine Möglichkeit für das Aktivieren oder deaktivieren alle Kontrollkästchen über ein Kontrollkästchen in der Kopfzeile.</span><span class="sxs-lookup"><span data-stu-id="6c974-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="6c974-189">Darüber hinaus überprüfen Sie alle aktuellen / deaktivieren Sie jegliche Implementierung ein Postback erfordert.</span><span class="sxs-lookup"><span data-stu-id="6c974-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="6c974-190">Die Kontrollkästchen möglich aktiviert oder deaktiviert, jedoch ausschließlich mit Client-seitige Skript, wodurch einer forschen benutzerfreundlichkeit.</span><span class="sxs-lookup"><span data-stu-id="6c974-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="6c974-191">Sehen Sie sich, um die Untersuchung mit einem Header-Zeile-Kontrollkästchen für alle aktivieren und deaktivieren Sie alle im Detail, sowie eine Erläuterung zur Verwendung der clientseitigen Techniken, [überprüfen alle Kontrollkästchen in einem GridView mithilfe des clientseitigen Skripts und überprüfen Sie alle Kontrollkästchen](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="6c974-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>

## <a name="summary"></a><span data-ttu-id="6c974-192">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="6c974-192">Summary</span></span>

<span data-ttu-id="6c974-193">In Fällen, in dem Sie ermöglichen Benutzern das Auswählen von einer beliebigen Anzahl von Zeilen aus einer GridView-Ansicht vor dem fortfahren möchten, ist das Hinzufügen einer Spalteninhalts mit Kontrollkästchen eine Option aus.</span><span class="sxs-lookup"><span data-stu-id="6c974-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="6c974-194">Wie wir in diesem Tutorial gesehen haben, umfasst das einschließlich eine Spalte mit Kontrollkästchen in den GridView-Ansicht hinzufügen ein TemplateField mit ein Kontrollkästchen-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="6c974-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="6c974-195">Mithilfe eines Websteuerelements (im Gegensatz zu injizieren von Markup direkt in die Vorlage wie im vorherigen Tutorial) ASP.NET automatisch speichert, welche Kontrollkästchen wurden und nicht während des Zurücksendens überprüft wurden.</span><span class="sxs-lookup"><span data-stu-id="6c974-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="6c974-196">Wir können auch programmgesteuert auf die jeweiligen Kontrollkästchen im Code, um festzustellen, ob eine angegebene Kontrollkästchen aktiviert ist, oder So ändern Sie den aktivierten Zustand zugreifen.</span><span class="sxs-lookup"><span data-stu-id="6c974-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to change the checked state.</span></span>

<span data-ttu-id="6c974-197">In diesem Tutorial und die letzte Lektion erläutert eine Auswahlspalte Zeile an die GridView hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6c974-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="6c974-198">In unserem nächsten Tutorial untersuchen wir, mit ein wenig Aufwand, Einfügen von Funktionen der GridView hinzugefügt werden können.</span><span class="sxs-lookup"><span data-stu-id="6c974-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="6c974-199">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="6c974-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="6c974-200">Der Autor</span><span class="sxs-lookup"><span data-stu-id="6c974-200">About the Author</span></span>

<span data-ttu-id="6c974-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="6c974-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="6c974-202">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="6c974-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="6c974-203">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="6c974-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="6c974-204">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="6c974-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="6c974-205">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="6c974-205">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="6c974-206">[Zurück](adding-a-gridview-column-of-radio-buttons-cs.md)
> [Weiter](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span><span class="sxs-lookup"><span data-stu-id="6c974-206">[Previous](adding-a-gridview-column-of-radio-buttons-cs.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span></span>
