---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
title: Hinzufügen einer GridView-Spalte mit KontrollC#Kästchen () | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial wird erläutert, wie Sie einem GridView-Steuerelement eine Spalte mit Kontrollkästchen hinzufügen, um dem Benutzer eine intuitive Möglichkeit zur Auswahl mehrerer Zeilen des G...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: f63a9443-2db0-4f80-8246-840d3e86c2a3
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
msc.type: authoredcontent
ms.openlocfilehash: b9d1ed50e8d88202c3286b4cd0e9ebf111dfbe21
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78478269"
---
# <a name="adding-a-gridview-column-of-checkboxes-c"></a><span data-ttu-id="c5fda-103">Hinzufügen einer GridView-Spalte mit Kontrollkästchen (C#)</span><span class="sxs-lookup"><span data-stu-id="c5fda-103">Adding a GridView Column of Checkboxes (C#)</span></span>

<span data-ttu-id="c5fda-104">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c5fda-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c5fda-105">[Beispiel-app herunterladen](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) oder [PDF herunterladen](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c5fda-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span></span>

> <span data-ttu-id="c5fda-106">In diesem Tutorial wird erläutert, wie Sie einem GridView-Steuerelement eine Spalte mit Kontrollkästchen hinzufügen, um dem Benutzer eine intuitive Möglichkeit zur Auswahl mehrerer Zeilen der GridView zu bieten.</span><span class="sxs-lookup"><span data-stu-id="c5fda-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="c5fda-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="c5fda-107">Introduction</span></span>

<span data-ttu-id="c5fda-108">Im vorherigen Tutorial wurde untersucht, wie Sie der GridView eine Spalte mit Options Feldern hinzufügen, um einen bestimmten Datensatz auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="c5fda-109">Eine Spalte mit Options Feldern ist eine geeignete Benutzeroberfläche, wenn der Benutzer höchstens ein Element aus dem Raster auswählen darf.</span><span class="sxs-lookup"><span data-stu-id="c5fda-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="c5fda-110">Manchmal möchten wir jedoch, dass der Benutzer eine beliebige Anzahl von Elementen aus dem Raster auswählen kann.</span><span class="sxs-lookup"><span data-stu-id="c5fda-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="c5fda-111">Webbasierte e-Mail-Clients zeigen z. b. in der Regel die Liste der Nachrichten mit einer Spalte mit Kontrollkästchen an.</span><span class="sxs-lookup"><span data-stu-id="c5fda-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="c5fda-112">Der Benutzer kann eine beliebige Anzahl von Nachrichten auswählen und dann Aktionen ausführen, z. b. das Verschieben der e-Mails in einen anderen Ordner oder das Löschen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="c5fda-113">In diesem Tutorial erfahren Sie, wie Sie eine Spalte mit Kontrollkästchen hinzufügen und wie Sie feststellen, welche Kontrollkästchen beim Postback überprüft wurden.</span><span class="sxs-lookup"><span data-stu-id="c5fda-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="c5fda-114">Insbesondere erstellen wir ein Beispiel, das die Benutzeroberfläche des webbasierten e-Mail-Clients genau imitiert.</span><span class="sxs-lookup"><span data-stu-id="c5fda-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="c5fda-115">Das Beispiel enthält eine auslagerbare GridView, in der die Produkte in der `Products` Datenbanktabelle mit einem Kontrollkästchen in den einzelnen Zeilen aufgelistet werden (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="c5fda-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="c5fda-116">Wenn Sie auf die Schaltfläche ausgewählte Produkte löschen klicken, werden die ausgewählten Produkte gelöscht.</span><span class="sxs-lookup"><span data-stu-id="c5fda-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>

<span data-ttu-id="c5fda-117">[![jede Produkt Zeile ein Kontrollkästchen enthält.](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span></span>

<span data-ttu-id="c5fda-118">**Abbildung 1**: jede Produkt Zeile enthält ein Kontrollkästchen ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span></span>

## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="c5fda-119">Schritt 1: Hinzufügen einer auslagerbare GridView, in der Produktinformationen aufgelistet sind</span><span class="sxs-lookup"><span data-stu-id="c5fda-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="c5fda-120">Bevor wir uns mit dem Hinzufügen einer Spalte mit Kontrollkästchen beschäftigen, sollten Sie sich zunächst mit dem Auflisten der Produkte in einer GridView beschäftigen, die das Paging unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c5fda-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="c5fda-121">Öffnen Sie zunächst die Seite `CheckBoxField.aspx` im Ordner `EnhancedGridView`, und ziehen Sie eine GridView-Ansicht aus der Toolbox auf den Designer, und legen Sie deren `ID` auf `Products`fest.</span><span class="sxs-lookup"><span data-stu-id="c5fda-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="c5fda-122">Als nächstes binden Sie das GridView-Objekt an eine neue ObjectDataSource mit dem Namen `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="c5fda-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="c5fda-123">Konfigurieren Sie ObjectDataSource für die Verwendung der `ProductsBLL`-Klasse, und rufen Sie die `GetProducts()`-Methode auf, um die Daten zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="c5fda-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="c5fda-124">Da diese GridView schreibgeschützt ist, legen Sie die Dropdown Listen auf den Registerkarten aktualisieren, einfügen und löschen auf (keine) fest.</span><span class="sxs-lookup"><span data-stu-id="c5fda-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="c5fda-125">[![erstellen Sie eine neue ObjectDataSource namens productdatasource.](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span></span>

<span data-ttu-id="c5fda-126">**Abbildung 2**: Erstellen einer neuen ObjectDataSource mit dem Namen "`ProductsDataSource`" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span></span>

<span data-ttu-id="c5fda-127">[![Konfigurieren von ObjectDataSource zum Abrufen von Daten mithilfe der GetProducts ()-Methode](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span></span>

<span data-ttu-id="c5fda-128">**Abbildung 3**: Konfigurieren von ObjectDataSource zum Abrufen von Daten mit der `GetProducts()`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span></span>

<span data-ttu-id="c5fda-129">[![die Dropdown Listen auf den Registerkarten aktualisieren, einfügen und löschen auf (keine) festgelegt.](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span></span>

<span data-ttu-id="c5fda-130">**Abbildung 4**: Festlegen der Dropdown Listen auf den Registerkarten "Aktualisieren", "Einfügen" und "Löschen" auf "(keine)" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span></span>

<span data-ttu-id="c5fda-131">Nach dem Abschließen des Assistenten zum Konfigurieren von Datenquellen erstellt Visual Studio automatisch BoundColumns und eine CheckBoxColumn für die produktbezogenen Datenfelder.</span><span class="sxs-lookup"><span data-stu-id="c5fda-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="c5fda-132">Entfernen Sie wie im vorherigen Tutorial alle außer den `ProductName`, `CategoryName`und `UnitPrice` boundfields, und ändern Sie die `HeaderText` Eigenschaften in Product, Category und Price.</span><span class="sxs-lookup"><span data-stu-id="c5fda-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="c5fda-133">Konfigurieren Sie das `UnitPrice` BoundField so, dass sein Wert als Währung formatiert ist.</span><span class="sxs-lookup"><span data-stu-id="c5fda-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="c5fda-134">Konfigurieren Sie außerdem die GridView, um das Paging zu unterstützen, indem Sie das Kontrollkästchen Paging aktivieren des Smarttags aktivieren.</span><span class="sxs-lookup"><span data-stu-id="c5fda-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="c5fda-135">Fügen Sie außerdem die Benutzeroberfläche zum Löschen der ausgewählten Produkte hinzu.</span><span class="sxs-lookup"><span data-stu-id="c5fda-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="c5fda-136">Fügen Sie unterhalb der GridView ein Schaltflächen-websteuer Element hinzu, und legen Sie dessen `ID` auf `DeleteSelectedProducts` und seine `Text`-Eigenschaft fest, um die ausgewählten Produkte</span><span class="sxs-lookup"><span data-stu-id="c5fda-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="c5fda-137">Anstatt Produkte aus der Datenbank zu löschen, wird in diesem Beispiel nur eine Meldung angezeigt, in der die Produkte angegeben werden, die gelöscht wurden.</span><span class="sxs-lookup"><span data-stu-id="c5fda-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="c5fda-138">Fügen Sie ein Label-websteuer Element unterhalb der Schaltfläche hinzu, um dies zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="c5fda-139">Legen Sie die ID auf `DeleteResults`fest, löschen Sie die `Text`-Eigenschaft, und legen Sie deren Eigenschaften `Visible` und `EnableViewState` auf `false`fest.</span><span class="sxs-lookup"><span data-stu-id="c5fda-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `false`.</span></span>

<span data-ttu-id="c5fda-140">Nachdem Sie diese Änderungen vorgenommen haben, sollte das deklarative Markup "GridView", "ObjectDataSource", "Button" und "Label" in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="c5fda-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample1.aspx)]

<span data-ttu-id="c5fda-141">Nehmen Sie sich einen Moment Zeit, um die Seite in einem Browser anzuzeigen (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="c5fda-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="c5fda-142">An diesem Punkt sollten der Name, die Kategorie und der Preis der ersten zehn Produkte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="c5fda-142">At this point you should see the name, category, and price of the first ten products.</span></span>

<span data-ttu-id="c5fda-143">[![Name, Kategorie und Preis der ersten zehn Produkte werden aufgelistet.](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span></span>

<span data-ttu-id="c5fda-144">**Abbildung 5**: Name, Kategorie und Preis der ersten zehn Produkte werden aufgelistet ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span></span>

## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="c5fda-145">Schritt 2: Hinzufügen einer Spalte mit Kontrollkästchen</span><span class="sxs-lookup"><span data-stu-id="c5fda-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="c5fda-146">Da ASP.NET 2,0 ein CheckBoxField enthält, könnte man vermuten, dass es zum Hinzufügen einer Spalte mit Kontrollkästchen zu einer GridView verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="c5fda-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="c5fda-147">Leider ist dies nicht der Fall, da das CheckBoxField für die Arbeit mit einem booleschen Datenfeld konzipiert ist.</span><span class="sxs-lookup"><span data-stu-id="c5fda-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="c5fda-148">Das heißt, um das CheckBoxField zu verwenden, muss das zugrunde liegende Datenfeld angegeben werden, dessen Wert dahingehend überprüft wird, ob das gerenderte Kontrollkästchen aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="c5fda-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="c5fda-149">Wir können das CheckBoxField nicht verwenden, um nur eine Spalte mit nicht überprüften Kontrollkästchen einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="c5fda-150">Stattdessen müssen wir ein TemplateField-Steuerelement hinzufügen und seinem `ItemTemplate`ein CheckBox-websteuer Element hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="c5fda-151">Fügen Sie der `Products` GridView ein TemplateField-Element hinzu, und legen Sie es als erstes Feld (weit links) ab.</span><span class="sxs-lookup"><span data-stu-id="c5fda-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="c5fda-152">Klicken Sie im GridView s-Smarttag auf den Link Vorlagen bearbeiten, und ziehen Sie dann ein CheckBox-websteuer Element aus der Toolbox in die `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c5fda-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="c5fda-153">Legen Sie diese Checkbox s `ID`-Eigenschaft auf `ProductSelector`fest.</span><span class="sxs-lookup"><span data-stu-id="c5fda-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>

<span data-ttu-id="c5fda-154">[![ein CheckBox-websteuer Element namens productselector zu TemplateField s ItemTemplate hinzufügen.](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span></span>

<span data-ttu-id="c5fda-155">**Abbildung 6**: Hinzufügen eines CheckBox-websteuer Elements mit dem Namen `ProductSelector` zum `ItemTemplate` TemplateField s ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span></span>

<span data-ttu-id="c5fda-156">Wenn das websteuer Element TemplateField und CheckBox hinzugefügt wurde, enthält jede Zeile nun ein Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="c5fda-157">In Abbildung 7 wird diese Seite angezeigt, wenn Sie über einen Browser angezeigt wird, nachdem das TemplateField-Element und das CheckBox-Element hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="c5fda-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>

<span data-ttu-id="c5fda-158">[![jede Produkt Zeile nun ein Kontrollkästchen enthält.](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span></span>

<span data-ttu-id="c5fda-159">**Abbildung 7**: jede Produkt Zeile enthält jetzt ein Kontrollkästchen ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span></span>

## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="c5fda-160">Schritt 3: bestimmen, welche Kontrollkästchen beim Postback aktiviert wurden</span><span class="sxs-lookup"><span data-stu-id="c5fda-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="c5fda-161">An dieser Stelle haben wir eine Spalte mit Kontrollkästchen, aber keine Möglichkeit, zu bestimmen, welche Kontrollkästchen beim Postback überprüft wurden.</span><span class="sxs-lookup"><span data-stu-id="c5fda-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="c5fda-162">Wenn Sie auf die Schaltfläche ausgewählte Produkte löschen klicken, müssen Sie jedoch wissen, welche Kontrollkästchen aktiviert wurden, um diese Produkte zu löschen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="c5fda-163">Die GridView s [`Rows`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) ermöglicht den Zugriff auf die Daten Zeilen in der GridView.</span><span class="sxs-lookup"><span data-stu-id="c5fda-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="c5fda-164">Wir können diese Zeilen durchlaufen, Programm gesteuert auf das CheckBox-Steuerelement zugreifen und dann die `Checked`-Eigenschaft überprüfen, um zu bestimmen, ob das Kontrollkästchen aktiviert wurde.</span><span class="sxs-lookup"><span data-stu-id="c5fda-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="c5fda-165">Erstellen Sie einen Ereignishandler für das `Click` Ereignis für das `DeleteSelectedProducts` Button-websteuer Element, und fügen Sie den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="c5fda-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample2.cs)]

<span data-ttu-id="c5fda-166">Die `Rows`-Eigenschaft gibt eine Auflistung von `GridViewRow`-Instanzen zurück, die die Daten Zeilen der GridView-Datenbank zusammenstellen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="c5fda-167">In der `foreach`-Schleife wird diese Auflistung aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="c5fda-167">The `foreach` loop here enumerates this collection.</span></span> <span data-ttu-id="c5fda-168">Für jedes `GridViewRow` Objekt wird das Kontrollkästchen Zeile s mithilfe `row.FindControl("controlID")`Programm gesteuert aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="c5fda-169">Wenn das Kontrollkästchen aktiviert ist, wird die Zeile s, der `ProductID` Wert entspricht, aus der `DataKeys` Auflistung abgerufen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="c5fda-170">In dieser Übung zeigen wir einfach eine informative Meldung in der `DeleteResults` Bezeichnung an, obwohl wir in einer funktionierenden Anwendung stattdessen die `ProductsBLL` Class s `DeleteProduct(productID)`-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="c5fda-171">Durch das Hinzufügen dieses Ereignis Handlers werden nun die `ProductID` s der ausgewählten Produkte angezeigt, wenn Sie auf die Schaltfläche ausgewählte Produkte löschen klicken.</span><span class="sxs-lookup"><span data-stu-id="c5fda-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>

<span data-ttu-id="c5fda-172">[Wenn auf die Schaltfläche ausgewählte Produkte Löschen geklickt wird, werden die Produkte ProductIDs der ausgewählten Produkte aufgeführt. ![](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span></span>

<span data-ttu-id="c5fda-173">**Abbildung 8**: Wenn auf die Schaltfläche ausgewählte Produkte Löschen geklickt wird, werden die ausgewählten Produkte `ProductID` s aufgelistet ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png)).</span><span class="sxs-lookup"><span data-stu-id="c5fda-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span></span>

## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="c5fda-174">Schritt 4: Hinzufügen der Schaltflächen alle überprüfen und alle deaktivieren</span><span class="sxs-lookup"><span data-stu-id="c5fda-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="c5fda-175">Wenn ein Benutzer alle Produkte auf der aktuellen Seite löschen möchte, muss er jedes der zehn Kontrollkästchen aktivieren.</span><span class="sxs-lookup"><span data-stu-id="c5fda-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="c5fda-176">Wir können diesen Prozess beschleunigen, indem wir die Schaltfläche Alle überprüfen hinzufügen. Wenn Sie darauf klicken, werden alle Kontrollkästchen im Raster ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="c5fda-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="c5fda-177">Die Schaltfläche Alle deaktivieren wäre gleichermaßen hilfreich.</span><span class="sxs-lookup"><span data-stu-id="c5fda-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="c5fda-178">Fügen Sie der Seite zwei Schaltflächen-websteuer Elemente hinzu, und platzieren Sie Sie über der GridView.</span><span class="sxs-lookup"><span data-stu-id="c5fda-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="c5fda-179">Legen Sie die erste `ID` auf `CheckAll` und deren `Text`-Eigenschaft auf alle überprüfen. Legen Sie die zweite s-`ID` auf `UncheckAll` und deren `Text`-Eigenschaft auf alle deaktivieren fest.</span><span class="sxs-lookup"><span data-stu-id="c5fda-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample3.aspx)]

<span data-ttu-id="c5fda-180">Erstellen Sie als nächstes eine Methode in der Code Behind-Klasse mit dem Namen `ToggleCheckState(checkState)`, die beim Aufrufen die `Products` GridView s `Rows`-Auflistung auflistet und jede Checkbox s `Checked`-Eigenschaft auf den Wert des übergebenen *CheckState* -Parameters festlegt.</span><span class="sxs-lookup"><span data-stu-id="c5fda-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample4.cs)]

<span data-ttu-id="c5fda-181">Erstellen Sie als nächstes `Click` Ereignishandler für die Schaltflächen `CheckAll` und `UncheckAll`.</span><span class="sxs-lookup"><span data-stu-id="c5fda-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="c5fda-182">Nennen Sie in `CheckAll` s-Ereignishandler einfach `ToggleCheckState(true)`; nennen Sie in `UncheckAll``ToggleCheckState(false)`.</span><span class="sxs-lookup"><span data-stu-id="c5fda-182">In `CheckAll` s event handler, simply call `ToggleCheckState(true)`; in `UncheckAll`, call `ToggleCheckState(false)`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample5.cs)]

<span data-ttu-id="c5fda-183">Mit diesem Code wird durch Klicken auf die Schaltfläche Alle überprüfen ein Postback ausgelöst und alle Kontrollkästchen in der GridView überprüft.</span><span class="sxs-lookup"><span data-stu-id="c5fda-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="c5fda-184">Wenn Sie auf alle deaktivieren klicken, werden alle Kontrollkästchen deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="c5fda-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="c5fda-185">Abbildung 9 zeigt den Bildschirm, nachdem die Schaltfläche Alle überprüfen aktiviert wurde.</span><span class="sxs-lookup"><span data-stu-id="c5fda-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>

<span data-ttu-id="c5fda-186">[![klicken auf die Schaltfläche Alle überprüfen wählt alle Kontrollkästchen aus.](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="c5fda-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span></span>

<span data-ttu-id="c5fda-187">**Abbildung 9**: durch Klicken auf die Schaltfläche Alle überprüfen werden alle Kontrollkästchen ausgewählt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="c5fda-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span></span>

> [!NOTE]
> <span data-ttu-id="c5fda-188">Wenn Sie eine Spalte mit Kontrollkästchen anzeigen, wird ein Ansatz zum auswählen oder Aufheben der Auswahl aller Kontrollkästchen durch ein Kontrollkästchen in der Kopfzeile angezeigt.</span><span class="sxs-lookup"><span data-stu-id="c5fda-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="c5fda-189">Außerdem ist für die gesamte Implementierung überprüfen alle/alle deaktivieren ein Postback erforderlich.</span><span class="sxs-lookup"><span data-stu-id="c5fda-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="c5fda-190">Die Kontrollkästchen können allerdings vollständig über das Client seitige Skript aktiviert oder deaktiviert werden. Dadurch wird eine benutzerfreundliche Darstellung des Benutzer Erlebnisses bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="c5fda-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="c5fda-191">Aktivieren Sie das Kontrollkästchen Alle [Kontrollkästchen in einer GridView mithilfe eines Client seitigen Skripts und eines Kontrollkästchens überprüfen](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx), um die Verwendung einer Kopfzeile für alle Überprüfungen und das Deaktivieren der Daten im Detail zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="c5fda-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>

## <a name="summary"></a><span data-ttu-id="c5fda-192">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="c5fda-192">Summary</span></span>

<span data-ttu-id="c5fda-193">In Fällen, in denen Sie es Benutzern ermöglichen müssen, eine beliebige Anzahl von Zeilen aus einer GridView auszuwählen, bevor Sie fortfahren, ist das Hinzufügen einer Spalte mit Kontrollkästchen eine Option.</span><span class="sxs-lookup"><span data-stu-id="c5fda-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="c5fda-194">Wie in diesem Tutorial gezeigt, umfasst das Hinzufügen einer Spalte mit Kontrollkästchen in der GridView das Hinzufügen eines TemplateField mit einem CheckBox-websteuer Element.</span><span class="sxs-lookup"><span data-stu-id="c5fda-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="c5fda-195">Durch die Verwendung eines websteuer Elements (im Gegensatz zum direkten Einfügen von Markup in die Vorlage, wie im vorherigen Tutorial), wird ASP.NET automatisch daran erinnert, welche Kontrollkästchen waren und nicht über das Postback überprüft wurden.</span><span class="sxs-lookup"><span data-stu-id="c5fda-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="c5fda-196">Wir können auch Programm gesteuert auf die Kontrollkästchen im Code zugreifen, um zu bestimmen, ob ein bestimmtes Kontrollkästchen aktiviert ist, oder um den aktivierten Zustand zu ändern.</span><span class="sxs-lookup"><span data-stu-id="c5fda-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to change the checked state.</span></span>

<span data-ttu-id="c5fda-197">In diesem Tutorial und dem letzten Artikel wurde das Hinzufügen einer Zeilenselektor-Spalte zur GridView behandelt.</span><span class="sxs-lookup"><span data-stu-id="c5fda-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="c5fda-198">Im nächsten Tutorial untersuchen wir, wie wir mit etwas Arbeit der GridView Funktionen zum Einfügen hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="c5fda-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="c5fda-199">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="c5fda-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="c5fda-200">Zum Autor</span><span class="sxs-lookup"><span data-stu-id="c5fda-200">About the Author</span></span>

<span data-ttu-id="c5fda-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="c5fda-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c5fda-202">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="c5fda-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c5fda-203">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="c5fda-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c5fda-204">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c5fda-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="c5fda-205">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="c5fda-205">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c5fda-206">[Zurück](adding-a-gridview-column-of-radio-buttons-cs.md)
> [Weiter](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span><span class="sxs-lookup"><span data-stu-id="c5fda-206">[Previous](adding-a-gridview-column-of-radio-buttons-cs.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span></span>
