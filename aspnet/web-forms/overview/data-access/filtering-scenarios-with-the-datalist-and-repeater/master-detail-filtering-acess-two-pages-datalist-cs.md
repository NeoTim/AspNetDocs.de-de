---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Master/Detail-Filtern über zwei Seiten (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial untersuchen wir wie Sie über zwei Seiten ein Master-/Detail-Berichts zu trennen. Auf der Seite "master" verwenden wir ein Repeater-Steuerelement zum Rendern einer Liste von Categ...
ms.author: riande
ms.date: 10/30/2010
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 4fbb165f8ce80d560589a43c60920a6e68893d46
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59390505"
---
# <a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="5460c-104">Filtern von Master-/Detailberichten über zwei Seiten (C#)</span><span class="sxs-lookup"><span data-stu-id="5460c-104">Master/Detail Filtering Across Two Pages (C#)</span></span>

<span data-ttu-id="5460c-105">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="5460c-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="5460c-106">[Beispiel-App herunter](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) oder [PDF-Datei herunterladen](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="5460c-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="5460c-107">In diesem Tutorial untersuchen wir wie Sie über zwei Seiten ein Master-/Detail-Berichts zu trennen.</span><span class="sxs-lookup"><span data-stu-id="5460c-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="5460c-108">Auf der Seite "master" verwenden wir ein Repeater-Steuerelement, um einer Liste der Kategorien, die gerendert werden, wenn geklickt wird, gelangt der Benutzer auf der Seite "Details" zeigt, einem DataList-Steuerelement zwei Spalten, in denen dieser Produkte, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5460c-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>


## <a name="introduction"></a><span data-ttu-id="5460c-109">Einführung</span><span class="sxs-lookup"><span data-stu-id="5460c-109">Introduction</span></span>

<span data-ttu-id="5460c-110">In der [vorherigen Lernprogramm](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) erläutert die Vorgehensweise beim Anzeigen von Master/Detail-Berichte in einer einzelnen Webseite mit DropDownList-Steuerelementen zum Anzeigen der Datensätze "master" und einem DataList-Steuerelement zum Anzeigen der "Details".</span><span class="sxs-lookup"><span data-stu-id="5460c-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="5460c-111">Ein weiteres allgemeines Muster für die Master/Detail-Berichte verwendet wird, die master-Datensätze auf einer Webseite und die Details zu einem anderen.</span><span class="sxs-lookup"><span data-stu-id="5460c-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="5460c-112">In den früheren [Anzeigen von Filtern von Master-/Detailberichten über zwei Seiten](../masterdetail/master-detail-filtering-across-two-pages-cs.md) Tutorial untersuchten wir dieses Muster unter Verwendung einer GridView-Ansicht zur Anzeige aller Lieferanten im System.</span><span class="sxs-lookup"><span data-stu-id="5460c-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="5460c-113">Diese GridView enthalten eine HyperLinkField, das gerendert als Link zu einer zweiten Seite, und übergeben die `SupplierID` in der Abfragezeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="5460c-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="5460c-114">Die zweite Seite verwendet einer GridView-Ansicht, um die Produkte, die von den ausgewählten Lieferanten bereitgestellte aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="5460c-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="5460c-115">Diese zwei Seiten Master/Detail-Berichte können mit Steuerelementen DataList- oder Wiederholungssteuerelement erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="5460c-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="5460c-116">Der einzige Unterschied ist, dass weder DataList-Steuerelement noch der Repeater das HyperLinkField-Steuerelement unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5460c-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="5460c-117">Stattdessen müssen wir hinzufügen ein HyperLink-Steuerelement oder ein HTML-Ankerelement (`<a>`) innerhalb des Steuerelements `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="5460c-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="5460c-118">Des Links des `NavigateUrl` Eigenschaft oder des Ankers `href` Attribut kann dann mithilfe von deklarativen oder eine programmgesteuerte Methoden angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="5460c-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="5460c-119">In diesem Tutorial werden wir ein Beispiel für untersuchen, die in einer Aufzählung auf einer Seite ein Repeater-Steuerelement mit Kategorien aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="5460c-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="5460c-120">Jedes Listenelement enthält Namen und eine Beschreibung der Kategorie mit dem Kategorienamen, die als Link zu einer zweiten Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5460c-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="5460c-121">Durch Klicken auf diesen Link wird weiter den Benutzer auf der zweiten Seite, einem DataList-Steuerelement wird, in dem diese Produkte angezeigt, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5460c-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="5460c-122">Schritt 1: Anzeigen von Kategorien in einer Liste mit Aufzählungszeichen</span><span class="sxs-lookup"><span data-stu-id="5460c-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="5460c-123">Der erste Schritt beim Erstellen Master/Detail-Berichts wird zunächst die "master" Datensätze anzeigen.</span><span class="sxs-lookup"><span data-stu-id="5460c-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="5460c-124">Daher ist unsere erste Aufgabe, um die Kategorien auf der Seite "master" anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="5460c-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="5460c-125">Öffnen der `CategoryListMaster.aspx` auf der Seite die `DataListRepeaterFiltering` Ordner hinzufügen ein Repeater-Steuerelement und, aus dem Smarttag, zu entscheiden, um eine neue "ObjectDataSource" hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="5460c-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="5460c-126">Die neue "ObjectDataSource" so konfigurieren, dass sie die Daten aus der greift auf die `CategoriesBLL` Klasse `GetCategories` Methode (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="5460c-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>


<span data-ttu-id="5460c-127">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der Klasse CategoriesBLL GetCategories-Methode](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-127">[![Configure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="5460c-128">**Abbildung 1**: Konfigurieren Sie das "ObjectDataSource" Verwenden der `CategoriesBLL` -Klasse `GetCategories` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>


<span data-ttu-id="5460c-129">Als Nächstes definieren des Repeaters Vorlagen so, dass jeder Name und die Beschreibung als ein Element in einer Aufzählung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5460c-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="5460c-130">Lassen Sie uns noch kümmern müssen jeder Kategorie Link zur Detailseite.</span><span class="sxs-lookup"><span data-stu-id="5460c-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="5460c-131">Im folgenden finden deklarative Markup für das Repeater- und das ObjectDataSource-Steuerelement:</span><span class="sxs-lookup"><span data-stu-id="5460c-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="5460c-132">Können Sie mit diesem Markup ist abgeschlossen unseren Fortschritt über einen Browser anzeigen.</span><span class="sxs-lookup"><span data-stu-id="5460c-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="5460c-133">Wie in Abbildung 2 gezeigt, wird Sie als eine Liste mit Aufzählungszeichen mit Namen und eine Beschreibung der einzelnen Kategorien des Repeaters gerendert.</span><span class="sxs-lookup"><span data-stu-id="5460c-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>


<span data-ttu-id="5460c-134">[![Jede Kategorie wird als eine Liste mit Aufzählungszeichen Listenelement angezeigt.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-134">[![Each Category is Displayed as a Bulleted List Item](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="5460c-135">**Abbildung 2**: Jede Kategorie als eine Liste mit Aufzählungszeichen Listenelement angezeigt wird ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="5460c-136">Schritt 2: Aktivieren den Namen der Kategorie in einen Link zur Detailseite</span><span class="sxs-lookup"><span data-stu-id="5460c-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="5460c-137">Um einem Benutzer zum Anzeigen der Informationen "Details" nach einer bestimmten Kategorie zu ermöglichen, müssen wir einen Link zu jeder Aufzählung Element, wenn auf Sie geklickt wird, gelangt der Benutzer auf die zweite Seite hinzufügen (`ProductsForCategoryDetails.aspx`).</span><span class="sxs-lookup"><span data-stu-id="5460c-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="5460c-138">Dieser zweite Seite zeigt dann die Produkte für die ausgewählte Kategorie, die mit einem DataList-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="5460c-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="5460c-139">Um die Kategorie bestimmt, deren Verknüpfung geklickt wurde, müssen wir der angeklickten Kategorie übergeben `CategoryID` auf der zweiten Seite über einen Mechanismus.</span><span class="sxs-lookup"><span data-stu-id="5460c-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="5460c-140">Die einfachste und direkteste Möglichkeit zum Übertragen von skalarer Daten von einer Seite in ein anderes ist über die Abfragezeichenfolge, die Option, die wir in diesem Tutorial verwenden werden.</span><span class="sxs-lookup"><span data-stu-id="5460c-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="5460c-141">Insbesondere die `ProductsForCategoryDetails.aspx` Seite erwarten, dass Sie den ausgewählten *`categoryID`* Wert, der über eine Querystring-Feld, das mit dem Namen übergeben werden `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="5460c-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="5460c-142">Beispielsweise, um die Produkte für die Kategorie "Getränke" Anzeigen der verfügt über eine `CategoryID` von 1, würde ein Benutzer besuchen Sie `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="5460c-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="5460c-143">So erstellen Sie einen Link für jedes Element der Liste mit Aufzählungszeichen im Wiederholungsmodul wir entweder ein HyperLink-Steuerelement oder ein HTML-Ankerelement müssen (`<a>`) auf die `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="5460c-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="5460c-144">In Szenarien, in denen der Link angezeigt, für jede Zeile, die beide Vorgehensweisen ist ausreichend.</span><span class="sxs-lookup"><span data-stu-id="5460c-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="5460c-145">Für Repeater bevorzuge ich an, mit dem Anchor-Element.</span><span class="sxs-lookup"><span data-stu-id="5460c-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="5460c-146">Um das Anchor-Element zu verwenden, Aktualisieren des Repeaters ItemTemplate:</span><span class="sxs-lookup"><span data-stu-id="5460c-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="5460c-147">Beachten Sie, dass die `CategoryID` können direkt in des Anchor-Elements eingefügt werden `href` -Attribut, führen Sie also sicher sein trennen die `href` Attributwert mit Apostrophe (und beachten Sie, Anführungszeichen einschließen), da die `Eval` Methode in der `href` Attribut begrenzt die Zeichenfolge (`"CategoryID"`) in Anführungszeichen ein.</span><span class="sxs-lookup"><span data-stu-id="5460c-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="5460c-148">Alternativ kann stattdessen ein HyperLink-Steuerelement verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="5460c-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="5460c-149">Hinweis wie der statische Teil der URL – `ProductsForCategoryDetails.aspx?CategoryID` – angefügt ist, auf das Ergebnis des `Eval("CategoryID")` direkt in die Databinding-Syntax, die mithilfe der Verkettung von Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="5460c-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="5460c-150">Ein Vorteil der Verwendung des Linksteuerelements ist, dass sie programmgesteuert kann, aus der Repeater zugegriffen werden `ItemDataBound` -Ereignishandler bei Bedarf.</span><span class="sxs-lookup"><span data-stu-id="5460c-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="5460c-151">Beispielsweise empfiehlt es sich um den Namen der Kategorie als Text und nicht als Link für die Kategorien mit keine zugehörigen Produkte anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="5460c-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="5460c-152">Eine solche Überprüfung kann programmgesteuert ausgeführt werden, der `ItemDataBound` Ereignishandler; für Kategorien ohne verknüpfte Produkte, den Link des `NavigateUrl` Eigenschaft kann festgelegt werden, auf eine leere Zeichenfolge, die in dieser bestimmten Kategorienamen Ergebnis die Darstellung als nur-Text (anstatt als Link).</span><span class="sxs-lookup"><span data-stu-id="5460c-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="5460c-153">Verweisen zurück auf die [Formatieren des DataList- und Wiederholungssteuerelement basierend auf Daten](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) -Tutorial für Weitere Informationen zum Formatieren des DataList- und Wiederholungssteuerelements des Inhalts auf der Grundlage von programmgesteuerte Logik über die `ItemDataBound` -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="5460c-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="5460c-154">Wenn Sie befolgt werden, können Sie das Ankerelement oder HyperLink-Steuerelement-Ansatz auf der Seite verwenden.</span><span class="sxs-lookup"><span data-stu-id="5460c-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="5460c-155">Unabhängig vom Ansatz, wenn Sie die Seite über einen Browser anzeigen jeder Kategoriename soll, als Link zum gerendert werden `ProductsForCategoryDetails.aspx`, und übergeben Sie in der jeweiligen `CategoryID` Wert (siehe Abbildung 3).</span><span class="sxs-lookup"><span data-stu-id="5460c-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>


<span data-ttu-id="5460c-156">[![Die Kategorienamen jetzt Verknüpfen mit ProductsForCategoryDetails.aspx.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-156">[![The Category Names Now Link to ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="5460c-157">**Abbildung 3**: Den Namen jetzt Kategorielink zu `ProductsForCategoryDetails.aspx` ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>


## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="5460c-158">Schritt 3: Die Produkte aufgelistet, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5460c-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="5460c-159">Mit der `CategoryListMaster.aspx` Seite abgeschlossen, wir können unsere Aufmerksamkeit für die Implementierung der Seite "Details" zu aktivieren `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="5460c-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="5460c-160">Öffnen Sie diese Seite, einem DataList-Steuerelement aus der Toolbox in den Designer ziehen und legen Sie dessen `ID` Eigenschaft `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="5460c-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="5460c-161">Wählen Sie dann aus der DataList-Steuerelement-Smarttag zum Hinzufügen einer neuen "ObjectDataSource" auf der Seite, und nennen Sie es `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="5460c-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="5460c-162">Konfigurieren sie so, dass sie ruft die `ProductsBLL` -Klasse `GetProductsByCategoryID(categoryID)` Methode, die Gruppe, die die Dropdownlisten auf den Registerkarten INSERT-, Update- und DELETE auf (keine).</span><span class="sxs-lookup"><span data-stu-id="5460c-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


<span data-ttu-id="5460c-163">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der Klasse ProductsBLL GetProductsByCategoryID(categoryID)-Methode](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-163">[![Configure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="5460c-164">**Abbildung 4**: Konfigurieren Sie das "ObjectDataSource" Verwenden der `ProductsBLL` -Klasse `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>


<span data-ttu-id="5460c-165">Da die `GetProductsByCategoryID(categoryID)` -Methode akzeptiert einen Eingabeparameter (*`categoryID`*), der Datenquelle auswählen-Assistent bietet uns die Gelegenheit zum Angeben des Parameters-Quelle.</span><span class="sxs-lookup"><span data-stu-id="5460c-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="5460c-166">Legen Sie die Parameterquelle mit der QueryStringField QueryString `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="5460c-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>


<span data-ttu-id="5460c-167">[![Verwenden Sie die CategoryID Querystring-Feld als Quelle für den Parameter des](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-167">[![Use the Querystring Field CategoryID as the Parameter's Source](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="5460c-168">**Abbildung 5**: Verwenden Sie das Querystring-Field `CategoryID` als Quelle für des Parameters ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="5460c-169">Wie wir in vorherigen Tutorials gesehen haben, nach Abschluss des Assistenten Datenquelle auswählen, erstellt Visual Studio automatisch eine `ItemTemplate` für DataList-Steuerelement, das jede Data-Feldname und Wert enthält.</span><span class="sxs-lookup"><span data-stu-id="5460c-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="5460c-170">Ersetzen Sie diese Vorlage durch eine, die nur des produktanforderungen Name, Lieferanten und Preis auflistet.</span><span class="sxs-lookup"><span data-stu-id="5460c-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="5460c-171">Legen Sie außerdem die DataList-Steuerelement `RepeatColumns` Eigenschaft auf 2.</span><span class="sxs-lookup"><span data-stu-id="5460c-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="5460c-172">Nach diesen Änderungen sollte Ihre DataList und ObjectDataSource deklarative Markup etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="5460c-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="5460c-173">Um diese Seite in Aktion anzuzeigen, starten Sie über die `CategoryListMaster.aspx` Seite; klicken Sie anschließend auf einen Link in der Aufzählung der Kategorien.</span><span class="sxs-lookup"><span data-stu-id="5460c-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="5460c-174">Auf diese Weise gelangen Sie zur `ProductsForCategoryDetails.aspx`, und übergeben Sie entlang der `CategoryID` über die Abfragezeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="5460c-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="5460c-175">Die `ProductsInCategoryDataSource` zu "ObjectDataSource" `ProductsForCategoryDetails.aspx` klicken Sie dann nur die Produkte für die angegebene Kategorie abrufen und anzeigen im DataList-Steuerelement, das zwei Produkte pro Zeile gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="5460c-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="5460c-176">Abbildung 6 zeigt einen Screenshot der `ProductsForCategoryDetails.aspx` beim Anzeigen der Getränke.</span><span class="sxs-lookup"><span data-stu-id="5460c-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>


<span data-ttu-id="5460c-177">[![Die Getränke werden angezeigt, zwei pro Zeile](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-177">[![The Beverages are Displayed, Two per Row](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span></span>

<span data-ttu-id="5460c-178">**Abbildung 6**: Die Getränke werden angezeigt, zwei pro Zeile ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>


## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="5460c-179">Schritt 4: Anzeigen von Informationen zu Auftragskategorien auf ProductsForCategoryDetails.aspx</span><span class="sxs-lookup"><span data-stu-id="5460c-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="5460c-180">Wenn ein Benutzer klickt auf eine Kategorie in `CategoryListMaster.aspx`, die verwendet werden, damit `ProductsForCategoryDetails.aspx` und die Produkte, die der ausgewählten Kategorie gehören angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5460c-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="5460c-181">Allerdings `ProductsForCategoryDetails.aspx` stehen keine visuelle Hinweise, welche Kategorie ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="5460c-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="5460c-182">Ein Benutzer, der Getränke jedoch versehentlich geklickt "Gewürze", klicken Sie auf sollen hat keine Möglichkeit der Umsetzung ihrer Fehler aus, sobald sie erreichen `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="5460c-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="5460c-183">Um dieses potenzielle Problem zu umgehen, können wir Informationen über die ausgewählte Kategorie anzeigen – Name und Beschreibung, am oberen Rand der `ProductsForCategoryDetails.aspx` Seite.</span><span class="sxs-lookup"><span data-stu-id="5460c-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="5460c-184">Um dies zu erreichen, fügen Sie einem FormView-Steuerelement über dem Repeater-Steuerelement im `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="5460c-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="5460c-185">Fügen Sie eine neue "ObjectDataSource" auf der Seite über das FormView smart Tag mit dem Namen `CategoryDataSource` und konfigurieren Sie ihn zur Verwendung der `CategoriesBLL` Klasse `GetCategoryByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="5460c-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="5460c-186">[![Zugriff auf Informationen über die Kategorie der CategoriesBLL Klasse GetCategoryByCategoryID(categoryID)-Methode](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-186">[![Access Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span></span>

<span data-ttu-id="5460c-187">**Abbildung 7**: Zugriff auf Informationen über die Kategorie über die `CategoriesBLL` Klasse `GetCategoryByCategoryID(categoryID)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>


<span data-ttu-id="5460c-188">Wie bei der `ProductsInCategoryDataSource` "ObjectDataSource" in Schritt 3 hinzugefügt der `CategoryDataSource`des Assistenten zum Konfigurieren von Datenquellen verlangt eine Quelle für die `GetCategoryByCategoryID(categoryID)` Methode der Eingabeparameter.</span><span class="sxs-lookup"><span data-stu-id="5460c-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="5460c-189">Verwenden Sie exakten denselben Einstellungen wie vorher, indem Sie die Parameterquelle QueryString und der QueryStringField-Wert, der `CategoryID` (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="5460c-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="5460c-190">Nach dem Fertigstellen des Assistenten für Visual Studio erstellt automatisch eine `ItemTemplate`, `EditItemTemplate`, und `InsertItemTemplate` für das FormView-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="5460c-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="5460c-191">Da wir eine nur-Lese Schnittstelle bereitstellen, können Sie entfernen die `EditItemTemplate` und `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="5460c-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="5460c-192">Darüber hinaus können Sie zum Anpassen der FormView `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="5460c-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="5460c-193">Nach dem Entfernen der überflüssigen Vorlagen und Anpassen von ItemTemplate, sollte Ihre FormView und ObjectDataSource deklarative Markup etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="5460c-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="5460c-194">Abbildung 8 zeigt einen Screenshot, wenn Sie diese Seite über einen Browser anzeigen.</span><span class="sxs-lookup"><span data-stu-id="5460c-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="5460c-195">Zusätzlich zu den FormView-Steuerelement, habe ich auch ein HyperLink-Steuerelement über das FormView-Steuerelement, mit denen den Benutzer zurück zur Liste der Kategorien gelangen hinzugefügt (`CategoryListMaster.aspx`).</span><span class="sxs-lookup"><span data-stu-id="5460c-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="5460c-196">Können Sie diesen Link an anderer Stelle zu platzieren oder ihn vollständig auslassen.</span><span class="sxs-lookup"><span data-stu-id="5460c-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>


<span data-ttu-id="5460c-197">[![Informationen zu Auftragskategorien ist jetzt am oberen Rand der Seite angezeigt.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-197">[![Category Information is Now Displayed at the Top of the Page](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span></span>

<span data-ttu-id="5460c-198">**Abbildung 8**: Informationen zu Auftragskategorien ist jetzt am oberen Rand der Seite angezeigt ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>


## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="5460c-199">Schritt 5: Anzeigen einer Meldung, wenn keine Produkte der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5460c-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="5460c-200">Die `CategoryListMaster.aspx` Seite listet alle Kategorien im System, unabhängig davon, ob vorhandene verknüpfte Produkte.</span><span class="sxs-lookup"><span data-stu-id="5460c-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="5460c-201">Wenn ein Benutzer auf eine Kategorie ohne zugeordnete Serverprodukte DataList-Steuerelement in klickt `ProductsForCategoryDetails.aspx` nicht gerendert werden, da die Datenquelle keine Elemente.</span><span class="sxs-lookup"><span data-stu-id="5460c-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="5460c-202">Wie wir in den letzten Tutorials gesehen haben, bietet die GridView ein `EmptyDataText` -Eigenschaft, die verwendet werden kann, um eine SMS, um anzuzeigen, wenn keine Datensätze vorhanden, in der Datenquelle sind anzugeben.</span><span class="sxs-lookup"><span data-stu-id="5460c-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="5460c-203">Leider hat weder die Repeater das DataList-Steuerelement eine solche Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="5460c-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="5460c-204">Um eine Meldung, die den Benutzer darüber informiert, dass es keine entsprechenden Produkte für die ausgewählte Kategorie hinzufügen, anzeigen eine Bezeichnung-Steuerelement auf der Seite, dessen `Text` -Eigenschaft wird die Meldung angezeigt, es keine entsprechenden Produkte sind zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="5460c-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="5460c-205">Dann müssen wir zum programmgesteuerten Festlegen der `Visible` -Eigenschaft basierend auf, und zwar unabhängig davon, ob DataList-Steuerelement keine Elemente enthält.</span><span class="sxs-lookup"><span data-stu-id="5460c-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="5460c-206">Zu diesem Zweck zunächst eine Bezeichnung unterhalb DataList-Steuerelement hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="5460c-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="5460c-207">Legen Sie seine `ID` Eigenschaft `NoProductsMessage` und dessen `Text` Eigenschaft auf "Sind keine Produkte für die ausgewählte Kategorie..." Als Nächstes müssen wir diese Bezeichnung, die programmgesteuert festgelegt `Visible` -Eigenschaft basierend auf, und zwar unabhängig davon, ob alle Daten an gebunden war die `ProductsInCategory` DataList-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="5460c-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…" Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="5460c-208">Diese Zuweisung muss vorgenommen werden, nachdem die Daten an die Datenliste gebunden wurde.</span><span class="sxs-lookup"><span data-stu-id="5460c-208">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="5460c-209">Für die GridView, DetailsView und FormView-Steuerelement, erstellen wir könnten einen Ereignishandler für des Steuerelements des `DataBound` Ereignis, das ausgelöst wird, nach Abschluss der Datenbindung.</span><span class="sxs-lookup"><span data-stu-id="5460c-209">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="5460c-210">Jedoch weder DataList-Steuerelement noch der Repeater verfügt über eine `DataBound` Ereignis verfügbar.</span><span class="sxs-lookup"><span data-stu-id="5460c-210">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="5460c-211">Bei diesem besonderen Beispiel können wir die Bezeichnung zuweisen `Visible` -Eigenschaft in der `Page_Load` -Ereignishandler, da die Daten werden an die Datenliste vor der Seite zugewiesen wurden `Load` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="5460c-211">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="5460c-212">Dieser Ansatz würde jedoch nicht im Allgemeinen, funktionieren, wie die Daten aus dem ObjectDataSource-Steuerelement an die Datenliste später im Lebenszyklus der Seite gebunden werden können.</span><span class="sxs-lookup"><span data-stu-id="5460c-212">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="5460c-213">Z. B. wenn die angezeigten Daten auf dem Wert in einem anderen Steuerelement basiert, wie sie ist, wenn eine Master/Detail-Berichts mit einem DropDownList-Steuerelement auf der "master" Datensätze anzeigen, die Daten möglicherweise nicht erneut gebunden an das Web-Steuerelement erst die `PreRender` Staging die Lebenszyklus der Seite.</span><span class="sxs-lookup"><span data-stu-id="5460c-213">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="5460c-214">Eine Lösung das funktioniert in allen Fällen besteht darin, weisen Sie die `Visible` Eigenschaft `False` im des DataList-Steuerelement `ItemDataBound` (oder `ItemCreated`) Ereignishandler beim Binden eines Elementtyps, der `Item` oder `AlternatingItem`.</span><span class="sxs-lookup"><span data-stu-id="5460c-214">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="5460c-215">In diesem Fall wissen wir, die es ist mindestens eine Element in der Datenquelle und aus diesem Grund können Ausblenden der `NoProductsMessage` Bezeichnung.</span><span class="sxs-lookup"><span data-stu-id="5460c-215">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="5460c-216">Zusätzlich zu diesem Ereignishandler benötigen wir auch einen Ereignishandler für das DataList-Steuerelement `DataBinding` Ereignis, in dem wir des Bezeichnungsfelds initialisieren `Visible` Eigenschaft `True`.</span><span class="sxs-lookup"><span data-stu-id="5460c-216">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="5460c-217">Da die `DataBinding` Ereignis wird ausgelöst, bevor Sie die `ItemDataBound` Ereignisse, die Bezeichnung des `Visible` Eigenschaft zunächst auf festgelegt `True`, wenn alle Datenelemente vorhanden sind es wird jedoch festgelegt werden, um `False`.</span><span class="sxs-lookup"><span data-stu-id="5460c-217">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="5460c-218">Der folgende Code wird diese Logik implementiert:</span><span class="sxs-lookup"><span data-stu-id="5460c-218">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="5460c-219">Alle Kategorien in der Northwind-Datenbank sind mit einem oder mehreren Produkten verknüpft.</span><span class="sxs-lookup"><span data-stu-id="5460c-219">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="5460c-220">Um dieses Feature zu testen, ich habe manuell angepasst die Northwind-Datenbank für dieses Tutorial Neuzuweisen aller Produkte, die der erstellen-Kategorie zugeordnet (`CategoryID` = 7), der Kategorie "Seafood" (`CategoryID` = 8).</span><span class="sxs-lookup"><span data-stu-id="5460c-220">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="5460c-221">Dies geschieht im Server-Explorer durch neue Abfrage auswählen und mithilfe des folgenden `UPDATE` Anweisung:</span><span class="sxs-lookup"><span data-stu-id="5460c-221">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="5460c-222">Nach dem die Datenbank entsprechend zu aktualisieren, zurück zu den `CategoryListMaster.aspx` Seite, und klicken Sie auf den Link erstellen.</span><span class="sxs-lookup"><span data-stu-id="5460c-222">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="5460c-223">Da es sich nicht mehr alle Produkte in der Kategorie erstellen, sollte die Meldung "Es gibt keine Produkte für die ausgewählte Kategorie..." angezeigt werden, wie in Abbildung 9 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5460c-223">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…" message, as shown in Figure 9.</span></span>


<span data-ttu-id="5460c-224">[![Es wird eine Meldung angezeigt, wenn es keine Produkte gehören zur Kategorie ausgewählt sind](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="5460c-224">[![A Message is Displayed if there are No Products Belonging to the Selected Category](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="5460c-225">**Abbildung 9**: Es wird eine Meldung angezeigt, wenn es keine Produkte gehören zur Kategorie ausgewählt sind ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="5460c-225">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>


## <a name="summary"></a><span data-ttu-id="5460c-226">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="5460c-226">Summary</span></span>

<span data-ttu-id="5460c-227">Master/Detail-Berichte können sowohl die Master- und Detaildatensätzen auf einer einzelnen Seite anzeigen, aber auf vielen Websites diese auf zwei Webseiten verteilt.</span><span class="sxs-lookup"><span data-stu-id="5460c-227">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="5460c-228">In diesem Tutorial erläutert, wie Sie ein solchen Master/Detail-Berichts zu implementieren, indem Sie mit den Kategorien aufgeführt, die in einer Aufzählung, die mit einem Wiederholungssteuerelement auf der Webseite "master" und die zugehörigen Produkte aufgeführt, die auf der Seite "Details".</span><span class="sxs-lookup"><span data-stu-id="5460c-228">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="5460c-229">Jedes Listenelement in der master-Webseite enthalten einen Link zur Detailseite, die der Zeile übergeben `CategoryID` Wert.</span><span class="sxs-lookup"><span data-stu-id="5460c-229">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="5460c-230">In der Seite Details zum Abrufen dieser Produkte für den angegebenen Lieferanten wurde erreicht, über die `ProductsBLL` Klasse `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="5460c-230">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="5460c-231">Die *`categoryID`* Parameterwert angegeben wurde, deklarativ mithilfe der `CategoryID` Querystring-Wert als die Parameterquelle.</span><span class="sxs-lookup"><span data-stu-id="5460c-231">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="5460c-232">Wir haben uns auch wie Kategoriedetails Details mit einem FormView-Steuerelement angezeigt wird und wie Sie eine Meldung angezeigt, wenn es keine Produkte gab, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5460c-232">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="5460c-233">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="5460c-233">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="5460c-234">Der Autor</span><span class="sxs-lookup"><span data-stu-id="5460c-234">About the Author</span></span>

<span data-ttu-id="5460c-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="5460c-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="5460c-236">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="5460c-236">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="5460c-237">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="5460c-237">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="5460c-238">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5460c-238">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="5460c-239">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="5460c-239">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="5460c-240">Besonderen Dank an...</span><span class="sxs-lookup"><span data-stu-id="5460c-240">Special Thanks To…</span></span>

<span data-ttu-id="5460c-241">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="5460c-241">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="5460c-242">Führendes Prüfer für dieses Tutorial wurden Zack Jones und Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="5460c-242">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="5460c-243">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="5460c-243">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="5460c-244">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5460c-244">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5460c-245">[Zurück](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [Weiter](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="5460c-245">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>
