---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Filtern von Master-/detailfiltern aufC#zwei Seiten () | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial wird erläutert, wie Sie einen Master-/Detailbericht auf zwei Seiten aufteilen. Auf der Seite "Master" verwenden wir ein Repeater-Steuerelement, um eine Liste von "...
ms.author: riande
ms.date: 10/30/2010
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 545b24a66476c55aff88ac62d3a6528105fea6c0
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74631478"
---
# <a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="13fbb-104">Filtern von Master-/Detailberichten über zwei Seiten (C#)</span><span class="sxs-lookup"><span data-stu-id="13fbb-104">Master/Detail Filtering Across Two Pages (C#)</span></span>

<span data-ttu-id="13fbb-105">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="13fbb-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="13fbb-106">[Beispiel-app herunterladen](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) oder [PDF herunterladen](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="13fbb-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="13fbb-107">In diesem Tutorial wird erläutert, wie Sie einen Master-/Detailbericht auf zwei Seiten aufteilen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="13fbb-108">Auf der Seite "Master" verwenden wir ein Repeater-Steuerelement, um eine Liste von Kategorien zu erstellen, die den Benutzer beim Klicken auf die Seite "Details" übernehmen, auf der ein zweispaltige DataList die Produkte anzeigt, die zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="13fbb-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>

## <a name="introduction"></a><span data-ttu-id="13fbb-109">Einführung</span><span class="sxs-lookup"><span data-stu-id="13fbb-109">Introduction</span></span>

<span data-ttu-id="13fbb-110">Im [vorherigen Tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) wurde erläutert, wie Sie Master-/Detailberichte auf einer einzelnen Webseite anzeigen, indem Sie Dropdown Listen verwenden, um die "Master"-Datensätze anzuzeigen, und einen DataList zum Anzeigen der "Details".</span><span class="sxs-lookup"><span data-stu-id="13fbb-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="13fbb-111">Ein weiteres häufiges Muster für Master/Detail-Berichte besteht darin, die Master Datensätze auf einer Webseite und die Details zu einem anderen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="13fbb-112">Im vorherigen Lernprogramm zum [Filtern von Master/Details über zwei Seiten](../masterdetail/master-detail-filtering-across-two-pages-cs.md) haben wir dieses Muster mithilfe einer GridView untersucht, um alle Lieferanten im System anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="13fbb-113">Diese GridView enthielt ein HyperLinkField, das als Link zu einer zweiten Seite gerendert wurde und die `SupplierID` in der Abfrage Zeichenfolge übergibt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="13fbb-114">Die zweite Seite hat eine GridView zum Auflisten der Produkte verwendet, die vom ausgewählten Lieferanten bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="13fbb-115">Solche Master-/Detailberichte mit zwei Seiten können auch mit DataList-und Repeater-Steuerelementen durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="13fbb-116">Der einzige Unterschied besteht darin, dass weder der DataList noch der Repeater Unterstützung für das HyperLinkField-Steuerelement bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="13fbb-117">Stattdessen müssen Sie ein Hyperlink-websteuer Element oder ein Anker-HTML-Element (`<a>`) innerhalb der `ItemTemplate`des Steuer Elements hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="13fbb-118">Die `NavigateUrl`-Eigenschaft des Links oder das `href` Attribut des Ankers können dann mithilfe von deklarativen oder programmgesteuerten Ansätzen angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="13fbb-119">In diesem Tutorial untersuchen wir ein Beispiel, das die Kategorien in einer Auflistungs Liste auf einer Seite mithilfe eines Wiederholungs Steuer Elements auflistet.</span><span class="sxs-lookup"><span data-stu-id="13fbb-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="13fbb-120">Jedes Listenelement enthält den Namen und die Beschreibung der Kategorie, wobei der Kategoriename als Link zu einer zweiten Seite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="13fbb-121">Wenn Sie auf diesen Link klicken, wird der Benutzer auf die zweite Seite angezeigt, auf der ein DataList die Produkte anzeigt, die der ausgewählten Kategorie angehören.</span><span class="sxs-lookup"><span data-stu-id="13fbb-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="13fbb-122">Schritt 1: Anzeigen der Kategorien in einer Auflistungs Liste</span><span class="sxs-lookup"><span data-stu-id="13fbb-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="13fbb-123">Der erste Schritt beim Erstellen eines Master-/Detailberichts besteht darin, die Master-Datensätze anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="13fbb-124">Daher besteht unsere erste Aufgabe darin, die Kategorien auf der Seite "Master" anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="13fbb-125">Öffnen Sie die Seite `CategoryListMaster.aspx` im Ordner `DataListRepeaterFiltering`, fügen Sie ein Repeater-Steuerelement hinzu, und wählen Sie aus dem Smarttag ein neues ObjectDataSource-Element hinzufügen aus.</span><span class="sxs-lookup"><span data-stu-id="13fbb-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="13fbb-126">Konfigurieren Sie die neue ObjectDataSource so, dass Sie von der `GetCategories` Methode der `CategoriesBLL` Klasse auf Ihre Daten zugreift (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="13fbb-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>

<span data-ttu-id="13fbb-127">[![Konfigurieren von ObjectDataSource für die Verwendung der GetCategories-Methode der categoriesbll-Klasse.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-127">[![Configure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="13fbb-128">**Abbildung 1**: Konfigurieren von ObjectDataSource für die Verwendung der `GetCategories`-Methode der `CategoriesBLL` Klasse ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>

<span data-ttu-id="13fbb-129">Definieren Sie als nächstes die Vorlagen des Repeater so, dass jeder Kategorienname und jede Beschreibung als Element in einer Auflistungs Liste angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="13fbb-130">Wir kümmern uns noch nicht darum, dass die einzelnen Kategorien mit der Detailseite verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="13fbb-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="13fbb-131">Das folgende Beispiel zeigt das deklarative Markup für "Repeater" und "ObjectDataSource":</span><span class="sxs-lookup"><span data-stu-id="13fbb-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="13fbb-132">Wenn dieses Markup abgeschlossen ist, nehmen Sie sich einen Moment Zeit, um den Fortschritt über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="13fbb-133">Wie in Abbildung 2 gezeigt, wird der Repeater als Auflistungs Liste gerendert, die den Namen und die Beschreibung der einzelnen Kategorien anzeigt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>

<span data-ttu-id="13fbb-134">[![jede Kategorie als Auflistungs Listenelement angezeigt wird.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-134">[![Each Category is Displayed as a Bulleted List Item](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="13fbb-135">**Abbildung 2**: jede Kategorie wird als Auflistungs Listenelement angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>

## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="13fbb-136">Schritt 2: Umbenennen des Kategorienamens in einen Link zur Detailseite</span><span class="sxs-lookup"><span data-stu-id="13fbb-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="13fbb-137">Um es Benutzern zu gestatten, die "Details"-Informationen für eine bestimmte Kategorie anzuzeigen, müssen wir jedem Auflistungs Listenelement einen Link hinzufügen, der den Benutzer beim Klicken auf die zweite Seite (`ProductsForCategoryDetails.aspx`) führt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="13fbb-138">Auf dieser zweiten Seite werden dann die Produkte für die ausgewählte Kategorie mithilfe eines DataList-Steuerelemente angezeigt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="13fbb-139">Um die Kategorie zu bestimmen, auf die geklickt wurde, müssen wir die `CategoryID` der Kategorie, auf die geklickt wurde, auf die zweite Seite durch einen Mechanismus übergeben.</span><span class="sxs-lookup"><span data-stu-id="13fbb-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="13fbb-140">Die einfachste, einfachste Methode zum Übertragen von skalaren Daten von einer Seite auf eine andere ist die Abfrage Zeichenfolge. Dies ist die Option, die in diesem Tutorial verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="13fbb-141">Insbesondere erwartet die `ProductsForCategoryDetails.aspx` Seite, dass der ausgewählte *`categoryID`* Wert durch ein QueryString-Feld mit dem Namen `CategoryID`durchlaufen wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="13fbb-142">Wenn Sie z. b. die Produkte der Kategorie Getränke anzeigen möchten, die einen `CategoryID` von 1 hat, besuchen Sie `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="13fbb-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="13fbb-143">Um einen Hyperlink für jedes Auflistungs Listenelement im Wiederholungs Modul zu erstellen, müssen Sie der `ItemTemplate`entweder ein Hyperlink-websteuer Element oder ein HTML-Anker Element (`<a>`) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="13fbb-144">In Szenarien, in denen der Hyperlink für jede Zeile gleich angezeigt wird, genügt beides.</span><span class="sxs-lookup"><span data-stu-id="13fbb-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="13fbb-145">Für Repeater verwende ich lieber das Anchor-Element.</span><span class="sxs-lookup"><span data-stu-id="13fbb-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="13fbb-146">Um das Anchor-Element zu verwenden, aktualisieren Sie das ItemTemplate-Element des Repeater auf Folgendes:</span><span class="sxs-lookup"><span data-stu-id="13fbb-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="13fbb-147">Beachten Sie, dass der `CategoryID` direkt innerhalb des `href` Attributs des Anker Elements eingefügt werden kann. um dies zu tun, müssen Sie jedoch sicher sein, dass der Wert des `href` Attributs mit Apostrophe (und Anführungszeichen) getrennt wird, da die `Eval`-Methode innerhalb des `href` Attributs die Zeichenfolge (`"CategoryID"`) mit Anführungszeichen begrenzt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="13fbb-148">Alternativ kann stattdessen ein Hyperlink-websteuer Element verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="13fbb-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="13fbb-149">Beachten Sie, dass der statische Teil der URL-– `ProductsForCategoryDetails.aspx?CategoryID` – an das Ergebnis von `Eval("CategoryID")` direkt innerhalb der Datenbindung-Syntax mithilfe der Zeichen folgen Verkettung angehängt wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="13fbb-150">Ein Vorteil der Verwendung des Hyperlink-Steuer Elements besteht darin, dass es bei Bedarf Programm gesteuert über den `ItemDataBound` Ereignishandler des Wiederholungs Moduls aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="13fbb-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="13fbb-151">Beispielsweise können Sie den Kategorienamen als Text anstelle eines Links für Kategorien ohne zugeordnete Produkte anzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="13fbb-152">Eine solche Überprüfung kann Programm gesteuert im `ItemDataBound` Ereignishandler ausgeführt werden. für Kategorien ohne zugeordnete Produkte könnte die `NavigateUrl`-Eigenschaft des Links auf eine leere Zeichenfolge festgelegt werden. Dadurch wird ein bestimmtes Kategoriename als nur-Text gerendert (anstatt als Link).</span><span class="sxs-lookup"><span data-stu-id="13fbb-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="13fbb-153">Weitere Informationen zum Formatieren von DataList-und Repeater-Inhalten auf der Grundlage Programm gesteuerter Logik mithilfe des `ItemDataBound`-Ereignis Handlers finden Sie im Tutorial [Formatieren des DataList-und Repeater basierend auf den Daten](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="13fbb-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="13fbb-154">Wenn Sie die nachfolgende Vorgehensweise verwenden, können Sie das Anker Element oder das Hyperlink-Steuerelement auf Ihrer Seite verwenden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="13fbb-155">Unabhängig von der Vorgehensweise sollte beim Anzeigen der Seite über einen Browser jeder Kategoriename als Link zu `ProductsForCategoryDetails.aspx`gerendert werden, wobei der entsprechende `CategoryID` Wert übergeben wird (siehe Abbildung 3).</span><span class="sxs-lookup"><span data-stu-id="13fbb-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>

<span data-ttu-id="13fbb-156">[![Sie die Kategorienamen jetzt mit productforcategorydetails. aspx verknüpfen.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-156">[![The Category Names Now Link to ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="13fbb-157">**Abbildung 3**: die Kategorienamen werden jetzt mit `ProductsForCategoryDetails.aspx` verknüpft ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>

## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="13fbb-158">Schritt 3: Auflisten der Produkte, die der ausgewählten Kategorie angehören</span><span class="sxs-lookup"><span data-stu-id="13fbb-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="13fbb-159">Wenn die `CategoryListMaster.aspx` Seite abgeschlossen ist, können wir uns auf die Implementierung der Seite "Details" ("Details") konzentrieren, `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="13fbb-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="13fbb-160">Öffnen Sie diese Seite, ziehen Sie einen DataList aus der Toolbox auf den Designer, und legen Sie dessen `ID`-Eigenschaft auf `ProductsInCategory`fest.</span><span class="sxs-lookup"><span data-stu-id="13fbb-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="13fbb-161">Wählen Sie als nächstes im Smarttags des DataList eine neue ObjectDataSource auf der Seite aus, und benennen Sie Sie `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="13fbb-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="13fbb-162">Konfigurieren Sie Sie so, dass Sie die `GetProductsByCategoryID(categoryID)`-Methode der `ProductsBLL` Klasse aufruft. Legen Sie die Dropdown Listen auf den Registerkarten einfügen, aktualisieren und löschen auf (keine) fest.</span><span class="sxs-lookup"><span data-stu-id="13fbb-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>

<span data-ttu-id="13fbb-163">[![konfigurieren Sie ObjectDataSource für die Verwendung der getproductbycategoryid (CategoryID)-Methode der productbll-Klasse.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-163">[![Configure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="13fbb-164">**Abbildung 4**: Konfigurieren von ObjectDataSource für die Verwendung der `GetProductsByCategoryID(categoryID)`-Methode der `ProductsBLL` Klasse ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>

<span data-ttu-id="13fbb-165">Da die `GetProductsByCategoryID(categoryID)`-Methode einen Eingabeparameter ( *`categoryID`* ) akzeptiert, bietet der Assistent zum Auswählen von Datenquellen die Möglichkeit, die Quelle des Parameters anzugeben.</span><span class="sxs-lookup"><span data-stu-id="13fbb-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="13fbb-166">Legen Sie die Parameter Quelle mithilfe der QueryStringField-`CategoryID`auf QueryString fest.</span><span class="sxs-lookup"><span data-stu-id="13fbb-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>

<span data-ttu-id="13fbb-167">[![das QueryString-Feld "CategoryID" als Quelle des Parameters verwenden.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-167">[![Use the Querystring Field CategoryID as the Parameter's Source](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="13fbb-168">**Abbildung 5**: Verwenden des Felds "QueryString" `CategoryID` als Quelle des Parameters ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>

<span data-ttu-id="13fbb-169">Wie in den vorherigen Tutorials gezeigt, erstellt Visual Studio nach Abschluss des Assistenten zum Auswählen von Datenquellen automatisch eine `ItemTemplate` für den DataList, der die einzelnen Daten Feldnamen und-Werte auflistet.</span><span class="sxs-lookup"><span data-stu-id="13fbb-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="13fbb-170">Ersetzen Sie diese Vorlage durch eine, die nur den Namen, den Lieferanten und den Preis des Produkts auflistet.</span><span class="sxs-lookup"><span data-stu-id="13fbb-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="13fbb-171">Legen Sie außerdem die `RepeatColumns`-Eigenschaft des DataList auf 2 fest.</span><span class="sxs-lookup"><span data-stu-id="13fbb-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="13fbb-172">Nachdem Sie diese Änderungen vorgenommen haben, sollte Ihr deklaratives Markup für DataList und ObjectDataSource in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="13fbb-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="13fbb-173">Um diese Seite in Aktion zu sehen, starten Sie auf der Seite `CategoryListMaster.aspx`. Klicken Sie anschließend in der Liste Kategorien aufzählen auf einen Link.</span><span class="sxs-lookup"><span data-stu-id="13fbb-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="13fbb-174">Wenn Sie dies tun, werden Sie `ProductsForCategoryDetails.aspx`, indem Sie die `CategoryID` durch die Abfrage Zeichenfolge übergeben.</span><span class="sxs-lookup"><span data-stu-id="13fbb-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="13fbb-175">Der `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` erhält dann nur die Produkte für die angegebene Kategorie und zeigt Sie in der DataList an, die zwei Produkte pro Zeile rendert.</span><span class="sxs-lookup"><span data-stu-id="13fbb-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="13fbb-176">Abbildung 6 zeigt einen Screenshot der `ProductsForCategoryDetails.aspx`, wenn Sie die Getränke anzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>

<span data-ttu-id="13fbb-177">[![werden die Getränke angezeigt, zwei pro Zeile](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-177">[![The Beverages are Displayed, Two per Row](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span></span>

<span data-ttu-id="13fbb-178">**Abbildung 6**: die Getränke werden angezeigt, zwei pro Zeile ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>

## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="13fbb-179">Schritt 4: Anzeigen von Kategorieinformationen in productforcategorydetails. aspx</span><span class="sxs-lookup"><span data-stu-id="13fbb-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="13fbb-180">Wenn ein Benutzer in `CategoryListMaster.aspx`auf eine Kategorie klickt, wird er zu `ProductsForCategoryDetails.aspx` und die Produkte angezeigt, die der ausgewählten Kategorie angehören.</span><span class="sxs-lookup"><span data-stu-id="13fbb-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="13fbb-181">In `ProductsForCategoryDetails.aspx` gibt es jedoch keine visuellen Hinweise, welche Kategorie ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="13fbb-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="13fbb-182">Ein Benutzer, der auf Getränke klicken soll, aber versehentlich auf die Bedingungen geklickt hat, kann den Fehler nicht erkennen, wenn er `ProductsForCategoryDetails.aspx`erreicht.</span><span class="sxs-lookup"><span data-stu-id="13fbb-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="13fbb-183">Um dieses potenzielle Problem zu beheben, können Sie Informationen über die ausgewählte Kategorie – den Namen und die Beschreibung – am oberen Rand der Seite `ProductsForCategoryDetails.aspx` anzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="13fbb-184">Fügen Sie hierzu in `ProductsForCategoryDetails.aspx`über dem Repeater-Steuerelement eine FormView hinzu.</span><span class="sxs-lookup"><span data-stu-id="13fbb-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="13fbb-185">Fügen Sie als nächstes der Seite ein neues ObjectDataSource-Objekt aus dem Smarttag von FormView mit dem Namen `CategoryDataSource` hinzu, und konfigurieren Sie es so, dass die `GetCategoryByCategoryID(categoryID)`-Methode der `CategoriesBLL` Klasse verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>

<span data-ttu-id="13fbb-186">[![Zugriffs Informationen über die Kategorie über die getcategorybycategoryid (CategoryID)-Methode der kategoriesbll-Klasse.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-186">[![Access Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span></span>

<span data-ttu-id="13fbb-187">**Abbildung 7**: Zugreifen auf Informationen über die Kategorie über die `GetCategoryByCategoryID(categoryID)`-Methode der `CategoriesBLL` Klasse ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>

<span data-ttu-id="13fbb-188">Wie bei der `ProductsInCategoryDataSource` ObjectDataSource, die in Schritt 3 hinzugefügt wurde, werden Sie vom `CategoryDataSource`-Assistenten zum Konfigurieren von Datenquellen aufgefordert, eine Quelle für den Eingabeparameter der `GetCategoryByCategoryID(categoryID)` Methode einzugeben.</span><span class="sxs-lookup"><span data-stu-id="13fbb-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="13fbb-189">Verwenden Sie genau die gleichen Einstellungen wie zuvor, und legen Sie die Parameter Quelle auf QueryString und den Wert QueryStringField auf `CategoryID` fest (siehe Abbildung 5).</span><span class="sxs-lookup"><span data-stu-id="13fbb-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="13fbb-190">Nachdem Sie den Assistenten abgeschlossen haben, erstellt Visual Studio automatisch eine `ItemTemplate`, `EditItemTemplate`und `InsertItemTemplate` für die Form View.</span><span class="sxs-lookup"><span data-stu-id="13fbb-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="13fbb-191">Da wir eine schreibgeschützte Schnittstelle bereitstellen, können Sie die `EditItemTemplate` und `InsertItemTemplate`entfernen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="13fbb-192">Sie können auch die `ItemTemplate`von FormView anpassen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="13fbb-193">Nachdem Sie die überflüssigen Vorlagen entfernt und die ItemTemplate angepasst haben, sollten das deklarative Markup von FormView und ObjectDataSource in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="13fbb-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="13fbb-194">Abbildung 8 zeigt einen Screenshot, wenn Sie diese Seite über einen Browser anzeigen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="13fbb-195">Zusätzlich zu FormView habe ich auch ein Hyperlink-Steuerelement oberhalb der FormView hinzugefügt, das den Benutzer wieder zur Liste der Kategorien (`CategoryListMaster.aspx`) führt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="13fbb-196">Sie können diesen Link auch an anderer Stelle platzieren oder ganz weglassen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>

<span data-ttu-id="13fbb-197">[![Kategorieinformationen werden nun oben auf der Seite angezeigt.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-197">[![Category Information is Now Displayed at the Top of the Page](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span></span>

<span data-ttu-id="13fbb-198">**Abbildung 8**: Kategorieinformationen werden nun oben auf der Seite angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>

## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="13fbb-199">Schritt 5: Anzeigen einer Meldung, wenn keine Produkte zur ausgewählten Kategorie gehören</span><span class="sxs-lookup"><span data-stu-id="13fbb-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="13fbb-200">Auf der `CategoryListMaster.aspx` Seite werden alle Kategorien im System aufgelistet, unabhängig davon, ob zugeordnete Produkte vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="13fbb-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="13fbb-201">Wenn ein Benutzer auf eine Kategorie ohne zugeordnete Produkte klickt, wird der DataList in `ProductsForCategoryDetails.aspx` nicht gerendert, weil die zugehörige Datenquelle keine Elemente enthält.</span><span class="sxs-lookup"><span data-stu-id="13fbb-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="13fbb-202">Wie wir bereits in früheren Tutorials gesehen haben, bietet die GridView eine `EmptyDataText`-Eigenschaft, mit der eine Text Meldung angegeben werden kann, die angezeigt wird, wenn keine Datensätze in der Datenquelle vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="13fbb-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="13fbb-203">Leider hat weder der DataList noch der Repeater eine solche Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="13fbb-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="13fbb-204">Um eine Meldung anzuzeigen, die den Benutzer darüber informiert, dass keine übereinstimmenden Produkte für die ausgewählte Kategorie vorhanden sind, müssen wir der Seite ein Label-Steuerelement hinzufügen, dessen `Text`-Eigenschaft der Meldung zugewiesen wird, dass keine übereinstimmenden Produkte vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="13fbb-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="13fbb-205">Anschließend muss die `Visible`-Eigenschaft Programm gesteuert festgelegt werden, je nachdem, ob der DataList Elemente enthält.</span><span class="sxs-lookup"><span data-stu-id="13fbb-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="13fbb-206">Um dies zu erreichen, fügen Sie unter dem DataList eine Bezeichnung hinzu.</span><span class="sxs-lookup"><span data-stu-id="13fbb-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="13fbb-207">Legen Sie die `ID`-Eigenschaft auf `NoProductsMessage` und deren `Text`-Eigenschaft auf "Es sind keine Produkte für die ausgewählte Kategorie vorhanden..." fest. Als nächstes müssen wir die `Visible`-Eigenschaft dieser Bezeichnung Programm gesteuert festlegen, je nachdem, ob Daten an den `ProductsInCategory` DataList gebunden wurden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…" Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="13fbb-208">Diese Zuweisung muss erfolgen, nachdem die Daten an den DataList gebunden wurden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-208">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="13fbb-209">Für GridView, DetailsView und FormView könnten wir einen Ereignishandler für das `DataBound`-Ereignis des Steuer Elements erstellen, das nach Abschluss der Datenbindung ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-209">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="13fbb-210">Es ist jedoch weder der DataList noch der Repeater ein `DataBound` Ereignis verfügbar.</span><span class="sxs-lookup"><span data-stu-id="13fbb-210">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="13fbb-211">In diesem Beispiel können Sie die `Visible`-Eigenschaft der Bezeichnung im `Page_Load`-Ereignishandler zuweisen, da die Daten vor dem `Load` Ereignis der Seite dem DataList zugewiesen wurden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-211">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="13fbb-212">Dieser Ansatz funktioniert jedoch im Allgemeinen nicht, da die Daten von ObjectDataSource später im Lebenszyklus der Seite an den DataList gebunden werden können.</span><span class="sxs-lookup"><span data-stu-id="13fbb-212">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="13fbb-213">Wenn die angezeigten Daten z. b. auf dem Wert in einem anderen Steuerelement basieren, z. b. Wenn Sie einen Master-/Detailbericht mit einer Dropdown List-Auflistung für die Master-Datensätze anzeigen, werden die Daten bis zur `PreRender` Phase im Lebenszyklus der Seite möglicherweise erst wieder an das datenweb-Steuerelement zurückgebunden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-213">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="13fbb-214">Eine Lösung, die für alle Fälle funktioniert, besteht darin, die `Visible`-Eigenschaft `False` im `ItemDataBound` (oder `ItemCreated`)-Ereignishandler des DataList zuzuweisen, wenn ein Elementtyp `Item` oder `AlternatingItem`gebunden wird.</span><span class="sxs-lookup"><span data-stu-id="13fbb-214">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="13fbb-215">In diesem Fall wissen wir, dass mindestens ein Datenelement in der Datenquelle vorhanden ist, und kann daher die `NoProductsMessage` Bezeichnung ausblenden.</span><span class="sxs-lookup"><span data-stu-id="13fbb-215">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="13fbb-216">Zusätzlich zu diesem Ereignishandler benötigen wir auch einen Ereignishandler für das `DataBinding`-Ereignis des DataList, bei dem wir die `Visible`-Eigenschaft der Bezeichnung zum `True`initialisieren.</span><span class="sxs-lookup"><span data-stu-id="13fbb-216">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="13fbb-217">Da das `DataBinding`-Ereignis vor den `ItemDataBound` Ereignissen ausgelöst wird, wird die Eigenschaft `Visible` der Bezeichnung zunächst auf `True`festgelegt. Wenn Datenelemente vorhanden sind, wird Sie jedoch auf `False`festgelegt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-217">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="13fbb-218">Der folgende Code implementiert diese Logik:</span><span class="sxs-lookup"><span data-stu-id="13fbb-218">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="13fbb-219">Alle Kategorien in der Northwind-Datenbank sind einem oder mehreren Produkten zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="13fbb-219">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="13fbb-220">Um dieses Feature zu testen, habe ich die Northwind-Datenbank für dieses Tutorial manuell angepasst und alle Produkte, die der produplizierungskategorie (`CategoryID` = 7) zugeordnet sind, der Kategorie "Seafood" (`CategoryID` = 8) neu zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="13fbb-220">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="13fbb-221">Dies kann über die Server-Explorer erreicht werden, indem Sie neue Abfrage auswählen und folgende `UPDATE` Anweisung verwenden:</span><span class="sxs-lookup"><span data-stu-id="13fbb-221">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="13fbb-222">Nachdem Sie die Datenbank entsprechend aktualisiert haben, kehren Sie zur Seite `CategoryListMaster.aspx` zurück, und klicken Sie auf den Link für die Erstellung.</span><span class="sxs-lookup"><span data-stu-id="13fbb-222">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="13fbb-223">Da es keine Produkte mehr gibt, die zur Kategorie "Produktion" gehören, sollte das Feld "Es sind keine Produkte für die ausgewählte Kategorie vorhanden..." angezeigt werden. Meldung, wie in Abbildung 9 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-223">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…" message, as shown in Figure 9.</span></span>

<span data-ttu-id="13fbb-224">[![eine Meldung angezeigt wird, wenn keine Produkte zur ausgewählten Kategorie gehören.](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="13fbb-224">[![A Message is Displayed if there are No Products Belonging to the Selected Category](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="13fbb-225">**Abbildung 9**: eine Meldung wird angezeigt, wenn keine Produkte zur ausgewählten Kategorie gehören ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="13fbb-225">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>

## <a name="summary"></a><span data-ttu-id="13fbb-226">Summary</span><span class="sxs-lookup"><span data-stu-id="13fbb-226">Summary</span></span>

<span data-ttu-id="13fbb-227">Während Master/Detail-Berichte sowohl die Master-als auch die Detaildaten Sätze auf einer einzelnen Seite anzeigen können, werden Sie in vielen Websites auf zwei Webseiten voneinander getrennt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-227">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="13fbb-228">In diesem Tutorial haben wir uns mit der Implementierung eines solchen Master/Detail-Berichts mit einem Repeater auf der "Master"-Webseite und den zugehörigen Produkten befasst, die auf der Seite "Details" aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="13fbb-228">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="13fbb-229">Jedes Listenelement in der Master Webseite enthielt einen Link zur Detailseite, die an den `CategoryID` Wert der Zeile weitergegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="13fbb-229">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="13fbb-230">Auf der Detailseite, in der die Produkte für den angegebenen Lieferanten abgerufen wurden, wurde die `GetProductsByCategoryID(categoryID)`-Methode der `ProductsBLL` Klasse durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="13fbb-230">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="13fbb-231">Der *`categoryID`* Parameterwert wurde deklarativ mithilfe des `CategoryID` QueryString-Werts als Parameter Quelle angegeben.</span><span class="sxs-lookup"><span data-stu-id="13fbb-231">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="13fbb-232">Wir haben auch erfahren, wie Sie Kategoriedetails auf der Detailseite mithilfe von FormView anzeigen und wie Sie eine Meldung anzeigen, wenn keine Produkte zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="13fbb-232">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="13fbb-233">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="13fbb-233">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="13fbb-234">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="13fbb-234">About the Author</span></span>

<span data-ttu-id="13fbb-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="13fbb-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="13fbb-236">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="13fbb-236">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="13fbb-237">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="13fbb-237">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="13fbb-238">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="13fbb-238">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="13fbb-239">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="13fbb-239">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="13fbb-240">Besonders vielen Dank...</span><span class="sxs-lookup"><span data-stu-id="13fbb-240">Special Thanks To…</span></span>

<span data-ttu-id="13fbb-241">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="13fbb-241">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="13fbb-242">Führende Prüfer für dieses Tutorial waren Zack Jones und Liz shulok.</span><span class="sxs-lookup"><span data-stu-id="13fbb-242">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="13fbb-243">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="13fbb-243">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="13fbb-244">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="13fbb-244">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="13fbb-245">[Zurück](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [Weiter](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="13fbb-245">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>
