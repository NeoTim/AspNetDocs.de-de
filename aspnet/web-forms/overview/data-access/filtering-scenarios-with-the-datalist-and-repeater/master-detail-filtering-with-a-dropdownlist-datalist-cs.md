---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
title: Filtern von Master-/detailfiltern mit DropdownC#List () | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial erfahren Sie, wie Sie Master-/Detailberichte auf einer einzelnen Webseite anzeigen, indem Sie Dropdown Listen verwenden, um die Master-Datensätze und einen DataList anzuzeigen...
ms.author: riande
ms.date: 07/18/2007
ms.assetid: 07fa47ae-e491-4a2f-b265-d342b9ddef46
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 8289f46fd6d0143802269d5c6196a4c40db9378c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78477237"
---
# <a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="564a6-103">Filtern von Master-/Detailberichten mit einem DropDownList-Steuerelement (C#)</span><span class="sxs-lookup"><span data-stu-id="564a6-103">Master/Detail Filtering With a DropDownList (C#)</span></span>

<span data-ttu-id="564a6-104">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="564a6-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="564a6-105">[Beispiel-app herunterladen](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) oder [PDF herunterladen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="564a6-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span></span>

> <span data-ttu-id="564a6-106">In diesem Tutorial erfahren Sie, wie Sie Master-/Detailberichte auf einer einzelnen Webseite anzeigen, indem Sie Dropdown Listen verwenden, um die "Master"-Datensätze anzuzeigen, und einen DataList zum Anzeigen der "Details".</span><span class="sxs-lookup"><span data-stu-id="564a6-106">In this tutorial we see how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details".</span></span>

## <a name="introduction"></a><span data-ttu-id="564a6-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="564a6-107">Introduction</span></span>

<span data-ttu-id="564a6-108">Der Master/Detail-Bericht, den wir zuerst mithilfe eines GridView-Filters in der vorherigen [Master-/detailfilterung mit einem Dropdown List-](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) Tutorial erstellt haben, beginnt mit dem Anzeigen einiger "Master"-Datensätze.</span><span class="sxs-lookup"><span data-stu-id="564a6-108">The master/detail report, which we first created using a GridView in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial, begins by showing some set of "master" records.</span></span> <span data-ttu-id="564a6-109">Der Benutzer kann dann einen Drilldown in einen der Master Datensätze ausführen und so die Details des Master Datensatzes anzeigen.</span><span class="sxs-lookup"><span data-stu-id="564a6-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="564a6-110">Master/Detail-Berichte sind eine ideale Wahl zum Visualisieren von 1: n-Beziehungen und zum Anzeigen detaillierter Informationen von besonders "breiten" Tabellen (mit vielen Spalten).</span><span class="sxs-lookup"><span data-stu-id="564a6-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships and for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="564a6-111">Wir haben untersucht, wie Master-/Detailberichte mithilfe der GridView-und DetailsView-Steuerelemente in vorherigen Tutorials implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="564a6-111">We've explored how to implement master/detail reports using the GridView and DetailsView controls in previous tutorials.</span></span> <span data-ttu-id="564a6-112">In diesem Lernprogramm und den nächsten zwei untersuchen wir diese Konzepte erneut, aber konzentrieren wir uns stattdessen auf die Verwendung von DataList-und Repeater-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="564a6-112">In this tutorial and the next two, we'll reexamine these concepts, but focus on using DataList and Repeater controls instead.</span></span>

<span data-ttu-id="564a6-113">In diesem Tutorial betrachten wir die Verwendung einer Dropdown List, die die "Master"-Datensätze enthält, wobei die "Details"-Datensätze in einem DataList angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="564a6-113">In this tutorial, we'll look at using a DropDownList to contain the "master" records, with the "details" records displayed in a DataList.</span></span>

## <a name="step-1-adding-the-masterdetail-tutorial-web-pages"></a><span data-ttu-id="564a6-114">Schritt 1: Hinzufügen der Webseiten mit dem Master/Detail-Tutorial</span><span class="sxs-lookup"><span data-stu-id="564a6-114">Step 1: Adding the Master/Detail Tutorial Web Pages</span></span>

<span data-ttu-id="564a6-115">Bevor wir mit diesem Tutorial beginnen, nehmen wir uns einen Moment Zeit, um die Ordner-und ASP.NET Seiten hinzuzufügen, die für dieses Tutorial erforderlich sind, und die nächsten beiden Arbeiten mit Master/Detail-Berichten, die die DataList-und Repeater-Steuerelemente verwenden.</span><span class="sxs-lookup"><span data-stu-id="564a6-115">Before we start this tutorial, let's first take a moment to add the folder and ASP.NET pages we'll need for this tutorial and the next two dealing with master/detail reports using the DataList and Repeater controls.</span></span> <span data-ttu-id="564a6-116">Erstellen Sie zunächst einen neuen Ordner in dem Projekt mit dem Namen `DataListRepeaterFiltering`.</span><span class="sxs-lookup"><span data-stu-id="564a6-116">Start by creating a new folder in the project named `DataListRepeaterFiltering`.</span></span> <span data-ttu-id="564a6-117">Fügen Sie anschließend die folgenden fünf ASP.NET-Seiten zu diesem Ordner hinzu, wobei alle für die Verwendung der Master Seite `Site.master`konfiguriert sind:</span><span class="sxs-lookup"><span data-stu-id="564a6-117">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `FilterByDropDownList.aspx`
- `CategoryListMaster.aspx`
- `ProductsForCategoryDetails.aspx`
- `CategoriesAndProducts.aspx`

![Erstellen Sie einen Ordner "datalistrepaterfiltering", und fügen Sie das Tutorial ASP.net Pages hinzu.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image1.png)

<span data-ttu-id="564a6-119">**Abbildung 1**: Erstellen eines `DataListRepeaterFiltering` Ordners und Hinzufügen des Tutorials ASP.NET Seiten</span><span class="sxs-lookup"><span data-stu-id="564a6-119">**Figure 1**: Create a `DataListRepeaterFiltering` Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="564a6-120">Öffnen Sie als nächstes die Seite `Default.aspx`, und ziehen Sie das Steuerelement `SectionLevelTutorialListing.ascx` Benutzer aus dem Ordner `UserControls` auf die Entwurfs Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="564a6-120">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="564a6-121">Dieses Benutzer Steuerelement, das wir im Lernprogramm zu [Master Seiten und zur Website Navigation](../introduction/master-pages-and-site-navigation-cs.md) erstellt haben, listet die Site Map auf und zeigt die Tutorials aus dem aktuellen Abschnitt in einer Aufzählung an.</span><span class="sxs-lookup"><span data-stu-id="564a6-121">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>

<span data-ttu-id="564a6-122">[![das Benutzer Steuerelement "sectionleveltutoriallisting. ascx" zu "default. aspx" hinzufügen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-122">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span></span>

<span data-ttu-id="564a6-123">**Abbildung 2**: Hinzufügen des `SectionLevelTutorialListing.ascx` Benutzer Steuer Elements zu `Default.aspx` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-123">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span></span>

<span data-ttu-id="564a6-124">Damit in der Auflistungs Liste die Lernprogramme für Master/Details angezeigt werden, die wir erstellen, müssen wir Sie der Site Übersicht hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="564a6-124">In order to have the bulleted list display the master/detail tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="564a6-125">Öffnen Sie die Datei `Web.sitemap`, und fügen Sie das folgende Markup nach dem "Anzeigen von Daten mit dem DataList-und Repeater"-Site Map-Knoten Markup hinzu:</span><span class="sxs-lookup"><span data-stu-id="564a6-125">Open the `Web.sitemap` file and add the following markup after the "Displaying Data with the DataList and Repeater" site map node markup:</span></span>

[!code-xml[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample1.xml)]

![Aktualisieren der Site Übersicht, um die neuen ASP.NET-Seiten einzuschließen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image5.png)

<span data-ttu-id="564a6-127">**Abbildung 3**: Aktualisieren der Site Übersicht, um die neuen ASP.NET-Seiten einzuschließen</span><span class="sxs-lookup"><span data-stu-id="564a6-127">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="step-2-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="564a6-128">Schritt 2: Anzeigen der Kategorien in einer Dropdown Liste</span><span class="sxs-lookup"><span data-stu-id="564a6-128">Step 2: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="564a6-129">Der Master/Detail-Bericht listet die Kategorien in einer Dropdown Liste auf, wobei die Produkte des ausgewählten Listen Elements weiter unten auf der Seite in einem DataList angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="564a6-129">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a DataList.</span></span> <span data-ttu-id="564a6-130">Die erste Aufgabe vor uns besteht darin, die Kategorien in einer Dropdown Liste anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="564a6-130">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="564a6-131">Öffnen Sie zunächst die Seite `FilterByDropDownList.aspx` im Ordner `DataListRepeaterFiltering`, und ziehen Sie eine Dropdown List aus der Toolbox auf den Designer der Seite.</span><span class="sxs-lookup"><span data-stu-id="564a6-131">Start by opening the `FilterByDropDownList.aspx` page in the `DataListRepeaterFiltering` folder and drag a DropDownList from the Toolbox onto the page's designer.</span></span> <span data-ttu-id="564a6-132">Legen Sie als nächstes die `ID`-Eigenschaft der Dropdown List auf `Categories`fest.</span><span class="sxs-lookup"><span data-stu-id="564a6-132">Next, set the DropDownList's `ID` property to `Categories`.</span></span> <span data-ttu-id="564a6-133">Klicken Sie in der Dropdown List-Smarttag auf den Link Datenquelle auswählen, und erstellen Sie eine neue ObjectDataSource mit dem Namen `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="564a6-133">Click on the Choose Data Source link from the DropDownList's smart tag and create a new ObjectDataSource named `CategoriesDataSource`.</span></span>

<span data-ttu-id="564a6-134">[![eine neue ObjectDataSource mit dem Namen "categoriesdatasource" hinzufügen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-134">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span></span>

<span data-ttu-id="564a6-135">**Abbildung 4**: Hinzufügen einer neuen ObjectDataSource mit dem Namen "`CategoriesDataSource`" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-135">**Figure 4**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span></span>

<span data-ttu-id="564a6-136">Konfigurieren Sie die neue ObjectDataSource so, dass Sie die `GetCategories()`-Methode der `CategoriesBLL` Klasse aufruft.</span><span class="sxs-lookup"><span data-stu-id="564a6-136">Configure the new ObjectDataSource such that it invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span> <span data-ttu-id="564a6-137">Nach dem Konfigurieren von ObjectDataSource müssen Sie immer noch angeben, welches Datenquellen Feld in der Dropdown Liste angezeigt werden soll und welches als Wert für jedes Listenelement zugeordnet werden soll.</span><span class="sxs-lookup"><span data-stu-id="564a6-137">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in the DropDownList and which one should be associated as the value for each list item.</span></span> <span data-ttu-id="564a6-138">Legen Sie das `CategoryName`-Feld als Anzeige und als Wert für jedes Listenelement `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="564a6-138">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>

<span data-ttu-id="564a6-139">[![Dropdown List das Feld "CategoryName" anzeigen und "CategoryID" als Wert verwenden.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-139">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span></span>

<span data-ttu-id="564a6-140">**Abbildung 5**: "DropDownList" zeigt das `CategoryName` Feld an und verwendet `CategoryID` als Wert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-140">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span></span>

<span data-ttu-id="564a6-141">An diesem Punkt verfügen wir über ein Dropdown List-Steuerelement, das mit den Datensätzen aus der `Categories` Tabelle gefüllt wird (alle in ungefähr sechs Sekunden).</span><span class="sxs-lookup"><span data-stu-id="564a6-141">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="564a6-142">In Abbildung 6 wird der Fortschritt angezeigt, der in einem Browser angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="564a6-142">Figure 6 shows our progress thus far when viewed through a browser.</span></span>

<span data-ttu-id="564a6-143">[![einer Dropdown Liste werden die aktuellen Kategorien aufgelistet.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-143">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span></span>

<span data-ttu-id="564a6-144">**Abbildung 6**: eine Dropdown Liste listet die aktuellen Kategorien auf ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-144">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span></span>

## <a name="step-2-adding-the-products-datalist"></a><span data-ttu-id="564a6-145">Schritt 2: Hinzufügen des Products-DataList</span><span class="sxs-lookup"><span data-stu-id="564a6-145">Step 2: Adding the Products DataList</span></span>

<span data-ttu-id="564a6-146">Im letzten Schritt des Master/Detail-Berichts werden die Produkte aufgelistet, die der ausgewählten Kategorie zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="564a6-146">The last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="564a6-147">Um dies zu erreichen, fügen Sie der Seite einen DataList hinzu, und erstellen Sie eine neue ObjectDataSource mit dem Namen `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="564a6-147">To accomplish this, add a DataList to the page and create a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="564a6-148">Lassen Sie das `ProductsByCategoryDataSource`-Steuerelement die Daten aus der `GetProductsByCategoryID(categoryID)`-Methode der `ProductsBLL` Klasse abrufen.</span><span class="sxs-lookup"><span data-stu-id="564a6-148">Have the `ProductsByCategoryDataSource` control retrieve its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="564a6-149">Da dieser Master-/Detailbericht schreibgeschützt ist, wählen Sie auf den Registerkarten einfügen, aktualisieren und löschen die Option (keine) aus.</span><span class="sxs-lookup"><span data-stu-id="564a6-149">Since this master/detail report is read-only, choose the (None) option in the INSERT, UPDATE, and DELETE tabs.</span></span>

<span data-ttu-id="564a6-150">[![wählen Sie die getproduczbycategoryid (CategoryID)-Methode aus.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-150">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span></span>

<span data-ttu-id="564a6-151">**Abbildung 7**: Auswählen der `GetProductsByCategoryID(categoryID)` Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-151">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span></span>

<span data-ttu-id="564a6-152">Nachdem Sie auf "weiter" geklickt haben, fordert der ObjectDataSource-Assistent Sie zur Angabe der Quelle des Werts für den *`categoryID`* Parameter der `GetProductsByCategoryID(categoryID)` Methode auf.</span><span class="sxs-lookup"><span data-stu-id="564a6-152">After clicking Next, the ObjectDataSource wizard prompts us for the source of the value for the `GetProductsByCategoryID(categoryID)` method's *`categoryID`* parameter.</span></span> <span data-ttu-id="564a6-153">Um den Wert des ausgewählten `categories` DropDownList-Elements zu verwenden, legen Sie die Parameter Quelle auf Control und ControlID auf `Categories`fest.</span><span class="sxs-lookup"><span data-stu-id="564a6-153">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>

<span data-ttu-id="564a6-154">[![den CategoryID-Parameter auf den Wert der Dropdown List-Kategorien festlegen.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-154">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span></span>

<span data-ttu-id="564a6-155">**Abbildung 8**: Festlegen des *`categoryID`* -Parameters auf den Wert des `Categories` Dropdown List ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-155">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span></span>

<span data-ttu-id="564a6-156">Nach dem Abschließen des Assistenten zum Konfigurieren von Datenquellen wird von Visual Studio automatisch ein `ItemTemplate` für den DataList generiert, der den Namen und den Wert der einzelnen Datenfelder anzeigt.</span><span class="sxs-lookup"><span data-stu-id="564a6-156">Upon completing the Configure Data Source wizard, Visual Studio will automatically generate an `ItemTemplate` for the DataList that displays the name and value of each data field.</span></span> <span data-ttu-id="564a6-157">Wir erweitern den DataList, um stattdessen eine `ItemTemplate` zu verwenden, die nur den Namen, die Kategorie, den Lieferanten, die Menge pro Einheit und den Preis des Produkts anzeigt, sowie eine `SeparatorTemplate`, die ein `<hr>` Element zwischen jedem Element einfügt.</span><span class="sxs-lookup"><span data-stu-id="564a6-157">Let's enhance the DataList to instead use an `ItemTemplate` that displays just the product's name, category, supplier, quantity per unit, and price along with a `SeparatorTemplate` that injects an `<hr>` element between each item.</span></span> <span data-ttu-id="564a6-158">Ich verwende die `ItemTemplate` aus einem Beispiel im Tutorial "Anzeigen von [Daten mit dem DataList-und Repeater-](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) Steuerelement", aber Sie können auch das beliebige Vorlagen Markup verwenden, das Sie visuell ansprechend finden.</span><span class="sxs-lookup"><span data-stu-id="564a6-158">I'm going to use the `ItemTemplate` from an example in the [Displaying Data with the DataList and Repeater Controls](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) tutorial, but feel free to use whatever template markup you find most visually appealing.</span></span>

<span data-ttu-id="564a6-159">Nachdem Sie diese Änderungen vorgenommen haben, sollten Ihr DataList-und Ihr ObjectDataSource-Markup in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="564a6-159">After making these changes, your DataList and its ObjectDataSource's markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="564a6-160">Nehmen Sie sich einen Moment Zeit, um den Fortschritt in einem Browser zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="564a6-160">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="564a6-161">Beim ersten Besuch der Seite werden die Produkte, die der ausgewählten Kategorie (Getränke) angehören, angezeigt (wie in Abbildung 9 dargestellt). durch das Ändern der Dropdown Liste werden die Daten jedoch nicht aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="564a6-161">When first visiting the page, those products belonging to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="564a6-162">Dies liegt daran, dass ein Postback erfolgen muss, damit der DataList aktualisiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="564a6-162">This is because a postback must occur for the DataList to update.</span></span> <span data-ttu-id="564a6-163">Um dies zu erreichen, können Sie entweder die `AutoPostBack`-Eigenschaft der DropDownList auf `true` festlegen oder der Seite ein Schaltflächen-websteuer Element hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="564a6-163">To accomplish this we can either set the DropDownList's `AutoPostBack` property to `true` or add a Button Web control to the page.</span></span> <span data-ttu-id="564a6-164">Für dieses Lernprogramm habe ich die `AutoPostBack`-Eigenschaft der Dropdown List auf `true`festgelegt.</span><span class="sxs-lookup"><span data-stu-id="564a6-164">For this tutorial, I've opted to set the DropDownList's `AutoPostBack` property to `true`.</span></span>

<span data-ttu-id="564a6-165">Die Abbildungen 9 und 10 veranschaulichen den Master-/Detailbericht in Aktion.</span><span class="sxs-lookup"><span data-stu-id="564a6-165">Figures 9 and 10 illustrate the master/detail report in action.</span></span>

<span data-ttu-id="564a6-166">[beim ersten Besuch der Seite werden die Getränkeprodukte angezeigt. ![](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-166">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span></span>

<span data-ttu-id="564a6-167">**Abbildung 9**: beim ersten Besuch der Seite werden die Getränkeprodukte angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-167">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span></span>

<span data-ttu-id="564a6-168">[![auswählen eines neuen Produkts (erzeugt) automatisch ein Postback, Aktualisieren des DataList-Elements](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-168">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span></span>

<span data-ttu-id="564a6-169">**Abbildung 10**: das Auswählen eines neuen Produkts (erzeugt) löst automatisch ein Postback, aktualisiert den DataList ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-169">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span></span>

## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="564a6-170">Hinzufügen eines "--Choose a category--" Listen Elements</span><span class="sxs-lookup"><span data-stu-id="564a6-170">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="564a6-171">Beim ersten Besuch der Seite "`FilterByDropDownList.aspx`" ist das erste Listenelement (Getränke) der Kategorie DropDownList standardmäßig ausgewählt, das die Getränkeprodukte in der DataList anzeigt.</span><span class="sxs-lookup"><span data-stu-id="564a6-171">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the DataList.</span></span> <span data-ttu-id="564a6-172">Im Lernprogramm zum *Filtern von Master-/detailfiltern mit einem Dropdown List* -Tutorial haben wir die Option "--wählen Sie eine Kategorie" in der Dropdown Liste hinzugefügt, die standardmäßig ausgewählt ist, und *alle* Produkte in der Datenbank angezeigt, wenn Sie ausgewählt wurden.</span><span class="sxs-lookup"><span data-stu-id="564a6-172">In the *Master/Detail Filtering With a DropDownList* tutorial we added a "-- Choose a Category --" option to the DropDownList that was selected by default and, when selected, displayed *all* of the products in the database.</span></span> <span data-ttu-id="564a6-173">Ein solcher Ansatz war bei der Auflistung der Produkte in einem GridView-Verfahren zu handhaben, da jede Produkt Zeile einen kleinen Teil der Bildschirmgröße aufbrauchte.</span><span class="sxs-lookup"><span data-stu-id="564a6-173">Such an approach was manageable when listing the products in a GridView, as each product row took up a small amount of screen real estate.</span></span> <span data-ttu-id="564a6-174">Mit dem DataList-DataList verbraucht die Informationen aller Produkte jedoch einen viel größeren Teil des Bildschirms.</span><span class="sxs-lookup"><span data-stu-id="564a6-174">With the DataList, however, each product's information consumes a much larger chunk of the screen.</span></span> <span data-ttu-id="564a6-175">Fügen Sie die Option "--wählen Sie eine Kategorie" hinzu, und lassen Sie die Option standardmäßig ausgewählt. Wenn Sie jedoch nicht alle Produkte anzeigen, wenn Sie ausgewählt ist, konfigurieren Sie Sie so, dass keine Produkte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="564a6-175">Let's still add a "-- Choose a Category --" option and have it selected by default, but instead of having it show all products when selected, let's configure it so that it shows no products.</span></span>

<span data-ttu-id="564a6-176">Um der Dropdown Liste ein neues Listenelement hinzuzufügen, klicken Sie auf die Eigenschaftenfenster, und klicken Sie dann auf die Auslassungs Punkte in der `Items`-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="564a6-176">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="564a6-177">Fügen Sie ein neues Listenelement mit dem `Text` "--wählen Sie eine Kategorie--" und die `Value` `0`hinzu.</span><span class="sxs-lookup"><span data-stu-id="564a6-177">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `0`.</span></span>

![Hinzufügen eines](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image27.png)

<span data-ttu-id="564a6-179">**Abbildung 11**: Hinzufügen eines Listen Elements "--wählen Sie eine Kategorie"</span><span class="sxs-lookup"><span data-stu-id="564a6-179">**Figure 11**: Add a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="564a6-180">Alternativ können Sie das Listenelement hinzufügen, indem Sie der Dropdown Liste das folgende Markup hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="564a6-180">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="564a6-181">Außerdem müssen wir die `AppendDataBoundItems` des DropDownList-Steuer Elements auf `true` festlegen, denn wenn die Kategorie auf "`false` (Standard)" festgelegt ist, werden alle manuell hinzugefügten Listenelemente überschrieben, wenn die Kategorien an die Dropdown Liste aus der ObjectDataSource gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="564a6-181">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to `true` because if it's set to `false` (the default), when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items.</span></span>

![Legen Sie die AppendDataBoundItems-Eigenschaft auf "true" fest.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image28.png)

<span data-ttu-id="564a6-183">**Abbildung 12**: Festlegen der `AppendDataBoundItems`-Eigenschaft auf "true"</span><span class="sxs-lookup"><span data-stu-id="564a6-183">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>

<span data-ttu-id="564a6-184">Der Grund, warum wir den Wert `0` für das Listenelement "--wählen Sie eine Kategorie" gewählt haben, liegt darin, dass im System keine Kategorien mit dem Wert "`0`" vorhanden sind. Daher werden keine Produktdaten Sätze zurückgegeben, wenn das Listenelement "--wählen Sie eine Kategorie" ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="564a6-184">The reason we chose the value `0` for the "-- Choose a Category --" list item is because there are no categories in the system with a value of `0`, hence no product records will be returned when the "-- Choose a Category --" list item is selected.</span></span> <span data-ttu-id="564a6-185">Um dies zu bestätigen, nehmen Sie sich einen Moment Zeit, um die Seite über einen Browser zu besuchen.</span><span class="sxs-lookup"><span data-stu-id="564a6-185">To confirm this, take a moment to visit the page through a browser.</span></span> <span data-ttu-id="564a6-186">Wie in Abbildung 13 gezeigt, wird beim anfänglichen Anzeigen der Seite das Listenelement "--wählen Sie eine Kategorie" ausgewählt, und es werden keine Produkte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="564a6-186">As Figure 13 shows, when initially viewing the page the "-- Choose a Category --" list item is selected and no products are displayed.</span></span>

<span data-ttu-id="564a6-187">[![, wenn die](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="564a6-187">[![When the](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span></span>

<span data-ttu-id="564a6-188">**Abbildung 13**: Wenn das Listenelement "--Kategorie auswählen" ausgewählt ist, werden keine Produkte angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="564a6-188">**Figure 13**: When the "-- Choose a Category --" List Item is Selected, No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span></span>

<span data-ttu-id="564a6-189">Wenn Sie *alle* Produkte anzeigen möchten, wenn die Option "--wählen Sie eine Kategorie" ausgewählt ist, verwenden Sie stattdessen den Wert `-1`.</span><span class="sxs-lookup"><span data-stu-id="564a6-189">If you'd rather display *all* of the products when the "-- Choose a Category --" option is selected, use a value of `-1` instead.</span></span> <span data-ttu-id="564a6-190">Der Leser, der sich in der *Master/Detail-Filterung mit einem Dropdown List* -Tutorial befand, erinnert, dass wir die `GetProductsByCategoryID(categoryID)`-Methode der `ProductsBLL` Klasse aktualisiert haben, damit bei der Übergabe eines *`categoryID`* Werts `-1` alle Produktdaten Sätze zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="564a6-190">The astute reader will recall that back in the *Master/Detail Filtering With a DropDownList* tutorial we updated the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method so that if a *`categoryID`* value of `-1` was passed in, all product records were returned.</span></span>

## <a name="summary"></a><span data-ttu-id="564a6-191">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="564a6-191">Summary</span></span>

<span data-ttu-id="564a6-192">Wenn hierarchisch verwandte Daten angezeigt werden, ist es häufig hilfreich, die Daten mithilfe von Master-/Detailberichten darzustellen, von denen der Benutzer mit der Verwendung der Daten vom oberen Rand der Hierarchie beginnen und Details anzeigen kann.</span><span class="sxs-lookup"><span data-stu-id="564a6-192">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="564a6-193">In diesem Tutorial wurde das Entwickeln eines einfachen Master/Detail-Berichts untersucht, der die Produkte einer ausgewählten Kategorie anzeigt.</span><span class="sxs-lookup"><span data-stu-id="564a6-193">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="564a6-194">Dies wurde erreicht, indem eine Dropdown Liste für die Liste der Kategorien und ein DataList für die Produkte verwendet wurde, die zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="564a6-194">This was accomplished by using a DropDownList for the list of categories and a DataList for the products belonging to the selected category.</span></span>

<span data-ttu-id="564a6-195">Im nächsten Tutorial untersuchen wir die Trennung der Master-und Detaildaten Sätze auf zwei Seiten.</span><span class="sxs-lookup"><span data-stu-id="564a6-195">In the next tutorial we'll look at separating the master and details records across two pages.</span></span> <span data-ttu-id="564a6-196">Auf der ersten Seite wird eine Liste der "Master"-Datensätze mit einem Link zum Anzeigen der Details angezeigt.</span><span class="sxs-lookup"><span data-stu-id="564a6-196">In the first page, a list of "master" records will be displayed, with a link to view the details.</span></span> <span data-ttu-id="564a6-197">Wenn Sie auf den Link klicken, wird der Benutzer auf die zweite Seite angezeigt, auf der die Details für den ausgewählten Master Daten Satz angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="564a6-197">Clicking on the link will whisk the user to the second page, which will display the details for the selected master record.</span></span>

<span data-ttu-id="564a6-198">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="564a6-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="564a6-199">Zum Autor</span><span class="sxs-lookup"><span data-stu-id="564a6-199">About the Author</span></span>

<span data-ttu-id="564a6-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="564a6-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="564a6-201">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="564a6-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="564a6-202">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="564a6-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="564a6-203">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="564a6-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="564a6-204">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="564a6-204">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="564a6-205">Besonders vielen Dank...</span><span class="sxs-lookup"><span data-stu-id="564a6-205">Special Thanks To…</span></span>

<span data-ttu-id="564a6-206">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="564a6-206">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="564a6-207">Der Lead Reviewer für dieses Tutorial war Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="564a6-207">Lead reviewer for this tutorial was Randy Schmidt.</span></span> <span data-ttu-id="564a6-208">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="564a6-208">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="564a6-209">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="564a6-209">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="564a6-210">Weiter</span><span class="sxs-lookup"><span data-stu-id="564a6-210">Next</span></span>](master-detail-filtering-acess-two-pages-datalist-cs.md)
