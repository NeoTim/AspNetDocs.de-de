---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-cs
title: Filtern von Master-/detailfiltern mit DropdownC#List () | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial erfahren Sie, wie die Master Datensätze in einem Dropdown List-Steuerelement und die Details des ausgewählten Listen Elements in einer GridView angezeigt werden.
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 53e659cc-eefb-40c1-a1dc-559481c99443
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-cs
msc.type: authoredcontent
ms.openlocfilehash: 3ec549f9da7a2b3a021e77827f0039e6ae60b5c5
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78424569"
---
# <a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="40282-103">Filtern von Master-/Detailberichten mit einem DropDownList-Steuerelement (C#)</span><span class="sxs-lookup"><span data-stu-id="40282-103">Master/Detail Filtering With a DropDownList (C#)</span></span>

<span data-ttu-id="40282-104">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="40282-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="40282-105">[Beispiel-app herunterladen](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_7_CS.exe) oder [PDF herunterladen](master-detail-filtering-with-a-dropdownlist-cs/_static/datatutorial07cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="40282-105">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_7_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-cs/_static/datatutorial07cs1.pdf)</span></span>

> <span data-ttu-id="40282-106">In diesem Tutorial erfahren Sie, wie die Master Datensätze in einem Dropdown List-Steuerelement und die Details des ausgewählten Listen Elements in einer GridView angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="40282-106">In this tutorial we'll see how to display the master records in a DropDownList control and the details of the selected list item in a GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="40282-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="40282-107">Introduction</span></span>

<span data-ttu-id="40282-108">Ein allgemeiner Berichtstyp ist der *Master/Detail-Bericht*, in dem der Bericht beginnt, indem er einen Satz von "Master"-Datensätzen anzeigt.</span><span class="sxs-lookup"><span data-stu-id="40282-108">A common type of report is the *master/detail report*, in which the report begins by showing some set of "master" records.</span></span> <span data-ttu-id="40282-109">Der Benutzer kann dann einen Drilldown in einen der Master Datensätze ausführen und so die Details des Master Datensatzes anzeigen.</span><span class="sxs-lookup"><span data-stu-id="40282-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="40282-110">Master/Detail-Berichte sind eine ideale Wahl für die Visualisierung von 1: n-Beziehungen, z. b. einen Bericht, der alle Kategorien anzeigt und einem Benutzer dann ermöglicht, eine bestimmte Kategorie auszuwählen und die zugehörigen Produkte anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="40282-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships, such as a report showing all of the categories and then allowing a user to select a particular category and display its associated products.</span></span> <span data-ttu-id="40282-111">Außerdem sind Master/Detail-Berichte nützlich, um ausführliche Informationen von besonders "breiten" Tabellen (mit vielen Spalten) anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="40282-111">Additionally, master/detail reports are useful for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="40282-112">Beispielsweise kann die Master Ebene eines Master/Detail-Berichts nur den Produktnamen und den Einzelpreis der Produkte in der Datenbank anzeigen, und ein Drilldown in ein bestimmtes Produkt würde die zusätzlichen Produktfelder (Kategorie, Lieferant, Menge pro Einheit usw.) anzeigen.</span><span class="sxs-lookup"><span data-stu-id="40282-112">For example, the "master" level of a master/detail report might show just the product name and unit price of the products in the database, and drilling down into a particular product would show the additional product fields (category, supplier, quantity per unit, and so on).</span></span>

<span data-ttu-id="40282-113">Es gibt viele Möglichkeiten, wie ein Master-/Detailbericht implementiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="40282-113">There are many ways with which a master/detail report can be implemented.</span></span> <span data-ttu-id="40282-114">In diesem und den nächsten drei Tutorials betrachten wir eine Reihe von Master-/Detailberichten.</span><span class="sxs-lookup"><span data-stu-id="40282-114">Over this and the next three tutorials we'll look at a variety of master/detail reports.</span></span> <span data-ttu-id="40282-115">In diesem Tutorial erfahren Sie, wie die Master Datensätze in einem [Dropdown List-Steuer](https://msdn.microsoft.com/library/dtx91y0z.aspx) Element und die Details des ausgewählten Listen Elements in einer GridView angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="40282-115">In this tutorial we'll see how to display the master records in a [DropDownList control](https://msdn.microsoft.com/library/dtx91y0z.aspx) and the details of the selected list item in a GridView.</span></span> <span data-ttu-id="40282-116">Insbesondere der Master/Detail-Bericht dieses Lernprogramms listet die Kategorie-und Produktinformationen auf.</span><span class="sxs-lookup"><span data-stu-id="40282-116">In particular, this tutorial's master/detail report will list category and product information.</span></span>

## <a name="step-1-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="40282-117">Schritt 1: Anzeigen der Kategorien in einer Dropdown Liste</span><span class="sxs-lookup"><span data-stu-id="40282-117">Step 1: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="40282-118">Der Master/Detail-Bericht listet die Kategorien in einer Dropdown Liste auf, wobei die Produkte des ausgewählten Listen Elements weiter unten auf der Seite in einer GridView angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="40282-118">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a GridView.</span></span> <span data-ttu-id="40282-119">Die erste Aufgabe vor uns besteht darin, die Kategorien in einer Dropdown Liste anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="40282-119">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="40282-120">Öffnen Sie die Seite `FilterByDropDownList.aspx` im Ordner `Filtering`, ziehen Sie die Dropdown Liste aus der Toolbox in den Designer der Seite, und legen Sie die Eigenschaft `ID` auf `Categories`fest.</span><span class="sxs-lookup"><span data-stu-id="40282-120">Open the `FilterByDropDownList.aspx` page in the `Filtering` folder, drag on a DropDownList from the Toolbox onto the page's designer, and set its `ID` property to `Categories`.</span></span> <span data-ttu-id="40282-121">Klicken Sie anschließend im Smarttags DropDownList auf den Link Datenquelle auswählen.</span><span class="sxs-lookup"><span data-stu-id="40282-121">Next, click on the Choose Data Source link from the DropDownList's smart tag.</span></span> <span data-ttu-id="40282-122">Dadurch wird der Assistent zum Konfigurieren von Datenquellen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="40282-122">This will display the Data Source Configuration wizard.</span></span>

<span data-ttu-id="40282-123">[![die Datenquelle der DropDownList anzugeben.](master-detail-filtering-with-a-dropdownlist-cs/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="40282-123">[![Specify the DropDownList's Data Source](master-detail-filtering-with-a-dropdownlist-cs/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image1.png)</span></span>

<span data-ttu-id="40282-124">**Abbildung 1**: Geben Sie die Datenquelle der DropDownList[an (Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image3.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-124">**Figure 1**: Specify the DropDownList's Data Source ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image3.png))</span></span>

<span data-ttu-id="40282-125">Wählen Sie das Hinzufügen einer neuen ObjectDataSource namens `CategoriesDataSource` aus, die die `GetCategories()`-Methode der `CategoriesBLL` Klasse aufruft.</span><span class="sxs-lookup"><span data-stu-id="40282-125">Choose to add a new ObjectDataSource named `CategoriesDataSource` that invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span>

<span data-ttu-id="40282-126">[![eine neue ObjectDataSource mit dem Namen "categoriesdatasource" hinzufügen](master-detail-filtering-with-a-dropdownlist-cs/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="40282-126">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-cs/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image4.png)</span></span>

<span data-ttu-id="40282-127">**Abbildung 2**: Fügen Sie eine neue ObjectDataSource mit dem Namen `CategoriesDataSource` hinzu ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image6.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-127">**Figure 2**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image6.png))</span></span>

<span data-ttu-id="40282-128">[![wählen Sie die kategoriesbll-Klasse aus.](master-detail-filtering-with-a-dropdownlist-cs/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="40282-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-a-dropdownlist-cs/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image7.png)</span></span>

<span data-ttu-id="40282-129">**Abbildung 3**: Wählen Sie die `CategoriesBLL` Klasse aus ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image9.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-129">**Figure 3**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image9.png))</span></span>

<span data-ttu-id="40282-130">[![konfigurieren Sie ObjectDataSource für die Verwendung der GetCategories ()-Methode.](master-detail-filtering-with-a-dropdownlist-cs/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="40282-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-a-dropdownlist-cs/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image10.png)</span></span>

<span data-ttu-id="40282-131">**Abbildung 4**: Konfigurieren von ObjectDataSource für die Verwendung der `GetCategories()`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="40282-131">**Figure 4**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image12.png))</span></span>

<span data-ttu-id="40282-132">Nach dem Konfigurieren von ObjectDataSource müssen Sie immer noch angeben, welches Datenquellen Feld in DropDownList angezeigt werden soll und welches als Wert für das Listenelement zugeordnet werden soll.</span><span class="sxs-lookup"><span data-stu-id="40282-132">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in DropDownList and which one should be associated as the value for the list item.</span></span> <span data-ttu-id="40282-133">Legen Sie das `CategoryName`-Feld als Anzeige und als Wert für jedes Listenelement `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="40282-133">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>

<span data-ttu-id="40282-134">[![Dropdown List das Feld "CategoryName" anzeigen und "CategoryID" als Wert verwenden.](master-detail-filtering-with-a-dropdownlist-cs/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="40282-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-cs/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image13.png)</span></span>

<span data-ttu-id="40282-135">**Abbildung 5**: Legen Sie in der Dropdown Liste das Feld `CategoryName` angezeigt, und verwenden Sie `CategoryID` als Wert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image15.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-135">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image15.png))</span></span>

<span data-ttu-id="40282-136">An diesem Punkt verfügen wir über ein Dropdown List-Steuerelement, das mit den Datensätzen aus der `Categories` Tabelle gefüllt wird (alle in ungefähr sechs Sekunden).</span><span class="sxs-lookup"><span data-stu-id="40282-136">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="40282-137">In Abbildung 6 wird der Fortschritt angezeigt, der in einem Browser angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="40282-137">Figure 6 shows our progress thus far when viewed through a browser.</span></span>

<span data-ttu-id="40282-138">[![einer Dropdown Liste werden die aktuellen Kategorien aufgelistet.](master-detail-filtering-with-a-dropdownlist-cs/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="40282-138">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-cs/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image16.png)</span></span>

<span data-ttu-id="40282-139">**Abbildung 6**: Eine Dropdown Liste listet die aktuellen Kategorien auf ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="40282-139">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image18.png))</span></span>

## <a name="step-2-adding-the-products-gridview"></a><span data-ttu-id="40282-140">Schritt 2: Hinzufügen der Produkte GridView</span><span class="sxs-lookup"><span data-stu-id="40282-140">Step 2: Adding the Products GridView</span></span>

<span data-ttu-id="40282-141">Im letzten Schritt des Master/Detail-Berichts werden die Produkte aufgelistet, die der ausgewählten Kategorie zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="40282-141">That last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="40282-142">Fügen Sie hierzu der Seite eine GridView hinzu, und erstellen Sie eine neue ObjectDataSource mit dem Namen `productsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="40282-142">To accomplish this, add a GridView to the page and create a new ObjectDataSource named `productsDataSource`.</span></span> <span data-ttu-id="40282-143">Lassen Sie das `productsDataSource` Steuerelement die Daten aus der `GetProductsByCategoryID(categoryID)`-Methode der `ProductsBLL` Klasse.</span><span class="sxs-lookup"><span data-stu-id="40282-143">Have the `productsDataSource` control cull its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span>

<span data-ttu-id="40282-144">[![wählen Sie die getproduczbycategoryid (CategoryID)-Methode aus.](master-detail-filtering-with-a-dropdownlist-cs/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="40282-144">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-cs/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image19.png)</span></span>

<span data-ttu-id="40282-145">**Abbildung 7**: Wählen Sie die `GetProductsByCategoryID(categoryID)` Methode aus ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image21.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-145">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image21.png))</span></span>

<span data-ttu-id="40282-146">Nachdem Sie diese Methode ausgewählt haben, werden Sie vom Assistenten für ObjectDataSource aufgefordert, den Wert für den *`categoryID`* Parameter der Methode einzugeben.</span><span class="sxs-lookup"><span data-stu-id="40282-146">After choosing this method, the ObjectDataSource wizard prompts us for the value for the method's *`categoryID`* parameter.</span></span> <span data-ttu-id="40282-147">Um den Wert des ausgewählten `categories` DropDownList-Elements zu verwenden, legen Sie die Parameter Quelle auf Control und ControlID auf `Categories`fest.</span><span class="sxs-lookup"><span data-stu-id="40282-147">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>

<span data-ttu-id="40282-148">[![den CategoryID-Parameter auf den Wert der Dropdown List-Kategorien festlegen.](master-detail-filtering-with-a-dropdownlist-cs/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="40282-148">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-cs/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image22.png)</span></span>

<span data-ttu-id="40282-149">**Abbildung 8**: Legen Sie den *`categoryID`* -Parameter auf den Wert des `Categories` Dropdown List fest ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image24.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-149">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image24.png))</span></span>

<span data-ttu-id="40282-150">Nehmen Sie sich einen Moment Zeit, um den Fortschritt in einem Browser zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="40282-150">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="40282-151">Wenn Sie die Seite zum ersten Mal aufrufen, gehören diese Produkte zur ausgewählten Kategorie (Getränke), die angezeigt wird (wie in Abbildung 9 dargestellt). durch das Ändern der Dropdown Liste werden die Daten jedoch nicht aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="40282-151">When first visiting the page, those products belong to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="40282-152">Dies liegt daran, dass ein Postback erfolgen muss, damit die GridView aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="40282-152">This is because a postback must occur for the GridView to update.</span></span> <span data-ttu-id="40282-153">Um dies zu erreichen, stehen zwei Optionen zur Verfügung (es ist nicht erforderlich, Code zu schreiben):</span><span class="sxs-lookup"><span data-stu-id="40282-153">To accomplish this we have two options (neither of which requires writing any code):</span></span>

- <span data-ttu-id="40282-154">**Legen Sie die**[Auto-Back-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**der Kategorien DropDownListauf true fest.**</span><span class="sxs-lookup"><span data-stu-id="40282-154">**Set the categories DropDownList's**[AutoPostBack property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**to True.**</span></span> <span data-ttu-id="40282-155">(Sie können dies erreichen, indem Sie die Option "AutoPostBack aktivieren" im Smarttags der Dropdown Liste aktivieren.) Dadurch wird immer dann ein Postback auslöst, wenn das ausgewählte Element von DropDownList vom Benutzer geändert wird.</span><span class="sxs-lookup"><span data-stu-id="40282-155">(You can accomplish this by checking the Enable AutoPostBack option in the DropDownList's smart tag.) This will trigger a postback whenever the DropDownList's selected item is changed by the user.</span></span> <span data-ttu-id="40282-156">Wenn der Benutzer daher eine neue Kategorie aus der Dropdown Liste auswählt, wird ein Postback ausgeführt, und die GridView wird mit den Produkten für die neu ausgewählte Kategorie aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="40282-156">Therefore, when the user selects a new category from the DropDownList a postback will ensue and the GridView will be updated with the products for the newly selected category.</span></span> <span data-ttu-id="40282-157">(Dies ist der Ansatz, den ich in diesem Tutorial verwendet habe.)</span><span class="sxs-lookup"><span data-stu-id="40282-157">(This is the approach I've used in this tutorial.)</span></span>
- <span data-ttu-id="40282-158">**Fügen Sie ein Schaltflächen-websteuer Element neben der Dropdown list hinzu.**</span><span class="sxs-lookup"><span data-stu-id="40282-158">**Add a Button Web control next to the DropDownList.**</span></span> <span data-ttu-id="40282-159">Legen Sie die `Text`-Eigenschaft auf Aktualisieren oder ähnliches fest.</span><span class="sxs-lookup"><span data-stu-id="40282-159">Set its `Text` property to Refresh or something similar.</span></span> <span data-ttu-id="40282-160">Bei diesem Ansatz muss der Benutzer eine neue Kategorie auswählen und dann auf die Schaltfläche klicken.</span><span class="sxs-lookup"><span data-stu-id="40282-160">With this approach, the user will need to select a new category and then click the Button.</span></span> <span data-ttu-id="40282-161">Wenn Sie auf die Schaltfläche klicken, wird ein Postback ausgelöst, und die GridView wird aktualisiert, um die Produkte der ausgewählten Kategorie aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="40282-161">Clicking the Button will cause a postback and update the GridView to list those products of the selected category.</span></span>

<span data-ttu-id="40282-162">Die Abbildungen 9 und 10 veranschaulichen den Master-/Detailbericht in Aktion.</span><span class="sxs-lookup"><span data-stu-id="40282-162">Figures 9 and 10 illustrate the master/detail report in action.</span></span>

<span data-ttu-id="40282-163">[beim ersten Besuch der Seite werden die Getränkeprodukte angezeigt. ![](master-detail-filtering-with-a-dropdownlist-cs/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="40282-163">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-cs/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image25.png)</span></span>

<span data-ttu-id="40282-164">**Abbildung 9**: Beim ersten Besuch der Seite werden die Getränkeprodukte angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image27.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-164">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image27.png))</span></span>

<span data-ttu-id="40282-165">[![auswählen eines neuen Produkts (erzeugt) automatisch ein Postback, Aktualisieren der GridView](master-detail-filtering-with-a-dropdownlist-cs/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="40282-165">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView](master-detail-filtering-with-a-dropdownlist-cs/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image28.png)</span></span>

<span data-ttu-id="40282-166">**Abbildung 10**: Wenn Sie ein neues Produkt (erzeugt) auswählen, wird automatisch ein Postback ausgelöst, das GridView-Bild wird aktualisiert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="40282-166">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image30.png))</span></span>

## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="40282-167">Hinzufügen eines "--Choose a category--" Listen Elements</span><span class="sxs-lookup"><span data-stu-id="40282-167">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="40282-168">Beim ersten Besuch der Seite "`FilterByDropDownList.aspx`" ist das erste Listenelement (Getränke) der Kategorien DropDownList standardmäßig ausgewählt, und die Getränkeprodukte werden in der GridView angezeigt.</span><span class="sxs-lookup"><span data-stu-id="40282-168">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the GridView.</span></span> <span data-ttu-id="40282-169">Anstatt die Produkte der ersten Kategorie anzuzeigen, empfiehlt es sich, stattdessen ein DropDownList-Element auszuwählen, das etwa wie folgt aussieht: "--wählen Sie eine Kategorie--".</span><span class="sxs-lookup"><span data-stu-id="40282-169">Rather than showing the first category's products, we may want to instead have a DropDownList item selected that says something like, "-- Choose a Category --".</span></span>

<span data-ttu-id="40282-170">Um der Dropdown Liste ein neues Listenelement hinzuzufügen, klicken Sie auf die Eigenschaftenfenster, und klicken Sie dann auf die Auslassungs Punkte in der `Items`-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="40282-170">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="40282-171">Fügen Sie ein neues Listenelement mit dem `Text` "--wählen Sie eine Kategorie--" und die `Value` `-1`hinzu.</span><span class="sxs-lookup"><span data-stu-id="40282-171">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `-1`.</span></span>

<span data-ttu-id="40282-172">[![hinzufügen: Wählen Sie eine Kategorie aus, und wählen Sie ein Listenelement aus.](master-detail-filtering-with-a-dropdownlist-cs/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="40282-172">[![Add a -- Choose a Category -- List Item](master-detail-filtering-with-a-dropdownlist-cs/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image31.png)</span></span>

<span data-ttu-id="40282-173">**Abbildung 11**: Hinzufügen: Wählen Sie eine Kategorie aus ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image33.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-173">**Figure 11**: Add a -- Choose a Category -- List Item ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image33.png))</span></span>

<span data-ttu-id="40282-174">Alternativ können Sie das Listenelement hinzufügen, indem Sie der Dropdown Liste das folgende Markup hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="40282-174">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-cs/samples/sample1.aspx)]

<span data-ttu-id="40282-175">Außerdem müssen wir die `AppendDataBoundItems` des DropDownList-Steuer Elements auf "true" festlegen, da wenn die Kategorien an die Dropdown List von der ObjectDataSource gebunden werden, werden alle manuell hinzugefügten Listenelemente überschrieben, wenn `AppendDataBoundItems` nicht "true" ist.</span><span class="sxs-lookup"><span data-stu-id="40282-175">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to True because when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items if `AppendDataBoundItems` isn't True.</span></span>

![Legen Sie die AppendDataBoundItems-Eigenschaft auf "true" fest.](master-detail-filtering-with-a-dropdownlist-cs/_static/image34.png)

<span data-ttu-id="40282-177">**Abbildung 12**: Legen Sie die `AppendDataBoundItems`-Eigenschaft auf true fest.</span><span class="sxs-lookup"><span data-stu-id="40282-177">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>

<span data-ttu-id="40282-178">Nachdem diese Änderungen vorgenommen wurden, wird beim ersten Besuch der Seite die Option "--wählen Sie eine Kategorie aus" ausgewählt, und es werden keine Produkte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="40282-178">After these changes, when first visiting the page the "-- Choose a Category --" option is selected and no products are displayed.</span></span>

<span data-ttu-id="40282-179">[![auf dem ersten Seiten Ladevorgang werden keine Produkte angezeigt.](master-detail-filtering-with-a-dropdownlist-cs/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="40282-179">[![On the Initial Page Load No Products are Displayed](master-detail-filtering-with-a-dropdownlist-cs/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image35.png)</span></span>

<span data-ttu-id="40282-180">**Abbildung 13**: Auf dem ersten Seiten Ladevorgang werden keine Produkte angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image37.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-180">**Figure 13**: On the Initial Page Load No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image37.png))</span></span>

<span data-ttu-id="40282-181">Der Grund dafür, dass keine Produkte angezeigt werden, wenn das Listenelement "--wählen Sie eine Kategorie" ausgewählt ist, ist der Wert `-1`, und es sind keine Produkte in der Datenbank mit einer `CategoryID` von `-1`vorhanden.</span><span class="sxs-lookup"><span data-stu-id="40282-181">The reason no products are displayed when because the "-- Choose a Category --" list item is selected is because its value is `-1` and there are no products in the database with a `CategoryID` of `-1`.</span></span> <span data-ttu-id="40282-182">Wenn dies das gewünschte Verhalten ist, sind Sie an dieser Stelle fertig!</span><span class="sxs-lookup"><span data-stu-id="40282-182">If this is the behavior you want then you're done at this point!</span></span> <span data-ttu-id="40282-183">Wenn Sie jedoch *alle* Kategorien anzeigen möchten, wenn das Listenelement "--Kategorie auswählen" ausgewählt ist, kehren Sie zur `ProductsBLL`-Klasse zurück, und passen Sie die `GetProductsByCategoryID(categoryID)`-Methode so an, dass Sie die `GetProducts()`-Methode aufruft, wenn der übergebenen *`categoryID`* -Parameter kleiner als 0 (null) ist:</span><span class="sxs-lookup"><span data-stu-id="40282-183">If, however, you want to display *all* of the categories when the "-- Choose a Category --" list item is selected, return to the `ProductsBLL` class and customize the `GetProductsByCategoryID(categoryID)` method so that it invokes the `GetProducts()` method if the passed in *`categoryID`* parameter is less than zero:</span></span>

[!code-csharp[Main](master-detail-filtering-with-a-dropdownlist-cs/samples/sample2.cs)]

<span data-ttu-id="40282-184">Das hier verwendete Verfahren ähnelt dem Ansatz, mit dem wir alle Zulieferer im [deklarativen](../basic-reporting/declarative-parameters-cs.md) parametertutorial angezeigt haben. in diesem Beispiel verwenden wir jedoch den Wert `-1`, um anzugeben, dass im Gegensatz zu `null`alle Datensätze abgerufen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="40282-184">The technique used here is similar to the approach we used to display all suppliers back in the [Declarative Parameters](../basic-reporting/declarative-parameters-cs.md) tutorial, although for this example we're using a value of `-1` to indicate that all records should be retrieved as opposed to `null`.</span></span> <span data-ttu-id="40282-185">Dies liegt daran, dass der *`categoryID`* -Parameter der `GetProductsByCategoryID(categoryID)`-Methode als ganzzahliger Wert erwartet, während wir im Tutorial für deklarative Parameter einen Zeichen folgen-Eingabeparameter übergeben haben.</span><span class="sxs-lookup"><span data-stu-id="40282-185">This is because the *`categoryID`* parameter of the `GetProductsByCategoryID(categoryID)` method expects as integer value passed in, whereas in the Declarative Parameters tutorial we were passing in a string input parameter.</span></span>

<span data-ttu-id="40282-186">In Abbildung 14 wird ein Screenshot der `FilterByDropDownList.aspx` angezeigt, wenn die Option "--wählen Sie eine Kategorie" ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="40282-186">Figure 14 shows a screen shot of `FilterByDropDownList.aspx` when the "-- Choose a Category --" option is selected.</span></span> <span data-ttu-id="40282-187">Hier werden alle Produkte standardmäßig angezeigt, und der Benutzer kann die Anzeige eingrenzen, indem er eine bestimmte Kategorie auswählt.</span><span class="sxs-lookup"><span data-stu-id="40282-187">Here, all of the products are displayed by default, and the user can narrow the display by choosing a specific category.</span></span>

<span data-ttu-id="40282-188">[![alle Produkte sind jetzt standardmäßig aufgeführt.](master-detail-filtering-with-a-dropdownlist-cs/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="40282-188">[![All of the Products are Now Listed By Default](master-detail-filtering-with-a-dropdownlist-cs/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image38.png)</span></span>

<span data-ttu-id="40282-189">**Abbildung 14**: Alle Produkte sind jetzt standardmäßig aufgelistet ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image40.png)).</span><span class="sxs-lookup"><span data-stu-id="40282-189">**Figure 14**: All of the Products are Now Listed By Default ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image40.png))</span></span>

## <a name="summary"></a><span data-ttu-id="40282-190">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="40282-190">Summary</span></span>

<span data-ttu-id="40282-191">Wenn hierarchisch verwandte Daten angezeigt werden, ist es häufig hilfreich, die Daten mithilfe von Master-/Detailberichten darzustellen, von denen der Benutzer mit der Verwendung der Daten vom oberen Rand der Hierarchie beginnen und Details anzeigen kann.</span><span class="sxs-lookup"><span data-stu-id="40282-191">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="40282-192">In diesem Tutorial wurde das Entwickeln eines einfachen Master/Detail-Berichts untersucht, der die Produkte einer ausgewählten Kategorie anzeigt.</span><span class="sxs-lookup"><span data-stu-id="40282-192">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="40282-193">Dies wurde erreicht, indem eine Dropdown Liste für die Liste der Kategorien und eine GridView für die Produkte verwendet wurde, die zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="40282-193">This was accomplished by using a DropDownList for the list of categories and a GridView for the products belonging to the selected category.</span></span>

<span data-ttu-id="40282-194">Im [nächsten Tutorial](master-detail-filtering-with-two-dropdownlists-cs.md) übernehmen wir die DropDownList-Schnittstelle mit zwei Dropdown Listen.</span><span class="sxs-lookup"><span data-stu-id="40282-194">In the [next tutorial](master-detail-filtering-with-two-dropdownlists-cs.md) we'll take the DropDownList interface one step further, using two DropDownLists.</span></span>

<span data-ttu-id="40282-195">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="40282-195">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="40282-196">Zum Autor</span><span class="sxs-lookup"><span data-stu-id="40282-196">About the Author</span></span>

<span data-ttu-id="40282-197">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="40282-197">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="40282-198">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="40282-198">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="40282-199">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="40282-199">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="40282-200">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="40282-200">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="40282-201">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="40282-201">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="40282-202">Nächste</span><span class="sxs-lookup"><span data-stu-id="40282-202">Next</span></span>](master-detail-filtering-with-two-dropdownlists-cs.md)
