---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
title: Master/Detail-Filtern mit zwei DropDownList-Steuerelementen (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial wird die Master/Detail-Beziehung zum Hinzufügen einer dritten Ebene, mit zwei DropDownList-Steuerelementen zum Auswählen der gewünschten übergeordneten und der zweiten übergeordneten Ebene s erweitert...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: ac4b0d77-4816-4ded-afd0-88dab667aedd
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
msc.type: authoredcontent
ms.openlocfilehash: 03d0cd7e835b5526af60a21679260f849714c37e
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59421289"
---
# <a name="masterdetail-filtering-with-two-dropdownlists-c"></a><span data-ttu-id="60909-103">Filtern von Master-/Detailberichten mit zwei DropDownList-Steuerelementen (C#)</span><span class="sxs-lookup"><span data-stu-id="60909-103">Master/Detail Filtering With Two DropDownLists (C#)</span></span>

<span data-ttu-id="60909-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="60909-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="60909-105">[Beispiel-App herunter](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) oder [PDF-Datei herunterladen](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="60909-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) or [Download PDF](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span></span>

> <span data-ttu-id="60909-106">In diesem Tutorial wird die Master/Detail-Beziehung zum Hinzufügen einer dritten Ebene, mit zwei DropDownList-Steuerelementen, wählen Sie die gewünschten Datensätze von übergeordneten und der zweiten übergeordneten Ebene erweitert.</span><span class="sxs-lookup"><span data-stu-id="60909-106">This tutorial expands the master/detail relationship to add a third layer, using two DropDownList controls to select the desired parent and grandparent records.</span></span>


## <a name="introduction"></a><span data-ttu-id="60909-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="60909-107">Introduction</span></span>

<span data-ttu-id="60909-108">In der [vorherigen Tutorial](master-detail-filtering-with-a-dropdownlist-cs.md) untersuchten wir die Vorgehensweise beim Anzeigen eines einfachen Master/Detail-Berichts mit einem einzelnen DropDownList-Steuerelement mit den Kategorien und einer GridView-Ansicht mit Produkten, die der ausgewählten Kategorie gehören aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="60909-108">In the [previous tutorial](master-detail-filtering-with-a-dropdownlist-cs.md) we examined how to display a simple master/details report using a single DropDownList populated with the categories and a GridView showing those products that belong to the selected category.</span></span> <span data-ttu-id="60909-109">Dieser Bericht-Muster funktioniert gut, wenn Datensätze anzeigen, die eine 1: n Beziehung aufweisen und kann problemlos erweitert werden, um die Szenarien zu arbeiten, die mehrere 1: n Beziehungen enthalten.</span><span class="sxs-lookup"><span data-stu-id="60909-109">This report pattern works well when displaying records that have a one-to-many relationship and can easily be extended to work for scenarios that include multiple one-to-many relationships.</span></span> <span data-ttu-id="60909-110">Beispielsweise müsste ein Auftragserfassungssystem Tabellen, die Kunden, Bestellungen und Bestellpositionen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="60909-110">For example, an order entry system would have tables that correspond to customers, orders, and order line items.</span></span> <span data-ttu-id="60909-111">Ein bestimmten Kunden möglicherweise mehrere Aufträge mit jeder Bestellung, die aus mehreren Objekten besteht.</span><span class="sxs-lookup"><span data-stu-id="60909-111">A given customer may have multiple orders with each order consisting of multiple items.</span></span> <span data-ttu-id="60909-112">Diese Daten können für den Benutzer mit zwei DropDownList-Steuerelementen und einer GridView-Ansicht angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="60909-112">Such data can be presented to the user with two DropDownLists and a GridView.</span></span> <span data-ttu-id="60909-113">Der ersten Dropdownliste müsste ein Listenelement für jeden Kunden in der Datenbank mit dem zweiten der Inhalt wird vom ausgewählten Kunden aufgegebene Bestellungen.</span><span class="sxs-lookup"><span data-stu-id="60909-113">The first DropDownList would have a list item for each customer in the database with the second one's contents being the orders placed by the selected customer.</span></span> <span data-ttu-id="60909-114">Einer GridView-Ansicht die Positionen von der ausgewählten Reihenfolge aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="60909-114">A GridView would list the line items from the selected order.</span></span>

<span data-ttu-id="60909-115">Während die Northwind-Datenbank enthalten, die kanonische Customer/Order/Order Detailinformationen in der `Customers`, `Orders`, und `Order Details` Tabellen diese Tabellen werden nicht in unserer Architektur erfasst.</span><span class="sxs-lookup"><span data-stu-id="60909-115">While the Northwind database include the canonical customer/order/order details information in its `Customers`, `Orders`, and `Order Details` tables, these tables aren't captured in our architecture.</span></span> <span data-ttu-id="60909-116">Dennoch können wir noch veranschaulicht die Verwendung von zwei abhängige DropDownList-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="60909-116">Nonetheless, we can still illustrate using two dependent DropDownLists.</span></span> <span data-ttu-id="60909-117">Der ersten Dropdownliste werden die Kategorien und die zweite die Produkte der ausgewählten Kategorie aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="60909-117">The first DropDownList will list the categories and the second the products belonging to the selected category.</span></span> <span data-ttu-id="60909-118">Eine DetailsView werden dann die Details des ausgewählten Produkts aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="60909-118">A DetailsView will then list the details of the selected product.</span></span>

## <a name="step-1-creating-and-populating-the-categories-dropdownlist"></a><span data-ttu-id="60909-119">Schritt 1: Erstellen und Auffüllen der Dropdownliste für die Kategorien</span><span class="sxs-lookup"><span data-stu-id="60909-119">Step 1: Creating and Populating the Categories DropDownList</span></span>

<span data-ttu-id="60909-120">Unser erstes Ziel ist die DropDownList hinzufügen, die die Kategorien aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="60909-120">Our first goal is to add the DropDownList that lists the categories.</span></span> <span data-ttu-id="60909-121">Diese Schritte wurden im vorherigen Tutorial ausführlich untersucht, aber Sie werden aus Gründen der Vollständigkeit hier zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="60909-121">These steps were examined in detail in the preceding tutorial, but are summarized here for completeness.</span></span>

<span data-ttu-id="60909-122">Öffnen der `MasterDetailsDetails.aspx` auf der Seite die `Filtering` Ordner hinzufügen, einem DropDownList-Steuerelement auf der Seite legen Sie seine `ID` Eigenschaft `Categories`, und klicken Sie dann auf die Datenquelle konfigurieren-Link in der Smarttag.</span><span class="sxs-lookup"><span data-stu-id="60909-122">Open the `MasterDetailsDetails.aspx` page in the `Filtering` folder, add a DropDownList to the page, set its `ID` property to `Categories`, and then click the Configure Data Source link in its smart tag.</span></span> <span data-ttu-id="60909-123">Wählen Sie aus dem Konfigurations-Assistenten eine neue Datenquelle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="60909-123">From the Data Source Configuration Wizard choose to add a new data source.</span></span>


<span data-ttu-id="60909-124">[![Fügen Sie eine neue Datenquelle für das DropDownList hinzu.](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="60909-124">[![Add a New Data Source for the DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span></span>

<span data-ttu-id="60909-125">**Abbildung 1**: Fügen Sie eine neue Datenquelle für das DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="60909-125">**Figure 1**: Add a New Data Source for the DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span></span>


<span data-ttu-id="60909-126">Die neue Datenquelle sollten natürlich einer ObjectDataSource gegeben werden.</span><span class="sxs-lookup"><span data-stu-id="60909-126">The new data source should, naturally, be an ObjectDataSource.</span></span> <span data-ttu-id="60909-127">Nennen Sie diese neue "ObjectDataSource" `CategoriesDataSource` und rufen Sie die `CategoriesBLL` des Objekts `GetCategories()` Methode.</span><span class="sxs-lookup"><span data-stu-id="60909-127">Name this new ObjectDataSource `CategoriesDataSource` and have it invoke the `CategoriesBLL` object's `GetCategories()` method.</span></span>


<span data-ttu-id="60909-128">[![Wählen Sie die Klasse CategoriesBLL verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="60909-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span></span>

<span data-ttu-id="60909-129">**Abbildung 2**: Wählen Sie zum Verwenden der `CategoriesBLL` Klasse ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="60909-129">**Figure 2**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span></span>


<span data-ttu-id="60909-130">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der GetCategories()-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="60909-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span></span>

<span data-ttu-id="60909-131">**Abbildung 3**: Konfigurieren Sie das "ObjectDataSource" Verwenden der `GetCategories()` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="60909-131">**Figure 3**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span></span>


<span data-ttu-id="60909-132">Nach dem Konfigurieren der "ObjectDataSource" müssen noch angeben, welches Feld der Datenquelle angezeigt werden soll, in der `Categories` DropDownList und welche als Wert für das Listenelement konfiguriert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="60909-132">After configuring the ObjectDataSource we still need to specify which data source field should be displayed in the `Categories` DropDownList and which one should be configured as the value for the list item.</span></span> <span data-ttu-id="60909-133">Legen Sie die `CategoryName` -Feld als die Anzeige und `CategoryID` als Wert für jedes Listenelement.</span><span class="sxs-lookup"><span data-stu-id="60909-133">Set the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="60909-134">[![Haben Sie die DropDownList-Anzeige "CategoryName" Feld aus, und verwenden CategoryID als Wert](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="60909-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span></span>

<span data-ttu-id="60909-135">**Abbildung 4**: Haben Sie die DropDownList-Anzeige der `CategoryName` Feld und die Verwendung `CategoryID` als Wert ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="60909-135">**Figure 4**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span></span>


<span data-ttu-id="60909-136">An diesem Punkt haben wir ein DropDownList-Steuerelement (`Categories`), wird aufgefüllt, die Datensätze aus der `Categories` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="60909-136">At this point we have a DropDownList control (`Categories`) that's populated with the records from the `Categories` table.</span></span> <span data-ttu-id="60909-137">Wenn der Benutzer eine neue Kategorie aus der Dropdownliste auswählt, sollten wir einen Postback ausgelöst wird, um das Produkt DropDownList zu aktualisieren, die wir jetzt erstellen Sie in Schritt2.</span><span class="sxs-lookup"><span data-stu-id="60909-137">When the user chooses a new category from the DropDownList we'll want a postback to occur in order to refresh the product DropDownList that we're going to create in Step 2.</span></span> <span data-ttu-id="60909-138">Aus diesem Grund überprüfen Sie die Option "AutoPostBack aktivieren" die `categories` DropDownLists-Smarttag.</span><span class="sxs-lookup"><span data-stu-id="60909-138">Therefore, check the Enable AutoPostBack option from the `categories` DropDownList's smart tag.</span></span>


<span data-ttu-id="60909-139">[![Povolit vlastnost AutoPostBack für Kategorien DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="60909-139">[![Enable AutoPostBack for the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span></span>

<span data-ttu-id="60909-140">**Abbildung 5**: Povolit vlastnost AutoPostBack für die `Categories` DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="60909-140">**Figure 5**: Enable AutoPostBack for the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span></span>


## <a name="step-2-displaying-the-selected-categorys-products-in-a-second-dropdownlist"></a><span data-ttu-id="60909-141">Schritt 2: Anzeigen von Produkte der ausgewählten Kategorie in einem zweiten DropDownList-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="60909-141">Step 2: Displaying the Selected Category's Products in a Second DropDownList</span></span>

<span data-ttu-id="60909-142">Mit der `Categories` DropDownList abgeschlossen wird im nächsten Schritt eine DropDownList von Produkten, die in der ausgewählten Kategorie angezeigt.</span><span class="sxs-lookup"><span data-stu-id="60909-142">With the `Categories` DropDownList completed, our next step is to display a DropDownList of products belonging to the selected category.</span></span> <span data-ttu-id="60909-143">Um dies zu erreichen, fügen Sie einen anderen DropDownList auf der Seite mit dem Namen `ProductsByCategory`.</span><span class="sxs-lookup"><span data-stu-id="60909-143">To accomplish this, add another DropDownList to the page named `ProductsByCategory`.</span></span> <span data-ttu-id="60909-144">Wie bei der `Categories` DropDownList, erstellen Sie eine neue "ObjectDataSource" für die `ProductsByCategory` DropDownList, die mit dem Namen `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="60909-144">As with the `Categories` DropDownList, create a new ObjectDataSource for the `ProductsByCategory` DropDownList named `ProductsByCategoryDataSource`.</span></span>


<span data-ttu-id="60909-145">[![Fügen Sie eine neue Datenquelle für die ProductsByCategory DropDownList hinzu.](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="60909-145">[![Add a New Data Source for the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span></span>

<span data-ttu-id="60909-146">**Abbildung 6**: Hinzufügen einer neuen Datenquelle für die `ProductsByCategory` DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="60909-146">**Figure 6**: Add a New Data Source for the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span></span>


<span data-ttu-id="60909-147">[![Erstellen Sie eine neue, mit dem Namen ProductsByCategoryDataSource "ObjectDataSource"](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="60909-147">[![Create a New ObjectDataSource Named ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span></span>

<span data-ttu-id="60909-148">**Abbildung 7**: Erstellen Sie eine neue "ObjectDataSource" mit dem Namen `ProductsByCategoryDataSource` ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="60909-148">**Figure 7**: Create a New ObjectDataSource Named `ProductsByCategoryDataSource` ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span></span>


<span data-ttu-id="60909-149">Da die `ProductsByCategory` DropDownList-Anforderungen nur die Produkte der ausgewählten Kategorie angezeigt haben, dem ObjectDataSource-Steuerelement Aufrufen der `GetProductsByCategoryID(categoryID)` Methode aus der `ProductsBLL` Objekt.</span><span class="sxs-lookup"><span data-stu-id="60909-149">Since the `ProductsByCategory` DropDownList needs to display just those products belonging to the selected category, have the ObjectDataSource invoke the `GetProductsByCategoryID(categoryID)` method from the `ProductsBLL` object.</span></span>


<span data-ttu-id="60909-150">[![Wählen Sie die Klasse ProductsBLL verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="60909-150">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span></span>

<span data-ttu-id="60909-151">**Abbildung 8**: Wählen Sie zum Verwenden der `ProductsBLL` Klasse ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="60909-151">**Figure 8**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span></span>


<span data-ttu-id="60909-152">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der GetProductsByCategoryID(categoryID)-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="60909-152">[![Configure the ObjectDataSource to Use the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span></span>

<span data-ttu-id="60909-153">**Abbildung 9**: Konfigurieren Sie das "ObjectDataSource" Verwenden der `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="60909-153">**Figure 9**: Configure the ObjectDataSource to Use the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span></span>


<span data-ttu-id="60909-154">Im letzten Schritt des Assistenten geben Sie den Wert der ich die *`categoryID`* Parameter.</span><span class="sxs-lookup"><span data-stu-id="60909-154">In the final step of the wizard we need to specify the value of the *`categoryID`* parameter.</span></span> <span data-ttu-id="60909-155">Weisen Sie diesen Parameter für das ausgewählte Element aus der `Categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="60909-155">Assign this parameter to the selected item from the `Categories` DropDownList.</span></span>


<span data-ttu-id="60909-156">[![Rufen Sie die CategoryID Parameterwert aus dem Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="60909-156">[![Pull the categoryID Parameter Value from the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span></span>

<span data-ttu-id="60909-157">**Abbildung 10**: Abrufen der *`categoryID`* Parameterwert aus der `Categories` DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="60909-157">**Figure 10**: Pull the *`categoryID`* Parameter Value from the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span></span>


<span data-ttu-id="60909-158">Mit dem ObjectDataSource-Steuerelement konfiguriert übrig bleibt angeben, welche Datenfelder für die Quelle für die Anzeige und der Wert für DropDownLists-Elemente verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="60909-158">With the ObjectDataSource configured, all that remains is to specify what data source fields are used for the display and value of the DropDownList's items.</span></span> <span data-ttu-id="60909-159">Anzeigen der `ProductName` ein, und verwenden Sie die `ProductID` Feld als Wert.</span><span class="sxs-lookup"><span data-stu-id="60909-159">Display the `ProductName` field and use the `ProductID` field as the value.</span></span>


<span data-ttu-id="60909-160">[![Geben Sie die Datenfelder für Text und Werteigenschaften der DropDownList ListItems verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="60909-160">[![Specify the Data Source Fields Used for the DropDownList's ListItems' Text and Value Properties](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span></span>

<span data-ttu-id="60909-161">**Abbildung 11**: Angeben der Data Source Felder verwendet, für die DropDownList `ListItem` s' `Text` und `Value` Eigenschaften ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="60909-161">**Figure 11**: Specify the Data Source Fields Used for the DropDownList's `ListItem` s' `Text` and `Value` Properties ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span></span>


<span data-ttu-id="60909-162">Mit dem ObjectDataSource-Steuerelement und `ProductsByCategory` DropDownList konfiguriert unserer Seite zeigt zwei DropDownList-Steuerelementen: die erste Listet alle Kategorien, während die zweite dieser Produkte, die der ausgewählten Kategorie gehören aufgelistet werden.</span><span class="sxs-lookup"><span data-stu-id="60909-162">With the ObjectDataSource and `ProductsByCategory` DropDownList configured our page will display two DropDownLists: the first will list all of the categories while the second will list those products belonging to the selected category.</span></span> <span data-ttu-id="60909-163">Wenn der Benutzer eine neue Kategorie aus der ersten Dropdownliste auswählt, wird ein Postback zur Folge haben, und der zweiten Dropdownliste wird werden erneut gebunden, die Produkte, die die neu ausgewählte Kategorie angehören.</span><span class="sxs-lookup"><span data-stu-id="60909-163">When the user selects a new category from the first DropDownList, a postback will ensue and the second DropDownList will be rebound, showing those products that belong to the newly selected category.</span></span> <span data-ttu-id="60909-164">Abbildung 12 und 13 zeigt `MasterDetailsDetails.aspx` in Aktion, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="60909-164">Figures 12 and 13 show `MasterDetailsDetails.aspx` in action when viewed through a browser.</span></span>


<span data-ttu-id="60909-165">[![Wenn die Seite zuerst besuchen zu können, ist die Kategorie "Getränke" ausgewählt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="60909-165">[![When First Visiting the Page, the Beverages Category is Selected](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span></span>

<span data-ttu-id="60909-166">**Abbildung 12**: Wenn die Seite zuerst besuchen zu können, der die Kategorie "Getränke" ausgewählt ist ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="60909-166">**Figure 12**: When First Visiting the Page, the Beverages Category is Selected ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span></span>


<span data-ttu-id="60909-167">[![Eine andere Kategorie auswählen, zeigt die neue Kategorie-Produkte](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="60909-167">[![Choosing a Different Category Displays the New Category's Products](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span></span>

<span data-ttu-id="60909-168">**Abbildung 13**: Auswählen einer anderen Kategorie zeigt die neue Kategorie Produkte ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="60909-168">**Figure 13**: Choosing a Different Category Displays the New Category's Products ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span></span>


<span data-ttu-id="60909-169">Derzeit den `productsByCategory` DropDownList, bei deren Änderung ist *nicht* Postback verursacht.</span><span class="sxs-lookup"><span data-stu-id="60909-169">Currently the `productsByCategory` DropDownList, when changed, does *not* cause a postback.</span></span> <span data-ttu-id="60909-170">Allerdings möchten wir ein Postback ausgelöst, sobald wir eine DetailsView zum Anzeigen von Details für das ausgewählte Produkt (Schritt 3) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="60909-170">However, we will want a postback to occur once we add a DetailsView to display the selected product's details (Step 3).</span></span> <span data-ttu-id="60909-171">Überprüfen Sie daher das Kontrollkästchen "AutoPostBack aktivieren" aus der `productsByCategory` DropDownLists-Smarttag.</span><span class="sxs-lookup"><span data-stu-id="60909-171">Therefore, check the Enable AutoPostBack checkbox from the `productsByCategory` DropDownList's smart tag.</span></span>


<span data-ttu-id="60909-172">[![Die AutoPostBack-Funktion für die ProductsByCategory DropDownList aktivieren](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="60909-172">[![Enable the AutoPostBack Feature for the productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span></span>

<span data-ttu-id="60909-173">**Abbildung 14**: Aktivieren Sie das AutoPostBack-Funktion für die `productsByCategory` DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="60909-173">**Figure 14**: Enable the AutoPostBack Feature for the `productsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span></span>


## <a name="step-3-using-a-detailsview-to-display-details-for-the-selected-product"></a><span data-ttu-id="60909-174">Schritt 3: Verwenden eine DetailsView zum Anzeigen von Details für das ausgewählte Produkt</span><span class="sxs-lookup"><span data-stu-id="60909-174">Step 3: Using a DetailsView to Display Details for the Selected Product</span></span>

<span data-ttu-id="60909-175">Der letzte Schritt ist, um die Details für das ausgewählte Produkt in einem DetailsView anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="60909-175">The final step is to display the details for the selected product in a DetailsView.</span></span> <span data-ttu-id="60909-176">Legen Sie dazu, die Seite ein DetailsView hinzugefügt, die `ID` Eigenschaft `ProductDetails`, und das Erstellen einer neuen "ObjectDataSource" für.</span><span class="sxs-lookup"><span data-stu-id="60909-176">To accomplish this, add a DetailsView to the page, set its `ID` property to `ProductDetails`, and create a new ObjectDataSource for it.</span></span> <span data-ttu-id="60909-177">Konfigurieren Sie diese "ObjectDataSource", um die Daten aus der pull die `ProductsBLL` -Klasse `GetProductByProductID(productID)` Methode, die mithilfe des ausgewählten Werts für die `ProductsByCategory` DropDownList für den Wert des der *`productID`* Parameter.</span><span class="sxs-lookup"><span data-stu-id="60909-177">Configure this ObjectDataSource to pull its data from the `ProductsBLL` class's `GetProductByProductID(productID)` method using the selected value of the `ProductsByCategory` DropDownList for the value of the *`productID`* parameter.</span></span>


<span data-ttu-id="60909-178">[![Wählen Sie die Klasse ProductsBLL verwendet](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="60909-178">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span></span>

<span data-ttu-id="60909-179">**Abbildung 15**: Wählen Sie zum Verwenden der `ProductsBLL` Klasse ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="60909-179">**Figure 15**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span></span>


<span data-ttu-id="60909-180">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der GetProductByProductID(productID)-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="60909-180">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span></span>

<span data-ttu-id="60909-181">**Abbildung 16**: Konfigurieren Sie das "ObjectDataSource" Verwenden der `GetProductByProductID(productID)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="60909-181">**Figure 16**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span></span>


<span data-ttu-id="60909-182">[![Rufen Sie die ProductID-Parameterwert aus ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="60909-182">[![Pull the productID Parameter Value from the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span></span>

<span data-ttu-id="60909-183">**Abbildung 17**: Abrufen der *`productID`* Parameterwert aus der `ProductsByCategory` DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="60909-183">**Figure 17**: Pull the *`productID`* Parameter Value from the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span></span>


<span data-ttu-id="60909-184">Sie können auswählen, um die verfügbaren Felder im DetailsView anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="60909-184">You can choose to display any of the available fields in the DetailsView.</span></span> <span data-ttu-id="60909-185">Ich habe mich entschieden habe, zum Entfernen der `ProductID`, `SupplierID`, und `CategoryID` Felder neu angeordnet und formatiert die verbleibenden Felder.</span><span class="sxs-lookup"><span data-stu-id="60909-185">I've opted to remove the `ProductID`, `SupplierID`, and `CategoryID` fields and reordered and formatted the remaining fields.</span></span> <span data-ttu-id="60909-186">Darüber hinaus, dass ich DetailsViews geklärt `Height` und `Width` Eigenschaften, sodass der DetailsView, um auf die Breite erforderlich, um die optimale Anzeige zu erweitern, die Daten, anstatt es auf einer angegebenen Größe beschränkt.</span><span class="sxs-lookup"><span data-stu-id="60909-186">In addition, I cleared out the DetailsView's `Height` and `Width` properties, allowing the DetailsView to expand to the width needed to best display its data rather than having it constrained to a specified size.</span></span> <span data-ttu-id="60909-187">Das vollständige Markup wird unten angezeigt:</span><span class="sxs-lookup"><span data-stu-id="60909-187">The full markup appears below:</span></span>


[!code-aspx[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample1.aspx)]

<span data-ttu-id="60909-188">Testen Sie in Ruhe die `MasterDetailsDetails.aspx` Seite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="60909-188">Take a moment to try out the `MasterDetailsDetails.aspx` page in a browser.</span></span> <span data-ttu-id="60909-189">Auf den ersten Blick scheint es, dass alles wie gewünscht funktioniert, aber es ein kleineres Problem ist.</span><span class="sxs-lookup"><span data-stu-id="60909-189">At first glance it may appear that everything is working as desired, but there's a subtle problem.</span></span> <span data-ttu-id="60909-190">Wenn Sie eine neue Kategorie auswählen der `ProductsByCategory` DropDownList wird aktualisiert, um diese Produkte für die ausgewählte Kategorie, aber die `ProductDetails` DetailsView fortgesetzt wird, um die vorherigen Produktinformationen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="60909-190">When you choose a new category the `ProductsByCategory` DropDownList is updated to include those products for the selected category, but the `ProductDetails` DetailsView continued to show the previous product information.</span></span> <span data-ttu-id="60909-191">Die DetailsView wird aktualisiert, wenn Sie ein anderes Produkt für die ausgewählte Kategorie auswählen.</span><span class="sxs-lookup"><span data-stu-id="60909-191">The DetailsView is updated when choosing a different product for the selected category.</span></span> <span data-ttu-id="60909-192">Darüber hinaus, wenn Sie gründlich genug getestet haben, Sie finden, wenn Sie ständig neue Kategorien auswählen (z. B. Auswahl Getränke aus der `Categories` DropDownList, und klicken Sie dann auf "Gewürze", klicken Sie dann Confections) alle anderen Kategorieauswahl bewirkt, dass die `ProductDetails`DetailsView aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="60909-192">Furthermore, if you test thoroughly enough, you'll find that if you continually choose new categories (such as choosing Beverages from the `Categories` DropDownList, then Condiments, then Confections) every other category selection causes the `ProductDetails` DetailsView to be refreshed.</span></span>

<span data-ttu-id="60909-193">Damit dieses Problem nicht konkretisiert werden können, betrachten wir ein konkretes Beispiel.</span><span class="sxs-lookup"><span data-stu-id="60909-193">To help concretize this problem, let's look at a specific example.</span></span> <span data-ttu-id="60909-194">Wenn Sie die Seite zuerst besuchen Sie die Kategorie "Getränke" ausgewählt ist und die zugehörigen Produkte werden geladen, der `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="60909-194">When you first visit the page the Beverages category is selected and the related products are loaded in the `ProductsByCategory` DropDownList.</span></span> <span data-ttu-id="60909-195">Chai entspricht, wird das ausgewählte Produkt und die Details werden angezeigt, der `ProductDetails` DetailsView, wie in Abbildung 18 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="60909-195">Chai is the selected product and its details are displayed in the `ProductDetails` DetailsView, as shown in Figure 18.</span></span>


<span data-ttu-id="60909-196">[![Das ausgewählte Produkt Details werden in einem DetailsView angezeigt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="60909-196">[![The Selected Product's Details are Displayed in a DetailsView](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span></span>

<span data-ttu-id="60909-197">**Abbildung 18**: Das ausgewählte Produkt Details werden angezeigt, in einem DetailsView ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span><span class="sxs-lookup"><span data-stu-id="60909-197">**Figure 18**: The Selected Product's Details are Displayed in a DetailsView ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span></span>


<span data-ttu-id="60909-198">Wenn Sie die Kategorieauswahl aus Getränke in "Gewürze" ändern, um ein Postback auftritt und die `ProductsByCategory` DropDownList wird entsprechend aktualisiert, aber DetailsView Details weiterhin für Chai angezeigt.</span><span class="sxs-lookup"><span data-stu-id="60909-198">If you change the category selection from Beverages to Condiments, a postback occurs and the `ProductsByCategory` DropDownList is updated accordingly, but the DetailsView still displays details for Chai.</span></span>


<span data-ttu-id="60909-199">[![Des zuvor ausgewählten Produkts Details werden weiterhin angezeigt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="60909-199">[![The Previously Selected Product's Details are Still Displayed](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span></span>

<span data-ttu-id="60909-200">**Abbildung 19**: Der zuvor ausgewählten Produkts Details werden weiterhin angezeigt ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span><span class="sxs-lookup"><span data-stu-id="60909-200">**Figure 19**: The Previously Selected Product's Details are Still Displayed ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span></span>


<span data-ttu-id="60909-201">Wählen ein neues Produkt in der Liste aktualisiert DetailsView wie erwartet.</span><span class="sxs-lookup"><span data-stu-id="60909-201">Picking a new product from the list refreshes the DetailsView as expected.</span></span> <span data-ttu-id="60909-202">Wenn Sie eine neue Kategorie auswählen, nach dem Ändern des Produkts, wird nicht erneut DetailsView aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="60909-202">If you pick a new category after changing the product, the DetailsView again won't refresh.</span></span> <span data-ttu-id="60909-203">Wenn anstatt auf ein neues Produkt Sie eine neue Kategorie ausgewählt haben, würde jedoch DetailsView aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="60909-203">However, if instead of choosing a new product you selected a new category, the DetailsView would refresh.</span></span> <span data-ttu-id="60909-204">Was in der Welt ist hier passiert?</span><span class="sxs-lookup"><span data-stu-id="60909-204">What in the world is going on here?</span></span>

<span data-ttu-id="60909-205">Das Problem ist ein Problem der zeitlichen Steuerung im Lebenszyklus der Seite.</span><span class="sxs-lookup"><span data-stu-id="60909-205">The problem is a timing issue in the page's lifecycle.</span></span> <span data-ttu-id="60909-206">Jedes Mal, wenn eine Seite angefordert, dass es eine Reihe von Schritten als renderingbeschreibung durchläuft.</span><span class="sxs-lookup"><span data-stu-id="60909-206">Whenever a page is requested it proceeds through a number of steps as its rendering.</span></span> <span data-ttu-id="60909-207">In einem der folgenden Schritte aus dem ObjectDataSource-Steuerelement steuert, überprüfen, wenn ihre `SelectParameters` Werte geändert haben.</span><span class="sxs-lookup"><span data-stu-id="60909-207">In one of these steps the ObjectDataSource controls check to see if any of their `SelectParameters` values have changed.</span></span> <span data-ttu-id="60909-208">Wenn also das Web-Steuerelement gebunden weiß dem ObjectDataSource-Steuerelement an, dass die Anzeige aktualisiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="60909-208">If so, the data Web control bound to the ObjectDataSource knows that it needs to refresh its display.</span></span> <span data-ttu-id="60909-209">Wenn z. B. eine neue Kategorie ausgewählt ist, die `ProductsByCategoryDataSource` "ObjectDataSource" erkennt, dass Werte der Parameter geändert haben und die `ProductsByCategory` DropDownList erneuerte Bindungen, die Produkte für die ausgewählte Kategorie abrufen.</span><span class="sxs-lookup"><span data-stu-id="60909-209">For example, when a new category is selected, the `ProductsByCategoryDataSource` ObjectDataSource detects that its parameter values have changed and the `ProductsByCategory` DropDownList rebinds itself, getting the products for the selected category.</span></span>

<span data-ttu-id="60909-210">Das Problem, das in diesem Fall tritt auf, ist der Punkt im Lebenszyklus Seite, mit denen die ObjectDataSources geänderten Parametern überprüft auftritt, *vor* die erneute Bindung des zugeordneten Websteuerelemente.</span><span class="sxs-lookup"><span data-stu-id="60909-210">The problem that arises in this situation is that the point in the page lifecycle that the ObjectDataSources check for changed parameters occurs *before* the rebinding of the associated data Web controls.</span></span> <span data-ttu-id="60909-211">Aus diesem Grund bei der Auswahl einer neuen Kategorie das `ProductsByCategoryDataSource` "ObjectDataSource" erkennt eine Änderung im Wert des Parameters.</span><span class="sxs-lookup"><span data-stu-id="60909-211">Therefore, when selecting a new category the `ProductsByCategoryDataSource` ObjectDataSource detects a change in its parameter's value.</span></span> <span data-ttu-id="60909-212">Dem ObjectDataSource-Steuerelement ein, die die `ProductDetails` DetailsView, jedoch nicht beachten Sie, solche Änderungen da die `ProductsByCategory` DropDownList ist noch nicht erneut gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="60909-212">The ObjectDataSource used by the `ProductDetails` DetailsView, however, doesn't note any such changes because the `ProductsByCategory` DropDownList has yet to be rebound.</span></span> <span data-ttu-id="60909-213">Weiter unten in den Lebenszyklus der `ProductsByCategory` DropDownList die Bindung an die "ObjectDataSource", die Produkte für die neu ausgewählte Kategorie abrufen.</span><span class="sxs-lookup"><span data-stu-id="60909-213">Later in the lifecycle the `ProductsByCategory` DropDownList rebinds to its ObjectDataSource, grabbing the products for the newly selected category.</span></span> <span data-ttu-id="60909-214">Während der `ProductsByCategory` DropDownList Wert geändert wurde, die `ProductDetails` DetailsViews "ObjectDataSource" wurde bereits die Überprüfung der Parameter-Werts vorgenommen; DetailsView zeigt daher die vorherigen Ergebnisse.</span><span class="sxs-lookup"><span data-stu-id="60909-214">While the `ProductsByCategory` DropDownList's value has changed, the `ProductDetails` DetailsView's ObjectDataSource has already done its parameter value check; therefore, the DetailsView displays its previous results.</span></span> <span data-ttu-id="60909-215">Diese Interaktion ist in Abbildung 20 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="60909-215">This interaction is depicted in Figure 20.</span></span>


<span data-ttu-id="60909-216">[![Der ProductsByCategory DropDownList-Wert ändert, nachdem die ProductDetails DetailsViews ObjectDataSource-Steuerelement prüft, ob Änderungen](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="60909-216">[![The ProductsByCategory DropDownList Value Changes After the ProductDetails DetailsView's ObjectDataSource Checks for Changes](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span></span>

<span data-ttu-id="60909-217">**Abbildung 20**: Die `ProductsByCategory` DropDownList-Wert ändert sich nach der `ProductDetails` DetailsViews "ObjectDataSource" überprüft, ob Änderungen ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span><span class="sxs-lookup"><span data-stu-id="60909-217">**Figure 20**: The `ProductsByCategory` DropDownList Value Changes After the `ProductDetails` DetailsView's ObjectDataSource Checks for Changes ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span></span>


<span data-ttu-id="60909-218">Zur Umgehung des Problems explizit erneut zu binden muss der `ProductDetails` DetailsView nach der `ProductsByCategory` DropDownList gebunden wurde.</span><span class="sxs-lookup"><span data-stu-id="60909-218">To remedy this we need to explicitly rebind the `ProductDetails` DetailsView after the `ProductsByCategory` DropDownList has been bound.</span></span> <span data-ttu-id="60909-219">Wir erreichen dies durch den Aufruf der `ProductDetails` DetailsView `DataBind()` Methode bei der `ProductsByCategory` DropDownList `DataBound` -Ereignis ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="60909-219">We can accomplish this by calling the `ProductDetails` DetailsView's `DataBind()` method when the `ProductsByCategory` DropDownList's `DataBound` event fires.</span></span> <span data-ttu-id="60909-220">Fügen Sie den folgenden Ereignishandlercode, der `MasterDetailsDetails.aspx` Seite des Code-Behind-Klasse (finden Sie in der "[Programmgesteuertes Festlegen der Parameterwerte der ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" Informationen zum Hinzufügen eines ereignishandlers):</span><span class="sxs-lookup"><span data-stu-id="60909-220">Add the following event handler code to the `MasterDetailsDetails.aspx` page's code-behind class (refer to the "[Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" for a discussion on how to add an event handler):</span></span>


[!code-csharp[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample2.cs)]

<span data-ttu-id="60909-221">Nach diesem expliziter Aufruf an die `ProductDetails` DetailsView `DataBind()` Methode wurde hinzugefügt, das Lernprogramm funktioniert wie erwartet.</span><span class="sxs-lookup"><span data-stu-id="60909-221">After this explicit call to the `ProductDetails` DetailsView's `DataBind()` method has been added, the tutorial works as expected.</span></span> <span data-ttu-id="60909-222">Abbildung 21 hervorgehoben, wie diese geändert, geschaffen, das Problem weiter oben.</span><span class="sxs-lookup"><span data-stu-id="60909-222">Figure 21 highlights how this changed remedied our earlier problem.</span></span>


<span data-ttu-id="60909-223">[![ProductDetails DetailsView ist explizit aktualisiert bei der ProductsByCategory DropDownList DataBound-Ereignis ausgelöst](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="60909-223">[![The ProductDetails DetailsView is Explicitly Refreshed When the ProductsByCategory DropDownList's DataBound Event Fires](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span></span>

<span data-ttu-id="60909-224">**Abbildung 21**: Die `ProductDetails` DetailsView ist explizit aktualisiert, wenn die `ProductsByCategory` DropDownList `DataBound` -Ereignis ausgelöst wird ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span><span class="sxs-lookup"><span data-stu-id="60909-224">**Figure 21**: The `ProductDetails` DetailsView is Explicitly Refreshed When the `ProductsByCategory` DropDownList's `DataBound` Event Fires ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span></span>


## <a name="summary"></a><span data-ttu-id="60909-225">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="60909-225">Summary</span></span>

<span data-ttu-id="60909-226">Die DropDownList dient als ideales Benutzeroberflächenelement für Master/Detail-Berichte, die eine 1: n Beziehung zwischen der Master- und Detaildatensätzen.</span><span class="sxs-lookup"><span data-stu-id="60909-226">The DropDownList serves as an ideal user interface element for master/detail reports where there is a one-to-many relationship between the master and detail records.</span></span> <span data-ttu-id="60909-227">Im vorherigen Tutorial wurde erläutert, wie einem einzelnen DropDownList-Steuerelement verwenden, um die Produkte, die von der ausgewählten Kategorie angezeigt zu filtern.</span><span class="sxs-lookup"><span data-stu-id="60909-227">In the preceding tutorial we saw how to use a single DropDownList to filter the products displayed by the selected category.</span></span> <span data-ttu-id="60909-228">In diesem Tutorial stellen wir GridView-Produkte mit einem DropDownList-Steuerelement ersetzt, und eine DetailsView zum Anzeigen der Details des ausgewählten Produkts verwendet.</span><span class="sxs-lookup"><span data-stu-id="60909-228">In this tutorial we replaced the GridView of products with a DropDownList, and used a DetailsView to display the details of the selected product.</span></span> <span data-ttu-id="60909-229">In diesem Tutorial erörterten Konzepte können mit Datenmodellen, die im Zusammenhang mit mehreren 1: n Beziehungen, wie z. B. Kunden, Bestellungen und Auftragspositionen problemlos erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="60909-229">The concepts discussed in this tutorial can easily be extended to data models involving multiple one-to-many relationships, such as customers, orders, and order items.</span></span> <span data-ttu-id="60909-230">Im Allgemeinen können Sie immer eine DropDownList für jede der Entitäten in der 1: n Beziehungen "one" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="60909-230">In general, you can always add a DropDownList for each of the "one" entities in the one-to-many relationships.</span></span>

<span data-ttu-id="60909-231">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="60909-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="60909-232">Der Autor</span><span class="sxs-lookup"><span data-stu-id="60909-232">About the Author</span></span>

<span data-ttu-id="60909-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="60909-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="60909-234">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="60909-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="60909-235">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="60909-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="60909-236">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="60909-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="60909-237">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="60909-237">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="60909-238">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="60909-238">Special Thanks To</span></span>

<span data-ttu-id="60909-239">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="60909-239">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="60909-240">Führendes Prüfer für dieses Tutorial ist Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="60909-240">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="60909-241">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="60909-241">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="60909-242">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="60909-242">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="60909-243">[Zurück](master-detail-filtering-with-a-dropdownlist-cs.md)
> [Weiter](master-detail-filtering-across-two-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="60909-243">[Previous](master-detail-filtering-with-a-dropdownlist-cs.md)
[Next](master-detail-filtering-across-two-pages-cs.md)</span></span>
