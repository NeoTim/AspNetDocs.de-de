---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
title: Filtern von Master-/detailfiltern mit zwei Dropdown Listen (C#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial wird die Master/Detail-Beziehung erweitert, um eine dritte Ebene hinzuzufügen. dabei werden zwei Dropdown List-Steuerelemente verwendet, um das gewünschte übergeordnete und übergeordnete übergeordnete Element zu wählen.
ms.author: riande
ms.date: 03/31/2010
ms.assetid: ac4b0d77-4816-4ded-afd0-88dab667aedd
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
msc.type: authoredcontent
ms.openlocfilehash: e24b7f91d34fbce1676f7f28ebb7d23903157f7f
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74626178"
---
# <a name="masterdetail-filtering-with-two-dropdownlists-c"></a><span data-ttu-id="5562f-103">Filtern von Master-/Detailberichten mit zwei DropDownList-Steuerelementen (C#)</span><span class="sxs-lookup"><span data-stu-id="5562f-103">Master/Detail Filtering With Two DropDownLists (C#)</span></span>

<span data-ttu-id="5562f-104">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="5562f-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="5562f-105">[Beispiel-app herunterladen](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) oder [PDF herunterladen](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="5562f-105">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) or [Download PDF](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span></span>

> <span data-ttu-id="5562f-106">In diesem Tutorial wird die Master/Detail-Beziehung erweitert, um eine dritte Ebene hinzuzufügen. dabei werden zwei Dropdown List-Steuerelemente verwendet, um die gewünschten übergeordneten und übergeordneten Datensätze</span><span class="sxs-lookup"><span data-stu-id="5562f-106">This tutorial expands the master/detail relationship to add a third layer, using two DropDownList controls to select the desired parent and grandparent records.</span></span>

## <a name="introduction"></a><span data-ttu-id="5562f-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="5562f-107">Introduction</span></span>

<span data-ttu-id="5562f-108">Im [vorherigen Tutorial](master-detail-filtering-with-a-dropdownlist-cs.md) wurde erläutert, wie ein einfacher Master-/Detailbericht mit einer einzelnen Dropdown List, die mit den Kategorien gefüllt ist, und einer GridView angezeigt wird, die die Produkte anzeigt, die zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5562f-108">In the [previous tutorial](master-detail-filtering-with-a-dropdownlist-cs.md) we examined how to display a simple master/details report using a single DropDownList populated with the categories and a GridView showing those products that belong to the selected category.</span></span> <span data-ttu-id="5562f-109">Dieses Berichts Muster funktioniert gut, wenn Sie Datensätze mit einer 1: n-Beziehung anzeigen und problemlos für Szenarien mit mehreren 1: n-Beziehungen erweitert werden können.</span><span class="sxs-lookup"><span data-stu-id="5562f-109">This report pattern works well when displaying records that have a one-to-many relationship and can easily be extended to work for scenarios that include multiple one-to-many relationships.</span></span> <span data-ttu-id="5562f-110">Beispielsweise verfügt ein Bestell Eintrags System über Tabellen, die Kunden, Bestellungen und Bestell Positionen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="5562f-110">For example, an order entry system would have tables that correspond to customers, orders, and order line items.</span></span> <span data-ttu-id="5562f-111">Ein bestimmter Kunde kann über mehrere Bestellungen mit jeder Bestellung verfügen, die aus mehreren Elementen besteht.</span><span class="sxs-lookup"><span data-stu-id="5562f-111">A given customer may have multiple orders with each order consisting of multiple items.</span></span> <span data-ttu-id="5562f-112">Diese Daten können dem Benutzer mit zwei Dropdown Listen und einer GridView angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="5562f-112">Such data can be presented to the user with two DropDownLists and a GridView.</span></span> <span data-ttu-id="5562f-113">Der erste DropDownList-Eintrag enthält ein Listenelement für jeden Kunden in der Datenbank, wobei der Inhalt des zweiten Inhalts die Bestellungen des ausgewählten Kunden ist.</span><span class="sxs-lookup"><span data-stu-id="5562f-113">The first DropDownList would have a list item for each customer in the database with the second one's contents being the orders placed by the selected customer.</span></span> <span data-ttu-id="5562f-114">Eine GridView listet die Zeilen Elemente aus der ausgewählten Reihenfolge auf.</span><span class="sxs-lookup"><span data-stu-id="5562f-114">A GridView would list the line items from the selected order.</span></span>

<span data-ttu-id="5562f-115">Während die Northwind-Datenbank die kanonischen Kunden-/Order-/Order-detailsinformationen in den Tabellen `Customers`, `Orders`und `Order Details` enthält, werden diese Tabellen nicht in unserer Architektur aufgezeichnet.</span><span class="sxs-lookup"><span data-stu-id="5562f-115">While the Northwind database include the canonical customer/order/order details information in its `Customers`, `Orders`, and `Order Details` tables, these tables aren't captured in our architecture.</span></span> <span data-ttu-id="5562f-116">Trotzdem können wir die Verwendung von zwei abhängigen Dropdown Listen veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="5562f-116">Nonetheless, we can still illustrate using two dependent DropDownLists.</span></span> <span data-ttu-id="5562f-117">In der ersten Dropdown list-Liste werden die Kategorien und der zweite die Produkte aufgelistet, die zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5562f-117">The first DropDownList will list the categories and the second the products belonging to the selected category.</span></span> <span data-ttu-id="5562f-118">In einer DetailsView werden dann die Details des ausgewählten Produkts aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="5562f-118">A DetailsView will then list the details of the selected product.</span></span>

## <a name="step-1-creating-and-populating-the-categories-dropdownlist"></a><span data-ttu-id="5562f-119">Schritt 1: Erstellen und Auffüllen der Dropdown List-Kategorien</span><span class="sxs-lookup"><span data-stu-id="5562f-119">Step 1: Creating and Populating the Categories DropDownList</span></span>

<span data-ttu-id="5562f-120">Unser erstes Ziel besteht darin, die Dropdown Liste hinzuzufügen, die die Kategorien auflistet.</span><span class="sxs-lookup"><span data-stu-id="5562f-120">Our first goal is to add the DropDownList that lists the categories.</span></span> <span data-ttu-id="5562f-121">Diese Schritte wurden im vorherigen Tutorial ausführlich untersucht, werden jedoch aus Gründen der Vollständigkeit hier zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="5562f-121">These steps were examined in detail in the preceding tutorial, but are summarized here for completeness.</span></span>

<span data-ttu-id="5562f-122">Öffnen Sie die Seite `MasterDetailsDetails.aspx` im Ordner `Filtering`, fügen Sie der Seite eine Dropdown Liste hinzu, legen Sie die Eigenschaft `ID` auf `Categories`fest, und klicken Sie dann im Smarttags auf den Link Datenquelle konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="5562f-122">Open the `MasterDetailsDetails.aspx` page in the `Filtering` folder, add a DropDownList to the page, set its `ID` property to `Categories`, and then click the Configure Data Source link in its smart tag.</span></span> <span data-ttu-id="5562f-123">Wählen Sie im Assistenten zum Konfigurieren von Datenquellen die Option zum Hinzufügen einer neuen Datenquelle aus.</span><span class="sxs-lookup"><span data-stu-id="5562f-123">From the Data Source Configuration Wizard choose to add a new data source.</span></span>

<span data-ttu-id="5562f-124">[![eine neue Datenquelle für die Dropdown Liste hinzufügen.](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-124">[![Add a New Data Source for the DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span></span>

<span data-ttu-id="5562f-125">**Abbildung 1**: Hinzufügen einer neuen Datenquelle für Dropdown List ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-125">**Figure 1**: Add a New Data Source for the DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span></span>

<span data-ttu-id="5562f-126">Die neue Datenquelle sollte natürlich eine ObjectDataSource sein.</span><span class="sxs-lookup"><span data-stu-id="5562f-126">The new data source should, naturally, be an ObjectDataSource.</span></span> <span data-ttu-id="5562f-127">Benennen Sie diesen neuen ObjectDataSource-`CategoriesDataSource`, und lassen Sie ihn die `GetCategories()`-Methode des `CategoriesBLL`-Objekts aufrufen.</span><span class="sxs-lookup"><span data-stu-id="5562f-127">Name this new ObjectDataSource `CategoriesDataSource` and have it invoke the `CategoriesBLL` object's `GetCategories()` method.</span></span>

<span data-ttu-id="5562f-128">[![wählen Sie die kategoriesbll-Klasse aus.](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span></span>

<span data-ttu-id="5562f-129">**Abbildung 2**: Wählen Sie die `CategoriesBLL` Klasse aus ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-129">**Figure 2**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span></span>

<span data-ttu-id="5562f-130">[![konfigurieren Sie ObjectDataSource für die Verwendung der GetCategories ()-Methode.](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span></span>

<span data-ttu-id="5562f-131">**Abbildung 3**: Konfigurieren von ObjectDataSource für die Verwendung der `GetCategories()`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-131">**Figure 3**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span></span>

<span data-ttu-id="5562f-132">Nach dem Konfigurieren von ObjectDataSource müssen Sie immer noch angeben, welches Datenquellen Feld in der `Categories` Dropdown List angezeigt werden soll und welches als Wert für das Listenelement konfiguriert werden soll.</span><span class="sxs-lookup"><span data-stu-id="5562f-132">After configuring the ObjectDataSource we still need to specify which data source field should be displayed in the `Categories` DropDownList and which one should be configured as the value for the list item.</span></span> <span data-ttu-id="5562f-133">Legen Sie das `CategoryName`-Feld als Anzeige fest, und `CategoryID` als Wert für jedes Listenelement.</span><span class="sxs-lookup"><span data-stu-id="5562f-133">Set the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>

<span data-ttu-id="5562f-134">[![Dropdown List das Feld "CategoryName" anzeigen und "CategoryID" als Wert verwenden.](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span></span>

<span data-ttu-id="5562f-135">**Abbildung 4**: "DropDownList" zeigt das `CategoryName` Feld an und verwendet `CategoryID` als Wert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-135">**Figure 4**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span></span>

<span data-ttu-id="5562f-136">An diesem Punkt verfügen wir über ein Dropdown List-Steuerelement (`Categories`), das mit den Datensätzen aus der `Categories` Tabelle aufgefüllt ist.</span><span class="sxs-lookup"><span data-stu-id="5562f-136">At this point we have a DropDownList control (`Categories`) that's populated with the records from the `Categories` table.</span></span> <span data-ttu-id="5562f-137">Wenn der Benutzer eine neue Kategorie aus der Dropdown Liste auswählt, soll ein Postback erfolgen, um die Produkt-Dropdown Liste zu aktualisieren, die in Schritt 2 erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="5562f-137">When the user chooses a new category from the DropDownList we'll want a postback to occur in order to refresh the product DropDownList that we're going to create in Step 2.</span></span> <span data-ttu-id="5562f-138">Aktivieren Sie deshalb die Option AutoPostBack aktivieren im Smarttags `categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="5562f-138">Therefore, check the Enable AutoPostBack option from the `categories` DropDownList's smart tag.</span></span>

<span data-ttu-id="5562f-139">[Automatische ![für Dropdown List "Kategorien" aktivieren](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-139">[![Enable AutoPostBack for the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span></span>

<span data-ttu-id="5562f-140">**Abbildung 5**: Aktivieren von "AutoPostBack" für die Dropdown Liste "`Categories`" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-140">**Figure 5**: Enable AutoPostBack for the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span></span>

## <a name="step-2-displaying-the-selected-categorys-products-in-a-second-dropdownlist"></a><span data-ttu-id="5562f-141">Schritt 2: Anzeigen der Produkte der ausgewählten Kategorie in einer zweiten Dropdown Liste</span><span class="sxs-lookup"><span data-stu-id="5562f-141">Step 2: Displaying the Selected Category's Products in a Second DropDownList</span></span>

<span data-ttu-id="5562f-142">Wenn die Dropdown Liste `Categories` abgeschlossen ist, besteht der nächste Schritt darin, eine Dropdown Liste der Produkte anzuzeigen, die zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5562f-142">With the `Categories` DropDownList completed, our next step is to display a DropDownList of products belonging to the selected category.</span></span> <span data-ttu-id="5562f-143">Fügen Sie zu diesem Zweck der Seite mit dem Namen `ProductsByCategory`eine weitere Dropdown Liste hinzu.</span><span class="sxs-lookup"><span data-stu-id="5562f-143">To accomplish this, add another DropDownList to the page named `ProductsByCategory`.</span></span> <span data-ttu-id="5562f-144">Erstellen Sie wie in der Dropdown Liste `Categories` eine neue ObjectDataSource für die `ProductsByCategory` DropDownList mit dem Namen `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="5562f-144">As with the `Categories` DropDownList, create a new ObjectDataSource for the `ProductsByCategory` DropDownList named `ProductsByCategoryDataSource`.</span></span>

<span data-ttu-id="5562f-145">[![eine neue Datenquelle für die Dropdown Liste producungbycategory hinzufügen.](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-145">[![Add a New Data Source for the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span></span>

<span data-ttu-id="5562f-146">**Abbildung 6**: Hinzufügen einer neuen Datenquelle für das `ProductsByCategory` Dropdown List ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-146">**Figure 6**: Add a New Data Source for the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span></span>

<span data-ttu-id="5562f-147">[![erstellen Sie eine neue ObjectDataSource namens productbycategorydatasource.](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-147">[![Create a New ObjectDataSource Named ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span></span>

<span data-ttu-id="5562f-148">**Abbildung 7**: Erstellen einer neuen ObjectDataSource mit dem Namen "`ProductsByCategoryDataSource`" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-148">**Figure 7**: Create a New ObjectDataSource Named `ProductsByCategoryDataSource` ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span></span>

<span data-ttu-id="5562f-149">Da in der Dropdown List-`ProductsByCategory` nur die Produkte angezeigt werden müssen, die der ausgewählten Kategorie angehören, muss ObjectDataSource die `GetProductsByCategoryID(categoryID)`-Methode aus dem `ProductsBLL`-Objekt aufrufen.</span><span class="sxs-lookup"><span data-stu-id="5562f-149">Since the `ProductsByCategory` DropDownList needs to display just those products belonging to the selected category, have the ObjectDataSource invoke the `GetProductsByCategoryID(categoryID)` method from the `ProductsBLL` object.</span></span>

<span data-ttu-id="5562f-150">[![wählen Sie die productbll-Klasse aus.](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-150">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span></span>

<span data-ttu-id="5562f-151">**Abbildung 8**: Auswählen der Verwendung der `ProductsBLL`-Klasse ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-151">**Figure 8**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span></span>

<span data-ttu-id="5562f-152">[![Konfigurieren von ObjectDataSource für die Verwendung der getproductbycategoryid (CategoryID)-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-152">[![Configure the ObjectDataSource to Use the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span></span>

<span data-ttu-id="5562f-153">**Abbildung 9**: Konfigurieren von ObjectDataSource für die Verwendung der `GetProductsByCategoryID(categoryID)`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-153">**Figure 9**: Configure the ObjectDataSource to Use the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span></span>

<span data-ttu-id="5562f-154">Im letzten Schritt des Assistenten müssen wir den Wert des *`categoryID`* -Parameters angeben.</span><span class="sxs-lookup"><span data-stu-id="5562f-154">In the final step of the wizard we need to specify the value of the *`categoryID`* parameter.</span></span> <span data-ttu-id="5562f-155">Weisen Sie diesen Parameter dem ausgewählten Element aus der Dropdown Liste `Categories` zu.</span><span class="sxs-lookup"><span data-stu-id="5562f-155">Assign this parameter to the selected item from the `Categories` DropDownList.</span></span>

<span data-ttu-id="5562f-156">[![rufen Sie den Wert für den CategoryID-Parameter aus den Kategorien DropDownList ab.](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-156">[![Pull the categoryID Parameter Value from the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span></span>

<span data-ttu-id="5562f-157">**Abbildung 10**: Abrufen des *`categoryID`* Parameter Werts aus der `Categories` Dropdown List ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-157">**Figure 10**: Pull the *`categoryID`* Parameter Value from the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span></span>

<span data-ttu-id="5562f-158">Wenn die ObjectDataSource konfiguriert ist, müssen Sie nur noch angeben, welche Datenquellen Felder für die Anzeige und den Wert der Elemente der Dropdown List verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5562f-158">With the ObjectDataSource configured, all that remains is to specify what data source fields are used for the display and value of the DropDownList's items.</span></span> <span data-ttu-id="5562f-159">Zeigen Sie das `ProductName` Feld an, und verwenden Sie das Feld `ProductID` als Wert.</span><span class="sxs-lookup"><span data-stu-id="5562f-159">Display the `ProductName` field and use the `ProductID` field as the value.</span></span>

<span data-ttu-id="5562f-160">[![die Datenquellen Felder angeben, die für die ListItems-Text-und Wert Eigenschaften der DropDownList verwendet werden.](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-160">[![Specify the Data Source Fields Used for the DropDownList's ListItems' Text and Value Properties](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span></span>

<span data-ttu-id="5562f-161">**Abbildung 11**: Angeben der Datenquellen Felder, die für die Eigenschaften `Text` und `Value` von Dropdown`ListItem` List verwendet werden ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-161">**Figure 11**: Specify the Data Source Fields Used for the DropDownList's `ListItem` s' `Text` and `Value` Properties ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span></span>

<span data-ttu-id="5562f-162">Wenn die Seite ObjectDataSource und `ProductsByCategory` Dropdown List konfiguriert ist, werden auf der Seite zwei Dropdown Listen angezeigt: im ersten werden alle Kategorien aufgeführt, während im zweiten Fall die Produkte aufgelistet werden, die zur ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="5562f-162">With the ObjectDataSource and `ProductsByCategory` DropDownList configured our page will display two DropDownLists: the first will list all of the categories while the second will list those products belonging to the selected category.</span></span> <span data-ttu-id="5562f-163">Wenn der Benutzer eine neue Kategorie aus der ersten Dropdown Liste auswählt, wird ein Postback durchführt, und die zweite Dropdown List wird erneut mit den Produkten angezeigt, die der neu ausgewählten Kategorie angehören.</span><span class="sxs-lookup"><span data-stu-id="5562f-163">When the user selects a new category from the first DropDownList, a postback will ensue and the second DropDownList will be rebound, showing those products that belong to the newly selected category.</span></span> <span data-ttu-id="5562f-164">In den Abbildungen 12 und 13 wird `MasterDetailsDetails.aspx` in Aktion angezeigt, wenn Sie in einem Browser angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="5562f-164">Figures 12 and 13 show `MasterDetailsDetails.aspx` in action when viewed through a browser.</span></span>

<span data-ttu-id="5562f-165">[beim ersten Besuch der Seite wird die Kategorie Getränke ausgewählt. ![](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-165">[![When First Visiting the Page, the Beverages Category is Selected](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span></span>

<span data-ttu-id="5562f-166">**Abbildung 12**: beim ersten Besuch der Seite wird die Kategorie Getränke ausgewählt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-166">**Figure 12**: When First Visiting the Page, the Beverages Category is Selected ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span></span>

<span data-ttu-id="5562f-167">[Wenn Sie ![eine andere Kategorie auswählen, werden die Produkte der neuen Kategorie angezeigt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-167">[![Choosing a Different Category Displays the New Category's Products](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span></span>

<span data-ttu-id="5562f-168">**Abbildung 13**: Auswählen einer anderen Kategorie zeigt die Produkte der neuen Kategorie[an (Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-168">**Figure 13**: Choosing a Different Category Displays the New Category's Products ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span></span>

<span data-ttu-id="5562f-169">Derzeit führt das `productsByCategory` Dropdown List, wenn es geändert wird, *nicht* zu einem Postback.</span><span class="sxs-lookup"><span data-stu-id="5562f-169">Currently the `productsByCategory` DropDownList, when changed, does *not* cause a postback.</span></span> <span data-ttu-id="5562f-170">Wir möchten jedoch, dass ein Postback stattfindet, sobald wir eine DetailsView hinzufügen, um die Details des ausgewählten Produkts anzuzeigen (Schritt 3).</span><span class="sxs-lookup"><span data-stu-id="5562f-170">However, we will want a postback to occur once we add a DetailsView to display the selected product's details (Step 3).</span></span> <span data-ttu-id="5562f-171">Aktivieren Sie daher das Kontrollkästchen AutoPostBack aktivieren im Smarttags `productsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="5562f-171">Therefore, check the Enable AutoPostBack checkbox from the `productsByCategory` DropDownList's smart tag.</span></span>

<span data-ttu-id="5562f-172">[![aktivieren Sie die Funktion "AutoPostBack" für die Dropdown Liste "produczbycategory".](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-172">[![Enable the AutoPostBack Feature for the productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span></span>

<span data-ttu-id="5562f-173">**Abbildung 14**: Aktivieren der Funktion "AutoPostBack" für die Dropdown Liste "`productsByCategory`" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-173">**Figure 14**: Enable the AutoPostBack Feature for the `productsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span></span>

## <a name="step-3-using-a-detailsview-to-display-details-for-the-selected-product"></a><span data-ttu-id="5562f-174">Schritt 3: Verwenden von DetailsView zum Anzeigen von Details für das ausgewählte Produkt</span><span class="sxs-lookup"><span data-stu-id="5562f-174">Step 3: Using a DetailsView to Display Details for the Selected Product</span></span>

<span data-ttu-id="5562f-175">Der letzte Schritt besteht darin, die Details für das ausgewählte Produkt in einer DetailsView anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="5562f-175">The final step is to display the details for the selected product in a DetailsView.</span></span> <span data-ttu-id="5562f-176">Fügen Sie zu diesem Zweck der Seite eine DetailsView hinzu, legen Sie die `ID`-Eigenschaft auf `ProductDetails`fest, und erstellen Sie eine neue ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="5562f-176">To accomplish this, add a DetailsView to the page, set its `ID` property to `ProductDetails`, and create a new ObjectDataSource for it.</span></span> <span data-ttu-id="5562f-177">Konfigurieren Sie diese ObjectDataSource, um Ihre Daten aus der `GetProductByProductID(productID)` Methode der `ProductsBLL` Klasse abzurufen, indem Sie den ausgewählten Wert des `ProductsByCategory` DropDownList für den Wert des *`productID`* -Parameters verwenden.</span><span class="sxs-lookup"><span data-stu-id="5562f-177">Configure this ObjectDataSource to pull its data from the `ProductsBLL` class's `GetProductByProductID(productID)` method using the selected value of the `ProductsByCategory` DropDownList for the value of the *`productID`* parameter.</span></span>

<span data-ttu-id="5562f-178">[![wählen Sie die productbll-Klasse aus.](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-178">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span></span>

<span data-ttu-id="5562f-179">**Abbildung 15**: Auswählen der Verwendung der `ProductsBLL`-Klasse ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-179">**Figure 15**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span></span>

<span data-ttu-id="5562f-180">[![Konfigurieren von ObjectDataSource für die Verwendung der getproductbyproductid (ProductID)-Methode](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-180">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span></span>

<span data-ttu-id="5562f-181">**Abbildung 16**: Konfigurieren von ObjectDataSource für die Verwendung der `GetProductByProductID(productID)`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-181">**Figure 16**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span></span>

<span data-ttu-id="5562f-182">[![den Wert des ProductID-Parameters aus der Dropdown Liste productbycategory abrufen](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-182">[![Pull the productID Parameter Value from the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span></span>

<span data-ttu-id="5562f-183">**Abbildung 17**: Abrufen des *`productID`* -Parameter Werts aus der `ProductsByCategory` Dropdown List ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-183">**Figure 17**: Pull the *`productID`* Parameter Value from the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span></span>

<span data-ttu-id="5562f-184">Sie können die verfügbaren Felder in der DetailsView anzeigen.</span><span class="sxs-lookup"><span data-stu-id="5562f-184">You can choose to display any of the available fields in the DetailsView.</span></span> <span data-ttu-id="5562f-185">Ich habe mich entschieden, die Felder `ProductID`, `SupplierID`und `CategoryID` zu entfernen und die übrigen Felder neu angeordnet und formatiert</span><span class="sxs-lookup"><span data-stu-id="5562f-185">I've opted to remove the `ProductID`, `SupplierID`, and `CategoryID` fields and reordered and formatted the remaining fields.</span></span> <span data-ttu-id="5562f-186">Außerdem habe ich die Eigenschaften "`Height`" und "`Width`" der DetailsView gelöscht, sodass die DetailsView auf die Breite erweitert werden kann, um die Daten am besten anzuzeigen, anstatt Sie auf eine angegebene Größe beschränkt zu haben.</span><span class="sxs-lookup"><span data-stu-id="5562f-186">In addition, I cleared out the DetailsView's `Height` and `Width` properties, allowing the DetailsView to expand to the width needed to best display its data rather than having it constrained to a specified size.</span></span> <span data-ttu-id="5562f-187">Das vollständige Markup wird unten angezeigt:</span><span class="sxs-lookup"><span data-stu-id="5562f-187">The full markup appears below:</span></span>

[!code-aspx[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample1.aspx)]

<span data-ttu-id="5562f-188">Nehmen Sie sich einen Moment Zeit, um die `MasterDetailsDetails.aspx` Seite in einem Browser auszuprobieren.</span><span class="sxs-lookup"><span data-stu-id="5562f-188">Take a moment to try out the `MasterDetailsDetails.aspx` page in a browser.</span></span> <span data-ttu-id="5562f-189">Auf den ersten Blick sieht es so aus, als ob alles wie gewünscht funktioniert, aber es gibt ein Problem mit einem geringfügigen Problem.</span><span class="sxs-lookup"><span data-stu-id="5562f-189">At first glance it may appear that everything is working as desired, but there's a subtle problem.</span></span> <span data-ttu-id="5562f-190">Wenn Sie eine neue Kategorie auswählen, wird der `ProductsByCategory` Dropdown List aktualisiert, um diese Produkte für die ausgewählte Kategorie einzuschließen. die `ProductDetails` DetailsView zeigt jedoch weiterhin die vorherigen Produktinformationen an.</span><span class="sxs-lookup"><span data-stu-id="5562f-190">When you choose a new category the `ProductsByCategory` DropDownList is updated to include those products for the selected category, but the `ProductDetails` DetailsView continued to show the previous product information.</span></span> <span data-ttu-id="5562f-191">Die DetailsView wird aktualisiert, wenn ein anderes Produkt für die ausgewählte Kategorie ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="5562f-191">The DetailsView is updated when choosing a different product for the selected category.</span></span> <span data-ttu-id="5562f-192">Wenn Sie außerdem gründlich genug testen, werden Sie feststellen, dass bei der kontinuierlichen Auswahl neuer Kategorien (z. b. auswählen von Getränken aus den `Categories` Dropdown List, dann durch Bedingungen, anschließend für die durch Haltung) jede andere Kategorieauswahl bewirkt, dass die `ProductDetails` DetailsView aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="5562f-192">Furthermore, if you test thoroughly enough, you'll find that if you continually choose new categories (such as choosing Beverages from the `Categories` DropDownList, then Condiments, then Confections) every other category selection causes the `ProductDetails` DetailsView to be refreshed.</span></span>

<span data-ttu-id="5562f-193">Um dieses Problem zu konkretisieren, betrachten wir ein bestimmtes Beispiel.</span><span class="sxs-lookup"><span data-stu-id="5562f-193">To help concretize this problem, let's look at a specific example.</span></span> <span data-ttu-id="5562f-194">Beim ersten Besuch der Seite wird die Kategorie Getränke ausgewählt, und die zugehörigen Produkte werden in die Dropdown Liste `ProductsByCategory` geladen.</span><span class="sxs-lookup"><span data-stu-id="5562f-194">When you first visit the page the Beverages category is selected and the related products are loaded in the `ProductsByCategory` DropDownList.</span></span> <span data-ttu-id="5562f-195">Chai ist das ausgewählte Produkt, und seine Details werden in der `ProductDetails` DetailsView angezeigt, wie in Abbildung 18 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="5562f-195">Chai is the selected product and its details are displayed in the `ProductDetails` DetailsView, as shown in Figure 18.</span></span>

<span data-ttu-id="5562f-196">[![die Details des ausgewählten Produkts in einer DetailsView angezeigt.](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-196">[![The Selected Product's Details are Displayed in a DetailsView](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span></span>

<span data-ttu-id="5562f-197">**Abbildung 18**: die Details des ausgewählten Produkts werden in einer DetailsView angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-197">**Figure 18**: The Selected Product's Details are Displayed in a DetailsView ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span></span>

<span data-ttu-id="5562f-198">Wenn Sie die Kategorieauswahl von Getränke in Bedingungen ändern, erfolgt ein Postback, und die `ProductsByCategory` Dropdown List wird entsprechend aktualisiert. in der DetailsView werden jedoch weiterhin Details für Chai angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5562f-198">If you change the category selection from Beverages to Condiments, a postback occurs and the `ProductsByCategory` DropDownList is updated accordingly, but the DetailsView still displays details for Chai.</span></span>

<span data-ttu-id="5562f-199">[![die Details des zuvor ausgewählten Produkts weiterhin angezeigt werden.](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-199">[![The Previously Selected Product's Details are Still Displayed](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span></span>

<span data-ttu-id="5562f-200">**Abbildung 19**: die Details des zuvor ausgewählten Produkts werden weiterhin angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-200">**Figure 19**: The Previously Selected Product's Details are Still Displayed ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span></span>

<span data-ttu-id="5562f-201">Wenn Sie ein neues Produkt aus der Liste auswählen, wird die DetailsView erwartungsgemäß aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="5562f-201">Picking a new product from the list refreshes the DetailsView as expected.</span></span> <span data-ttu-id="5562f-202">Wenn Sie nach der Produkt Änderung eine neue Kategorie auswählen, wird die DetailsView erneut nicht aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="5562f-202">If you pick a new category after changing the product, the DetailsView again won't refresh.</span></span> <span data-ttu-id="5562f-203">Wenn Sie jedoch ein neues Produkt auswählen, das Sie für eine neue Kategorie ausgewählt haben, wird die DetailsView aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="5562f-203">However, if instead of choosing a new product you selected a new category, the DetailsView would refresh.</span></span> <span data-ttu-id="5562f-204">Was ist in der Welt passiert?</span><span class="sxs-lookup"><span data-stu-id="5562f-204">What in the world is going on here?</span></span>

<span data-ttu-id="5562f-205">Das Problem ist ein Zeit Steuerungs Problem im Lebenszyklus der Seite.</span><span class="sxs-lookup"><span data-stu-id="5562f-205">The problem is a timing issue in the page's lifecycle.</span></span> <span data-ttu-id="5562f-206">Wenn eine Seite angefordert wird, durchläuft Sie eine Reihe von Schritten als Rendering.</span><span class="sxs-lookup"><span data-stu-id="5562f-206">Whenever a page is requested it proceeds through a number of steps as its rendering.</span></span> <span data-ttu-id="5562f-207">In einem dieser Schritte überprüfen die ObjectDataSource-Steuerelemente, ob sich Ihre `SelectParameters` Werte geändert haben.</span><span class="sxs-lookup"><span data-stu-id="5562f-207">In one of these steps the ObjectDataSource controls check to see if any of their `SelectParameters` values have changed.</span></span> <span data-ttu-id="5562f-208">Wenn dies der Fall ist, weiß das an ObjectDataSource gebundene datenweb-Steuerelement, dass es die Anzeige aktualisieren muss.</span><span class="sxs-lookup"><span data-stu-id="5562f-208">If so, the data Web control bound to the ObjectDataSource knows that it needs to refresh its display.</span></span> <span data-ttu-id="5562f-209">Wenn z. b. eine neue Kategorie ausgewählt ist, erkennt der `ProductsByCategoryDataSource` ObjectDataSource, dass die Parameterwerte geändert wurden, und die `ProductsByCategory` DropDownList leitet sich an sich selbst zurück, wobei die Produkte für die ausgewählte Kategorie erhalten werden.</span><span class="sxs-lookup"><span data-stu-id="5562f-209">For example, when a new category is selected, the `ProductsByCategoryDataSource` ObjectDataSource detects that its parameter values have changed and the `ProductsByCategory` DropDownList rebinds itself, getting the products for the selected category.</span></span>

<span data-ttu-id="5562f-210">Das Problem, das in dieser Situation auftritt, besteht darin, dass der Punkt im Lebenszyklus der Seite, den die objectdatasources auf geänderte Parameter überprüft, *vor* der erneuten Bindung der zugeordneten datenweb Steuerelemente auftritt.</span><span class="sxs-lookup"><span data-stu-id="5562f-210">The problem that arises in this situation is that the point in the page lifecycle that the ObjectDataSources check for changed parameters occurs *before* the rebinding of the associated data Web controls.</span></span> <span data-ttu-id="5562f-211">Wenn Sie eine neue Kategorie auswählen, erkennt der `ProductsByCategoryDataSource` ObjectDataSource eine Änderung des Parameter Werts.</span><span class="sxs-lookup"><span data-stu-id="5562f-211">Therefore, when selecting a new category the `ProductsByCategoryDataSource` ObjectDataSource detects a change in its parameter's value.</span></span> <span data-ttu-id="5562f-212">Die von der `ProductDetails` DetailsView verwendete ObjectDataSource hat jedoch keine Änderungen an solchen Änderungen, da die `ProductsByCategory` Dropdown List noch nicht wieder hergestellt werden muss.</span><span class="sxs-lookup"><span data-stu-id="5562f-212">The ObjectDataSource used by the `ProductDetails` DetailsView, however, doesn't note any such changes because the `ProductsByCategory` DropDownList has yet to be rebound.</span></span> <span data-ttu-id="5562f-213">Zu einem späteren Zeitpunkt im Lebenszyklus wird der `ProductsByCategory` DropDownList an seine ObjectDataSource gebunden, wobei die Produkte für die neu ausgewählte Kategorie gepackt werden.</span><span class="sxs-lookup"><span data-stu-id="5562f-213">Later in the lifecycle the `ProductsByCategory` DropDownList rebinds to its ObjectDataSource, grabbing the products for the newly selected category.</span></span> <span data-ttu-id="5562f-214">Während sich der Wert der `ProductsByCategory` DropDownList geändert hat, hat die ObjectDataSource der `ProductDetails` DetailsView bereits den Parameterwert überprüft. aus diesem Grund werden in der DetailsView die vorherigen Ergebnisse angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5562f-214">While the `ProductsByCategory` DropDownList's value has changed, the `ProductDetails` DetailsView's ObjectDataSource has already done its parameter value check; therefore, the DetailsView displays its previous results.</span></span> <span data-ttu-id="5562f-215">Diese Interaktion ist in Abbildung 20 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="5562f-215">This interaction is depicted in Figure 20.</span></span>

<span data-ttu-id="5562f-216">[![sich der productbycategory-DropDownList-Wert geändert, nachdem die ObjectDataSource der ProductDetails DetailsView auf Änderungen überprüft hat.](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-216">[![The ProductsByCategory DropDownList Value Changes After the ProductDetails DetailsView's ObjectDataSource Checks for Changes](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span></span>

<span data-ttu-id="5562f-217">**Abbildung 20**: der `ProductsByCategory` DropDownList-Wert ändert sich, nachdem die ObjectDataSource der `ProductDetails` DetailsView auf Änderungen überprüft hat ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png)).</span><span class="sxs-lookup"><span data-stu-id="5562f-217">**Figure 20**: The `ProductsByCategory` DropDownList Value Changes After the `ProductDetails` DetailsView's ObjectDataSource Checks for Changes ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span></span>

<span data-ttu-id="5562f-218">Um dieses Problem zu beheben, müssen wir den `ProductDetails` DetailsView explizit neu binden, nachdem die `ProductsByCategory` Dropdown List gebunden wurde.</span><span class="sxs-lookup"><span data-stu-id="5562f-218">To remedy this we need to explicitly rebind the `ProductDetails` DetailsView after the `ProductsByCategory` DropDownList has been bound.</span></span> <span data-ttu-id="5562f-219">Dies erreichen Sie, indem Sie die `DataBind()`-Methode der `ProductDetails` DetailsView aufrufen, wenn das `DataBound` Ereignis der `ProductsByCategory` DropDownList ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="5562f-219">We can accomplish this by calling the `ProductDetails` DetailsView's `DataBind()` method when the `ProductsByCategory` DropDownList's `DataBound` event fires.</span></span> <span data-ttu-id="5562f-220">Fügen Sie der Code Behind-Klasse der `MasterDetailsDetails.aspx` Seite den folgenden Ereignishandlercode hinzu (Weitere Informationen zum Hinzufügen eines Ereignis Handlers finden Sie im Abschnitt "Programm gesteuertes[Festlegen der Parameter Werte von ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)"):</span><span class="sxs-lookup"><span data-stu-id="5562f-220">Add the following event handler code to the `MasterDetailsDetails.aspx` page's code-behind class (refer to the "[Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" for a discussion on how to add an event handler):</span></span>

[!code-csharp[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample2.cs)]

<span data-ttu-id="5562f-221">Nachdem dieser explizite aufrufsbefehl der `DataBind()`-Methode der `ProductDetails` DetailsView hinzugefügt wurde, funktioniert das Tutorial erwartungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="5562f-221">After this explicit call to the `ProductDetails` DetailsView's `DataBind()` method has been added, the tutorial works as expected.</span></span> <span data-ttu-id="5562f-222">In Abbildung 21 wird hervorgehoben, wie sich dadurch das vorherige Problem behoben hat.</span><span class="sxs-lookup"><span data-stu-id="5562f-222">Figure 21 highlights how this changed remedied our earlier problem.</span></span>

<span data-ttu-id="5562f-223">[![ProductDetails DetailsView wird explizit aktualisiert, wenn das Daten gebundene Ereignis "productbycategory DropDownList" ausgelöst wird.](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="5562f-223">[![The ProductDetails DetailsView is Explicitly Refreshed When the ProductsByCategory DropDownList's DataBound Event Fires](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span></span>

<span data-ttu-id="5562f-224">**Abbildung 21**: die `ProductDetails` DetailsView wird explizit aktualisiert, wenn das `DataBound` Ereignis der `ProductsByCategory` DropDownList ausgelöst wird ([Klicken Sie, um das Bild in voller Größe anzuzeigen](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span><span class="sxs-lookup"><span data-stu-id="5562f-224">**Figure 21**: The `ProductDetails` DetailsView is Explicitly Refreshed When the `ProductsByCategory` DropDownList's `DataBound` Event Fires ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span></span>

## <a name="summary"></a><span data-ttu-id="5562f-225">Summary</span><span class="sxs-lookup"><span data-stu-id="5562f-225">Summary</span></span>

<span data-ttu-id="5562f-226">Die Dropdown List dient als ideales Benutzeroberflächen Element für Master-/Detailberichte, bei denen eine 1: n-Beziehung zwischen den Master-und Detaildaten Sätzen vorliegt.</span><span class="sxs-lookup"><span data-stu-id="5562f-226">The DropDownList serves as an ideal user interface element for master/detail reports where there is a one-to-many relationship between the master and detail records.</span></span> <span data-ttu-id="5562f-227">Im vorherigen Tutorial wurde erläutert, wie Sie eine einzelne Dropdown List verwenden, um die Produkte zu filtern, die in der ausgewählten Kategorie angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="5562f-227">In the preceding tutorial we saw how to use a single DropDownList to filter the products displayed by the selected category.</span></span> <span data-ttu-id="5562f-228">In diesem Tutorial haben wir die GridView der Produkte durch eine Dropdown List ersetzt und eine DetailsView verwendet, um die Details des ausgewählten Produkts anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="5562f-228">In this tutorial we replaced the GridView of products with a DropDownList, and used a DetailsView to display the details of the selected product.</span></span> <span data-ttu-id="5562f-229">Die in diesem Tutorial beschriebenen Konzepte können problemlos auf Datenmodelle erweitert werden, die mehrere 1: n-Beziehungen betreffen, wie z. b. Kunden, Bestellungen und Bestell Elemente.</span><span class="sxs-lookup"><span data-stu-id="5562f-229">The concepts discussed in this tutorial can easily be extended to data models involving multiple one-to-many relationships, such as customers, orders, and order items.</span></span> <span data-ttu-id="5562f-230">Im Allgemeinen können Sie in den 1: n-Beziehungen immer eine Dropdown List für jede der "One"-Entitäten hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="5562f-230">In general, you can always add a DropDownList for each of the "one" entities in the one-to-many relationships.</span></span>

<span data-ttu-id="5562f-231">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="5562f-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="5562f-232">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="5562f-232">About the Author</span></span>

<span data-ttu-id="5562f-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="5562f-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="5562f-234">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="5562f-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="5562f-235">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="5562f-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="5562f-236">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5562f-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="5562f-237">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="5562f-237">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="5562f-238">Besonders vielen Dank</span><span class="sxs-lookup"><span data-stu-id="5562f-238">Special Thanks To</span></span>

<span data-ttu-id="5562f-239">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="5562f-239">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="5562f-240">Der Lead Prüfer für dieses Tutorial war Hilton giesreviewer.</span><span class="sxs-lookup"><span data-stu-id="5562f-240">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="5562f-241">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="5562f-241">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="5562f-242">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5562f-242">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5562f-243">[Zurück](master-detail-filtering-with-a-dropdownlist-cs.md)
> [Weiter](master-detail-filtering-across-two-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="5562f-243">[Previous](master-detail-filtering-with-a-dropdownlist-cs.md)
[Next](master-detail-filtering-across-two-pages-cs.md)</span></span>
