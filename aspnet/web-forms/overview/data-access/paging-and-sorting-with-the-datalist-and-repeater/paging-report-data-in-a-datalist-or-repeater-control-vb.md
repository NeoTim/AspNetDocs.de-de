---
uid: web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/paging-report-data-in-a-datalist-or-repeater-control-vb
title: Paging von Berichtsdaten in einem DataList-oder Repeater-Steuerelement (VB) | Microsoft-Dokumentation
author: rick-anderson
description: Obwohl weder der DataList noch der Repeater Unterstützung für automatisches Paging oder Sortieren bietet, wird in diesem Tutorial veranschaulicht, wie der DataList oder der Repeater Paging-Unterstützung hinzugefügt wird,...
ms.author: riande
ms.date: 11/13/2006
ms.assetid: bbd6b7f7-b98a-48b4-93f3-341d6a4f53c0
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/paging-report-data-in-a-datalist-or-repeater-control-vb
msc.type: authoredcontent
ms.openlocfilehash: 5c65ca1f263e41748d99323dbdf1c28fdd077246
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74570239"
---
# <a name="paging-report-data-in-a-datalist-or-repeater-control-vb"></a><span data-ttu-id="037ef-103">Auslagern von Berichtsdaten in einem DataList- oder Wiederholungssteuerelement (VB)</span><span class="sxs-lookup"><span data-stu-id="037ef-103">Paging Report Data in a DataList or Repeater Control (VB)</span></span>

<span data-ttu-id="037ef-104">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="037ef-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="037ef-105">[Beispiel-app herunterladen](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_44_VB.exe) oder [PDF herunterladen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/datatutorial44vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="037ef-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_44_VB.exe) or [Download PDF](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/datatutorial44vb1.pdf)</span></span>

> <span data-ttu-id="037ef-106">Obwohl weder der DataList noch der Repeater Unterstützung für automatisches Paging oder Sortieren bietet, wird in diesem Tutorial veranschaulicht, wie der DataList oder der Repeater Paging-Unterstützung hinzugefügt wird, was eine viel flexiblere Auslagerung und Datenanzeige Schnittstellen ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="037ef-106">While neither the DataList nor Repeater offer automatic paging or sorting support, this tutorial shows how to add paging support to the DataList or Repeater, which allows for much more flexible paging and data display interfaces.</span></span>

## <a name="introduction"></a><span data-ttu-id="037ef-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="037ef-107">Introduction</span></span>

<span data-ttu-id="037ef-108">Paging und Sortierung sind zwei sehr gängige Features, wenn Daten in einer Online Anwendung angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-108">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="037ef-109">Wenn Sie z. b. in einem Online Buchhandel nach ASP.net Books suchen, gibt es möglicherweise Hunderte solcher Bücher, aber im Bericht mit den Suchergebnissen werden nur zehn Übereinstimmungen pro Seite aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="037ef-109">For example, when searching for ASP.NET books at an online bookstore, there may be hundreds of such books, but the report listing the search results lists only ten matches per page.</span></span> <span data-ttu-id="037ef-110">Darüber hinaus können die Ergebnisse nach Titel, Preis, Seitenanzahl, Autorenname usw. sortiert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-110">Moreover, the results can be sorted by title, price, page count, author name, and so on.</span></span> <span data-ttu-id="037ef-111">Wie im Lernprogramm zum [Paging und Sortieren von Berichtsdaten](../paging-and-sorting/paging-and-sorting-report-data-vb.md) erläutert, bieten die Steuerelemente GridView, DetailsView und FormView alle integrierten Pagingunterstützung, die im Tick eines Kontrollkästchens aktiviert werden kann.</span><span class="sxs-lookup"><span data-stu-id="037ef-111">As we discussed in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-vb.md) tutorial, the GridView, DetailsView, and FormView controls all provide built-in paging support that can be enabled at the tick of a checkbox.</span></span> <span data-ttu-id="037ef-112">Die GridView umfasst auch Sortierungs Unterstützung.</span><span class="sxs-lookup"><span data-stu-id="037ef-112">The GridView also includes sorting support.</span></span>

<span data-ttu-id="037ef-113">Leider bieten weder der DataList noch der Repeater Unterstützung für automatisches Paging oder sortieren.</span><span class="sxs-lookup"><span data-stu-id="037ef-113">Unfortunately, neither the DataList nor Repeater offer automatic paging or sorting support.</span></span> <span data-ttu-id="037ef-114">In diesem Tutorial wird erläutert, wie Sie dem DataList-oder Wiederholungs Dienst Paging-Unterstützung hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="037ef-114">In this tutorial we'll examine how to add paging support to the DataList or Repeater.</span></span> <span data-ttu-id="037ef-115">Wir müssen manuell die Paging-Schnittstelle erstellen, die entsprechende Seite der Datensätze anzeigen und die Seite, die über Postbacks besucht wird, merken.</span><span class="sxs-lookup"><span data-stu-id="037ef-115">We must manually create the paging interface, display the appropriate page of records, and remember the page being visited across postbacks.</span></span> <span data-ttu-id="037ef-116">Dies dauert zwar mehr Zeit und Code als bei GridView, DetailsView oder FormView, das DataList-und Repeater-Tool ermöglicht jedoch viel flexiblere Paginierung und Datenanzeige Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="037ef-116">While this does take more time and code than with the GridView, DetailsView, or FormView, the DataList and Repeater allow for much more flexible paging and data display interfaces.</span></span>

> [!NOTE]
> <span data-ttu-id="037ef-117">Dieses Tutorial konzentriert sich ausschließlich auf das Paging.</span><span class="sxs-lookup"><span data-stu-id="037ef-117">This tutorial focuses exclusively on paging.</span></span> <span data-ttu-id="037ef-118">Im nächsten Tutorial widmen wir uns dem Hinzufügen von Sortierungs Funktionen.</span><span class="sxs-lookup"><span data-stu-id="037ef-118">In the next tutorial we'll turn our attention to adding sorting capabilities.</span></span>

## <a name="step-1-adding-the-paging-and-sorting-tutorial-web-pages"></a><span data-ttu-id="037ef-119">Schritt 1: Hinzufügen der Webseiten für das Paging und das Sortieren von Tutorials</span><span class="sxs-lookup"><span data-stu-id="037ef-119">Step 1: Adding the Paging and Sorting Tutorial Web Pages</span></span>

<span data-ttu-id="037ef-120">Bevor wir mit diesem Tutorial beginnen, nehmen wir uns einen Moment Zeit, um die ASP.NET Seiten hinzuzufügen, die wir für dieses Tutorial benötigen, und das nächste.</span><span class="sxs-lookup"><span data-stu-id="037ef-120">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next one.</span></span> <span data-ttu-id="037ef-121">Erstellen Sie zunächst einen neuen Ordner in dem Projekt mit dem Namen `PagingSortingDataListRepeater`.</span><span class="sxs-lookup"><span data-stu-id="037ef-121">Start by creating a new folder in the project named `PagingSortingDataListRepeater`.</span></span> <span data-ttu-id="037ef-122">Fügen Sie anschließend die folgenden fünf ASP.NET-Seiten zu diesem Ordner hinzu, wobei alle für die Verwendung der Master Seite `Site.master`konfiguriert sind:</span><span class="sxs-lookup"><span data-stu-id="037ef-122">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `Paging.aspx`
- `Sorting.aspx`
- `SortingWithDefaultPaging.aspx`
- `SortingWithCustomPaging.aspx`

![Erstellen Sie einen pagingsortingdatalistrepeer-Ordner, und fügen Sie das Tutorial ASP.net Pages hinzu.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image1.png)

<span data-ttu-id="037ef-124">**Abbildung 1**: Erstellen eines `PagingSortingDataListRepeater` Ordners und Hinzufügen des Tutorials ASP.NET Seiten</span><span class="sxs-lookup"><span data-stu-id="037ef-124">**Figure 1**: Create a `PagingSortingDataListRepeater` Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="037ef-125">Öffnen Sie als nächstes die Seite `Default.aspx`, und ziehen Sie das Steuerelement `SectionLevelTutorialListing.ascx` Benutzer aus dem Ordner `UserControls` auf die Entwurfs Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="037ef-125">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="037ef-126">Dieses Benutzer Steuerelement, das wir im Tutorial zu [Master Seiten und zur Website Navigation](../introduction/master-pages-and-site-navigation-vb.md) erstellt haben, listet die Site Map auf und zeigt diese Tutorials im aktuellen Abschnitt in einer Aufzählung an.</span><span class="sxs-lookup"><span data-stu-id="037ef-126">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-vb.md) tutorial, enumerates the site map and displays those tutorials in the current section in a bulleted list.</span></span>

<span data-ttu-id="037ef-127">[![das Benutzer Steuerelement "sectionleveltutoriallisting. ascx" zu "default. aspx" hinzufügen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image3.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-127">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image3.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image2.png)</span></span>

<span data-ttu-id="037ef-128">**Abbildung 2**: Hinzufügen des `SectionLevelTutorialListing.ascx` Benutzer Steuer Elements zu `Default.aspx` ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-128">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image4.png))</span></span>

<span data-ttu-id="037ef-129">Damit in der Auflistungs Liste die Lernprogramme zum Paging und Sortieren angezeigt werden, die wir erstellen, müssen wir Sie der Site Übersicht hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="037ef-129">In order to have the bulleted list display the paging and sorting tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="037ef-130">Öffnen Sie die Datei `Web.sitemap`, und fügen Sie nach dem Bearbeiten und Löschen mit dem DataList Site Map-Knoten Markup das folgende Markup hinzu:</span><span class="sxs-lookup"><span data-stu-id="037ef-130">Open the `Web.sitemap` file and add the following markup after the Editing and Deleting with the DataList site map node markup:</span></span>

[!code-xml[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample1.xml)]

![Aktualisieren der Site Übersicht, um die neuen ASP.NET-Seiten einzuschließen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image5.png)

<span data-ttu-id="037ef-132">**Abbildung 3**: Aktualisieren der Site Übersicht, um die neuen ASP.NET-Seiten einzuschließen</span><span class="sxs-lookup"><span data-stu-id="037ef-132">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="a-review-of-paging"></a><span data-ttu-id="037ef-133">Eine Überprüfung des Paging</span><span class="sxs-lookup"><span data-stu-id="037ef-133">A Review of Paging</span></span>

<span data-ttu-id="037ef-134">In den vorherigen Tutorials wurde erläutert, wie die Daten in den Steuerelementen GridView, DetailsView und FormView durchlaufen werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-134">In previous tutorials we saw how to page through the data in the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="037ef-135">Diese drei Steuerelemente bieten eine einfache Form der Paginierung , die als standardpaginierung bezeichnet wird, die durch einfaches Aktivieren der Option Paging aktivieren im Smarttags des Steuer Elements implementiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="037ef-135">These three controls offer a simple form of paging called *default paging* that can be implemented by simply checking the Enable Paging option in the control s smart tag.</span></span> <span data-ttu-id="037ef-136">Beim standardmäßigen Paging wird jedes Mal, wenn eine Seite mit Daten angefordert wird, entweder auf der ersten Seite, oder wenn der Benutzer zu einer anderen Seite der Daten navigiert, das GridView-, DetailsView-oder FormView-Steuerelement *alle* Daten von ObjectDataSource erneut anfordert.</span><span class="sxs-lookup"><span data-stu-id="037ef-136">With default paging, each time a page of data is requested either on the first page visit or when the user navigates to a different page of data the GridView, DetailsView, or FormView control re-requests *all* of the data from the ObjectDataSource.</span></span> <span data-ttu-id="037ef-137">Anschließend wird eine bestimmte Gruppe von Datensätzen ausgegeben, die für den angeforderten Seitenindex und die Anzahl der pro Seite anzuzeigenden Datensätze angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-137">It then snips out the particular set of records to display given the requested page index and the number of records to display per page.</span></span> <span data-ttu-id="037ef-138">Im Tutorial zum [Paging und Sortieren von Berichtsdaten](../paging-and-sorting/paging-and-sorting-report-data-vb.md) wurde das standardmäßige Paging ausführlich erläutert.</span><span class="sxs-lookup"><span data-stu-id="037ef-138">We discussed default paging in detail in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-vb.md) tutorial.</span></span>

<span data-ttu-id="037ef-139">Da beim Paging standardmäßig alle Datensätze für jede Seite erneut angefordert werden, ist es beim Paging durch ausreichend große Datenmengen nicht praktikabel.</span><span class="sxs-lookup"><span data-stu-id="037ef-139">Since default paging re-requests all records for each page, it is not practical when paging through sufficiently large amounts of data.</span></span> <span data-ttu-id="037ef-140">Stellen Sie sich beispielsweise das Paging durch 50.000 Datensätze mit einer Seitengröße von 10 vor.</span><span class="sxs-lookup"><span data-stu-id="037ef-140">For example, imagine paging through 50,000 records with a page size of 10.</span></span> <span data-ttu-id="037ef-141">Jedes Mal, wenn der Benutzer zu einer neuen Seite wechselt, müssen alle 50.000-Datensätze aus der Datenbank abgerufen werden, auch wenn nur zehn von Ihnen angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-141">Each time the user moves to a new page, all 50,000 records must be retrieved from the database, even though only ten of them are displayed.</span></span>

<span data-ttu-id="037ef-142">Durch *benutzerdefiniertes Paging* werden die Leistungsaspekte der Standard Auslagerung gelöst, indem nur die genaue Teilmenge der Datensätze erfasst wird, die auf der angeforderten Seite angezeigt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="037ef-142">*Custom paging* solves the performance concerns of default paging by grabbing only the precise subset of records to display on the requested page.</span></span> <span data-ttu-id="037ef-143">Beim Implementieren von benutzerdefiniertem Paging müssen wir die SQL-Abfrage schreiben, die effizient nur den richtigen Satz von Datensätzen zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="037ef-143">When implementing custom paging, we must write the SQL query that will efficiently return just the correct set of records.</span></span> <span data-ttu-id="037ef-144">Wir haben gesehen, wie eine solche Abfrage mit SQL Server 2005 s New [`ROW_NUMBER()`-Schlüsselwort](http://www.4guysfromrolla.com/webtech/010406-1.shtml) zurück im Lernprogramm " [effizientes Paging durch große Datenmengen](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) " erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="037ef-144">We saw how to create such a query using SQL Server 2005 s new [`ROW_NUMBER()` keyword](http://www.4guysfromrolla.com/webtech/010406-1.shtml) back in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) tutorial.</span></span>

<span data-ttu-id="037ef-145">Um das Standardpaging in den DataList-oder Repeater-Steuerelementen zu implementieren, können Sie die [`PagedDataSource`-Klasse](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.aspx) als Wrapper für die `ProductsDataTable` verwenden, deren Inhalt ausgelagert wird.</span><span class="sxs-lookup"><span data-stu-id="037ef-145">To implement default paging in the DataList or Repeater controls, we can use the [`PagedDataSource` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.aspx) as a wrapper around the `ProductsDataTable` whose contents are being paged.</span></span> <span data-ttu-id="037ef-146">Die `PagedDataSource`-Klasse verfügt über eine `DataSource`-Eigenschaft, die jedem Aufzähl baren Objekt zugewiesen werden kann, und [`PageSize`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.pagesize.aspx) und [`CurrentPageIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.currentpageindex.aspx) Eigenschaften, die angeben, wie viele Datensätze pro Seite und dem aktuellen Seitenindex angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-146">The `PagedDataSource` class has a `DataSource` property that can be assigned to any enumerable object and [`PageSize`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.pagesize.aspx) and [`CurrentPageIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.currentpageindex.aspx) properties that indicate how many records to show per page and the current page index.</span></span> <span data-ttu-id="037ef-147">Nachdem diese Eigenschaften festgelegt wurden, kann die `PagedDataSource` als Datenquelle für jedes datenweb Steuerelement verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-147">Once these properties have been set, the `PagedDataSource` can be used as the data source of any data Web control.</span></span> <span data-ttu-id="037ef-148">Der `PagedDataSource`gibt bei der Enumeration nur die entsprechende Teilmenge der Datensätze seines inneren `DataSource` basierend auf den Eigenschaften `PageSize` und `CurrentPageIndex` zurück.</span><span class="sxs-lookup"><span data-stu-id="037ef-148">The `PagedDataSource`, when enumerated, will only return the appropriate subset of records of its inner `DataSource` based on the `PageSize` and `CurrentPageIndex` properties.</span></span> <span data-ttu-id="037ef-149">Abbildung 4 zeigt die Funktionalität der `PagedDataSource`-Klasse.</span><span class="sxs-lookup"><span data-stu-id="037ef-149">Figure 4 depicts the functionality of the `PagedDataSource` class.</span></span>

![Die "pgeddatasource" umschließt ein Enumerable-Objekt mit einer abrechenbaren Schnittstelle.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image6.png)

<span data-ttu-id="037ef-151">**Abbildung 4**: die `PagedDataSource` umschließt ein Enumerable-Objekt mit einer abrechenbaren Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="037ef-151">**Figure 4**: The `PagedDataSource` Wraps an Enumerable Object with a Pageable Interface</span></span>

<span data-ttu-id="037ef-152">Das `PagedDataSource`-Objekt kann direkt aus der Geschäftslogik Schicht erstellt und konfiguriert und mithilfe von ObjectDataSource an einen DataList-oder Wiederholungs Modul gebunden werden, oder es kann direkt in der Code Behind-Klasse der ASP.net page s erstellt und konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-152">The `PagedDataSource` object can be created and configured directly from the Business Logic Layer and bound to a DataList or Repeater through an ObjectDataSource, or can be created and configured directly in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="037ef-153">Wenn die letztgenannte Vorgehensweise verwendet wird, müssen wir die ObjectDataSource verwenden und stattdessen die auslagerbaren Daten Programm gesteuert an das DataList-oder Wiederholungs Programm binden.</span><span class="sxs-lookup"><span data-stu-id="037ef-153">If the latter approach is used, we must forgo using the ObjectDataSource and instead bind the paged data to the DataList or Repeater programmatically.</span></span>

<span data-ttu-id="037ef-154">Das `PagedDataSource`-Objekt verfügt auch über Eigenschaften zur Unterstützung von benutzerdefiniertem Paging.</span><span class="sxs-lookup"><span data-stu-id="037ef-154">The `PagedDataSource` object also has properties to support custom paging.</span></span> <span data-ttu-id="037ef-155">Wir können jedoch die Verwendung eines `PagedDataSource` für das benutzerdefinierte Paging umgehen, da wir bereits über BLL-Methoden in der `ProductsBLL`-Klasse verfügen, die für benutzerdefiniertes Paging konzipiert sind und die genauen Datensätze zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="037ef-155">However, we can bypass using a `PagedDataSource` for custom paging because we already have BLL methods in the `ProductsBLL` class designed for custom paging that return the precise records to display.</span></span>

<span data-ttu-id="037ef-156">In diesem Tutorial wird die Implementierung der Standard Paginierung in einem DataList-Objekt durch Hinzufügen einer neuen Methode zur `ProductsBLL`-Klasse, die ein entsprechend konfiguriertes `PagedDataSource`-Objekt zurückgibt, untersucht.</span><span class="sxs-lookup"><span data-stu-id="037ef-156">In this tutorial we'll look at implementing default paging in a DataList by adding a new method to the `ProductsBLL` class that returns an appropriately configured `PagedDataSource` object.</span></span> <span data-ttu-id="037ef-157">Im nächsten Tutorial erfahren Sie, wie Sie benutzerdefiniertes Paging verwenden.</span><span class="sxs-lookup"><span data-stu-id="037ef-157">In the next tutorial, we'll see how to use custom paging.</span></span>

## <a name="step-2-adding-a-default-paging-method-in-the-business-logic-layer"></a><span data-ttu-id="037ef-158">Schritt 2: Hinzufügen einer Standard-Paging-Methode in der Geschäftslogik Ebene</span><span class="sxs-lookup"><span data-stu-id="037ef-158">Step 2: Adding a Default Paging Method in the Business Logic Layer</span></span>

<span data-ttu-id="037ef-159">Die `ProductsBLL`-Klasse verfügt zurzeit über eine Methode zum Zurückgeben aller Produktinformationen `GetProducts()` und eine für die Rückgabe einer bestimmten Teilmenge von Produkten an einem Start Index `GetProductsPaged(startRowIndex, maximumRows)`.</span><span class="sxs-lookup"><span data-stu-id="037ef-159">The `ProductsBLL` class currently has a method for returning all product information `GetProducts()` and one for returning a particular subset of products at a starting index `GetProductsPaged(startRowIndex, maximumRows)`.</span></span> <span data-ttu-id="037ef-160">Beim standardmäßigen Paging verwenden die Steuerelemente GridView, DetailsView und FormView alle Produkte mithilfe der `GetProducts()`-Methode, verwenden jedoch intern eine `PagedDataSource`, um nur die richtige Teilmenge der Datensätze anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="037ef-160">With default paging, the GridView, DetailsView, and FormView controls all use the `GetProducts()` method to retrieve all products, but then use a `PagedDataSource` internally to display only the correct subset of records.</span></span> <span data-ttu-id="037ef-161">Um diese Funktionalität mit den DataList-und Repeater-Steuerelementen zu replizieren, können wir eine neue Methode in der BLL erstellen, die dieses Verhalten imitiert.</span><span class="sxs-lookup"><span data-stu-id="037ef-161">To replicate this functionality with the DataList and Repeater controls, we can create a new method in the BLL that mimics this behavior.</span></span>

<span data-ttu-id="037ef-162">Fügen Sie der `ProductsBLL` Klasse mit dem Namen `GetProductsAsPagedDataSource` eine Methode hinzu, die zwei ganzzahlige Eingabeparameter annimmt:</span><span class="sxs-lookup"><span data-stu-id="037ef-162">Add a method to the `ProductsBLL` class named `GetProductsAsPagedDataSource` that takes in two integer input parameters:</span></span>

- <span data-ttu-id="037ef-163">`pageIndex` den Index der anzuzeigenden Seite, indiziert bei Null und</span><span class="sxs-lookup"><span data-stu-id="037ef-163">`pageIndex` the index of the page to display, indexed at zero, and</span></span>
- <span data-ttu-id="037ef-164">`pageSize` die Anzahl der Datensätze, die pro Seite angezeigt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="037ef-164">`pageSize` the number of records to display per page.</span></span>

<span data-ttu-id="037ef-165">`GetProductsAsPagedDataSource` beginnt mit dem Abrufen *aller* Datensätze aus `GetProducts()`.</span><span class="sxs-lookup"><span data-stu-id="037ef-165">`GetProductsAsPagedDataSource` starts by retrieving *all* of the records from `GetProducts()`.</span></span> <span data-ttu-id="037ef-166">Anschließend wird ein `PagedDataSource` Objekt erstellt, dessen `CurrentPageIndex`-und `PageSize`-Eigenschaften auf die Werte der Parameter für die Übergabe `pageIndex` und `pageSize` festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-166">It then creates a `PagedDataSource` object, setting its `CurrentPageIndex` and `PageSize` properties to the values of the passed-in `pageIndex` and `pageSize` parameters.</span></span> <span data-ttu-id="037ef-167">Die Methode wird beendet, indem der konfigurierte `PagedDataSource`zurückgegeben wird:</span><span class="sxs-lookup"><span data-stu-id="037ef-167">The method concludes by returning this configured `PagedDataSource`:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample2.vb)]

## <a name="step-3-displaying-product-information-in-a-datalist-using-default-paging"></a><span data-ttu-id="037ef-168">Schritt 3: Anzeigen von Produktinformationen in einem DataList mithilfe von Standard-Paging</span><span class="sxs-lookup"><span data-stu-id="037ef-168">Step 3: Displaying Product Information in a DataList Using Default Paging</span></span>

<span data-ttu-id="037ef-169">Mit der `GetProductsAsPagedDataSource`-Methode, die der `ProductsBLL`-Klasse hinzugefügt wurde, können wir jetzt einen DataList-oder Repeater-Wert erstellen, der Standard Paginierung ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="037ef-169">With the `GetProductsAsPagedDataSource` method added to the `ProductsBLL` class, we can now create a DataList or Repeater that provides default paging.</span></span> <span data-ttu-id="037ef-170">Öffnen Sie zunächst die Seite `Paging.aspx` im Ordner `PagingSortingDataListRepeater`, und ziehen Sie einen DataList aus der Toolbox auf den Designer, und legen Sie die Eigenschaft DataList s `ID` auf `ProductsDefaultPaging`fest.</span><span class="sxs-lookup"><span data-stu-id="037ef-170">Start by opening the `Paging.aspx` page in the `PagingSortingDataListRepeater` folder and drag a DataList from the Toolbox onto the Designer, setting the DataList s `ID` property to `ProductsDefaultPaging`.</span></span> <span data-ttu-id="037ef-171">Erstellen Sie aus dem DataList s-Smarttag eine neue ObjectDataSource mit dem Namen `ProductsDefaultPagingDataSource`, und konfigurieren Sie Sie so, dass Daten mithilfe der `GetProductsAsPagedDataSource`-Methode abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-171">From the DataList s smart tag, create a new ObjectDataSource named `ProductsDefaultPagingDataSource` and configure it so that it retrieves data using the `GetProductsAsPagedDataSource` method.</span></span>

<span data-ttu-id="037ef-172">[![erstellen Sie eine ObjectDataSource, und konfigurieren Sie Sie für die Verwendung der getproductaspgeddatasource ()-Methode.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image8.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-172">[![Create an ObjectDataSource and Configure it to Use the GetProductsAsPagedDataSource () Method](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image8.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image7.png)</span></span>

<span data-ttu-id="037ef-173">**Abbildung 5**: Erstellen einer ObjectDataSource und Konfigurieren der Methode für die Verwendung der `GetProductsAsPagedDataSource` `()`-Methode ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-173">**Figure 5**: Create an ObjectDataSource and Configure it to Use the `GetProductsAsPagedDataSource` `()` Method ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image9.png))</span></span>

<span data-ttu-id="037ef-174">Legen Sie die Dropdown Listen auf den Registerkarten aktualisieren, einfügen und löschen auf (keine) fest.</span><span class="sxs-lookup"><span data-stu-id="037ef-174">Set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>

<span data-ttu-id="037ef-175">[![die Dropdown Listen auf den Registerkarten aktualisieren, einfügen und löschen auf (keine) festgelegt.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image11.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-175">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image11.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image10.png)</span></span>

<span data-ttu-id="037ef-176">**Abbildung 6**: Festlegen der Dropdown Listen auf den Registerkarten "Aktualisieren", "Einfügen" und "Löschen" auf "(keine)" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-176">**Figure 6**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None) ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image12.png))</span></span>

<span data-ttu-id="037ef-177">Da die `GetProductsAsPagedDataSource`-Methode zwei Eingabeparameter erwartet, fordert der Assistent Sie zur Angabe der Quelle dieser Parameterwerte auf.</span><span class="sxs-lookup"><span data-stu-id="037ef-177">Since the `GetProductsAsPagedDataSource` method expects two input parameters, the wizard prompts us for the source of these parameter values.</span></span>

<span data-ttu-id="037ef-178">Die Werte für den Seitenindex und die Seitengröße müssen über Postbacks hinweg gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-178">The page index and page size values must be remembered across postbacks.</span></span> <span data-ttu-id="037ef-179">Sie können im Ansichts Zustand gespeichert, persistent in der Abfrage Zeichenfolge gespeichert, in Sitzungsvariablen gespeichert oder mithilfe einer anderen Technik gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-179">They can be stored in view state, persisted to the querystring, stored in session variables, or remembered using some other technique.</span></span> <span data-ttu-id="037ef-180">In diesem Tutorial verwenden wir die Abfrage Zeichenfolge, die den Vorteil hat, dass eine bestimmte Datenseite mit einem Lesezeichen versehen werden kann.</span><span class="sxs-lookup"><span data-stu-id="037ef-180">For this tutorial we'll use the querystring, which has the advantage of allowing a particular page of data to be bookmarked.</span></span>

<span data-ttu-id="037ef-181">Verwenden Sie insbesondere die QueryString-Felder "pageIndex" und "PageSize" für die Parameter "`pageIndex`" und "`pageSize`" (siehe Abbildung 7).</span><span class="sxs-lookup"><span data-stu-id="037ef-181">In particular, use the querystring fields pageIndex and pageSize for the `pageIndex` and `pageSize` parameters, respectively (see Figure 7).</span></span> <span data-ttu-id="037ef-182">Nehmen Sie sich einen Moment Zeit, um die Standardwerte für diese Parameter festzulegen, da die QueryString-Werte nicht vorhanden sind, wenn ein Benutzer diese Seite zum ersten Mal besucht.</span><span class="sxs-lookup"><span data-stu-id="037ef-182">Take a moment to set the default values for these parameters, as the querystring values won't be present when a user first visits this page.</span></span> <span data-ttu-id="037ef-183">Legen Sie für `pageIndex`den Standardwert auf 0 (die erste Seite der Daten wird angezeigt) und `pageSize` s den Standardwert 4 fest.</span><span class="sxs-lookup"><span data-stu-id="037ef-183">For `pageIndex`, set the default value to 0 (which will show the first page of data) and `pageSize` s default value to 4.</span></span>

<span data-ttu-id="037ef-184">[!["QueryString" als Quelle für die Parameter "pageIndex" und "PageSize" verwenden](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image14.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-184">[![Use the QueryString as the Source for the pageIndex and pageSize Parameters](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image14.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image13.png)</span></span>

<span data-ttu-id="037ef-185">**Abbildung 7**: Verwenden von "QueryString" als Quelle für die Parameter "`pageIndex`" und "`pageSize`" ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-185">**Figure 7**: Use the QueryString as the Source for the `pageIndex` and `pageSize` Parameters ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image15.png))</span></span>

<span data-ttu-id="037ef-186">Nach dem Konfigurieren von ObjectDataSource erstellt Visual Studio automatisch eine `ItemTemplate` für den DataList.</span><span class="sxs-lookup"><span data-stu-id="037ef-186">After configuring the ObjectDataSource, Visual Studio automatically creates an `ItemTemplate` for the DataList.</span></span> <span data-ttu-id="037ef-187">Passen Sie die `ItemTemplate` so an, dass nur der Name, die Kategorie und der Lieferant des Produkts angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-187">Customize the `ItemTemplate` so that only the product s name, category, and supplier are shown.</span></span> <span data-ttu-id="037ef-188">Legen Sie außerdem die DataList s `RepeatColumns`-Eigenschaft auf 2 fest, deren `Width` auf 100% und deren `ItemStyle` e auf 50% `Width`.</span><span class="sxs-lookup"><span data-stu-id="037ef-188">Also set the DataList s `RepeatColumns` property to 2, its `Width` to 100%, and its `ItemStyle` s `Width` to 50%.</span></span> <span data-ttu-id="037ef-189">Diese breiten Einstellungen geben den gleichen Abstand für die beiden Spalten an.</span><span class="sxs-lookup"><span data-stu-id="037ef-189">These width settings will provide equal spacing for the two columns.</span></span>

<span data-ttu-id="037ef-190">Nachdem Sie diese Änderungen vorgenommen haben, sollten das DataList-und ObjectDataSource s-Markup in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="037ef-190">After making these changes, the DataList and ObjectDataSource s markup should look similar to the following:</span></span>

[!code-aspx[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample3.aspx)]

> [!NOTE]
> <span data-ttu-id="037ef-191">Da wir in diesem Tutorial keine Aktualisierungs-oder Löschfunktionen ausführen, können Sie den Ansichts Zustand des DataList-s deaktivieren, um die gerenderte Seitengröße zu verringern.</span><span class="sxs-lookup"><span data-stu-id="037ef-191">Since we are not performing any update or delete functionality in this tutorial, you may disable the DataList s view state to reduce the rendered page size.</span></span>

<span data-ttu-id="037ef-192">Wenn Sie diese Seite anfänglich über einen Browser aufrufen, werden weder der `pageIndex` noch `pageSize` QueryString-Parameter bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="037ef-192">When initially visiting this page through a browser, neither the `pageIndex` nor `pageSize` querystring parameters are provided.</span></span> <span data-ttu-id="037ef-193">Daher werden die Standardwerte 0 und 4 verwendet.</span><span class="sxs-lookup"><span data-stu-id="037ef-193">Hence, the default values of 0 and 4 are used.</span></span> <span data-ttu-id="037ef-194">Wie in Abbildung 8 gezeigt, führt dies zu einem DataList, der die ersten vier Produkte anzeigt.</span><span class="sxs-lookup"><span data-stu-id="037ef-194">As Figure 8 shows, this results in a DataList that displays the first four products.</span></span>

<span data-ttu-id="037ef-195">[![werden die ersten vier Produkte aufgelistet.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image17.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-195">[![The First Four Products are Listed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image17.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image16.png)</span></span>

<span data-ttu-id="037ef-196">**Abbildung 8**: die ersten vier Produkte werden aufgelistet ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-196">**Figure 8**: The First Four Products are Listed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image18.png))</span></span>

<span data-ttu-id="037ef-197">Ohne eine pagingschnittstelle gibt es derzeit keine einfache Möglichkeit für einen Benutzer, zur zweiten Seite der Daten zu navigieren.</span><span class="sxs-lookup"><span data-stu-id="037ef-197">Without a paging interface, there s currently no straightforward means for a user to navigate to the second page of data.</span></span> <span data-ttu-id="037ef-198">In Schritt 4 erstellen wir eine Paging-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="037ef-198">We'll create a paging interface in step 4.</span></span> <span data-ttu-id="037ef-199">Vorerst kann das Paging jedoch nur durch direktes angeben der pagingkriterien in "QueryString" durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-199">For now, though, paging can only be accomplished by directly specifying the paging criteria in the querystring.</span></span> <span data-ttu-id="037ef-200">Wenn Sie z. b. die zweite Seite anzeigen möchten, ändern Sie die URL in der Adressleiste des Browsers von `Paging.aspx` in `Paging.aspx?pageIndex=2`, und drücken Sie die EINGABETASTE.</span><span class="sxs-lookup"><span data-stu-id="037ef-200">For example, to view the second page, change the URL in the browser s Address bar from `Paging.aspx` to `Paging.aspx?pageIndex=2` and hit Enter.</span></span> <span data-ttu-id="037ef-201">Dies bewirkt, dass die zweite Seite der Daten angezeigt wird (siehe Abbildung 9).</span><span class="sxs-lookup"><span data-stu-id="037ef-201">This causes the second page of data to be displayed (see Figure 9).</span></span>

<span data-ttu-id="037ef-202">[![die zweite Seite der Daten angezeigt wird.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image20.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-202">[![The Second Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image20.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image19.png)</span></span>

<span data-ttu-id="037ef-203">**Abbildung 9**: die zweite Seite der Daten wird angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-203">**Figure 9**: The Second Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image21.png))</span></span>

## <a name="step-4-creating-the-paging-interface"></a><span data-ttu-id="037ef-204">Schritt 4: Erstellen der Paging-Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="037ef-204">Step 4: Creating the Paging Interface</span></span>

<span data-ttu-id="037ef-205">Es gibt eine Vielzahl von unterschiedlichen Paging-Schnittstellen, die implementiert werden können.</span><span class="sxs-lookup"><span data-stu-id="037ef-205">There are a variety of different paging interfaces that can be implemented.</span></span> <span data-ttu-id="037ef-206">Die Steuerelemente GridView, DetailsView und FormView stellen vier verschiedene Schnittstellen zur Auswahl:</span><span class="sxs-lookup"><span data-stu-id="037ef-206">The GridView, DetailsView, and FormView controls provide four different interfaces to choose among:</span></span>

- <span data-ttu-id="037ef-207">Im nächsten Schritt können **vorherige** Benutzer jeweils eine Seite auf die nächste oder vorherige Seite verschieben.</span><span class="sxs-lookup"><span data-stu-id="037ef-207">**Next, Previous** users can move one page at a time, to either the next or previous one.</span></span>
- <span data-ttu-id="037ef-208">**Next, Previous, First, Last** neben Next und Previous Buttons, enthält diese Schnittstelle die erste und die letzte Schaltfläche, um zur ersten oder letzten Seite zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="037ef-208">**Next, Previous, First, Last** in addition to Next and Previous buttons, this interface includes First and Last buttons for moving to the very first or very last page.</span></span>
- <span data-ttu-id="037ef-209">**Numeric** listet die Seitenzahlen in der Paging-Schnittstelle auf, sodass ein Benutzer schnell zu einer bestimmten Seite springen kann.</span><span class="sxs-lookup"><span data-stu-id="037ef-209">**Numeric** lists the page numbers in the paging interface, allowing a user to quickly jump to a particular page.</span></span>
- <span data-ttu-id="037ef-210">**Numeric, First, Last** zusätzlich zu den numerischen Seitenzahlen, enthält Schaltflächen zum Wechseln zur ersten oder letzten Seite.</span><span class="sxs-lookup"><span data-stu-id="037ef-210">**Numeric, First, Last** in addition to the numeric page numbers, includes buttons for moving to the very first or very last page.</span></span>

<span data-ttu-id="037ef-211">Für DataList und Repeater sind wir für die Entscheidung für eine pagingschnittstelle und deren Implementierung verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="037ef-211">For the DataList and Repeater, we are responsible for deciding upon a paging interface and implementing it.</span></span> <span data-ttu-id="037ef-212">Dies umfasst das Erstellen der erforderlichen websteuer Elemente auf der Seite und das Anzeigen der angeforderten Seite, wenn auf eine bestimmte Paging-Schnittstellen Schaltfläche geklickt wird.</span><span class="sxs-lookup"><span data-stu-id="037ef-212">This involves creating the needed Web controls in the page and displaying the requested page when a particular paging interface button is clicked.</span></span> <span data-ttu-id="037ef-213">Darüber hinaus müssen bestimmte Paging-Schnittstellen Steuerelemente möglicherweise deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-213">Additionally, certain paging interface controls may need to be disabled.</span></span> <span data-ttu-id="037ef-214">Wenn Sie z. b. die erste Seite der Daten mit der nächsten, vorherigen, ersten, letzten Oberfläche anzeigen, sind die Schaltflächen "First" und "Previous" deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="037ef-214">For example, when viewing the first page of data using the Next, Previous, First, Last interface, both the First and Previous buttons would be disabled.</span></span>

<span data-ttu-id="037ef-215">Verwenden Sie für dieses Tutorial die nächste, vorherige, erste und letzte Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="037ef-215">For this tutorial, let s use the Next, Previous, First, Last interface.</span></span> <span data-ttu-id="037ef-216">Fügen Sie der Seite vier Schaltflächen-websteuer Elemente hinzu, und legen Sie deren `ID` s auf `FirstPage`, `PrevPage`, `NextPage`und `LastPage`fest.</span><span class="sxs-lookup"><span data-stu-id="037ef-216">Add four Button Web controls to the page and set their `ID` s to `FirstPage`, `PrevPage`, `NextPage`, and `LastPage`.</span></span> <span data-ttu-id="037ef-217">Legen Sie die `Text` Eigenschaften auf &lt;&lt; First, &lt; Prev, Next &gt;und Last &gt;&gt; fest.</span><span class="sxs-lookup"><span data-stu-id="037ef-217">Set the `Text` properties to &lt;&lt; First, &lt; Prev, Next &gt;, and Last &gt;&gt; .</span></span>

[!code-aspx[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample4.aspx)]

<span data-ttu-id="037ef-218">Erstellen Sie als nächstes einen `Click`-Ereignishandler für jede dieser Schaltflächen.</span><span class="sxs-lookup"><span data-stu-id="037ef-218">Next, create a `Click` event handler for each of these Buttons.</span></span> <span data-ttu-id="037ef-219">In Kürze fügen wir den Code hinzu, der zum Anzeigen der angeforderten Seite erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="037ef-219">In a moment we'll add the code necessary to display the requested page.</span></span>

## <a name="remembering-the-total-number-of-records-being-paged-through"></a><span data-ttu-id="037ef-220">Merken der Gesamtzahl der Datensätze, die durchlaufen werden</span><span class="sxs-lookup"><span data-stu-id="037ef-220">Remembering the Total Number of Records Being Paged Through</span></span>

<span data-ttu-id="037ef-221">Unabhängig davon, welche pagingschnittstelle ausgewählt ist, müssen wir die Gesamtzahl der Datensätze berechnen und merken, die durchlaufen werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-221">Regardless of the paging interface selected, we need to compute and remember the total number of records being paged through.</span></span> <span data-ttu-id="037ef-222">Die Gesamtanzahl der Zeilen (in Verbindung mit der Seitengröße) bestimmt, wie viele Datenseiten durchlaufen werden, wodurch bestimmt wird, welche pagingschnittstellensteuerelemente hinzugefügt oder aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-222">The total row count (in conjunction with the page size) determines how many total pages of data are being paged through, which determines what paging interface controls are added or are enabled.</span></span> <span data-ttu-id="037ef-223">In der nächsten, vorherigen, ersten, letzten Schnittstelle, die wir aufbauen, wird die Seitenzahl auf zweierlei Weise verwendet:</span><span class="sxs-lookup"><span data-stu-id="037ef-223">In the Next, Previous, First, Last interface that we are building, the page count is used in two ways:</span></span>

- <span data-ttu-id="037ef-224">, Um zu bestimmen, ob die letzte Seite angezeigt wird. in diesem Fall sind die Schaltflächen "Next" und "Last" deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="037ef-224">To determine whether we are viewing the last page, in which case the Next and Last buttons are disabled.</span></span>
- <span data-ttu-id="037ef-225">Wenn der Benutzer auf die letzte Schaltfläche klickt, müssen wir Sie auf die letzte Seite setzen, deren Index eine kleiner ist als die Seitenanzahl.</span><span class="sxs-lookup"><span data-stu-id="037ef-225">If the user clicks the Last button we need to whisk them to the last page, whose index is one less than the page count.</span></span>

<span data-ttu-id="037ef-226">Die Seitenanzahl wird als die Obergrenze der Gesamt Zeilen Anzahl dividiert durch die Seitengröße berechnet.</span><span class="sxs-lookup"><span data-stu-id="037ef-226">The page count is calculated as the ceiling of the total row count divided by the page size.</span></span> <span data-ttu-id="037ef-227">Wenn wir beispielsweise ein Paging durch 79 Datensätze mit vier Datensätzen pro Seite durchlaufen, ist die Seitenanzahl 20 (die Obergrenze von 79/4).</span><span class="sxs-lookup"><span data-stu-id="037ef-227">For example, if we are paging through 79 records with four records per page, then the page count is 20 (the ceiling of 79 / 4).</span></span> <span data-ttu-id="037ef-228">Bei Verwendung der numerischen Paging-Schnittstelle informiert uns diese Informationen darüber, wie viele numerische Seiten Schaltflächen angezeigt werden sollen. Wenn unsere pagingschnittstelle die Schaltflächen "Next" oder "Last" enthält, wird die Seitenanzahl verwendet, um zu bestimmen, wann die Schaltflächen für die nächste oder letzte</span><span class="sxs-lookup"><span data-stu-id="037ef-228">If we are using the Numeric paging interface, this information informs us as to how many numeric page buttons to display; if our paging interface includes Next or Last buttons, the page count is used to determine when to disable the Next or Last buttons.</span></span>

<span data-ttu-id="037ef-229">Wenn die pagingschnittstelle eine letzte Schaltfläche enthält, ist es zwingend erforderlich, dass die Gesamtanzahl der Datensätze, die durchlaufen werden, über Postbacks hinweg gespeichert werden, damit wir den letzten Seitenindex ermitteln können, wenn auf die letzte Schaltfläche geklickt wird.</span><span class="sxs-lookup"><span data-stu-id="037ef-229">If the paging interface includes a Last button, it is imperative that the total number of records being paged through be remembered across postbacks so that when the Last button is clicked we can determine the last page index.</span></span> <span data-ttu-id="037ef-230">Um dies zu vereinfachen, erstellen Sie in der Code Behind-Klasse der ASP.net page s eine `TotalRowCount`-Eigenschaft, die den Wert des Ansichts Zustands beibehält:</span><span class="sxs-lookup"><span data-stu-id="037ef-230">To facilitate this, create a `TotalRowCount` property in the ASP.NET page s code-behind class that persists its value to view state:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample5.vb)]

<span data-ttu-id="037ef-231">Zusätzlich zu den `TotalRowCount`nehmen Sie sich eine Minute Zeit, um schreibgeschützte Eigenschaften auf Seitenebene für den einfachen Zugriff auf den Seitenindex, die Seitengröße und die Seitenanzahl zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="037ef-231">In addition to `TotalRowCount`, take a minute to create read-only page-level properties for easily accessing the page index, page size, and page count:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample6.vb)]

## <a name="determining-the-total-number-of-records-being-paged-through"></a><span data-ttu-id="037ef-232">Ermitteln der Gesamtanzahl von Datensätzen, die durchlaufen werden</span><span class="sxs-lookup"><span data-stu-id="037ef-232">Determining the Total Number of Records Being Paged Through</span></span>

<span data-ttu-id="037ef-233">Das `PagedDataSource` Objekt, das von der `Select()`-Methode von ObjectDataSource zurückgegeben wurde, enthält *alle* Produktdaten Sätze, auch wenn nur eine Teilmenge der Elemente in der DataList angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="037ef-233">The `PagedDataSource` object returned from the ObjectDataSource s `Select()` method has within it *all* of the product records, even though only a subset of them are displayed in the DataList.</span></span> <span data-ttu-id="037ef-234">Die `PagedDataSource` s [`Count`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.count.aspx) gibt nur die Anzahl der Elemente zurück, die in DataList angezeigt werden. die [`DataSourceCount`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.datasourcecount.aspx) gibt die Gesamtanzahl der Elemente innerhalb der `PagedDataSource`zurück.</span><span class="sxs-lookup"><span data-stu-id="037ef-234">The `PagedDataSource` s [`Count` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.count.aspx) returns only the number of items that will be displayed in the DataList; the [`DataSourceCount` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.datasourcecount.aspx) returns the total number of items within the `PagedDataSource`.</span></span> <span data-ttu-id="037ef-235">Daher müssen wir die ASP.net page s-Eigenschaft `TotalRowCount`-Eigenschaft den Wert der `PagedDataSource` s-`DataSourceCount`-Eigenschaft zuweisen.</span><span class="sxs-lookup"><span data-stu-id="037ef-235">Therefore, we need to assign the ASP.NET page s `TotalRowCount` property the value of the `PagedDataSource` s `DataSourceCount` property.</span></span>

<span data-ttu-id="037ef-236">Um dies zu erreichen, erstellen Sie einen Ereignishandler für das Ereignis "ObjectDataSource s `Selected`".</span><span class="sxs-lookup"><span data-stu-id="037ef-236">To accomplish this, create an event handler for the ObjectDataSource s `Selected` event.</span></span> <span data-ttu-id="037ef-237">Im `Selected`-Ereignishandler haben wir Zugriff auf den Rückgabewert der ObjectDataSource s `Select()`-Methode, in diesem Fall auf die `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="037ef-237">In the `Selected` event handler we have access to the return value of the ObjectDataSource s `Select()` method in this case, the `PagedDataSource`.</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample7.vb)]

## <a name="displaying-the-requested-page-of-data"></a><span data-ttu-id="037ef-238">Anzeigen der angeforderten Datenseite</span><span class="sxs-lookup"><span data-stu-id="037ef-238">Displaying the Requested Page of Data</span></span>

<span data-ttu-id="037ef-239">Wenn der Benutzer auf eine der Schaltflächen in der Paging-Schnittstelle klickt, muss die angeforderte Seite der Daten angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-239">When the user clicks one of the buttons in the paging interface, we need to display the requested page of data.</span></span> <span data-ttu-id="037ef-240">Da die Paging-Parameter über "QueryString" angegeben werden, um die angeforderte Datenseite anzuzeigen, verwenden Sie `Response.Redirect(url)`, damit der Benutzer die `Paging.aspx` Seite mit den entsprechenden Paging-Parametern erneut anfordert.</span><span class="sxs-lookup"><span data-stu-id="037ef-240">Since the paging parameters are specified via the querystring, to show the requested page of data use `Response.Redirect(url)` to have the user s browser re-request the `Paging.aspx` page with the appropriate paging parameters.</span></span> <span data-ttu-id="037ef-241">Um beispielsweise die zweite Seite der Daten anzuzeigen, leiten wir den Benutzer an `Paging.aspx?pageIndex=1`um.</span><span class="sxs-lookup"><span data-stu-id="037ef-241">For example, to display the second page of data, we would redirect the user to `Paging.aspx?pageIndex=1`.</span></span>

<span data-ttu-id="037ef-242">Um dies zu vereinfachen, erstellen Sie eine `RedirectUser(sendUserToPageIndex)`-Methode, die den Benutzer an `Paging.aspx?pageIndex=sendUserToPageIndex`umleitet.</span><span class="sxs-lookup"><span data-stu-id="037ef-242">To facilitate this, create a `RedirectUser(sendUserToPageIndex)` method that redirects the user to `Paging.aspx?pageIndex=sendUserToPageIndex`.</span></span> <span data-ttu-id="037ef-243">Anschließend wird diese Methode von der vier Schaltfläche `Click` Ereignis Handlern aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="037ef-243">Then, call this method from the four Button `Click` event handlers.</span></span> <span data-ttu-id="037ef-244">Wenden Sie im `FirstPage` `Click`-Ereignishandler `RedirectUser(0)`an, um Sie an die erste Seite zu senden. Verwenden Sie im `PrevPage` `Click`-Ereignishandler `PageIndex - 1` als Seitenindex. Und so weiter.</span><span class="sxs-lookup"><span data-stu-id="037ef-244">In the `FirstPage` `Click` event handler, call `RedirectUser(0)`, to send them to the first page; in the `PrevPage` `Click` event handler, use `PageIndex - 1` as the page index; and so on.</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample8.vb)]

<span data-ttu-id="037ef-245">Mit den `Click` Ereignis Handlern können die DataList s-Datensätze durch Klicken auf die Schaltflächen ausgelagert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-245">With the `Click` event handlers complete, the DataList s records can be paged through by clicking the buttons.</span></span> <span data-ttu-id="037ef-246">Nehmen Sie sich einen Moment Zeit, um es auszuprobieren!</span><span class="sxs-lookup"><span data-stu-id="037ef-246">Take a moment to try it out!</span></span>

## <a name="disabling-paging-interface-controls"></a><span data-ttu-id="037ef-247">Deaktivieren von Paging-Schnittstellen Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="037ef-247">Disabling Paging Interface Controls</span></span>

<span data-ttu-id="037ef-248">Derzeit werden alle vier Schaltflächen unabhängig von der angezeigten Seite aktiviert.</span><span class="sxs-lookup"><span data-stu-id="037ef-248">Currently, all four buttons are enabled regardless of the page being viewed.</span></span> <span data-ttu-id="037ef-249">Wir möchten jedoch die Schaltflächen "First" und "Previous" deaktivieren, wenn die erste Seite der Daten angezeigt wird, und die Schaltflächen "weiter" und "zurück" beim zeigen der letzten Seite.</span><span class="sxs-lookup"><span data-stu-id="037ef-249">However, we want to disable the First and Previous buttons when showing the first page of data, and the Next and Last buttons when showing the last page.</span></span> <span data-ttu-id="037ef-250">Das `PagedDataSource` Objekt, das von der ObjectDataSource s `Select()`-Methode zurückgegeben wird, verfügt über Eigenschaften [`IsFirstPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.isfirstpage.aspx) und [`IsLastPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.islastpage.aspx) , die wir untersuchen können, um zu bestimmen, ob die erste oder letzte Seite der Daten angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="037ef-250">The `PagedDataSource` object returned by the ObjectDataSource s `Select()` method has properties [`IsFirstPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.isfirstpage.aspx) and [`IsLastPage`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pageddatasource.islastpage.aspx) that we can examine to determine if we are viewing the first or last page of data.</span></span>

<span data-ttu-id="037ef-251">Fügen Sie dem Ereignishandler ObjectDataSource s `Selected` Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="037ef-251">Add the following to the ObjectDataSource s `Selected` event handler:</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample9.vb)]

<span data-ttu-id="037ef-252">Mit dieser Addition werden die Schaltflächen "First" und "Previous" deaktiviert, wenn die erste Seite angezeigt wird, während die Schaltflächen "Next" und "Last" beim Anzeigen der letzten Seite deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-252">With this addition, the First and Previous buttons will be disabled when viewing the first page, while the Next and Last buttons will be disabled when viewing the last page.</span></span>

<span data-ttu-id="037ef-253">Schließen Sie die Paging-Schnittstelle ab, indem Sie den Benutzer darüber informieren, welche Seite aktuell angezeigt wird und wie viele Seiten insgesamt vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="037ef-253">Let s complete the paging interface by informing the user what page they re currently viewing and how many total pages exist.</span></span> <span data-ttu-id="037ef-254">Fügen Sie der Seite ein Label-websteuer Element hinzu, und legen Sie dessen `ID`-Eigenschaft auf `CurrentPageNumber`fest.</span><span class="sxs-lookup"><span data-stu-id="037ef-254">Add a Label Web control to the page and set its `ID` property to `CurrentPageNumber`.</span></span> <span data-ttu-id="037ef-255">Legen Sie die `Text`-Eigenschaft im Ereignishandler von ObjectDataSource s so fest, dass die aktuell angezeigte aktuelle Seite (`PageIndex + 1`) und die Gesamtzahl der Seiten (`PageCount`) enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="037ef-255">Set its `Text` property in the ObjectDataSource s Selected event handler such that it includes the current page being viewed (`PageIndex + 1`) and the total number of pages (`PageCount`).</span></span>

[!code-vb[Main](paging-report-data-in-a-datalist-or-repeater-control-vb/samples/sample10.vb)]

<span data-ttu-id="037ef-256">Abbildung 10 zeigt `Paging.aspx` beim ersten Besuch.</span><span class="sxs-lookup"><span data-stu-id="037ef-256">Figure 10 shows `Paging.aspx` when first visited.</span></span> <span data-ttu-id="037ef-257">Da der QueryString-Wert leer ist, zeigt der DataList standardmäßig die ersten vier Produkte an. die Schaltflächen First und Previous sind deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="037ef-257">Since the querystring is empty, the DataList defaults to showing the first four products; the First and Previous buttons are disabled.</span></span> <span data-ttu-id="037ef-258">Wenn Sie auf Weiter klicken, werden die nächsten vier Datensätze angezeigt (siehe Abbildung 11); die Schaltflächen "First" und "Previous" sind jetzt aktiviert.</span><span class="sxs-lookup"><span data-stu-id="037ef-258">Clicking Next displays the next four records (see Figure 11); the First and Previous buttons are now enabled.</span></span>

<span data-ttu-id="037ef-259">[![die erste Seite der Daten angezeigt wird.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image23.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-259">[![The First Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image23.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image22.png)</span></span>

<span data-ttu-id="037ef-260">**Abbildung 10**: die erste Seite der Daten wird angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-260">**Figure 10**: The First Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image24.png))</span></span>

<span data-ttu-id="037ef-261">[![die zweite Seite der Daten angezeigt wird.](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image26.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="037ef-261">[![The Second Page of Data is Displayed](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image26.png)](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image25.png)</span></span>

<span data-ttu-id="037ef-262">**Abbildung 11**: die zweite Seite der Daten wird angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="037ef-262">**Figure 11**: The Second Page of Data is Displayed ([Click to view full-size image](paging-report-data-in-a-datalist-or-repeater-control-vb/_static/image27.png))</span></span>

> [!NOTE]
> <span data-ttu-id="037ef-263">Die Paging-Schnittstelle kann weiter verbessert werden, indem der Benutzer die Anzahl der Seiten angibt, die pro Seite angezeigt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="037ef-263">The paging interface can be further enhanced by allowing the user to specify how many pages to view per page.</span></span> <span data-ttu-id="037ef-264">Beispielsweise könnte eine Dropdown List hinzugefügt werden, die Seitengrößen Optionen wie 5, 10, 25, 50 und alle auflistet.</span><span class="sxs-lookup"><span data-stu-id="037ef-264">For example, a DropDownList could be added listing page size options like 5, 10, 25, 50, and All.</span></span> <span data-ttu-id="037ef-265">Wenn Sie eine Seitengröße auswählen, muss der Benutzer zurück an `Paging.aspx?pageIndex=0&pageSize=selectedPageSize`umgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-265">Upon selecting a page size, the user would need to be redirected back to `Paging.aspx?pageIndex=0&pageSize=selectedPageSize`.</span></span> <span data-ttu-id="037ef-266">Ich lasse diese Erweiterung nicht als Übung für den Reader umsetzen.</span><span class="sxs-lookup"><span data-stu-id="037ef-266">I leave implementing this enhancement as an exercise for the reader.</span></span>

## <a name="using-custom-paging"></a><span data-ttu-id="037ef-267">Verwenden von benutzerdefiniertem Paging</span><span class="sxs-lookup"><span data-stu-id="037ef-267">Using Custom Paging</span></span>

<span data-ttu-id="037ef-268">Die Daten des DataList-Datentyps werden durch die ineffiziente Standard pagingtechnik durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="037ef-268">The DataList pages through its data using the inefficient default paging technique.</span></span> <span data-ttu-id="037ef-269">Beim Paging durch ausreichend große Datenmengen ist es zwingend erforderlich, dass benutzerdefinierte Paginierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-269">When paging through sufficiently large amounts of data, it is imperative that custom paging be used.</span></span> <span data-ttu-id="037ef-270">Obwohl sich die Implementierungsdetails geringfügig unterscheiden, entsprechen die Konzepte hinter der Implementierung von benutzerdefiniertem Paging in einem DataList dem Standard-Paging.</span><span class="sxs-lookup"><span data-stu-id="037ef-270">Although the implementation details differ slightly, the concepts behind implementing custom paging in a DataList are the same as with default paging.</span></span> <span data-ttu-id="037ef-271">Verwenden Sie bei benutzerdefiniertem Paging die `ProductBLL` Klassen-`GetProductsPaged` Methode (anstelle von `GetProductsAsPagedDataSource`).</span><span class="sxs-lookup"><span data-stu-id="037ef-271">With custom paging, use the `ProductBLL` class s `GetProductsPaged` method (instead of `GetProductsAsPagedDataSource`).</span></span> <span data-ttu-id="037ef-272">Wie im Lernprogramm [effizientes Paging durch große Datenmengen](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) erläutert, müssen `GetProductsPaged` den Start Zeilen Index und die maximale Anzahl von Zeilen übergeben, die zurückgegeben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="037ef-272">As discussed in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-vb.md) tutorial, `GetProductsPaged` must be passed the start row index and maximum number of rows to return.</span></span> <span data-ttu-id="037ef-273">Diese Parameter können in der Abfrage Zeichenfolge genau wie die `pageIndex` und `pageSize` Parameter beibehalten werden, die bei der Standard Auslagerung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-273">These parameters can be maintained through the querystring just like the `pageIndex` and `pageSize` parameters used in default paging.</span></span>

<span data-ttu-id="037ef-274">Da es keine `PagedDataSource` mit benutzerdefiniertem Paging gibt, müssen alternative Techniken verwendet werden, um die Gesamtanzahl der Datensätze zu ermitteln, die durchlaufen werden, und ob die erste oder letzte Seite der Daten erneut angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="037ef-274">Since there s no `PagedDataSource` with custom paging, alternative techniques must be used to determine the total number of records being paged through and whether we re displaying the first or last page of data.</span></span> <span data-ttu-id="037ef-275">Die `TotalNumberOfProducts()`-Methode in der `ProductsBLL`-Klasse gibt die Gesamtzahl der Produkte zurück, die durchlaufen werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-275">The `TotalNumberOfProducts()` method in the `ProductsBLL` class returns the total number of products being paged through.</span></span> <span data-ttu-id="037ef-276">Wenn Sie ermitteln möchten, ob die erste Seite der Daten angezeigt wird, untersuchen Sie den Index für die Start Zeile, wenn der Wert 0 (null) ist, dann wird die erste Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="037ef-276">To determine if the first page of data is being viewed, examine the start row index if it is zero, then the first page is being viewed.</span></span> <span data-ttu-id="037ef-277">Die letzte Seite wird angezeigt, wenn der Start Zeilen Index plus die maximal zurück zugebende Zeile größer oder gleich der Gesamtzahl der Datensätze ist, die durchlaufen werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-277">The last page is being viewed if the start row index plus the maximum rows to return is greater than or equal to the total number of records being paged through.</span></span>

<span data-ttu-id="037ef-278">Im nächsten Tutorial erfahren Sie mehr über die Implementierung von benutzerdefiniertem Paging.</span><span class="sxs-lookup"><span data-stu-id="037ef-278">We'll explore implementing custom paging in greater detail in the next tutorial.</span></span>

## <a name="summary"></a><span data-ttu-id="037ef-279">Summary</span><span class="sxs-lookup"><span data-stu-id="037ef-279">Summary</span></span>

<span data-ttu-id="037ef-280">Obwohl weder der DataList noch der Repeater die in den Steuerelementen GridView, DetailsView und FormView gefundene Standard-Pagingunterstützung bietet, können diese Funktionen mit minimalem Aufwand hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-280">While neither the DataList nor Repeater offers the out of the box paging support found in the GridView, DetailsView, and FormView controls, such functionality can be added with minimal effort.</span></span> <span data-ttu-id="037ef-281">Die einfachste Möglichkeit zum Implementieren des Standardpaging besteht darin, den gesamten Satz von Produkten in einem `PagedDataSource` zu umschließen und dann die `PagedDataSource` an den DataList-oder Repeater zu binden.</span><span class="sxs-lookup"><span data-stu-id="037ef-281">The easiest way to implement default paging is to wrap the entire set of products within a `PagedDataSource` and then bind the `PagedDataSource` to the DataList or Repeater.</span></span> <span data-ttu-id="037ef-282">In diesem Tutorial haben wir der `ProductsBLL`-Klasse die `GetProductsAsPagedDataSource`-Methode hinzugefügt, um die `PagedDataSource`zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="037ef-282">In this tutorial we added the `GetProductsAsPagedDataSource` method to the `ProductsBLL` class to return the `PagedDataSource`.</span></span> <span data-ttu-id="037ef-283">Die `ProductsBLL`-Klasse enthält bereits die Methoden, die für das benutzerdefinierte Paging `GetProductsPaged` und `TotalNumberOfProducts`erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="037ef-283">The `ProductsBLL` class already contains the methods needed for custom paging `GetProductsPaged` and `TotalNumberOfProducts`.</span></span>

<span data-ttu-id="037ef-284">Zusammen mit dem Abrufen der exakten Gruppe von Datensätzen, die für das benutzerdefinierte Paging oder alle Datensätze in einer `PagedDataSource` für das standardmäßige Paging angezeigt werden sollen, muss auch die Paging-Schnittstelle manuell hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="037ef-284">Along with retrieving either the precise set of records to display for custom paging or all records in a `PagedDataSource` for default paging, we also need to manually add the paging interface.</span></span> <span data-ttu-id="037ef-285">Für dieses Tutorial haben wir eine nächste, vorherige, erste und letzte Schnittstelle mit vier Schaltflächen-websteuer Elementen erstellt.</span><span class="sxs-lookup"><span data-stu-id="037ef-285">For this tutorial we created a Next, Previous, First, Last interface with four Button Web controls.</span></span> <span data-ttu-id="037ef-286">Außerdem wurde ein Label-Steuerelement angezeigt, das die aktuelle Seitenzahl und die Gesamtzahl der Seiten anzeigt.</span><span class="sxs-lookup"><span data-stu-id="037ef-286">Also, a Label control displaying the current page number and total number of pages was added.</span></span>

<span data-ttu-id="037ef-287">Im nächsten Tutorial erfahren Sie, wie Sie dem DataList und Repeater Sortier Unterstützung hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="037ef-287">In the next tutorial we'll see how to add sorting support to the DataList and Repeater.</span></span> <span data-ttu-id="037ef-288">Wir sehen uns auch an, wie Sie einen DataList erstellen können, der sowohl per Pager als auch sortiert werden kann (mit Beispielen, die die standardmäßige und benutzerdefinierte Auslagerung verwenden).</span><span class="sxs-lookup"><span data-stu-id="037ef-288">We'll also see how to create a DataList that can be both paged and sorted (with examples using default and custom paging).</span></span>

<span data-ttu-id="037ef-289">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="037ef-289">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="037ef-290">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="037ef-290">About the Author</span></span>

<span data-ttu-id="037ef-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="037ef-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="037ef-292">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="037ef-292">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="037ef-293">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="037ef-293">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="037ef-294">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="037ef-294">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="037ef-295">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="037ef-295">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="037ef-296">Besonders vielen Dank</span><span class="sxs-lookup"><span data-stu-id="037ef-296">Special Thanks To</span></span>

<span data-ttu-id="037ef-297">Diese tutorialreihe wurde von vielen hilfreichen Reviewern geprüft.</span><span class="sxs-lookup"><span data-stu-id="037ef-297">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="037ef-298">Führende Prüfer für dieses Tutorial waren Liz shulok, Ken pespisa und Bernadette Leigh.</span><span class="sxs-lookup"><span data-stu-id="037ef-298">Lead reviewers for this tutorial were Liz Shulok, Ken Pespisa, and Bernadette Leigh.</span></span> <span data-ttu-id="037ef-299">Möchten Sie meine bevorstehenden MSDN-Artikel überprüfen?</span><span class="sxs-lookup"><span data-stu-id="037ef-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="037ef-300">Wenn dies der Fall ist, können Sie eine Zeile in [mitchell@4GuysFromRolla.comablegen.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="037ef-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="037ef-301">[Zurück](sorting-data-in-a-datalist-or-repeater-control-cs.md)
> [Weiter](sorting-data-in-a-datalist-or-repeater-control-vb.md)</span><span class="sxs-lookup"><span data-stu-id="037ef-301">[Previous](sorting-data-in-a-datalist-or-repeater-control-cs.md)
[Next](sorting-data-in-a-datalist-or-repeater-control-vb.md)</span></span>
