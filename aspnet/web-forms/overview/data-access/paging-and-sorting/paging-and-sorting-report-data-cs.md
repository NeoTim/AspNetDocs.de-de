---
uid: web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
title: Paging und Sortieren von BerichtsdatenC#() | Microsoft-Dokumentation
author: rick-anderson
description: Paging und Sortierung sind zwei sehr gängige Features, wenn Daten in einer Online Anwendung angezeigt werden. In diesem Tutorial wird zunächst das Hinzufügen von Sortierung und...
ms.author: riande
ms.date: 08/15/2006
ms.assetid: 811a6ef2-ec66-4c8e-a089-6f795056e288
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting/paging-and-sorting-report-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 2f77040316dadc218b8183e52628dc0cfe3b35a1
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74587011"
---
# <a name="paging-and-sorting-report-data-c"></a><span data-ttu-id="6e223-104">Auslagern und Sortieren von Berichtsdaten (C#)</span><span class="sxs-lookup"><span data-stu-id="6e223-104">Paging and Sorting Report Data (C#)</span></span>

<span data-ttu-id="6e223-105">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="6e223-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="6e223-106">[Beispiel-app herunterladen](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) oder [PDF herunterladen](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="6e223-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_24_CS.exe) or [Download PDF](paging-and-sorting-report-data-cs/_static/datatutorial24cs1.pdf)</span></span>

> <span data-ttu-id="6e223-107">Paging und Sortierung sind zwei sehr gängige Features, wenn Daten in einer Online Anwendung angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-107">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="6e223-108">In diesem Tutorial betrachten wir zuerst das Hinzufügen von Sortierung und Paginierung zu unseren Berichten, auf die wir dann in zukünftigen Tutorials aufbauen werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-108">In this tutorial we'll take a first look at adding sorting and paging to our reports, which we will then build upon in future tutorials.</span></span>

## <a name="introduction"></a><span data-ttu-id="6e223-109">Einführung</span><span class="sxs-lookup"><span data-stu-id="6e223-109">Introduction</span></span>

<span data-ttu-id="6e223-110">Paging und Sortierung sind zwei sehr gängige Features, wenn Daten in einer Online Anwendung angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-110">Paging and sorting are two very common features when displaying data in an online application.</span></span> <span data-ttu-id="6e223-111">Wenn Sie z. b. in einem Online Buchhandel nach ASP.net Books suchen, gibt es möglicherweise Hunderte solcher Bücher, aber im Bericht mit den Suchergebnissen werden nur zehn Übereinstimmungen pro Seite aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="6e223-111">For example, when searching for ASP.NET books at an online bookstore, there may be hundreds of such books, but the report listing the search results lists only ten matches per page.</span></span> <span data-ttu-id="6e223-112">Darüber hinaus können die Ergebnisse nach Titel, Preis, Seitenanzahl, Autorenname usw. sortiert werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-112">Moreover, the results can be sorted by title, price, page count, author name, and so on.</span></span> <span data-ttu-id="6e223-113">Während in den letzten 23 Tutorials erläutert wurde, wie eine Vielzahl von Berichten erstellt werden kann, einschließlich Schnittstellen, die das Hinzufügen, bearbeiten und Löschen von Daten ermöglichen, haben wir uns nicht mit dem Sortieren von Daten beschäftigt, und die einzigen Auslagerungs Beispiele, die wir gesehen haben, sind in den DetailsView und FormView enthalten. Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="6e223-113">While the past 23 tutorials have examined how to build a variety of reports, including interfaces that permit adding, editing, and deleting data, we ve not looked at how to sort data and the only paging examples we ve seen have been with the DetailsView and FormView controls.</span></span>

<span data-ttu-id="6e223-114">In diesem Tutorial erfahren Sie, wie Sie den Berichten Sortier-und Paginierung hinzufügen. hierzu können Sie einfach nur ein paar Kontrollkästchen aktivieren.</span><span class="sxs-lookup"><span data-stu-id="6e223-114">In this tutorial we'll see how to add sorting and paging to our reports, which can be accomplished by simply checking a few checkboxes.</span></span> <span data-ttu-id="6e223-115">Leider hat diese vereinfachte Implementierung Nachteile, dass die Sortier Schnittstelle ein wenig zu wünschen übrig lässt, und die pagingroutinen sind nicht für das effiziente Paging durch große Resultsets konzipiert.</span><span class="sxs-lookup"><span data-stu-id="6e223-115">Unfortunately, this simplistic implementation has its drawbacks the sorting interface leaves a bit to be desired and the paging routines are not designed for efficiently paging through large result sets.</span></span> <span data-ttu-id="6e223-116">In zukünftigen Tutorials erfahren Sie, wie Sie die Einschränkungen der sofort Einsatz orientierten Paging-und Sortierungs Lösungen überwinden können.</span><span class="sxs-lookup"><span data-stu-id="6e223-116">Future tutorials will explore how to overcome the limitations of the out-of-the-box paging and sorting solutions.</span></span>

## <a name="step-1-adding-the-paging-and-sorting-tutorial-web-pages"></a><span data-ttu-id="6e223-117">Schritt 1: Hinzufügen der Webseiten für das Paging und das Sortieren von Tutorials</span><span class="sxs-lookup"><span data-stu-id="6e223-117">Step 1: Adding the Paging and Sorting Tutorial Web Pages</span></span>

<span data-ttu-id="6e223-118">Bevor wir mit diesem Tutorial beginnen, nehmen wir uns einen Moment Zeit, um die ASP.NET Seiten hinzuzufügen, die wir für dieses Tutorial benötigen, und die nächsten drei.</span><span class="sxs-lookup"><span data-stu-id="6e223-118">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next three.</span></span> <span data-ttu-id="6e223-119">Erstellen Sie zunächst einen neuen Ordner in dem Projekt mit dem Namen `PagingAndSorting`.</span><span class="sxs-lookup"><span data-stu-id="6e223-119">Start by creating a new folder in the project named `PagingAndSorting`.</span></span> <span data-ttu-id="6e223-120">Fügen Sie anschließend die folgenden fünf ASP.NET-Seiten zu diesem Ordner hinzu, wobei alle für die Verwendung der Master Seite `Site.master`konfiguriert sind:</span><span class="sxs-lookup"><span data-stu-id="6e223-120">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `SimplePagingSorting.aspx`
- `EfficientPaging.aspx`
- `SortParameter.aspx`
- `CustomSortingUI.aspx`

![Erstellen Sie einen pagingandsortier-Ordner, und fügen Sie das Tutorial ASP.net Pages hinzu.](paging-and-sorting-report-data-cs/_static/image1.png)

<span data-ttu-id="6e223-122">**Abbildung 1**: Erstellen eines pagingandsortier-Ordners und Hinzufügen des Tutorials ASP.NET Seiten</span><span class="sxs-lookup"><span data-stu-id="6e223-122">**Figure 1**: Create a PagingAndSorting Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="6e223-123">Öffnen Sie als nächstes die Seite `Default.aspx`, und ziehen Sie das Steuerelement `SectionLevelTutorialListing.ascx` Benutzer aus dem Ordner `UserControls` auf die Entwurfs Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="6e223-123">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="6e223-124">Dieses Benutzer Steuerelement, das wir im Tutorial zu [Master Seiten und zur Website Navigation](../introduction/master-pages-and-site-navigation-cs.md) erstellt haben, listet die Site Map auf und zeigt diese Tutorials im aktuellen Abschnitt in einer Aufzählung an.</span><span class="sxs-lookup"><span data-stu-id="6e223-124">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays those tutorials in the current section in a bulleted list.</span></span>

![Fügen Sie das Benutzer Steuerelement "sectionleveltutoriallisting. ascx" zu "default. aspx" hinzu.](paging-and-sorting-report-data-cs/_static/image2.png)

<span data-ttu-id="6e223-126">**Abbildung 2**: Hinzufügen des Benutzer Steuer Elements "sectionleveltutoriallisting. ascx" zu "default. aspx"</span><span class="sxs-lookup"><span data-stu-id="6e223-126">**Figure 2**: Add the SectionLevelTutorialListing.ascx User Control to Default.aspx</span></span>

<span data-ttu-id="6e223-127">Damit in der Auflistungs Liste die Lernprogramme zum Paging und Sortieren angezeigt werden, die wir erstellen, müssen wir Sie der Site Übersicht hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6e223-127">In order to have the bulleted list display the paging and sorting tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="6e223-128">Öffnen Sie die Datei `Web.sitemap`, und fügen Sie nach dem Bearbeiten, einfügen und Löschen von Site Map-Knoten Markup das folgende Markup hinzu:</span><span class="sxs-lookup"><span data-stu-id="6e223-128">Open the `Web.sitemap` file and add the following markup after the Editing, Inserting, and Deleting site map node markup:</span></span>

[!code-xml[Main](paging-and-sorting-report-data-cs/samples/sample1.xml)]

![Aktualisieren der Site Übersicht, um die neuen ASP.NET-Seiten einzuschließen](paging-and-sorting-report-data-cs/_static/image3.png)

<span data-ttu-id="6e223-130">**Abbildung 3**: Aktualisieren der Site Übersicht, um die neuen ASP.NET-Seiten einzuschließen</span><span class="sxs-lookup"><span data-stu-id="6e223-130">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="step-2-displaying-product-information-in-a-gridview"></a><span data-ttu-id="6e223-131">Schritt 2: Anzeigen von Produktinformationen in einer GridView</span><span class="sxs-lookup"><span data-stu-id="6e223-131">Step 2: Displaying Product Information in a GridView</span></span>

<span data-ttu-id="6e223-132">Bevor wir die Paging-und Sortierungs Funktionen implementieren, sollten Sie zunächst eine standardmäßige, nicht sortierbare GridView erstellen, in der die Produktinformationen aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="6e223-132">Before we actually implement paging and sorting capabilities, let s first create a standard non-sortable, non-pageable GridView that lists the product information.</span></span> <span data-ttu-id="6e223-133">Dies ist eine Aufgabe, die wir schon in dieser tutorialreihe mehrmals durchgeführt haben, damit diese Schritte vertraut sein sollten.</span><span class="sxs-lookup"><span data-stu-id="6e223-133">This is a task we ve done many times before throughout this tutorial series so these steps should be familiar.</span></span> <span data-ttu-id="6e223-134">Öffnen Sie zunächst die Seite `SimplePagingSorting.aspx`, und ziehen Sie ein GridView-Steuerelement aus der Toolbox auf den Designer, und legen Sie dessen `ID`-Eigenschaft auf `Products`fest.</span><span class="sxs-lookup"><span data-stu-id="6e223-134">Start by opening the `SimplePagingSorting.aspx` page and drag a GridView control from the Toolbox onto the Designer, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="6e223-135">Erstellen Sie als nächstes eine neue ObjectDataSource, die die productbll-Klasse s `GetProducts()`-Methode verwendet, um alle Produktinformationen zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="6e223-135">Next, create a new ObjectDataSource that uses the ProductsBLL class s `GetProducts()` method to return all of the product information.</span></span>

![Abrufen von Informationen zu allen Produkten mithilfe der GetProducts ()-Methode](paging-and-sorting-report-data-cs/_static/image4.png)

<span data-ttu-id="6e223-137">**Abbildung 4**: Abrufen von Informationen über alle Produkte mithilfe der GetProducts ()-Methode</span><span class="sxs-lookup"><span data-stu-id="6e223-137">**Figure 4**: Retrieve Information About All of the Products Using the GetProducts() Method</span></span>

<span data-ttu-id="6e223-138">Da es sich bei diesem Bericht um einen schreibgeschützten Bericht handelt, ist es nicht erforderlich, die ObjectDataSource s-`Insert()`, `Update()`-oder `Delete()`-Methoden den entsprechenden `ProductsBLL` Methoden zuzuordnen. Wählen Sie daher in der Dropdown Liste für die Registerkarten aktualisieren, einfügen und löschen die Option (keine) aus.</span><span class="sxs-lookup"><span data-stu-id="6e223-138">Since this report is a read-only report, there s no need to map the ObjectDataSource s `Insert()`, `Update()`, or `Delete()` methods to corresponding `ProductsBLL` methods; therefore, choose (None) from the drop-down list for the UPDATE, INSERT, and DELETE tabs.</span></span>

![Wählen Sie in der Dropdown Liste auf den Registerkarten aktualisieren, einfügen und löschen die Option (keine) aus.](paging-and-sorting-report-data-cs/_static/image5.png)

<span data-ttu-id="6e223-140">**Abbildung 5**: Wählen Sie in der Dropdown Liste auf den Registerkarten aktualisieren, einfügen und löschen die Option (keine) aus.</span><span class="sxs-lookup"><span data-stu-id="6e223-140">**Figure 5**: Choose the (None) Option in the Drop-Down List in the UPDATE, INSERT, and DELETE Tabs</span></span>

<span data-ttu-id="6e223-141">Als nächstes passen Sie die GridView s-Felder so an, dass nur die Produktnamen, Lieferanten, Kategorien, Preise und nicht mehr unterstützten Status angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-141">Next, let s customize the GridView s fields so that only the products names, suppliers, categories, prices, and discontinued statuses are displayed.</span></span> <span data-ttu-id="6e223-142">Darüber hinaus können Sie alle Formatierungs Änderungen auf Feldebene vornehmen, wie z. b. das Anpassen der `HeaderText` Eigenschaften oder das Formatieren des Preises als Währung.</span><span class="sxs-lookup"><span data-stu-id="6e223-142">Furthermore, feel free to make any field-level formatting changes, such as adjusting the `HeaderText` properties or formatting the price as a currency.</span></span> <span data-ttu-id="6e223-143">Nachdem Sie diese Änderungen vorgenommen haben, sollte das deklarative Markup der GridView s in etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="6e223-143">After these changes, your GridView s declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample2.aspx)]

<span data-ttu-id="6e223-144">In Abbildung 6 wird der Fortschritt angezeigt, der in einem Browser angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-144">Figure 6 shows our progress thus far when viewed through a browser.</span></span> <span data-ttu-id="6e223-145">Beachten Sie, dass auf der Seite alle Produkte auf einem Bildschirm aufgeführt werden. dabei werden die Namen, die Kategorie, der Lieferant, der Preis und der Status des jeweiligen Produkts angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6e223-145">Note that the page lists all of the products in one screen, showing each product s name, category, supplier, price, and discontinued status.</span></span>

<span data-ttu-id="6e223-146">[![werden alle Produkte aufgelistet.](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-146">[![Each of the Products are Listed](paging-and-sorting-report-data-cs/_static/image7.png)](paging-and-sorting-report-data-cs/_static/image6.png)</span></span>

<span data-ttu-id="6e223-147">**Abbildung 6**: alle Produkte werden aufgelistet ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="6e223-147">**Figure 6**: Each of the Products are Listed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image8.png))</span></span>

## <a name="step-3-adding-paging-support"></a><span data-ttu-id="6e223-148">Schritt 3: Hinzufügen von Paging-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="6e223-148">Step 3: Adding Paging Support</span></span>

<span data-ttu-id="6e223-149">Das Auflisten *aller* Produkte auf einem Bildschirm kann dazu führen, dass der Benutzer die Daten überlastet.</span><span class="sxs-lookup"><span data-stu-id="6e223-149">Listing *all* of the products on one screen can lead to information overload for the user perusing the data.</span></span> <span data-ttu-id="6e223-150">Damit die Ergebnisse besser verwaltbar werden, können wir die Daten in kleinere Datenseiten unterbrechen und es dem Benutzer ermöglichen, die Datenseiten Weise zu durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="6e223-150">To help make the results more manageable, we can break up the data into smaller pages of data and allow the user to step through the data one page at a time.</span></span> <span data-ttu-id="6e223-151">Um dies zu erreichen, aktivieren Sie einfach das Kontrollkästchen Paging aktivieren aus dem GridView s-Smarttag (Dadurch wird die GridView s [`AllowPaging`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) auf `true`) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6e223-151">To accomplish this simply check the Enable Paging checkbox from the GridView s smart tag (this sets the GridView s [`AllowPaging` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowpaging.aspx) to `true`).</span></span>

<span data-ttu-id="6e223-152">[Aktivieren Sie das Kontrollkästchen Paging aktivieren, um Paging-Unterstützung hinzuzufügen. ![](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-152">[![Check the Enable Paging Checkbox to Add Paging Support](paging-and-sorting-report-data-cs/_static/image10.png)](paging-and-sorting-report-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="6e223-153">**Abbildung 7**: Aktivieren des Kontrollkästchens Paging aktivieren zum Hinzufügen von Pagingunterstützung ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="6e223-153">**Figure 7**: Check the Enable Paging Checkbox to Add Paging Support ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image11.png))</span></span>

<span data-ttu-id="6e223-154">Durch das Aktivieren von Paging wird die Anzahl der pro Seite angezeigten Datensätze begrenzt, und der GridView wird eine *pagingschnittstelle* hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6e223-154">Enabling paging limits the number of records shown per page and adds a *paging interface* to the GridView.</span></span> <span data-ttu-id="6e223-155">Die standardmäßige Paging-Schnittstelle, wie in Abbildung 7 dargestellt, ist eine Reihe von Seitenzahlen, die es dem Benutzer ermöglichen, schnell von einer Datenseite zu einem anderen zu navigieren.</span><span class="sxs-lookup"><span data-stu-id="6e223-155">The default paging interface, shown in Figure 7, is a series of page numbers, allowing the user to quickly navigate from one page of data to another.</span></span> <span data-ttu-id="6e223-156">Diese pagingschnittstelle sollte vertraut aussehen, wie wir Sie beim Hinzufügen von Paging-Unterstützung zu den DetailsView-und FormView-Steuerelementen in früheren Tutorials gesehen haben.</span><span class="sxs-lookup"><span data-stu-id="6e223-156">This paging interface should look familiar, as we ve seen it when adding paging support to the DetailsView and FormView controls in past tutorials.</span></span>

<span data-ttu-id="6e223-157">Sowohl das DetailsView-Steuerelement als auch das FormView-Steuerelement zeigen nur einen Datensatz pro Seite an.</span><span class="sxs-lookup"><span data-stu-id="6e223-157">Both the DetailsView and FormView controls only show a single record per page.</span></span> <span data-ttu-id="6e223-158">Die GridView nimmt jedoch die [`PageSize`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) an, um zu bestimmen, wie viele Datensätze pro Seite angezeigt werden sollen (diese Eigenschaft hat standardmäßig den Wert 10).</span><span class="sxs-lookup"><span data-stu-id="6e223-158">The GridView, however, consults its [`PageSize` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.pagesize.aspx) to determine how many records to show per page (this property defaults to a value of 10).</span></span>

<span data-ttu-id="6e223-159">Diese Schnittstelle "GridView", "DetailsView" und "FormView s Paging" kann mit den folgenden Eigenschaften angepasst werden:</span><span class="sxs-lookup"><span data-stu-id="6e223-159">This GridView, DetailsView, and FormView s paging interface can be customized using the following properties:</span></span>

- <span data-ttu-id="6e223-160">`PagerStyle` die die Stil Informationen für die pagingschnittstelle angibt. kann Einstellungen wie `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`usw. angeben.</span><span class="sxs-lookup"><span data-stu-id="6e223-160">`PagerStyle` indicates the style information for the paging interface; can specify settings like `BackColor`, `ForeColor`, `CssClass`, `HorizontalAlign`, and so on.</span></span>
- <span data-ttu-id="6e223-161">`PagerSettings` enthält eine Reihe von Eigenschaften, die die Funktionalität der Paging-Schnittstelle anpassen können. `PageButtonCount` gibt die maximale Anzahl numerischer Seitenzahlen an, die in der Paging-Schnittstelle angezeigt werden (der Standardwert ist 10). die [`Mode`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) gibt an, wie die Paging-Schnittstelle funktioniert und kann auf festgelegt werden:</span><span class="sxs-lookup"><span data-stu-id="6e223-161">`PagerSettings` contains a bevy of properties that can customize the functionality of the paging interface; `PageButtonCount` indicates the maximum number of numeric page numbers displayed in the paging interface (the default is 10); the [`Mode` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.pagersettings.mode.aspx) indicates how the paging interface operates and can be set to:</span></span> 

    - <span data-ttu-id="6e223-162">`NextPrevious` zeigt eine Schaltfläche "weiter" und "zurück" an, die es dem Benutzer ermöglicht, eine Seite einzeln vorwärts oder rückwärts zu verschieben.</span><span class="sxs-lookup"><span data-stu-id="6e223-162">`NextPrevious` shows a Next and Previous buttons, allowing the user to step forwards or backwards one page at a time</span></span>
    - <span data-ttu-id="6e223-163">`NextPreviousFirstLast` zusätzlich zu den Schaltflächen weiter und zurück sind auch die Schaltflächen First und Last enthalten, die es dem Benutzer ermöglichen, schnell zur ersten oder letzten Seite der Daten zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="6e223-163">`NextPreviousFirstLast` in addition to Next and Previous buttons, First and Last buttons are also included, allowing the user to quickly move to the first or last page of data</span></span>
    - <span data-ttu-id="6e223-164">`Numeric` zeigt eine Reihe von Seitenzahlen an, sodass der Benutzer sofort zu jeder Seite springen kann.</span><span class="sxs-lookup"><span data-stu-id="6e223-164">`Numeric` shows a series of page numbers, allowing the user to immediately jump to any page</span></span>
    - <span data-ttu-id="6e223-165">`NumericFirstLast` zusätzlich zu den Seitenzahlen enthält die Schaltflächen "First" und "Last", die es dem Benutzer ermöglichen, schnell zur ersten oder letzten Seite der Daten zu wechseln. die ersten/letzten Schaltflächen werden nur angezeigt, wenn alle numerischen Seitenzahlen nicht passen.</span><span class="sxs-lookup"><span data-stu-id="6e223-165">`NumericFirstLast` in addition to the page numbers, includes First and Last buttons, allowing the user to quickly move to the first or last page of data; the First/Last buttons are only shown if all of the numeric page numbers cannot fit</span></span>

<span data-ttu-id="6e223-166">Außerdem bieten GridView, DetailsView und FormView alle die Eigenschaften `PageIndex` und `PageCount`, die angeben, welche aktuelle Seite angezeigt wird, und die Gesamtzahl der Datenseiten.</span><span class="sxs-lookup"><span data-stu-id="6e223-166">Moreover, the GridView, DetailsView, and FormView all offer the `PageIndex` and `PageCount` properties, which indicate the current page being viewed and the total number of pages of data, respectively.</span></span> <span data-ttu-id="6e223-167">Die `PageIndex`-Eigenschaft wird beginnend mit 0 indiziert. Dies bedeutet, dass beim Anzeigen der ersten Datenseite `PageIndex` gleich 0 ist.</span><span class="sxs-lookup"><span data-stu-id="6e223-167">The `PageIndex` property is indexed starting at 0, meaning that when viewing the first page of data `PageIndex` will equal 0.</span></span> <span data-ttu-id="6e223-168">`PageCount`hingegen beginnt bei 1, was bedeutet, dass `PageIndex` auf die Werte zwischen 0 und `PageCount - 1`beschränkt ist.</span><span class="sxs-lookup"><span data-stu-id="6e223-168">`PageCount`, on the other hand, starts counting at 1, meaning that `PageIndex` is limited to the values between 0 and `PageCount - 1`.</span></span>

<span data-ttu-id="6e223-169">Nehmen Sie sich einen Moment Zeit, um die Standarddarstellung der GridView-Paging-Schnittstelle zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="6e223-169">Let s take a moment to improve the default appearance of our GridView s paging interface.</span></span> <span data-ttu-id="6e223-170">Lassen Sie die Paging-Schnittstelle insbesondere an einem hellgrauen Hintergrund ausrichten.</span><span class="sxs-lookup"><span data-stu-id="6e223-170">Specifically, let s have the paging interface right-aligned with a light gray background.</span></span> <span data-ttu-id="6e223-171">Anstatt diese Eigenschaften direkt über die GridView s `PagerStyle`-Eigenschaft festzulegen, erstellen Sie eine CSS-Klasse in `Styles.css` mit dem Namen `PagerRowStyle` und weisen dann die `PagerStyle` s `CssClass`-Eigenschaft über das Design zu.</span><span class="sxs-lookup"><span data-stu-id="6e223-171">Rather than setting these properties directly through the GridView s `PagerStyle` property, let s create a CSS class in `Styles.css` named `PagerRowStyle` and then assign the `PagerStyle` s `CssClass` property through our Theme.</span></span> <span data-ttu-id="6e223-172">Öffnen Sie zunächst `Styles.css`, und fügen Sie die folgende CSS-Klassendefinition hinzu:</span><span class="sxs-lookup"><span data-stu-id="6e223-172">Start by opening `Styles.css` and adding the following CSS class definition:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample3.css)]

<span data-ttu-id="6e223-173">Öffnen Sie als nächstes die Datei `GridView.skin` im Ordner `DataWebControls` im Ordner `App_Themes`.</span><span class="sxs-lookup"><span data-stu-id="6e223-173">Next, open the `GridView.skin` file in the `DataWebControls` folder within the `App_Themes` folder.</span></span> <span data-ttu-id="6e223-174">Wie im Lernprogramm zu *Master Seiten und der Website Navigation* erläutert, können mithilfe von Skin-Dateien die Standardeigenschaftswerte für ein websteuer Element angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-174">As we discussed in the *Master Pages and Site Navigation* tutorial, Skin files can be used to specify the default property values for a Web control.</span></span> <span data-ttu-id="6e223-175">Erweitern Sie daher die vorhandenen Einstellungen so, dass Sie das Festlegen der `PagerStyle` s `CssClass`-Eigenschaft auf `PagerRowStyle`einschließen.</span><span class="sxs-lookup"><span data-stu-id="6e223-175">Therefore, augment the existing settings to include setting the `PagerStyle` s `CssClass` property to `PagerRowStyle`.</span></span> <span data-ttu-id="6e223-176">Konfigurieren Sie außerdem die Paging-Schnittstelle so, dass höchstens fünf numerische Seiten Schaltflächen mithilfe der `NumericFirstLast` pagingschnittstelle angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-176">Also, let s configure the paging interface to show at most five numeric page buttons using the `NumericFirstLast` paging interface.</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample4.aspx)]

## <a name="the-paging-user-experience"></a><span data-ttu-id="6e223-177">Auslagerungs Benutzer</span><span class="sxs-lookup"><span data-stu-id="6e223-177">The Paging User Experience</span></span>

<span data-ttu-id="6e223-178">Abbildung 8 zeigt die Webseite, wenn Sie über einen Browser besucht werden, nachdem das Kontrollkästchen Aktivieren von GridView s aktiviert wurde und die `PagerStyle`-und `PagerSettings` Konfigurationen über die `GridView.skin`-Datei vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="6e223-178">Figure 8 shows the web page when visited through a browser after the GridView s Enable Paging checkbox has been checked and the `PagerStyle` and `PagerSettings` configurations have been made through the `GridView.skin` file.</span></span> <span data-ttu-id="6e223-179">Beachten Sie, dass nur zehn Datensätze angezeigt werden und die Paging-Schnittstelle anzeigt, dass die erste Seite der Daten angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-179">Note how only ten records are shown, and the paging interface indicates that we are viewing the first page of data.</span></span>

<span data-ttu-id="6e223-180">[![bei aktiviertem Paging wird jeweils nur eine Teilmenge der Datensätze angezeigt.](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-180">[![With Paging Enabled, Only a Subset of the Records are Displayed at a Time](paging-and-sorting-report-data-cs/_static/image13.png)](paging-and-sorting-report-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="6e223-181">**Abbildung 8**: bei aktiviertem Paging werden jeweils nur eine Teilmenge der Datensätze angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="6e223-181">**Figure 8**: With Paging Enabled, Only a Subset of the Records are Displayed at a Time ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image14.png))</span></span>

<span data-ttu-id="6e223-182">Wenn der Benutzer auf eine der Seitennummern in der pagingschnittstelle klickt, wird ein Postback durchführt, und die Seite wird erneut geladen, sodass die angeforderten Seiten Einträge angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-182">When the user clicks on one of the page numbers in the paging interface, a postback ensues and the page reloads showing that requested page s records.</span></span> <span data-ttu-id="6e223-183">Abbildung 9 zeigt die Ergebnisse nach der Entscheidung, die letzte Datenseite anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6e223-183">Figure 9 shows the results after opting to view the final page of data.</span></span> <span data-ttu-id="6e223-184">Beachten Sie, dass die letzte Seite nur einen Datensatz enthält. Dies liegt daran, dass insgesamt 81 Datensätze vorhanden sind, was zu acht Seiten mit 10 Datensätzen pro Seite und einer Seite mit einem einzelnen Datensatz führt.</span><span class="sxs-lookup"><span data-stu-id="6e223-184">Notice that the final page only has one record; this is because there are 81 records in total, resulting in eight pages of 10 records per page plus one page with a lone record.</span></span>

<span data-ttu-id="6e223-185">[![klicken auf eine Seitenzahl verursacht ein Postback und zeigt die entsprechende Teilmenge der Datensätze an.](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-185">[![Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records](paging-and-sorting-report-data-cs/_static/image16.png)](paging-and-sorting-report-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="6e223-186">**Abbildung 9**: Klicken auf eine Seitenzahl verursacht ein Postback und zeigt die entsprechende Teilmenge der Datensätze[an (Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="6e223-186">**Figure 9**: Clicking On a Page Number Causes a Postback and Shows the Appropriate Subset of Records ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image17.png))</span></span>

## <a name="paging-s-server-side-workflow"></a><span data-ttu-id="6e223-187">Server seitiger Paging-Workflow</span><span class="sxs-lookup"><span data-stu-id="6e223-187">Paging s Server-Side Workflow</span></span>

<span data-ttu-id="6e223-188">Wenn der Endbenutzer auf eine Schaltfläche in der pagingschnittstelle klickt, folgt ein Postback, und der folgende serverseitige Workflow beginnt:</span><span class="sxs-lookup"><span data-stu-id="6e223-188">When the end user clicks on a button in the paging interface, a postback ensues and the following server-side workflow begins:</span></span>

1. <span data-ttu-id="6e223-189">Die GridView s-(oder DetailsView-oder FormView)-`PageIndexChanging` Ereignis wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="6e223-189">The GridView s (or DetailsView or FormView) `PageIndexChanging` event fires</span></span>
2. <span data-ttu-id="6e223-190">Die ObjectDataSource fordert *alle* Daten aus der BLL erneut an. die Eigenschaften Werte GridView s `PageIndex` und `PageSize` werden verwendet, um zu bestimmen, welche Datensätze von der BLL in der GridView angezeigt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="6e223-190">The ObjectDataSource re-requests *all* of the data from the BLL; the GridView s `PageIndex` and `PageSize` property values are used to determine what records returned from the BLL need to be displayed in the GridView</span></span>
3. <span data-ttu-id="6e223-191">Das GridView s `PageIndexChanged`-Ereignis wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="6e223-191">The GridView s `PageIndexChanged` event fires</span></span>

<span data-ttu-id="6e223-192">In Schritt 2 fordert ObjectDataSource alle Daten aus der Datenquelle erneut an.</span><span class="sxs-lookup"><span data-stu-id="6e223-192">In Step 2, the ObjectDataSource re-requests all of the data from its data source.</span></span> <span data-ttu-id="6e223-193">Diese Art von Paginierung wird häufig als *standardpaginierung*bezeichnet, da es sich dabei um das Pagingverhalten handelt, das beim Festlegen der `AllowPaging`-Eigenschaft auf `true`standardmäßig verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-193">This style of paging is commonly referred to as *default paging*, as it s the paging behavior used by default when setting the `AllowPaging` property to `true`.</span></span> <span data-ttu-id="6e223-194">Beim standardaging Ruft das datenweb Steuerelement alle Datensätze für jede Datenseite ab, obwohl tatsächlich nur eine Teilmenge der Datensätze in das HTML-Format gerendert wird, das an den Browser gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-194">With default paging the data Web control naively retrieves all records for each page of data, even though only a subset of records are actually rendered into the HTML that s sent to the browser.</span></span> <span data-ttu-id="6e223-195">Wenn die Datenbankdaten nicht von der BLL-oder ObjectDataSource zwischengespeichert werden, ist das standardmäßige Paging für ausreichend große Resultsets oder für Webanwendungen mit vielen gleichzeitigen Benutzern nicht praktikabel.</span><span class="sxs-lookup"><span data-stu-id="6e223-195">Unless the database data is cached by the BLL or ObjectDataSource, default paging is unworkable for sufficiently large result sets or for web applications with many concurrent users.</span></span>

<span data-ttu-id="6e223-196">Im nächsten Tutorial wird erläutert, wie *benutzerdefiniertes Paging*implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-196">In the next tutorial we'll examine how to implement *custom paging*.</span></span> <span data-ttu-id="6e223-197">Mit benutzerdefiniertem Paging können Sie ObjectDataSource ausdrücklich anweisen, nur den genauen Satz von Datensätzen abzurufen, der für die angeforderte Datenseite benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-197">With custom paging you can specifically instruct the ObjectDataSource to only retrieve the precise set of records needed for the requested page of data.</span></span> <span data-ttu-id="6e223-198">Wie Sie sich vorstellen können, verbessert das benutzerdefinierte Paging die Effizienz beim Paging durch große Resultsets erheblich.</span><span class="sxs-lookup"><span data-stu-id="6e223-198">As you can imagine, custom paging greatly improves the efficiency of paging through large result sets.</span></span>

> [!NOTE]
> <span data-ttu-id="6e223-199">Beim Paging durch ausreichend große Resultsets oder für Standorte mit vielen gleichzeitigen Benutzern ist das Paging standardmäßig nicht geeignet. Beachten Sie jedoch, dass das benutzerdefinierte Paging mehr Änderungen und Aufwand für die Implementierung erfordert und nicht so einfach ist wie das Aktivieren eines Kontrollkästchens (Standardeinstellung). Paging).</span><span class="sxs-lookup"><span data-stu-id="6e223-199">While default paging is not suitable when paging through sufficiently large result sets or for sites with many simultaneous users, realize that custom paging requires more changes and effort to implement and is not as simple as checking a checkbox (as is default paging).</span></span> <span data-ttu-id="6e223-200">Aus diesem Grund ist das standardmäßige Paging möglicherweise die ideale Wahl für kleine Websites mit geringem Datenverkehr oder beim Paging durch relativ kleine Resultsets, da es wesentlich einfacher und schneller zu implementieren ist.</span><span class="sxs-lookup"><span data-stu-id="6e223-200">Therefore, default paging may be the ideal choice for small, low-traffic websites or when paging through relatively small result sets, as it s much easier and quicker to implement.</span></span>

<span data-ttu-id="6e223-201">Wenn wir z. b. wissen, dass wir nie mehr als 100 Produkte in unserer Datenbank haben, ist die minimale Leistungssteigerung durch das benutzerdefinierte Paging wahrscheinlich durch den Aufwand ausgeglichen, der für die Implementierung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="6e223-201">For example, if we know that we'll never have more than 100 products in our database, the minimal performance gain enjoyed by custom paging is likely offset by the effort required to implement it.</span></span> <span data-ttu-id="6e223-202">Wenn es jedoch möglich ist, dass ein Tag Tausende oder Zehntausende von Produkten hat, wird die Skalierbarkeit unserer Anwendung durch *die Implementierung von* benutzerdefiniertem Paging erheblich beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="6e223-202">If, however, we may one day have thousands or tens of thousands of products, *not* implementing custom paging would greatly hamper the scalability of our application.</span></span>

## <a name="step-4-customizing-the-paging-experience"></a><span data-ttu-id="6e223-203">Schritt 4: Anpassen der Paginierung</span><span class="sxs-lookup"><span data-stu-id="6e223-203">Step 4: Customizing the Paging Experience</span></span>

<span data-ttu-id="6e223-204">Die datenweb Steuerelemente bieten eine Reihe von Eigenschaften, die verwendet werden können, um das Auslagern von Benutzern zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="6e223-204">The data Web controls provide a number of properties that can be used to enhance the user s paging experience.</span></span> <span data-ttu-id="6e223-205">Die `PageCount`-Eigenschaft gibt beispielsweise an, wie viele Seiten insgesamt vorhanden sind, während die `PageIndex`-Eigenschaft die aktuelle Seite angibt, die besucht wird, und kann so festgelegt werden, dass ein Benutzer schnell zu einer bestimmten Seite verschoben wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-205">The `PageCount` property, for example, indicates how many total pages there are, while the `PageIndex` property indicates the current page being visited and can be set to quickly move a user to a specific page.</span></span> <span data-ttu-id="6e223-206">Um zu veranschaulichen, wie diese Eigenschaften verwendet werden, um die Benutzer-Paginierung zu verbessern, können Sie der Seite ein Label-websteuer Element hinzufügen, mit dem der Benutzer informiert wird, welche Seite Sie zurzeit besuchen, sowie ein Dropdown List-Steuerelement, mit dem Sie schnell zu einer bestimmten Seite springen können. .</span><span class="sxs-lookup"><span data-stu-id="6e223-206">To illustrate how to use these properties to improve upon the user s paging experience, let s add a Label Web control to our page that informs the user what page they re currently visiting, along with a DropDownList control that allows them to quickly jump to any given page.</span></span>

<span data-ttu-id="6e223-207">Fügen Sie zunächst der Seite ein Label-websteuer Element hinzu, legen Sie die `ID`-Eigenschaft auf `PagingInformation`fest, und löschen Sie die `Text`-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="6e223-207">First, add a Label Web control to your page, set its `ID` property to `PagingInformation`, and clear out its `Text` property.</span></span> <span data-ttu-id="6e223-208">Erstellen Sie als nächstes einen Ereignishandler für das GridView s `DataBound`-Ereignis, und fügen Sie den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="6e223-208">Next, create an event handler for the GridView s `DataBound` event and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample5.cs)]

<span data-ttu-id="6e223-209">Dieser Ereignishandler weist die `PagingInformation` Bezeichnung s `Text` Eigenschaft einer Nachricht zu, die den Benutzer darüber informiert, dass die Seite, auf der er gerade besucht wird, `Products.PageIndex + 1` aus der Anzahl der Gesamt Seiten `Products.PageIndex` `Products.PageCount`.</span><span class="sxs-lookup"><span data-stu-id="6e223-209">This event handler assigns the `PagingInformation` Label s `Text` property to a message informing the user the page they are currently visiting `Products.PageIndex + 1` out of how many total pages `Products.PageCount` (we add 1 to the `Products.PageIndex` property because `PageIndex` is indexed starting at 0).</span></span> <span data-ttu-id="6e223-210">Im Gegensatz zum `PageIndexChanged`-Ereignishandler habe ich die `Text`-Eigenschaft "This-Bezeichnung zuweisen" im `DataBound`-Ereignishandler gewählt, da das `DataBound`-Ereignis jedes Mal ausgelöst wird, wenn Daten an die GridView gebunden werden, während der `PageIndexChanged`-Ereignishandler nur ausgelöst wird, wenn der Seitenindex geändert wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-210">I chose the assign this Label s `Text` property in the `DataBound` event handler as opposed to the `PageIndexChanged` event handler because the `DataBound` event fires every time data is bound to the GridView whereas the `PageIndexChanged` event handler only fires when the page index is changed.</span></span> <span data-ttu-id="6e223-211">Wenn das GridView-Ereignis anfänglich Daten gebunden ist, wird das `PageIndexChanging`-Ereignis nicht ausgelöst (während das `DataBound`-Ereignis).</span><span class="sxs-lookup"><span data-stu-id="6e223-211">When the GridView is initially data bound on the first page visit, the `PageIndexChanging` event doesn t fire (whereas the `DataBound` event does).</span></span>

<span data-ttu-id="6e223-212">Mit dieser Addition wird dem Benutzer nun eine Meldung angezeigt, die angibt, welche Seite Sie besuchen und wie viele Daten auf dem Datenblatt vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="6e223-212">With this addition, the user is now shown a message indicating what page they are visiting and how many total pages of data there are.</span></span>

<span data-ttu-id="6e223-213">[![die aktuelle Seitenzahl und die Gesamtzahl der Seiten angezeigt.](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-213">[![The Current Page Number and Total Number of Pages are Displayed](paging-and-sorting-report-data-cs/_static/image19.png)](paging-and-sorting-report-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="6e223-214">**Abbildung 10**: die aktuelle Seitenzahl und die Gesamtzahl der Seiten werden angezeigt ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="6e223-214">**Figure 10**: The Current Page Number and Total Number of Pages are Displayed ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image20.png))</span></span>

<span data-ttu-id="6e223-215">Zusätzlich zum Label-Steuerelement können Sie auch ein Dropdown List-Steuerelement hinzufügen, das die Seitenzahlen in der GridView mit der aktuell angezeigten Seite auflistet.</span><span class="sxs-lookup"><span data-stu-id="6e223-215">In addition to the Label control, let s also add a DropDownList control that lists the page numbers in the GridView with the currently viewed page selected.</span></span> <span data-ttu-id="6e223-216">Die Idee besteht darin, dass der Benutzer schnell von der aktuellen Seite zu einer anderen springen kann, indem er einfach den Index für die neue Seite aus der Dropdown Liste auswählt.</span><span class="sxs-lookup"><span data-stu-id="6e223-216">The idea here is that the user can quickly jump from the current page to another by simply selecting the new page index from the DropDownList.</span></span> <span data-ttu-id="6e223-217">Fügen Sie zunächst dem Designer eine Dropdown Liste hinzu, und legen Sie dessen `ID`-Eigenschaft auf `PageList` und die Option "AutoPostBack aktivieren" aus dem Smarttag fest.</span><span class="sxs-lookup"><span data-stu-id="6e223-217">Start by adding a DropDownList to the Designer, setting its `ID` property to `PageList` and checking the Enable AutoPostBack option from its smart tag.</span></span>

<span data-ttu-id="6e223-218">Kehren Sie als nächstes zum `DataBound`-Ereignishandler zurück, und fügen Sie den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="6e223-218">Next, return to the `DataBound` event handler and add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample6.cs)]

<span data-ttu-id="6e223-219">Dieser Code beginnt mit dem Löschen der Elemente in der Dropdown Liste `PageList`.</span><span class="sxs-lookup"><span data-stu-id="6e223-219">This code begins by clearing out the items in the `PageList` DropDownList.</span></span> <span data-ttu-id="6e223-220">Dies mag überflüssig erscheinen, da nicht erwartet wird, dass sich die Anzahl der Seiten ändert, andere Benutzer das System aber gleichzeitig verwenden, um Datensätze aus der `Products` Tabelle hinzuzufügen oder daraus zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="6e223-220">This may seem superfluous, since one wouldn't expect the number of pages to change, but other users may be using the system simultaneously, adding or removing records from the `Products` table.</span></span> <span data-ttu-id="6e223-221">Solche Einfügungen oder Löschungen können die Anzahl der Datenseiten ändern.</span><span class="sxs-lookup"><span data-stu-id="6e223-221">Such insertions or deletions could alter the number of pages of data.</span></span>

<span data-ttu-id="6e223-222">Als nächstes müssen wir die Seitenzahlen erneut erstellen und die Zuordnung zur aktuellen GridView-`PageIndex`, die standardmäßig ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="6e223-222">Next, we need to create the page numbers again and have the one that maps to the current GridView `PageIndex` selected by default.</span></span> <span data-ttu-id="6e223-223">Dies erreichen Sie mit einer Schleife zwischen 0 und `PageCount - 1`, Hinzufügen eines neuen `ListItem` in jeder Iterationen und Festlegen seiner `Selected`-Eigenschaft auf true, wenn der aktuelle Iterations Index der GridView s-`PageIndex` Eigenschaft entspricht.</span><span class="sxs-lookup"><span data-stu-id="6e223-223">We accomplish this with a loop from 0 to `PageCount - 1`, adding a new `ListItem` in each iteration and setting its `Selected` property to true if the current iteration index equals the GridView s `PageIndex` property.</span></span>

<span data-ttu-id="6e223-224">Schließlich müssen wir einen Ereignishandler für das DropDownList s `SelectedIndexChanged`-Ereignis erstellen, das jedes Mal ausgelöst wird, wenn der Benutzer ein anderes Element aus der Liste auswählt.</span><span class="sxs-lookup"><span data-stu-id="6e223-224">Finally, we need to create an event handler for the DropDownList s `SelectedIndexChanged` event, which fires each time the user pick a different item from the list.</span></span> <span data-ttu-id="6e223-225">Wenn Sie diesen Ereignishandler erstellen möchten, doppelklicken Sie einfach auf die Dropdown Liste im Designer, und fügen Sie dann den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="6e223-225">To create this event handler, simply double-click the DropDownList in the Designer, then add the following code:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample7.cs)]

<span data-ttu-id="6e223-226">Wie in Abbildung 11 gezeigt, bewirkt das Ändern der Eigenschaft "GridView s `PageIndex`", dass die Daten an die GridView-Ansicht zurückgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-226">As Figure 11 shows, merely changing the GridView s `PageIndex` property causes the data to be rebound to the GridView.</span></span> <span data-ttu-id="6e223-227">Im GridView s `DataBound`-Ereignishandler wird der entsprechende DropDownList-`ListItem` ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6e223-227">In the GridView s `DataBound` event handler, the appropriate DropDownList `ListItem` is selected.</span></span>

<span data-ttu-id="6e223-228">[![wird der Benutzer beim Auswählen des Dropdown-Listen Elements page 6 automatisch auf die sechste Seite gebracht.](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-228">[![The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item](paging-and-sorting-report-data-cs/_static/image22.png)](paging-and-sorting-report-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="6e223-229">**Abbildung 11**: der Benutzer wird beim Auswählen des Dropdown-Listen Elements der Seite 6 automatisch auf die sechste Seite gebracht ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image23.png)).</span><span class="sxs-lookup"><span data-stu-id="6e223-229">**Figure 11**: The User is Automatically Taken to the Sixth Page When Selecting the Page 6 Drop-Down List Item ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image23.png))</span></span>

## <a name="step-5-adding-bi-directional-sorting-support"></a><span data-ttu-id="6e223-230">Schritt 5: Hinzufügen von Unterstützung für bidirektionale Sortierung</span><span class="sxs-lookup"><span data-stu-id="6e223-230">Step 5: Adding Bi-Directional Sorting Support</span></span>

<span data-ttu-id="6e223-231">Das Hinzufügen von Unterstützung für bidirektionale Sortierungen ist so einfach wie das Hinzufügen von Paging-Unterstützung. Aktivieren Sie einfach die Option zum Aktivieren der Sortierung aus dem GridView s-Smarttag (mit dem die GridView s `true`[`AllowSorting`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx)</span><span class="sxs-lookup"><span data-stu-id="6e223-231">Adding bi-directional sorting support is as simple as adding paging support simply check the Enable Sorting option from the GridView s smart tag (which sets the GridView s [`AllowSorting` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.allowsorting.aspx) to `true`).</span></span> <span data-ttu-id="6e223-232">Dadurch werden alle Header der GridView s-Felder als LinkButtons gerendert. Wenn Sie darauf klicken, wird ein Postback ausgelöst, und die Daten werden in aufsteigender Reihenfolge nach der angeklickten Spalte sortiert.</span><span class="sxs-lookup"><span data-stu-id="6e223-232">This renders each of the headers of the GridView s fields as LinkButtons that, when clicked, cause a postback and return the data sorted by the clicked column in ascending order.</span></span> <span data-ttu-id="6e223-233">Durch Klicken auf denselben Header Link Button werden die Daten erneut in absteigender Reihenfolge sortiert.</span><span class="sxs-lookup"><span data-stu-id="6e223-233">Clicking the same header LinkButton again re-sorts the data in descending order.</span></span>

> [!NOTE]
> <span data-ttu-id="6e223-234">Wenn Sie anstelle eines typisierten Datasets eine benutzerdefinierte Datenzugriffs Schicht verwenden, verfügen Sie möglicherweise nicht über eine Option zum Aktivieren der Sortierung im GridView-Smarttag.</span><span class="sxs-lookup"><span data-stu-id="6e223-234">If you are using a custom Data Access Layer rather than a Typed DataSet, you may not have an Enable Sorting option in the GridView s smart tag.</span></span> <span data-ttu-id="6e223-235">Dieses Kontrollkästchen ist nur für GridViews verfügbar, die an Datenquellen gebunden sind, die das Sortieren unterstützen.</span><span class="sxs-lookup"><span data-stu-id="6e223-235">Only GridViews bound to data sources that natively support sorting have this checkbox available.</span></span> <span data-ttu-id="6e223-236">Das typisierte DataSet bietet eine sofort einstufige Sortier Unterstützung, da ADO.net datdatababel eine `Sort` Methode bereitstellt, die beim Aufrufen die Datentyp DataRows mithilfe der angegebenen Kriterien sortiert.</span><span class="sxs-lookup"><span data-stu-id="6e223-236">The Typed DataSet provides out-of-the-box sorting support since the ADO.NET DataTable provides a `Sort` method that, when invoked, sorts the DataTable s DataRows using the criteria specified.</span></span>

<span data-ttu-id="6e223-237">Wenn die DAL keine Objekte zurückgibt, die das Sortieren unterstützen, müssen Sie ObjectDataSource so konfigurieren, dass Sortierungs Informationen an die Geschäftslogik Schicht übergeben werden, die entweder die Daten sortieren oder die Daten nach der dal Sortierungen lassen können.</span><span class="sxs-lookup"><span data-stu-id="6e223-237">If your DAL does not return objects that natively support sorting you will need to configure the ObjectDataSource to pass sorting information to the Business Logic Layer, which can either sort the data or have the data sorted by the DAL.</span></span> <span data-ttu-id="6e223-238">In einem zukünftigen Tutorial wird erläutert, wie Daten in der Geschäftslogik und in den Datenzugriffs Schichten sortiert werden.</span><span class="sxs-lookup"><span data-stu-id="6e223-238">We'll explore how to sort data at the Business Logic and Data Access Layers in a future tutorial.</span></span>

<span data-ttu-id="6e223-239">Die Sortierungs Link Schaltflächen werden als HTML-Hyperlinks gerendert, deren aktuelle Farben (blau für einen nicht besuchten Link und ein dunkles roter für einen besuchten Link) mit der Hintergrundfarbe der Kopfzeile.</span><span class="sxs-lookup"><span data-stu-id="6e223-239">The sorting LinkButtons are rendered as HTML hyperlinks, whose current colors (blue for an unvisited link and a dark red for a visited link) clash with the background color of the header row.</span></span> <span data-ttu-id="6e223-240">Verwenden Sie stattdessen, dass alle Header Zeilen Links weiß angezeigt werden, unabhängig davon, ob Sie besucht wurden oder nicht.</span><span class="sxs-lookup"><span data-stu-id="6e223-240">Instead, let s have all header row links displayed in white, regardless of whether they ve been visited or not.</span></span> <span data-ttu-id="6e223-241">Dies kann erreicht werden, indem der `Styles.css`-Klasse Folgendes hinzugefügt wird:</span><span class="sxs-lookup"><span data-stu-id="6e223-241">This can be accomplished by adding the following to the `Styles.css` class:</span></span>

[!code-css[Main](paging-and-sorting-report-data-cs/samples/sample8.css)]

<span data-ttu-id="6e223-242">Diese Syntax gibt an, dass beim Anzeigen dieser Hyperlinks in einem Element, das die Header Style-Klasse verwendet, weißer Text verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="6e223-242">This syntax indicates to use white text when displaying those hyperlinks within an element that uses the HeaderStyle class.</span></span>

<span data-ttu-id="6e223-243">Wenn Sie die Seite über einen Browser besuchen, sollte der Bildschirm nach dieser CSS-Addition ähnlich wie in Abbildung 12 aussehen.</span><span class="sxs-lookup"><span data-stu-id="6e223-243">After this CSS addition, when visiting the page through a browser your screen should look similar to Figure 12.</span></span> <span data-ttu-id="6e223-244">In Abbildung 12 werden die Ergebnisse angezeigt, nachdem auf den Header Link "Price Field s" geklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="6e223-244">In particular, Figure 12 shows the results after the Price field s header link has been clicked.</span></span>

<span data-ttu-id="6e223-245">[![werden die Ergebnisse nach UnitPrice in aufsteigender Reihenfolge sortiert.](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-245">[![The Results Have Been Sorted by the UnitPrice in Ascending Order](paging-and-sorting-report-data-cs/_static/image25.png)](paging-and-sorting-report-data-cs/_static/image24.png)</span></span>

<span data-ttu-id="6e223-246">**Abbildung 12**: die Ergebnisse wurden nach UnitPrice in aufsteigender Reihenfolge sortiert ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="6e223-246">**Figure 12**: The Results Have Been Sorted by the UnitPrice in Ascending Order ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image26.png))</span></span>

## <a name="examining-the-sorting-workflow"></a><span data-ttu-id="6e223-247">Untersuchen des Sortier Workflows</span><span class="sxs-lookup"><span data-stu-id="6e223-247">Examining the Sorting Workflow</span></span>

<span data-ttu-id="6e223-248">Alle GridView-Felder "BoundField", "CheckBoxField", "TemplateField" usw. verfügen über eine `SortExpression`-Eigenschaft, die den Ausdruck angibt, der zum Sortieren der Daten verwendet werden soll, wenn auf den Link zum Sortieren des Felds "s" geklickt wird.</span><span class="sxs-lookup"><span data-stu-id="6e223-248">All GridView fields the BoundField, CheckBoxField, TemplateField, and so on have a `SortExpression` property that indicates the expression that should be used to sort the data when that field s sorting header link is clicked.</span></span> <span data-ttu-id="6e223-249">Die GridView verfügt auch über eine `SortExpression`-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="6e223-249">The GridView also has a `SortExpression` property.</span></span> <span data-ttu-id="6e223-250">Wenn auf einen LinkButton für Sortier Header geklickt wird, weist das GridView-Objekt der `SortExpression`-Eigenschaft `SortExpression` Wert zu.</span><span class="sxs-lookup"><span data-stu-id="6e223-250">When a sorting header LinkButton is clicked, the GridView assigns that field s `SortExpression` value to its `SortExpression` property.</span></span> <span data-ttu-id="6e223-251">Anschließend werden die Daten aus der ObjectDataSource erneut abgerufen und entsprechend der GridView s-`SortExpression`-Eigenschaft sortiert.</span><span class="sxs-lookup"><span data-stu-id="6e223-251">Next, the data is re-retrieved from the ObjectDataSource and sorted according to the GridView s `SortExpression` property.</span></span> <span data-ttu-id="6e223-252">In der folgenden Liste sind die Schritte aufgeführt, die ausgeführt werden, wenn ein Endbenutzer die Daten in einer GridView-Ansicht sortiert:</span><span class="sxs-lookup"><span data-stu-id="6e223-252">The following list details the sequence of steps that transpires when an end user sorts the data in a GridView:</span></span>

1. <span data-ttu-id="6e223-253">Das GridView s- [Sortier Ereignis](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="6e223-253">The GridView s [Sorting event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorting(VS.80).aspx) fires</span></span>
2. <span data-ttu-id="6e223-254">Die GridView s [`SortExpression`-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) wird auf die `SortExpression` des Felds festgelegt, dessen Sortier Schaltfläche LinkButton angeklickt wurde.</span><span class="sxs-lookup"><span data-stu-id="6e223-254">The GridView s [`SortExpression` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sortexpression.aspx) is set to the `SortExpression` of the field whose sorting header LinkButton was clicked</span></span>
3. <span data-ttu-id="6e223-255">Die ObjectDataSource Ruft alle Daten aus der BLL erneut ab und sortiert die Daten dann mithilfe der GridView s-`SortExpression`</span><span class="sxs-lookup"><span data-stu-id="6e223-255">The ObjectDataSource re-retrieves all of the data from the BLL and then sorts the data using the GridView s `SortExpression`</span></span>
4. <span data-ttu-id="6e223-256">Die GridView s `PageIndex`-Eigenschaft wird auf 0 zurückgesetzt. Dies bedeutet, dass beim Sortieren der Benutzer zur ersten Datenseite zurückgegeben wird (vorausgesetzt, dass die Unterstützung für die Paginierung implementiert wurde).</span><span class="sxs-lookup"><span data-stu-id="6e223-256">The GridView s `PageIndex` property is reset to 0, meaning that when sorting the user is returned to the first page of data (assuming paging support has been implemented)</span></span>
5. <span data-ttu-id="6e223-257">Das GridView s [`Sorted`-Ereignis](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="6e223-257">The GridView s [`Sorted` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sorted(VS.80).aspx) fires</span></span>

<span data-ttu-id="6e223-258">Wie bei default Paging werden von der Standard Sortieroption *alle* Datensätze aus der BLL erneut abgerufen.</span><span class="sxs-lookup"><span data-stu-id="6e223-258">Like with default paging, the default sorting option re-retrieves *all* of the records from the BLL.</span></span> <span data-ttu-id="6e223-259">Bei der Verwendung von Sortierung ohne Paging oder bei Verwendung der Sortierung mit Standardpaging gibt es keine Möglichkeit, diesen Leistungs Treffer (kurz vor dem Zwischenspeichern der Datenbankdaten) zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="6e223-259">When using sorting without paging or when using sorting with default paging, there s no way to circumvent this performance hit (short of caching the database data).</span></span> <span data-ttu-id="6e223-260">Wie wir in einem zukünftigen Tutorial sehen werden, ist es jedoch möglich, Daten bei Verwendung von benutzerdefiniertem Paging effizient zu sortieren.</span><span class="sxs-lookup"><span data-stu-id="6e223-260">However, as we'll see in a future tutorial, it s possible to efficiently sort data when using custom paging.</span></span>

<span data-ttu-id="6e223-261">Beim Binden von ObjectDataSource an das GridView-Objekt in der Dropdown Liste im GridView s-Smarttag erhält jedes GridView-Feld automatisch seine `SortExpression`-Eigenschaft, die dem Namen des Datenfelds in der `ProductsRow`-Klasse zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="6e223-261">When binding an ObjectDataSource to the GridView through the drop-down list in the GridView s smart tag, each GridView field automatically has its `SortExpression` property assigned to the name of the data field in the `ProductsRow` class.</span></span> <span data-ttu-id="6e223-262">Beispielsweise wird die `ProductName` BoundField s-`SortExpression` auf `ProductName`festgelegt, wie im folgenden deklarativen Markup gezeigt:</span><span class="sxs-lookup"><span data-stu-id="6e223-262">For example, the `ProductName` BoundField s `SortExpression` is set to `ProductName`, as shown in the following declarative markup:</span></span>

[!code-aspx[Main](paging-and-sorting-report-data-cs/samples/sample9.aspx)]

<span data-ttu-id="6e223-263">Ein Feld kann so konfiguriert werden, dass es nicht sortiert werden kann, indem seine `SortExpression`-Eigenschaft gelöscht wird (die Zuweisung zu einer leeren Zeichenfolge).</span><span class="sxs-lookup"><span data-stu-id="6e223-263">A field can be configured so that it s not sortable by clearing out its `SortExpression` property (assigning it to an empty string).</span></span> <span data-ttu-id="6e223-264">Um dies zu veranschaulichen, stellen Sie sich vor, dass wir nicht möchten, dass unsere Kunden unsere Produkte nach Preis sortieren.</span><span class="sxs-lookup"><span data-stu-id="6e223-264">To illustrate this, imagine that we didn't want to let our customers sort our products by price.</span></span> <span data-ttu-id="6e223-265">Die Eigenschaft "`UnitPrice` BoundField s `SortExpression`" kann entweder aus dem deklarativen Markup oder über das Dialogfeld "Felder" entfernt werden (auf das Sie zugreifen können, indem Sie auf den Link Spalten bearbeiten im smarttaggridview s klicken).</span><span class="sxs-lookup"><span data-stu-id="6e223-265">The `UnitPrice` BoundField s `SortExpression` property can be removed either from the declarative markup or through the Fields dialog box (which is accessible by clicking on the Edit Columns link in the GridView s smart tag).</span></span>

![Die Ergebnisse wurden nach UnitPrice in aufsteigender Reihenfolge sortiert.](paging-and-sorting-report-data-cs/_static/image27.png)

<span data-ttu-id="6e223-267">**Abbildung 13**: die Ergebnisse wurden nach UnitPrice in aufsteigender Reihenfolge sortiert.</span><span class="sxs-lookup"><span data-stu-id="6e223-267">**Figure 13**: The Results Have Been Sorted by the UnitPrice in Ascending Order</span></span>

<span data-ttu-id="6e223-268">Nachdem die `SortExpression`-Eigenschaft für das `UnitPrice` BoundField entfernt wurde, wird der Header als Text und nicht als Link gerendert, sodass Benutzer die Daten nicht nach Preis sortieren können.</span><span class="sxs-lookup"><span data-stu-id="6e223-268">Once the `SortExpression` property has been removed for the `UnitPrice` BoundField, the header is rendered as text rather than as a link, thereby preventing users from sorting the data by price.</span></span>

<span data-ttu-id="6e223-269">[![durch Entfernen der SortExpression-Eigenschaft können Benutzer die Produkte nicht mehr nach Preis sortieren.](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-269">[![By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price](paging-and-sorting-report-data-cs/_static/image29.png)](paging-and-sorting-report-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="6e223-270">**Abbildung 14**: indem die SortExpression-Eigenschaft entfernt wird, können Benutzer die Produkte nicht mehr nach Preis sortieren ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image30.png)).</span><span class="sxs-lookup"><span data-stu-id="6e223-270">**Figure 14**: By Removing the SortExpression Property, Users Can No Longer Sort the Products By Price ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image30.png))</span></span>

## <a name="programmatically-sorting-the-gridview"></a><span data-ttu-id="6e223-271">Programm gesteuertes Sortieren der GridView</span><span class="sxs-lookup"><span data-stu-id="6e223-271">Programmatically Sorting the GridView</span></span>

<span data-ttu-id="6e223-272">Sie können den Inhalt der GridView auch Programm gesteuert sortieren, indem Sie die GridView s- [`Sort`-Methode](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx)verwenden.</span><span class="sxs-lookup"><span data-stu-id="6e223-272">You can also sort the contents of the GridView programmatically by using the GridView s [`Sort` method](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.sort.aspx).</span></span> <span data-ttu-id="6e223-273">Übergeben Sie einfach den `SortExpression` Wert, um den Wert zusammen mit dem [`SortDirection`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` oder `Descending`) zu sortieren, und die GridView s-Daten werden neu sortiert.</span><span class="sxs-lookup"><span data-stu-id="6e223-273">Simply pass in the `SortExpression` value to sort by along with the [`SortDirection`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.sortdirection.aspx) (`Ascending` or `Descending`), and the GridView s data will be re-sorted.</span></span>

<span data-ttu-id="6e223-274">Stellen Sie sich vor, dass der Grund, warum wir das Sortieren durch den `UnitPrice` deaktiviert haben, darauf zurückzuführen ist, dass unsere Kunden einfach nur die Produkte mit dem niedrigsten Preis kaufen würden.</span><span class="sxs-lookup"><span data-stu-id="6e223-274">Imagine that the reason we turned off sorting by the `UnitPrice` was because we were worried that our customers would simply buy only the lowest-priced products.</span></span> <span data-ttu-id="6e223-275">Wir möchten Sie jedoch ermutigen, die teuersten Produkte zu kaufen. Wir möchten also, dass Sie die Produkte nach Preis sortieren können, aber nur vom teuersten Preis bis zum geringsten Preis.</span><span class="sxs-lookup"><span data-stu-id="6e223-275">However, we want to encourage them to buy the most expensive products, so we d like them to be able to sort the products by price, but only from the most expensive price to the least.</span></span>

<span data-ttu-id="6e223-276">Um dies zu erreichen, fügen Sie der Seite ein Schaltflächen-websteuer Element hinzu, legen Sie dessen `ID`-Eigenschaft auf `SortPriceDescending`und die `Text`-Eigenschaft auf nach Preis sortieren fest.</span><span class="sxs-lookup"><span data-stu-id="6e223-276">To accomplish this add a Button Web control to the page, set its `ID` property to `SortPriceDescending`, and its `Text` property to Sort by Price.</span></span> <span data-ttu-id="6e223-277">Erstellen Sie als nächstes einen Ereignishandler für die Schaltfläche s `Click` Ereignis, indem Sie im Designer auf das Schaltflächen-Steuerelement doppelklicken.</span><span class="sxs-lookup"><span data-stu-id="6e223-277">Next, create an event handler for the Button s `Click` event by double-clicking the Button control in the Designer.</span></span> <span data-ttu-id="6e223-278">Fügen Sie diesem Ereignishandler den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="6e223-278">Add the following code to this event handler:</span></span>

[!code-csharp[Main](paging-and-sorting-report-data-cs/samples/sample10.cs)]

<span data-ttu-id="6e223-279">Wenn Sie auf diese Schaltfläche klicken, wird der Benutzer auf die erste Seite mit den nach Preis sortierten Produkten zurückgegeben (siehe Abbildung 15).</span><span class="sxs-lookup"><span data-stu-id="6e223-279">Clicking this Button returns the user to the first page with the products sorted by price, from most expensive to least expensive (see Figure 15).</span></span>

<span data-ttu-id="6e223-280">[Wenn Sie ![auf die Schaltfläche klicken, werden die Produkte von der teuersten zum geringsten](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="6e223-280">[![Clicking the Button Orders the Products From the Most Expensive to the Least](paging-and-sorting-report-data-cs/_static/image32.png)](paging-and-sorting-report-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="6e223-281">**Abbildung 15**: durch Klicken auf die Schaltfläche werden die Produkte von der teuersten zum geringsten ([Klicken Sie, um das Bild in voller Größe anzuzeigen](paging-and-sorting-report-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="6e223-281">**Figure 15**: Clicking the Button Orders the Products From the Most Expensive to the Least ([Click to view full-size image](paging-and-sorting-report-data-cs/_static/image33.png))</span></span>

## <a name="summary"></a><span data-ttu-id="6e223-282">Summary</span><span class="sxs-lookup"><span data-stu-id="6e223-282">Summary</span></span>

<span data-ttu-id="6e223-283">In diesem Tutorial haben Sie erfahren, wie Sie standardmäßige Paging-und Sortierungs Funktionen implementieren, die beide so einfach sind wie das Aktivieren eines Kontrollkästchens.</span><span class="sxs-lookup"><span data-stu-id="6e223-283">In this tutorial we saw how to implement default paging and sorting capabilities, both of which were as easy as checking a checkbox!</span></span> <span data-ttu-id="6e223-284">Wenn ein Benutzerdaten sortiert oder durchläuft, wird ein ähnlicher Workflow entwickelt:</span><span class="sxs-lookup"><span data-stu-id="6e223-284">When a user sorts or pages through data, a similar workflow unfolds:</span></span>

1. <span data-ttu-id="6e223-285">Ein Postback folgt.</span><span class="sxs-lookup"><span data-stu-id="6e223-285">A postback ensues</span></span>
2. <span data-ttu-id="6e223-286">Das Data Web Control s-Ereignis vor der Ebene wird ausgelöst (`PageIndexChanging` oder `Sorting`).</span><span class="sxs-lookup"><span data-stu-id="6e223-286">The data Web control s pre-level event fires (`PageIndexChanging` or `Sorting`)</span></span>
3. <span data-ttu-id="6e223-287">Alle Daten werden von ObjectDataSource erneut abgerufen.</span><span class="sxs-lookup"><span data-stu-id="6e223-287">All of the data is re-retrieved by the ObjectDataSource</span></span>
4. <span data-ttu-id="6e223-288">Das Data Web Control s-Ereignis nach der Ebene wird ausgelöst (`PageIndexChanged` oder `Sorted`)</span><span class="sxs-lookup"><span data-stu-id="6e223-288">The data Web control s post-level event fires (`PageIndexChanged` or `Sorted`)</span></span>

<span data-ttu-id="6e223-289">Die Implementierung von basiertem Paging und Sortieren ist ein Kinderspiel, aber es muss mehr Aufwand unternommen werden, um das effizientere benutzerdefinierte Paging zu nutzen oder die Paging-oder Sortierungs Schnittstelle weiter zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="6e223-289">While implementing basic paging and sorting is a breeze, more effort must be exerted to utilize the more efficient custom paging or to further enhance the paging or sorting interface.</span></span> <span data-ttu-id="6e223-290">In zukünftigen Tutorials werden diese Themen behandelt.</span><span class="sxs-lookup"><span data-stu-id="6e223-290">Future tutorials will explore these topics.</span></span>

<span data-ttu-id="6e223-291">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="6e223-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="6e223-292">Informationen zum Autor</span><span class="sxs-lookup"><span data-stu-id="6e223-292">About the Author</span></span>

<span data-ttu-id="6e223-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor der sieben ASP/ASP. net-Bücher und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), hat seit 1998 mit Microsoft-Webtechnologien gearbeitet.</span><span class="sxs-lookup"><span data-stu-id="6e223-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="6e223-294">Scott arbeitet als unabhängiger Berater, Ausbilder und Writer.</span><span class="sxs-lookup"><span data-stu-id="6e223-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="6e223-295">Sein letztes Buch ist [*Sams Teach Yourself ASP.NET 2,0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="6e223-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="6e223-296">Er kann übermitchell@4GuysFromRolla.comerreicht werden [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="6e223-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="6e223-297">oder über seinen Blog finden Sie unter [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="6e223-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="6e223-298">Nächste</span><span class="sxs-lookup"><span data-stu-id="6e223-298">Next</span></span>](efficiently-paging-through-large-amounts-of-data-cs.md)
