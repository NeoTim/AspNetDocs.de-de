---
uid: web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
title: Ausführen einer What if Bereitstellung | Microsoft-Dokumentation
author: jrjlee
description: In diesem Thema wird beschrieben, wie Sie mit dem Internetinformationsdienste (IIS)-Webbereitstellungs Tool (Web deploy) und V...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: c711b453-01ac-4e65-a48c-93d99bf22e58
msc.legacyurl: /web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
msc.type: authoredcontent
ms.openlocfilehash: 73a0e038cc0d4ebae0ffc8ed3fd2de4c9dad673c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78510333"
---
# <a name="performing-a-what-if-deployment"></a><span data-ttu-id="471b2-103">Durchführen einer simulierten Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="471b2-103">Performing a "What If" Deployment</span></span>

<span data-ttu-id="471b2-104">von [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="471b2-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="471b2-105">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="471b2-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="471b2-106">In diesem Thema wird beschrieben, wie Sie mit dem Internetinformationsdienste (IIS)-Webbereitstellungs Tool (Web deploy) und VSDBCmd "Was-wäre-wenn-bereit Stellungen" (oder simulierte) bereit Stellungen ausführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-106">This topic describes how to perform "what if" (or simulated) deployments using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) and VSDBCMD.</span></span> <span data-ttu-id="471b2-107">Auf diese Weise können Sie die Auswirkungen der Bereitstellungs Logik auf eine bestimmte Zielumgebung ermitteln, bevor Sie Ihre Anwendung tatsächlich bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="471b2-107">This lets you determine the effects of your deployment logic on a particular target environment before you actually deploy your application.</span></span>

<span data-ttu-id="471b2-108">Dieses Thema ist Teil einer Reihe von Tutorials, basierend auf den Anforderungen an die Unternehmens Bereitstellung eines fiktiven Unternehmens namens Fabrikam, Inc. In dieser tutorialreihe wird&#x2014;eine Beispiellösung der [Contact Manager-Lösung](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;verwendet, um eine Webanwendung mit einem realistischen Komplexitäts Grad darzustellen, einschließlich einer ASP.NET MVC 3-Anwendung, eines Windows Communication Foundation (WCF)-Diensts und eines Datenbankprojekts.</span><span class="sxs-lookup"><span data-stu-id="471b2-108">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="471b2-109">Die Bereitstellungs Methode im Kern dieser Tutorials basiert auf dem Untergrund Legendes [zur Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md)beschriebenen Ansatz zum Aufteilen von Projektdateien, bei dem der Build-und Bereitstellungs Prozess von zwei Projekt&#x2014;Dateien gesteuert wird, die Buildanweisungen enthalten, die für jede Zielumgebung gelten, und eine mit Umgebungs spezifischen Build-und Bereitstellungs Einstellungen.</span><span class="sxs-lookup"><span data-stu-id="471b2-109">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build and deployment process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="471b2-110">Zum Zeitpunkt der Erstellung wird die Umgebungs spezifische Projektdatei in der Umgebungs unabhängigen Projektdatei zusammengeführt, um einen kompletten Satz von Buildanweisungen zu bilden.</span><span class="sxs-lookup"><span data-stu-id="471b2-110">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="performing-a-what-if-deployment-for-web-packages"></a><span data-ttu-id="471b2-111">Ausführen einer "What if"-Bereitstellung für Webpakete</span><span class="sxs-lookup"><span data-stu-id="471b2-111">Performing a "What If" Deployment for Web Packages</span></span>

<span data-ttu-id="471b2-112">Web deploy enthält Funktionen, mit denen Sie bereit Stellungen im "Was-wäre-wenn"-Modus (oder im Test Modus) ausführen können.</span><span class="sxs-lookup"><span data-stu-id="471b2-112">Web Deploy includes functionality that lets you perform deployments in "what if" (or trial) mode.</span></span> <span data-ttu-id="471b2-113">Wenn Sie Artefakte im "Was-wäre-wenn"-Modus bereitstellen, generiert Web deploy eine Protokolldatei, als ob Sie die Bereitstellung durchgeführt hätten, aber auf dem Zielserver ändert sich nichts.</span><span class="sxs-lookup"><span data-stu-id="471b2-113">When you deploy artifacts in "what if" mode, Web Deploy generates a log file as if you had performed the deployment, but it doesn't actually change anything on the destination server.</span></span> <span data-ttu-id="471b2-114">Wenn Sie die Protokolldatei überprüfen, können Sie besser verstehen, welche Auswirkung Ihre Bereitstellung auf dem Zielserver hat. Dies gilt insbesondere für:</span><span class="sxs-lookup"><span data-stu-id="471b2-114">Reviewing the log file can help you to understand what impact your deployment will have on the destination server, in particular:</span></span>

- <span data-ttu-id="471b2-115">Das, was hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="471b2-115">What will get added.</span></span>
- <span data-ttu-id="471b2-116">Was wird aktualisiert...</span><span class="sxs-lookup"><span data-stu-id="471b2-116">What will get updated.</span></span>
- <span data-ttu-id="471b2-117">Was wird gelöscht?</span><span class="sxs-lookup"><span data-stu-id="471b2-117">What will get deleted.</span></span>

<span data-ttu-id="471b2-118">Da eine "Was-wäre-wenn"-Bereitstellung nichts auf dem Zielserver ändert, kann nicht immer vorhergesagt werden, ob eine Bereitstellung erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="471b2-118">Because a "what if" deployment doesn't actually change anything on the destination server, what it can't always do is predict whether a deployment will succeed.</span></span>

<span data-ttu-id="471b2-119">Wie unter Bereitstellen von [Webpaketen](../web-deployment-in-the-enterprise/deploying-web-packages.md)beschrieben, können Sie Webpakete mithilfe von Web deploy auf&#x2014;zwei Arten bereitstellen, indem Sie das Befehlszeilen-Hilfsprogramm "msbereitstellungs. exe" direkt verwenden oder indem Sie die vom Buildprozess generierte Datei " *.* Bereitstellungs Datei" ausführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-119">As described in [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md), you can deploy web packages using Web Deploy in two ways&#x2014;by using the MSDeploy.exe command-line utility directly or by running the *.deploy.cmd* file that the build process generates.</span></span>

<span data-ttu-id="471b2-120">Wenn Sie msdeployment. exe direkt verwenden, können Sie eine "Was-wäre-wenn"-Bereitstellung ausführen, indem Sie dem Befehl das Flag **– WhatIf** hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="471b2-120">If you're using MSDeploy.exe directly, you can run a "what if" deployment by adding the **–whatif** flag to your command.</span></span> <span data-ttu-id="471b2-121">Wenn Sie beispielsweise auswerten möchten, was geschieht, wenn Sie das Paket "ContactManager. MVC. zip" in einer Stagingumgebung bereitgestellt haben, sollte der msbereitstellungs-Befehl wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="471b2-121">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package to a staging environment, the MSDeploy command should resemble this:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample1.cmd)]

<span data-ttu-id="471b2-122">Wenn Sie mit den Ergebnissen der "Was-wäre-wenn"-Bereitstellung zufrieden sind, können Sie das Flag " **– WhatIf** " entfernen, um eine Live Bereitstellung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-122">When you're satisfied with the results of your "what if" deployment, you can remove the **–whatif** flag to run a live deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="471b2-123">Weitere Informationen zu Befehlszeilenoptionen für "msbereitstellungs. exe" finden Sie unter [Web deploy Vorgangs Einstellungen](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="471b2-123">For more information on command-line options for MSDeploy.exe, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>

<span data-ttu-id="471b2-124">Wenn Sie die Datei " *. Deployment. cmd* " verwenden, können Sie eine "Was-wäre-wenn"-Bereitstellung durchführen, indem Sie das Flag " **/t** Flag (Testmodus)" anstelle des **/y** -Flags ("yes" oder "Update") in den Befehl einschließen.</span><span class="sxs-lookup"><span data-stu-id="471b2-124">If you're using the *.deploy.cmd* file, you can run a "what if" deployment by including the **/t** flag (trial mode) flag instead of the **/y** flag ("yes," or update mode) in your command.</span></span> <span data-ttu-id="471b2-125">Wenn Sie beispielsweise auswerten möchten, was geschieht, wenn Sie das Paket "ContactManager. MVC. zip" durch Ausführen der Datei ". Bereitstellungs *. cmd* " bereitgestellt haben, sollte der Befehl wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="471b2-125">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package by running the *.deploy.cmd* file, your command should resemble this:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample2.cmd)]

<span data-ttu-id="471b2-126">Wenn Sie mit den Ergebnissen der "Test Modus"-Bereitstellung zufrieden sind, können Sie das **/t** -Flag durch ein **/y** -Flag ersetzen, um eine Live Bereitstellung auszuführen:</span><span class="sxs-lookup"><span data-stu-id="471b2-126">When you're satisfied with the results of your "trial mode" deployment, you can replace the **/t** flag with a **/y** flag to run a live deployment:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample3.cmd)]

> [!NOTE]
> <span data-ttu-id="471b2-127">Weitere Informationen zu Befehlszeilenoptionen für. Bereitstellen von *cmd* -Dateien finden Sie unter Gewusst [wie: Installieren eines Bereitstellungs Pakets mit der Datei "Deployment. cmd](https://msdn.microsoft.com/library/ff356104.aspx)".</span><span class="sxs-lookup"><span data-stu-id="471b2-127">For more information on command-line options for *.deploy.cmd* files, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="471b2-128">Wenn Sie die *. cmd* -Datei ohne Angabe von Flags ausführen, wird in der Eingabeaufforderung eine Liste der verfügbaren Flags angezeigt.</span><span class="sxs-lookup"><span data-stu-id="471b2-128">If you run the *.deploy.cmd* file without specifying any flags, the command prompt will display a list of available flags.</span></span>

## <a name="performing-a-what-if-deployment-for-databases"></a><span data-ttu-id="471b2-129">Ausführen einer "What if"-Bereitstellung für Datenbanken</span><span class="sxs-lookup"><span data-stu-id="471b2-129">Performing a "What If" Deployment for Databases</span></span>

<span data-ttu-id="471b2-130">In diesem Abschnitt wird davon ausgegangen, dass Sie mit dem Hilfsprogramm VSDBCmd eine inkrementelle, Schema basierte Daten Bank Bereitstellung ausführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-130">This section assumes that you're using the VSDBCMD utility to perform incremental, schema-based database deployment.</span></span> <span data-ttu-id="471b2-131">Diese Vorgehensweise wird in Bereitstellen von [Datenbankprojekten](../web-deployment-in-the-enterprise/deploying-database-projects.md)ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="471b2-131">This approach is described in more detail in [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="471b2-132">Wir empfehlen Ihnen, sich mit diesem Thema vertraut zu machen, bevor Sie die hier beschriebenen Konzepte anwenden.</span><span class="sxs-lookup"><span data-stu-id="471b2-132">We recommend that you familiarize yourself with this topic before you apply the concepts described here.</span></span>

<span data-ttu-id="471b2-133">Wenn Sie VSDBCmd im **Bereitstellungs Modus** verwenden, können Sie das Flag **/DD** (oder **/DeployToDatabase**) verwenden, um zu steuern, ob die Datenbank tatsächlich von VSDBCMD bereitgestellt wird oder nur ein Bereitstellungs Skript generiert wird.</span><span class="sxs-lookup"><span data-stu-id="471b2-133">When you use VSDBCMD in **Deploy** mode, you can use the **/dd** (or **/DeployToDatabase**) flag to control whether VSDBCMD actually deploys the database or just generates a deployment script.</span></span> <span data-ttu-id="471b2-134">Wenn Sie eine dbschema-Datei bereitstellen, ist dies das folgende Verhalten:</span><span class="sxs-lookup"><span data-stu-id="471b2-134">If you're deploying a .dbschema file, this is the behavior:</span></span>

- <span data-ttu-id="471b2-135">Wenn Sie **/DD +** oder **/DD**angeben, generiert VSDBCmd ein Bereitstellungs Skript und stellt die Datenbank bereit.</span><span class="sxs-lookup"><span data-stu-id="471b2-135">If you specify **/dd+** or **/dd**, VSDBCMD will generate a deployment script and deploy the database.</span></span>
- <span data-ttu-id="471b2-136">Wenn Sie **/DD-** angeben oder den Schalter weglassen, wird von VSDBCMD nur ein Bereitstellungs Skript generiert.</span><span class="sxs-lookup"><span data-stu-id="471b2-136">If you specify **/dd-** or omit the switch, VSDBCMD will generate a deployment script only.</span></span>

> [!NOTE]
> <span data-ttu-id="471b2-137">Wenn Sie eine DeployManifest-Datei anstelle einer dbschema-Datei bereitstellen, ist das Verhalten des **/DD** -Schalters wesentlich komplizierter.</span><span class="sxs-lookup"><span data-stu-id="471b2-137">If you're deploying a .deploymanifest file rather than a .dbschema file, the behavior of the **/dd** switch is a lot more complicated.</span></span> <span data-ttu-id="471b2-138">Im Wesentlichen ignoriert VSDBCmd den Wert des **/DD** -Schalters, wenn die DeployManifest-Datei ein **deploydedatabase** -Element mit dem Wert " **true**" enthält.</span><span class="sxs-lookup"><span data-stu-id="471b2-138">Essentially, VSDBCMD will ignore the value of the **/dd** switch if the .deploymanifest file includes a **DeployToDatabase** element with a value of **True**.</span></span> <span data-ttu-id="471b2-139">Beim Bereitstellen von [Datenbankprojekten](../web-deployment-in-the-enterprise/deploying-database-projects.md) wird dieses Verhalten vollständig beschrieben.</span><span class="sxs-lookup"><span data-stu-id="471b2-139">[Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md) describes this behavior in full.</span></span>

<span data-ttu-id="471b2-140">Um z. b. ein Bereitstellungs Skript für die **ContactManager** -Datenbank zu generieren, ohne die Datenbank tatsächlich bereitzustellen, sollte der VSDBCmd-Befehl wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="471b2-140">For example, to generate a deployment script for the **ContactManager** database without actually deploying the database, your VSDBCMD command should resemble this:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample4.cmd)]

<span data-ttu-id="471b2-141">VSDBCMD ist ein differenziertes Tool für die Daten Bank Bereitstellung. Daher wird das Bereitstellungs Skript dynamisch generiert, um alle SQL-Befehle zu enthalten, die erforderlich sind, um die aktuelle Datenbank, sofern vorhanden, in das angegebene Schema zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="471b2-141">VSDBCMD is a differential database deployment tool, and as such the deployment script is dynamically generated to contain all the SQL commands necessary to update the current database, if one exists, to the specified schema.</span></span> <span data-ttu-id="471b2-142">Das Überprüfen des Bereitstellungs Skripts ist eine nützliche Möglichkeit, um zu bestimmen, welche Auswirkung die Bereitstellung auf die aktuelle Datenbank und die darin enthaltenen Daten hat.</span><span class="sxs-lookup"><span data-stu-id="471b2-142">Reviewing the deployment script is a useful way to determine what impact your deployment will have on the current database and the data it contains.</span></span> <span data-ttu-id="471b2-143">Beispielsweise können Sie Folgendes bestimmen:</span><span class="sxs-lookup"><span data-stu-id="471b2-143">For example, you might want to determine:</span></span>

- <span data-ttu-id="471b2-144">Ob vorhandene Tabellen entfernt werden und ob dies zu Datenverlusten führt.</span><span class="sxs-lookup"><span data-stu-id="471b2-144">Whether any existing tables will be removed, and whether that will result in data loss.</span></span>
- <span data-ttu-id="471b2-145">Ob die Reihenfolge der Vorgänge das Risiko eines Daten Verlusts birgt, z. b. Wenn Sie Tabellen aufteilen oder zusammenführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-145">Whether the order of operations carries a risk of data loss, for example, if you're splitting or merging tables.</span></span>

<span data-ttu-id="471b2-146">Wenn Sie mit dem Bereitstellungs Skript zufrieden sind, können Sie VSDBCmd mit einem **/DD +** -Flag wiederholen, um die Änderungen vorzunehmen.</span><span class="sxs-lookup"><span data-stu-id="471b2-146">If you're happy with the deployment script, you can repeat the VSDBCMD with a **/dd+** flag to make the changes.</span></span> <span data-ttu-id="471b2-147">Alternativ können Sie das Bereitstellungs Skript bearbeiten, um Ihre Anforderungen zu erfüllen, und es dann manuell auf dem Datenbankserver ausführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-147">Alternatively, you can edit the deployment script to meet your requirements and then execute it manually on the database server.</span></span>

## <a name="integrating-what-if-functionality-into-custom-project-files"></a><span data-ttu-id="471b2-148">Integrieren von "What if"-Funktionen in benutzerdefinierte Projektdateien</span><span class="sxs-lookup"><span data-stu-id="471b2-148">Integrating "What If" Functionality into Custom Project Files</span></span>

<span data-ttu-id="471b2-149">In komplexeren Bereitstellungs Szenarien empfiehlt es sich, eine benutzerdefinierte Microsoft-Build-Engine (MSBuild)-Projektdatei zu verwenden, um Ihre Build-und Bereitstellungs Logik zu kapseln, wie in Grundlegendes [zur Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="471b2-149">In more complex deployment scenarios, you'll want to use a custom Microsoft Build Engine (MSBuild) project file to encapsulate your build and deployment logic, as described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span> <span data-ttu-id="471b2-150">Beispielsweise wird in der Beispiellösung " [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) " die Datei " *Publish. proj* " angezeigt:</span><span class="sxs-lookup"><span data-stu-id="471b2-150">For example, in the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, the *Publish.proj* file:</span></span>

- <span data-ttu-id="471b2-151">Erstellt die Projekt Mappe.</span><span class="sxs-lookup"><span data-stu-id="471b2-151">Builds the solution.</span></span>
- <span data-ttu-id="471b2-152">Verwendet Web deploy, um die Anwendung ContactManager. MVC zu verpacken und bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="471b2-152">Uses Web Deploy to package and deploy the ContactManager.Mvc application.</span></span>
- <span data-ttu-id="471b2-153">Verwendet Web deploy, um die Anwendung ContactManager. Service zu verpacken und bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="471b2-153">Uses Web Deploy to package and deploy the ContactManager.Service application.</span></span>
- <span data-ttu-id="471b2-154">Stellt die **ContactManager** -Datenbank bereit.</span><span class="sxs-lookup"><span data-stu-id="471b2-154">Deploys the **ContactManager** database.</span></span>

<span data-ttu-id="471b2-155">Wenn Sie die Bereitstellung mehrerer Webpakete und/oder Datenbanken auf diese Weise in einen schrittweisen Prozess integrieren, können Sie auch die Option für die gesamte Bereitstellung im "Was-wäre-wenn"-Modus ausführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-155">When you integrate the deployment of multiple web packages and/or databases into a single-step process in this way, you may also want the option of performing the entire deployment in a "what if" mode.</span></span>

<span data-ttu-id="471b2-156">Die Datei " *Publish. proj* " veranschaulicht, wie Sie dies tun können.</span><span class="sxs-lookup"><span data-stu-id="471b2-156">The *Publish.proj* file demonstrates how you can do this.</span></span> <span data-ttu-id="471b2-157">Zunächst müssen Sie eine Eigenschaft erstellen, um den "Was-wäre-wenn"-Wert zu speichern:</span><span class="sxs-lookup"><span data-stu-id="471b2-157">First, you need to create a property to store the "what if" value:</span></span>

[!code-xml[Main](performing-a-what-if-deployment/samples/sample5.xml)]

<span data-ttu-id="471b2-158">In diesem Fall haben Sie eine Eigenschaft mit dem Namen **WhatIf** mit dem Standardwert **false**erstellt.</span><span class="sxs-lookup"><span data-stu-id="471b2-158">In this case, you've created a property named **WhatIf** with a default value of **false**.</span></span> <span data-ttu-id="471b2-159">Benutzer können diesen Wert überschreiben, indem Sie in einem Befehlszeilenparameter die-Eigenschaft auf " **true** " festlegen, wie Sie in Kürze sehen werden.</span><span class="sxs-lookup"><span data-stu-id="471b2-159">Users can override this value by setting the property to **true** in a command-line parameter, as you'll see shortly.</span></span>

<span data-ttu-id="471b2-160">Die nächste Phase besteht darin, alle Web deploy-und VSDBCmd-Befehle zu parametrisieren, damit die Flags den **WhatIf** -Eigenschafts Wert widerspiegeln.</span><span class="sxs-lookup"><span data-stu-id="471b2-160">The next stage is to parameterize any Web Deploy and VSDBCMD commands so that the flags reflect the **WhatIf** property value.</span></span> <span data-ttu-id="471b2-161">Beispielsweise wird durch das nächste Ziel (aus der Datei " *Publish. proj* " entnommen und vereinfacht) die Datei ". Bereitstellungs *. cmd* " ausgeführt, um ein Webpaket bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="471b2-161">For example, the next target (taken from the *Publish.proj* file and simplified) runs the *.deploy.cmd* file to deploy a web package.</span></span> <span data-ttu-id="471b2-162">Standardmäßig enthält der Befehl einen **/Y** -Schalter ("yes" oder Update Mode).</span><span class="sxs-lookup"><span data-stu-id="471b2-162">By default, the command includes a **/Y** switch ("yes," or update mode).</span></span> <span data-ttu-id="471b2-163">Wenn **WhatIf** auf **true**festgelegt ist, wird dies durch einen **/T** -Schalter (Testversion oder "Was-wäre-wenn-Modus") ersetzt.</span><span class="sxs-lookup"><span data-stu-id="471b2-163">If **WhatIf** is set to **true**, this is replaced by a **/T** switch (trial, or "what if" mode).</span></span>

[!code-xml[Main](performing-a-what-if-deployment/samples/sample6.xml)]

<span data-ttu-id="471b2-164">Entsprechend verwendet das nächste Ziel das Hilfsprogramm "VSDBCmd", um eine Datenbank bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="471b2-164">Similarly, the next target uses the VSDBCMD utility to deploy a database.</span></span> <span data-ttu-id="471b2-165">Standardmäßig ist kein **/DD** -Schalter enthalten.</span><span class="sxs-lookup"><span data-stu-id="471b2-165">By default, a **/dd** switch is not included.</span></span> <span data-ttu-id="471b2-166">Dies bedeutet, dass VSDBCmd ein Bereitstellungs Skript generiert, aber die Datenbank&#x2014;nicht mit anderen Worten, einem "Was-wäre-wenn"-Szenario, bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="471b2-166">This means that VSDBCMD will generate a deployment script but will not deploy the database&#x2014;in other words, a "what if" scenario.</span></span> <span data-ttu-id="471b2-167">Wenn die **WhatIf** -Eigenschaft nicht auf **true**festgelegt ist, wird ein **/DD** -Switch hinzugefügt, und die Datenbank wird von VSDBCMD bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="471b2-167">If the **WhatIf** property is not set to **true**, a **/dd** switch is added and VSDBCMD will deploy the database.</span></span>

[!code-xml[Main](performing-a-what-if-deployment/samples/sample7.xml)]

<span data-ttu-id="471b2-168">Sie können denselben Ansatz verwenden, um alle relevanten Befehle in der Projektdatei zu parametrisieren.</span><span class="sxs-lookup"><span data-stu-id="471b2-168">You can use the same approach to parameterize all the relevant commands in your project file.</span></span> <span data-ttu-id="471b2-169">Wenn Sie eine "Was-wäre-wenn"-Bereitstellung ausführen möchten, können Sie einfach einen **WhatIf** -Eigenschafts Wert über die Befehlszeile angeben:</span><span class="sxs-lookup"><span data-stu-id="471b2-169">When you want to run a "what if" deployment, you can then simply provide a **WhatIf** property value from the command line:</span></span>

[!code-console[Main](performing-a-what-if-deployment/samples/sample8.cmd)]

<span data-ttu-id="471b2-170">Auf diese Weise können Sie eine "Was-wäre-wenn"-Bereitstellung für alle Projektkomponenten in einem einzigen Schritt ausführen.</span><span class="sxs-lookup"><span data-stu-id="471b2-170">In this way, you can run a "what if" deployment for all your project components in a single step.</span></span>

## <a name="conclusion"></a><span data-ttu-id="471b2-171">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="471b2-171">Conclusion</span></span>

<span data-ttu-id="471b2-172">In diesem Thema wird beschrieben, wie "Was-wäre-wenn"-bereit Stellungen mit Web deploy, VSDBCmd und MSBuild ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="471b2-172">This topic described how to run "what if" deployments using Web Deploy, VSDBCMD, and MSBuild.</span></span> <span data-ttu-id="471b2-173">Mit einer "Was-wäre-wenn"-Bereitstellung können Sie die Auswirkungen einer vorgeschlagenen Bereitstellung auswerten, bevor Sie tatsächlich Änderungen an der Zielumgebung vornehmen.</span><span class="sxs-lookup"><span data-stu-id="471b2-173">A "what if" deployment lets you evaluate the impact of a proposed deployment before you actually make any changes to the destination environment.</span></span>

## <a name="further-reading"></a><span data-ttu-id="471b2-174">Weitere nützliche Informationen</span><span class="sxs-lookup"><span data-stu-id="471b2-174">Further Reading</span></span>

<span data-ttu-id="471b2-175">Weitere Informationen zu Web deploy Befehlszeilen Syntax finden Sie unter [Web deploy Vorgangs Einstellungen](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="471b2-175">For more information on Web Deploy command-line syntax, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="471b2-176">Anleitungen zu Befehlszeilenoptionen bei Verwendung der Datei " *. Deployment. cmd* " finden Sie unter Gewusst [wie: Installieren eines Bereitstellungs Pakets mit der Datei "Deployment. cmd](https://msdn.microsoft.com/library/ff356104.aspx)".</span><span class="sxs-lookup"><span data-stu-id="471b2-176">For guidance on command-line options when you use the *.deploy.cmd* file, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="471b2-177">Anleitungen zur Befehlszeilen Syntax von VSDBCMD finden Sie unter [Befehlszeilen Referenz für VSDBCMD. EXE (Bereitstellung und Schema Import)](https://msdn.microsoft.com/library/dd193283.aspx).</span><span class="sxs-lookup"><span data-stu-id="471b2-177">For guidance on VSDBCMD command-line syntax, see [Command-Line Reference for VSDBCMD.EXE (Deployment and Schema Import)](https://msdn.microsoft.com/library/dd193283.aspx).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="471b2-178">[Zurück](advanced-enterprise-web-deployment.md)
> [Weiter](customizing-database-deployments-for-multiple-environments.md)</span><span class="sxs-lookup"><span data-stu-id="471b2-178">[Previous](advanced-enterprise-web-deployment.md)
[Next](customizing-database-deployments-for-multiple-environments.md)</span></span>
