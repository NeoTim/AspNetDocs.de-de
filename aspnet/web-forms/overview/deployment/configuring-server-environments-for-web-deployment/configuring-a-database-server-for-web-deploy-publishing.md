---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Konfigurieren eines Datenbankservers für die Web deploy Veröffentlichung | Microsoft-Dokumentation
author: jrjlee
description: In diesem Thema wird beschrieben, wie Sie einen SQL Server 2008 R2-Daten Bank Server zur Unterstützung der Webbereitstellung und-Veröffentlichung konfigurieren Die in diesem Thema beschriebenen Aufgaben sind Co...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: ade3c1ba1c470092f512436f39b8831458408c2c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78515241"
---
# <a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="3a6d0-104">Konfigurieren eines Datenbankservers für die Web Deploy-Veröffentlichung</span><span class="sxs-lookup"><span data-stu-id="3a6d0-104">Configuring a Database Server for Web Deploy Publishing</span></span>

<span data-ttu-id="3a6d0-105">von [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="3a6d0-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="3a6d0-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="3a6d0-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="3a6d0-107">In diesem Thema wird beschrieben, wie Sie einen SQL Server 2008 R2-Daten Bank Server zur Unterstützung der Webbereitstellung und-Veröffentlichung konfigurieren</span><span class="sxs-lookup"><span data-stu-id="3a6d0-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="3a6d0-108">Die in diesem Thema beschriebenen Aufgaben sind von allen Bereitstellungs Szenarien&#x2014;abhängig. es spielt keine Rolle, ob die Webserver für die Verwendung des Remote-Agent-Diensts des IIS-Webbereitstellungs Tools (Web deploy), des Web deploy Handlers oder der Offline Bereitstellung konfiguriert sind oder die Anwendung auf einem einzelnen Webserver oder einer Serverfarm ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="3a6d0-109">Die Art und Weise, wie Sie die Datenbank bereitstellen, kann sich je nach Sicherheitsanforderungen und anderen Überlegungen ändern</span><span class="sxs-lookup"><span data-stu-id="3a6d0-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="3a6d0-110">Beispielsweise können Sie die Datenbank mit oder ohne Beispiel Daten bereitstellen, und Sie können Benutzer Rollen Zuordnungen bereitstellen oder Sie nach der Bereitstellung manuell konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="3a6d0-111">Die Art und Weise, wie Sie den Datenbankserver konfigurieren, bleibt jedoch unverändert.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-111">However, the way you configure the database server remains the same.</span></span>

<span data-ttu-id="3a6d0-112">Sie müssen keine zusätzlichen Produkte oder Tools installieren, um einen Datenbankserver zur Unterstützung der Webbereitstellung zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="3a6d0-113">Vorausgesetzt, dass der Datenbankserver und der Webserver auf unterschiedlichen Computern ausgeführt werden, müssen Sie lediglich die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="3a6d0-114">Ermöglicht die Kommunikation von SQL Server mithilfe von TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="3a6d0-115">Ermöglicht die SQL Server von Datenverkehr durch Firewalls.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="3a6d0-116">Stellen Sie dem Webserver-Computer Konto eine SQL Server-Anmeldung zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="3a6d0-117">Ordnen Sie die Anmelde Informationen des Computer Kontos allen erforderlichen Daten bankrollen zu.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="3a6d0-118">Legen Sie dem Konto, von dem die Bereitstellung ausgeführt wird, eine SQL Server-Anmelde-und Daten Bank Ersteller</span><span class="sxs-lookup"><span data-stu-id="3a6d0-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="3a6d0-119">Um Wiederholungs Bereitstellungen zu unterstützen, ordnen Sie die Anmelde Informationen des Bereitstellungs Kontos der Daten Bank Rolle " **DB\_Owner** " zu.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="3a6d0-120">In diesem Thema wird gezeigt, wie Sie die einzelnen Prozeduren ausführen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="3a6d0-121">Bei den Aufgaben und exemplarischen Vorgehensweisen in diesem Thema wird davon ausgegangen, dass Sie mit einer Standard Instanz von SQL Server 2008 R2 auf Windows Server 2008 R2 beginnen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="3a6d0-122">Bevor Sie fortfahren, stellen Sie Folgendes sicher:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="3a6d0-123">Windows Server 2008 R2 Service Pack 1 und alle verfügbaren Updates werden installiert.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="3a6d0-124">Der Server ist einer Domäne beigetreten.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-124">The server is domain-joined.</span></span>
- <span data-ttu-id="3a6d0-125">Der Server verfügt über eine statische IP-Adresse.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-125">The server has a static IP address.</span></span>
- <span data-ttu-id="3a6d0-126">SQL Server 2008 R2 Service Pack 1 und alle verfügbaren Updates werden installiert.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="3a6d0-127">Die SQL Server Instanz muss nur die **Datenbank-Engine Services** -Rolle enthalten, die automatisch in jeder SQL Server-Installation enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="3a6d0-128">Zur Erleichterung der Konfiguration und Wartung empfiehlt es sich jedoch, die **Verwaltungs Tools – Basic** und **Verwaltungs Tools – Complete** Server-Rollen einzubeziehen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="3a6d0-129">Weitere Informationen zum Hinzufügen von Computern zu einer Domäne finden Sie unter [Hinzufügen von Computern zur Domäne und anmelden](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="3a6d0-130">Weitere Informationen zum Konfigurieren statischer IP-Adressen finden Sie unter [Konfigurieren einer statischen IP-Adresse](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="3a6d0-131">Weitere Informationen zum Installieren von SQL Server finden Sie unter [Installieren von SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>

## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="3a6d0-132">Aktivieren des Remote Zugriffs auf SQL Server</span><span class="sxs-lookup"><span data-stu-id="3a6d0-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="3a6d0-133">SQL Server verwendet TCP/IP für die Kommunikation mit Remote Computern.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="3a6d0-134">Wenn sich der Datenbankserver und der Webserver auf unterschiedlichen Computern befinden, müssen Sie folgende Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="3a6d0-135">Konfigurieren Sie SQL Server Netzwerkeinstellungen, um die Kommunikation über TCP/IP zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="3a6d0-136">Konfigurieren Sie Hardware-oder Software Firewalls, um TCP-Datenverkehr (und in einigen Fällen UDP-Datenverkehr (User Datagram Protocol) an den von der SQL Server Instanz verwendeten Ports zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="3a6d0-137">Um SQL Server die Kommunikation über TCP/IP zu ermöglichen, verwenden Sie SQL Server-Konfigurations-Manager, um die Netzwerkkonfiguration für die SQL Server Instanz zu ändern.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

<span data-ttu-id="3a6d0-138">**So aktivieren Sie SQL Server die Kommunikation mit TCP/IP**</span><span class="sxs-lookup"><span data-stu-id="3a6d0-138">**To enable SQL Server to communicate using TCP/IP**</span></span>

1. <span data-ttu-id="3a6d0-139">Zeigen Sie im Menü **Start** auf **Alle Programme**, klicken Sie auf **Microsoft SQL Server 2008 R2**, klicken Sie auf **Konfigurationstools**, und klicken Sie dann auf **SQL Server-Konfigurations-Manager**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="3a6d0-140">Erweitern Sie im Struktur Ansichts Bereich **SQL Server Netzwerkkonfiguration**, und klicken Sie dann auf **Protokolle für MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3a6d0-141">Wenn Sie mehrere Instanzen von SQL Server installiert haben, wird für jede Instanz ein <strong>Protokoll für</strong>das<em>[Instanzname]</em> -Element angezeigt.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="3a6d0-142">Sie müssen Netzwerkeinstellungen auf instanzweise konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="3a6d0-143">Klicken Sie im Detailfenster mit der rechten Maustaste auf die Zeile **TCP/IP** , und klicken Sie dann auf **aktivieren**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="3a6d0-144">Klicken Sie im Dialogfeld **Warnung** auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="3a6d0-145">Sie müssen den MSSQLServer-Dienst neu starten, damit die neue Netzwerkkonfiguration wirksam wird.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="3a6d0-146">Dies können Sie an einer Eingabeaufforderung, in der Dienste-Konsole oder in SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="3a6d0-147">In diesem Verfahren verwenden Sie SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="3a6d0-148">Schließen Sie den SQL Server-Konfigurations-Manager.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="3a6d0-149">Zeigen Sie im Menü **Start** auf **Alle Programme**, klicken Sie auf **Microsoft SQL Server 2008 R2**, und klicken Sie dann auf **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="3a6d0-150">Geben Sie im Dialogfeld **Verbindung mit Server herstellen** im Feld **Server Name** den Namen des Datenbankservers ein, und klicken Sie dann auf **verbinden**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="3a6d0-151">Klicken Sie im **Objekt-Explorer** Bereich mit der rechten Maustaste auf den übergeordneten Server Knoten (z. b. **TESTDB1**), und klicken Sie dann auf **neu starten**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="3a6d0-152">Klicken Sie im Dialogfeld **Microsoft SQL Server Management Studio** auf **Ja**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="3a6d0-153">Wenn der Dienst neu gestartet wurde, schließen Sie SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="3a6d0-154">Um SQL Server Datenverkehr über eine Firewall zuzulassen, müssen Sie zunächst wissen, welche Ports von Ihrer SQL Server Instanz verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="3a6d0-155">Dies hängt davon ab, wie die SQL Server Instanz erstellt und konfiguriert wurde:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="3a6d0-156">Eine *Standard Instanz* von SQL Server die Anforderungen an den TCP-Port 1433 abhört (und darauf antwortet).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="3a6d0-157">Eine *benannte Instanz* von SQL Server die Anforderungen an einen dynamisch zugewiesenen TCP-Port abhört (und darauf antwortet).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="3a6d0-158">Wenn der SQL Server-Browser-Dienst aktiviert ist, können Clients den Dienst auf UDP-Port 1434 Abfragen, um herauszufinden, welcher TCP-Port für eine bestimmte SQL Server Instanz verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="3a6d0-159">Dieser Dienst wird jedoch aus Sicherheitsgründen häufig deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="3a6d0-160">Angenommen, Sie verwenden eine Standard Instanz von SQL Server, müssen Sie die Firewall so konfigurieren, dass Datenverkehr zugelassen wird.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="3a6d0-161">Direction</span><span class="sxs-lookup"><span data-stu-id="3a6d0-161">Direction</span></span> | <span data-ttu-id="3a6d0-162">Von Port</span><span class="sxs-lookup"><span data-stu-id="3a6d0-162">From Port</span></span> | <span data-ttu-id="3a6d0-163">An Port</span><span class="sxs-lookup"><span data-stu-id="3a6d0-163">To Port</span></span> | <span data-ttu-id="3a6d0-164">Porttyp</span><span class="sxs-lookup"><span data-stu-id="3a6d0-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="3a6d0-165">Eingehend</span><span class="sxs-lookup"><span data-stu-id="3a6d0-165">Inbound</span></span> | <span data-ttu-id="3a6d0-166">Beliebig</span><span class="sxs-lookup"><span data-stu-id="3a6d0-166">Any</span></span> | <span data-ttu-id="3a6d0-167">1433</span><span class="sxs-lookup"><span data-stu-id="3a6d0-167">1433</span></span> | <span data-ttu-id="3a6d0-168">TCP</span><span class="sxs-lookup"><span data-stu-id="3a6d0-168">TCP</span></span> |
| <span data-ttu-id="3a6d0-169">Ausgehend</span><span class="sxs-lookup"><span data-stu-id="3a6d0-169">Outbound</span></span> | <span data-ttu-id="3a6d0-170">1433</span><span class="sxs-lookup"><span data-stu-id="3a6d0-170">1433</span></span> | <span data-ttu-id="3a6d0-171">Beliebig</span><span class="sxs-lookup"><span data-stu-id="3a6d0-171">Any</span></span> | <span data-ttu-id="3a6d0-172">TCP</span><span class="sxs-lookup"><span data-stu-id="3a6d0-172">TCP</span></span> |

> [!NOTE]
> <span data-ttu-id="3a6d0-173">Aus technischer Sicht verwendet ein Client Computer einen zufällig zugewiesenen TCP-Port zwischen 1024 und 5000, um mit SQL Server zu kommunizieren, und Sie können Ihre Firewallregeln entsprechend einschränken.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="3a6d0-174">Weitere Informationen zu SQL Server Ports und Firewalls finden Sie unter [TCP/IP-Portnummern für die Kommunikation mit SQL über eine Firewall](https://go.microsoft.com/?linkid=9805125) und Gewusst [wie: Konfigurieren eines Servers für das lauschen an einem bestimmten TCP-Port (SQL Server-Konfigurations-Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>

<span data-ttu-id="3a6d0-175">In den meisten Windows Server-Umgebungen ist es wahrscheinlich, dass Sie die Windows-Firewall auf dem Daten Bank Server konfigurieren müssen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="3a6d0-176">Standardmäßig lässt die Windows-Firewall den gesamten ausgehenden Datenverkehr zu, es sei denn, dies wird von einer Regel</span><span class="sxs-lookup"><span data-stu-id="3a6d0-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="3a6d0-177">Um dem Webserver das Erreichen der Datenbank zu ermöglichen, müssen Sie eine eingehende Regel konfigurieren, die TCP-Datenverkehr an der von der SQL Server Instanz verwendeten Portnummer zulässt.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="3a6d0-178">Wenn Sie eine Standard Instanz von SQL Server verwenden, können Sie diese Regel mithilfe des nächsten Verfahrens konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

<span data-ttu-id="3a6d0-179">**So konfigurieren Sie die Windows-Firewall für die Kommunikation mit einer Standard SQL Server Instanz**</span><span class="sxs-lookup"><span data-stu-id="3a6d0-179">**To configure Windows Firewall to allow communication with a default SQL Server instance**</span></span>

1. <span data-ttu-id="3a6d0-180">Zeigen Sie auf dem Datenbankserver im **Startmenü** auf **Verwaltung**, und klicken Sie dann auf **Windows-Firewall mit**erweiterter Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="3a6d0-181">Klicken Sie im Struktur Ansichts Bereich auf **Eingehende Regeln**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="3a6d0-182">Klicken Sie im **Aktions** Bereich unter **Eingehende Regeln**auf **neue Regel**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="3a6d0-183">Wählen Sie im Assistenten für neue eingehende Regeln auf der Seite **Regeltyp** die Option **Port**aus, und klicken Sie dann auf **weiter**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="3a6d0-184">Vergewissern Sie sich, dass auf der Seite **Protokoll und Ports** die Option **TCP** ausgewählt ist, und geben Sie im Feld **bestimmte lokale Ports** den Wert **1433**ein, und klicken Sie dann auf **weiter**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="3a6d0-185">Lassen Sie auf der Seite Aktion **die Option Verbindung zulassen** aktiviert, und klicken Sie auf **weiter**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="3a6d0-186">Lassen Sie auf der Seite **Profil** die Option **Domäne** ausgewählt, deaktivieren Sie die Kontrollkästchen **Privat** und **öffentlich** , und klicken Sie dann auf **weiter**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="3a6d0-187">Geben Sie auf der Seite **Name** einen aussagekräftigen Namen für die Regel ein (z. b. **SQL Server Standard Instanz – Netzwerk Zugriff**), und klicken Sie dann auf **Fertig**stellen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="3a6d0-188">Weitere Informationen zum Konfigurieren der Windows-Firewall für SQL Server, insbesondere, wenn Sie mit SQL Server über nicht standardmäßige oder dynamische Ports kommunizieren müssen, finden Sie unter Vorgehens [Weise: Konfigurieren einer Windows-Firewall für Datenbank-Engine Zugriff](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="3a6d0-189">Konfigurieren von Anmeldungen und Daten Bank Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="3a6d0-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="3a6d0-190">Beim Bereitstellen einer Webanwendung für Internetinformationsdienste (IIS) wird die Anwendung mit der Identität des Anwendungs Pools ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="3a6d0-191">In einer Domänen Umgebung verwenden Anwendungs Pool Identitäten das Computer Konto des Servers, auf dem Sie ausgeführt werden, um auf Netzwerkressourcen zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="3a6d0-192">Computer Konten haben das Format <em>[Domänen Name]</em><strong>\</strong ><em>[Computername]</em> <strong>$</strong> &#x2014;beispielsweise <strong>fabrikam\testweb1 $</strong>.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="3a6d0-193">Damit Ihre Webanwendung über das Netzwerk auf eine Datenbank zugreifen kann, müssen Sie folgende Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="3a6d0-194">Fügen Sie der SQL Server Instanz einen Anmelde Namen für das Computer Konto des Webservers hinzu.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="3a6d0-195">Ordnen Sie die Anmelde Informationen des Computer Kontos allen erforderlichen Daten bankrollen zu (in der Regel **DB\_DataReader** und **DB\_-DataWriter**).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="3a6d0-196">Wenn die Webanwendung nicht auf einem einzelnen Server, sondern in einer Serverfarm ausgeführt wird, müssen Sie diese Prozeduren für jeden Webserver in der Serverfarm wiederholen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="3a6d0-197">Weitere Informationen zu Anwendungs Pool Identitäten und zum Zugreifen auf Netzwerkressourcen finden Sie unter [Anwendungs Pool Identitäten](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>

<span data-ttu-id="3a6d0-198">Sie können diese Aufgaben auf verschiedene Weise angehen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="3a6d0-199">Zum Erstellen der Anmeldung können Sie folgende Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-199">To create the login, you can either:</span></span>

- <span data-ttu-id="3a6d0-200">Erstellen Sie die Anmeldung manuell auf dem Datenbankserver mithilfe von Transact-SQL oder SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="3a6d0-201">Verwenden Sie ein SQL Server 2008-Server Projekt in Visual Studio, um die Anmeldung zu erstellen und bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="3a6d0-202">Eine SQL Server Anmeldung ist ein Objekt auf Server Ebene anstelle eines Objekts auf Datenbankebene, sodass es nicht von der Datenbank abhängig ist, die Sie bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="3a6d0-203">Daher können Sie die Anmeldung jederzeit erstellen, und der einfachste Ansatz besteht häufig darin, den Anmelde Namen manuell auf dem Datenbankserver zu erstellen, bevor Sie mit der Bereitstellung von Datenbanken beginnen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="3a6d0-204">Sie können das nächste Verfahren zum Erstellen einer Anmeldung in SQL Server Management Studio verwenden.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

<span data-ttu-id="3a6d0-205">**So erstellen Sie eine SQL Server Anmeldung für das Webserver-Computer Konto**</span><span class="sxs-lookup"><span data-stu-id="3a6d0-205">**To create a SQL Server login for the web server machine account**</span></span>

1. <span data-ttu-id="3a6d0-206">Zeigen Sie auf dem Datenbankserver im Menü **Start** auf **Alle Programme**, klicken Sie auf **Microsoft SQL Server 2008 R2**, und klicken Sie dann auf **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="3a6d0-207">Geben Sie im Dialogfeld **Verbindung mit Server herstellen** im Feld **Server Name** den Namen des Datenbankservers ein, und klicken Sie dann auf **verbinden**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="3a6d0-208">Klicken Sie im **Objekt-Explorer** Bereich mit der rechten Maustaste auf **Sicherheit**, zeigen Sie auf **neu**, und klicken Sie dann auf **Anmelden**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="3a6d0-209">Geben Sie im Dialogfeld **Anmeldung – neu** im Feld **Anmelde Name** den Namen des Computer Kontos des Webservers ein (z. b. **fabrikam\testweb1 $** ).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="3a6d0-210">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-210">Click **OK**.</span></span>

<span data-ttu-id="3a6d0-211">An diesem Punkt ist der Datenbankserver für die Web deploy Veröffentlichung bereit.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="3a6d0-212">Allerdings funktionieren alle Lösungen, die Sie bereitstellen, erst dann, wenn Sie die Computer Kontoanmeldung den erforderlichen Daten bankrollen zuordnen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="3a6d0-213">Die Zuordnung des Anmelde namens zu Daten bankrollen erfordert viel mehr, da Sie erst nach der Bereitstellung der Datenbank Rollen zuordnen können.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="3a6d0-214">Sie haben folgende Möglichkeiten, um die Anmeldung des Computer Kontos den erforderlichen Daten bankrollen zuzuordnen:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="3a6d0-215">Weisen Sie die Daten bankrollen der Anmeldung manuell zu, nachdem Sie die Datenbank zum ersten Mal bereitgestellt haben.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="3a6d0-216">Verwenden Sie ein Skript nach der Bereitstellung, um der Anmeldung die Daten bankrollen zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="3a6d0-217">Weitere Informationen zum Automatisieren der Erstellung von Anmeldungen und Daten bankrollen Zuordnungen finden Sie unter Bereitstellen von [Daten bankrollen Mitgliedschaften in Test Umgebungen](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="3a6d0-218">Alternativ können Sie das nächste Verfahren verwenden, um die Computer Kontoanmeldung manuell den erforderlichen Daten bankrollen zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="3a6d0-219">Beachten Sie, dass Sie dieses Verfahren erst ausführen können, *nachdem* Sie die Datenbank bereitgestellt haben.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

<span data-ttu-id="3a6d0-220">**So ordnen Sie der Webserver-Computer Kontoanmeldung Daten bankrollen zu**</span><span class="sxs-lookup"><span data-stu-id="3a6d0-220">**To map database roles to the web server machine account login**</span></span>

1. <span data-ttu-id="3a6d0-221">Öffnen Sie SQL Server Management Studio wie zuvor.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="3a6d0-222">Erweitern Sie im **Objekt-Explorer** Bereich den Knoten **Sicherheit** , erweitern Sie den Knoten **Anmeldungen** , und doppelklicken Sie dann auf die Anmelde Informationen des Computer Kontos (z. b. **fabrikam\testweb1 $** ).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="3a6d0-223">Klicken Sie im Dialogfeld **Anmeldungs Eigenschaften** auf **Benutzer Zuordnung**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="3a6d0-224">Wählen Sie in der Liste Benutzer, die **dieser Anmeldung zugeordnet** sind den Namen der Datenbank aus (z. **b. ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="3a6d0-225">Wählen Sie in der Liste **Mitgliedschaft in Daten Bank Rolle für:** *[Datenbankname]* die erforderlichen Berechtigungen aus.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="3a6d0-226">Wenn Sie die Beispiellösung Contact Manager auswählen, müssen Sie die Rollen **DB\_DataReader** und **DB\_-DataWriter** auswählen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="3a6d0-227">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-227">Click **OK**.</span></span>

<span data-ttu-id="3a6d0-228">Die manuelle Zuordnung von Daten bankrollen ist für Testumgebungen häufig nicht ausreichend, aber es ist weniger wünschenswert für automatisierte oder One-Click-bereit Stellungen in Staging-oder Produktionsumgebungen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="3a6d0-229">Weitere Informationen zur Automatisierung dieser Art von Aufgaben finden Sie unter Bereitstellen von Skripts nach der Bereitstellung in der Bereitstellung [von Daten bankrollen Mitgliedschaften in Test Umgebungen](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="3a6d0-230">Weitere Informationen zu Server Projekten und Datenbankprojekten finden Sie unter [Visual Studio 2010 SQL Server-Datenbankprojekte](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>

## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="3a6d0-231">Konfigurieren von Berechtigungen für das Bereitstellungs Konto</span><span class="sxs-lookup"><span data-stu-id="3a6d0-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="3a6d0-232">Wenn das Konto, das Sie zum Ausführen der Bereitstellung verwenden, kein SQL Server Administrator ist, müssen Sie auch einen Anmelde Namen für dieses Konto erstellen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="3a6d0-233">Das Konto muss ein Mitglied der **dbcreator** -Server Rolle sein oder über entsprechende Berechtigungen verfügen, um die Datenbank erstellen zu können.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="3a6d0-234">Wenn Sie Web deploy oder VSDBCmd verwenden, um eine Datenbank bereitzustellen, können Sie Windows-Anmelde Informationen oder SQL Server Anmelde Informationen verwenden (wenn die SQL Server Instanz zur Unterstützung der Authentifizierung im gemischten Modus konfiguriert ist).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="3a6d0-235">Im nächsten Verfahren wird davon ausgegangen, dass Sie Windows-Anmelde Informationen verwenden möchten, aber es hindert Sie nicht daran, bei der Konfiguration der Bereitstellung einen SQL Server Benutzernamen und ein Kennwort in der Verbindungs Zeichenfolge anzugeben.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>

<span data-ttu-id="3a6d0-236">**So richten Sie Berechtigungen für das Bereitstellungs Konto ein**</span><span class="sxs-lookup"><span data-stu-id="3a6d0-236">**To set up permissions for the deployment account**</span></span>

1. <span data-ttu-id="3a6d0-237">Öffnen Sie SQL Server Management Studio wie zuvor.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="3a6d0-238">Klicken Sie im **Objekt-Explorer** Bereich mit der rechten Maustaste auf **Sicherheit**, zeigen Sie auf **neu**, und klicken Sie dann auf **Anmelden**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="3a6d0-239">Geben Sie im Dialogfeld **Anmeldung – neu** im Feld **Anmelde Name** den Namen Ihres Bereitstellungs Kontos ein (z. b. **fabrikam\matt**).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="3a6d0-240">Klicken Sie im Bereich **Seite auswählen** auf **Server Rollen**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="3a6d0-241">Wählen Sie **dbcreator**aus, und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="3a6d0-242">Um nachfolgende bereit Stellungen zu unterstützen, müssen Sie nach der ersten Bereitstellung auch das Bereitstellungs Konto der **DB-\_** Rolle "Besitzer" in der Datenbank hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="3a6d0-243">Dies liegt daran, dass Sie bei nachfolgenden bereit Stellungen das Schema einer vorhandenen Datenbank ändern, anstatt eine neue Datenbank zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="3a6d0-244">Wie im vorherigen Abschnitt beschrieben, können Sie einen Benutzer nicht zu einer Daten Bank Rolle hinzufügen, bis Sie die Datenbank aus offensichtlichen Gründen erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

<span data-ttu-id="3a6d0-245">**So ordnen Sie die Anmelde Informationen für das Bereitstellungs Konto der Daten Bank Rolle "DB\_Owner**</span><span class="sxs-lookup"><span data-stu-id="3a6d0-245">**To map the deployment account login to the db\_owner database role**</span></span>

1. <span data-ttu-id="3a6d0-246">Öffnen Sie SQL Server Management Studio wie zuvor.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="3a6d0-247">Erweitern Sie im Fenster **Objekt-Explorer** den Knoten **Sicherheit** , erweitern Sie den Knoten **Anmeldungen** , und doppelklicken Sie dann auf die Anmelde Informationen des Computer Kontos (z. b. **fabrikam\matt**).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="3a6d0-248">Klicken Sie im Dialogfeld **Anmeldungs Eigenschaften** auf **Benutzer Zuordnung**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="3a6d0-249">Wählen Sie in der Liste Benutzer, die **dieser Anmeldung zugeordnet** sind den Namen der Datenbank aus (z. **b. ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="3a6d0-250">Wählen Sie in der Liste **Mitgliedschaft in Daten Bank Rolle für:** *[Datenbankname]* die Rolle **DB-\_Besitzer** aus.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="3a6d0-251">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="3a6d0-252">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="3a6d0-252">Conclusion</span></span>

<span data-ttu-id="3a6d0-253">Der Datenbankserver sollte jetzt bereit sein, Remote-Daten Bank Bereitstellungen zu akzeptieren und Remote-IIS-Webserver den Zugriff auf Ihre Datenbanken zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="3a6d0-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="3a6d0-254">Bevor Sie versuchen, Datenbanken bereitzustellen und zu verwenden, sollten Sie diese wichtigen Punkte überprüfen:</span><span class="sxs-lookup"><span data-stu-id="3a6d0-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="3a6d0-255">Haben Sie SQL Server für die Annahme von TCP/IP-Remote Verbindungen konfiguriert?</span><span class="sxs-lookup"><span data-stu-id="3a6d0-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="3a6d0-256">Haben Sie Firewalls konfiguriert, um SQL Server Datenverkehr zuzulassen?</span><span class="sxs-lookup"><span data-stu-id="3a6d0-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="3a6d0-257">Haben Sie für jeden Webserver, der auf SQL Server zugreifen soll, eine Computer Kontoanmeldung erstellt?</span><span class="sxs-lookup"><span data-stu-id="3a6d0-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="3a6d0-258">Umfasst die Daten Bank Bereitstellung ein Skript zum Erstellen von Benutzer Rollen Zuordnungen, oder müssen Sie diese manuell erstellen, nachdem Sie die Datenbank zum ersten Mal bereitgestellt haben?</span><span class="sxs-lookup"><span data-stu-id="3a6d0-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="3a6d0-259">Haben Sie einen Anmelde Namen für das Bereitstellungs Konto erstellt und der **dbcreator** -Server Rolle hinzugefügt?</span><span class="sxs-lookup"><span data-stu-id="3a6d0-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="3a6d0-260">Weitere nützliche Informationen</span><span class="sxs-lookup"><span data-stu-id="3a6d0-260">Further Reading</span></span>

<span data-ttu-id="3a6d0-261">Anleitungen zum Bereitstellen von Datenbankprojekten finden Sie unter Bereitstellen von [Datenbankprojekten](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="3a6d0-262">Anleitungen zum Erstellen von Daten bankrollen Mitgliedschaften durch Ausführen eines Skripts nach der Bereitstellung finden Sie unter Bereitstellen von [Daten bankrollen Mitgliedschaften in Test Umgebungen](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="3a6d0-263">Anleitungen zum erfüllen der besonderen Herausforderungen bei der Bereitstellung, die für Mitgliedschafts Datenbanken stehen, finden Sie unter Bereitstellen von [Mitgliedschafts Datenbanken für Unternehmensumgebungen](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="3a6d0-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3a6d0-264">[Zurück](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [Weiter](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="3a6d0-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
