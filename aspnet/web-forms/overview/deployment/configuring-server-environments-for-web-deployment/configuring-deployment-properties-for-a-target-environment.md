---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Konfigurieren von Bereitstellungs Eigenschaften für eine Zielumgebung | Microsoft-Dokumentation
author: jrjlee
description: In diesem Thema wird beschrieben, wie Sie Umgebungs spezifische Eigenschaften konfigurieren, um die Beispiel-Contact Manager-Lösung in einer bestimmten Zielumgebung bereitzustellen...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 9742be7d718384c1b108d5f2c0c43e8e8d4fe8a9
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78516807"
---
# <a name="configuring-deployment-properties-for-a-target-environment"></a>Konfigurieren von Bereitstellungseigenschaften für eine Zielumgebung

von [Jason Lee](https://github.com/jrjlee)

[PDF herunterladen](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> In diesem Thema wird beschrieben, wie Sie Umgebungs spezifische Eigenschaften konfigurieren, um die Beispiel-Contact Manager-Lösung in einer bestimmten Zielumgebung bereitzustellen.

Dieses Thema ist Teil einer Reihe von Tutorials, basierend auf den Anforderungen an die Unternehmens Bereitstellung eines fiktiven Unternehmens namens Fabrikam, Inc. In dieser tutorialreihe wird&#x2014;eine Beispiellösung der&#x2014; [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) -Lösung verwendet, um eine Webanwendung mit einem realistischen Komplexitäts Grad darzustellen, einschließlich einer ASP.NET MVC 3-Anwendung, eines Windows Communication Foundation (WCF)-Diensts und eines Datenbankprojekts.

Die Bereitstellungs Methode im Mittelpunkt dieser Tutorials basiert auf dem Untergrund Legendes [zum Buildprozess](../web-deployment-in-the-enterprise/understanding-the-build-process.md)beschriebenen Ansatz der Split Project-Datei, in dem der Buildprozess von zwei&#x2014;Projektdateien gesteuert wird, die Buildanweisungen enthalten, die für jede Zielumgebung gelten, und eine mit Umgebungs spezifischen Build-und Bereitstellungs Einstellungen. Zum Zeitpunkt der Erstellung wird die Umgebungs spezifische Projektdatei in der Umgebungs unabhängigen Projektdatei zusammengeführt, um einen kompletten Satz von Buildanweisungen zu bilden.

## <a name="process-overview"></a>Prozessübersicht

Die Projektdatei, die Sie zum Erstellen und Bereitstellen der Contact Manager-Lösung verwenden, ist in zwei physische Dateien unterteilt:

- Eine, die universelle Buildeinstellungen und Anweisungen (die Datei *Publish. proj* ) enthält.
- Eine, die Umgebungs spezifische Buildeinstellungen (*env-dev. proj*, *env-Stage. proj*usw.) enthält.

Zum Zeitpunkt der Erstellung wird die entsprechende Umgebungs spezifische Projektdatei in die universelle Datei " *Publish. proj* " zusammengeführt, um einen kompletten Satz von Buildanweisungen zu bilden. Sie können die Bereitstellung für bestimmte Ziel Umgebungen konfigurieren, indem Sie Umgebungs spezifische Projektdateien mit Einstellungen erstellen oder anpassen, die ihr eigenes Bereitstellungs Szenario beschreiben.

Viele dieser Werte werden durch die Konfiguration&#x2014;der Zielumgebung bestimmt, unabhängig davon, ob der Zielweb Server für die Verwendung des Web Deployment Agent-Diensts (der Remote-Agent) oder des Web deploy Handlers konfiguriert ist. Weitere Informationen zu diesen Ansätzen und Anleitungen zum Auswählen des richtigen Ansatzes für Ihre Umgebung finden Sie unter [auswählen des richtigen Ansatzes für die Webbereitstellung](choosing-the-right-approach-to-web-deployment.md).

Das [Kontakt-Manager-Szenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) erfordert zwei Umgebungs spezifische Projektdateien:

- Bereitstellung in einer Testumgebung für Entwickler ("*TV-dev. proj*"). Die Testumgebung für Entwickler ist so konfiguriert, dass Remote Bereitstellungen mit dem Remote-Agent akzeptiert werden, wie unter [Szenario: Konfigurieren einer Testumgebung für die Webbereitstellung](scenario-configuring-a-test-environment-for-web-deployment.md)beschrieben. Diese Datei muss sowohl die Endpunkt Adresse des Remote-Agents als auch standortspezifische Einstellungen wie Verbindungs Zeichenfolgen und Dienst Endpunkte bereitstellen.
- Bereitstellung in einer Stagingumgebung (*env-Stage. proj*). Die Stagingumgebung ist so konfiguriert, dass Remote Bereitstellungen mithilfe des Web deploy-Handlers akzeptiert werden, wie unter [Szenario: Konfigurieren einer Stagingumgebung für die Webbereitstellung](scenario-configuring-a-staging-environment-for-web-deployment.md)beschrieben. Diese Datei muss sowohl die Endpunkt Adresse des Web deploy Handlers als auch standortspezifische Einstellungen wie Verbindungs Zeichenfolgen und Dienst Endpunkte bereitstellen.

Beachten Sie, dass die Einstellungen, die Sie in der Umgebungs spezifischen Projektdatei konfigurieren, sich nicht auf den Inhalt des Webpakets selbst&#x2014;auswirken, sondern steuern, wie das Paket bereitgestellt wird und welche Parameterwerte beim Extrahieren des Pakets bereitgestellt werden. Sie importieren das Webpaket manuell in die Produktionsumgebung, wie in [Szenario: Konfigurieren einer Produktionsumgebung für die Webbereitstellung](scenario-configuring-a-production-environment-for-web-deployment.md) und [Manuelles Installieren von Webpaketen](../web-deployment-in-the-enterprise/manually-installing-web-packages.md)beschrieben. daher spielt es keine Rolle, welche Einstellungen Sie beim Generieren des Pakets in der Umgebungs spezifischen Projektdatei verwendet haben. Wenn Sie das Paket importieren, werden Sie vom Internetinformationsdienste (IIS)-Manager zur Eingabe von parametrisierten Werten, wie z. b. Verbindungs Zeichenfolgen und Dienst Endpunkten, aufgefordert.

Um die Contact Manager-Lösung in ihrer eigenen Zielumgebung bereitzustellen, können Sie diese Datei anpassen oder als Vorlage verwenden und eine eigene Datei erstellen.

**So konfigurieren Sie Umgebungs spezifische Bereitstellungs Einstellungen für die Contact Manager-Lösung**

1. Öffnen Sie die Projekt Mappe ContactManager-WCF in Visual Studio 2010.
2. Erweitern Sie im Fenster **Projektmappen-Explorer** den Ordner **veröffentlichen** , erweitern Sie den Ordner **envconfig** , und doppelklicken Sie dann auf **env-dev. proj**.

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. Ersetzen Sie die Eigenschaftswerte in der Datei " *env-dev. proj* " durch die richtigen Werte für Ihre eigene Testumgebung.

    > [!NOTE]
    > In der Tabelle, die dieser Prozedur folgt, finden Sie weitere Informationen zu den einzelnen Eigenschaften.
4. Speichern Sie Ihre Arbeit, und schließen Sie dann die Datei " *dev-dev. proj* ".

## <a name="choosing-the-right-deployment-properties"></a>Auswählen der richtigen Bereitstellungs Eigenschaften

In dieser Tabelle wird der Zweck der einzelnen Eigenschaften in der Umgebungs spezifischen Beispiel Projektdatei, *env-dev. proj*, beschrieben, und es wird eine Anleitung zu den Werten bereitgestellt, die Sie bereitstellen sollten.

|                                                        Eigenschaftenname                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <strong>Msdeploycomputername</strong> Der Name des Zielweb Servers oder Dienst Endpunkts.               |                                                                                                                                                                                                                                              Wenn Sie für den Remote-Agent-Dienst auf dem Zielweb Server bereitstellen, können Sie den Namen des Ziel Computers angeben (z. b. <strong>TESTWEB1</strong> oder <strong>TESTWEB1.fabrikam.net</strong>), oder Sie können den Remote-Agent-Endpunkt angeben (z. b. `http://TESTWEB1/MSDEPLOYAGENTSERVICE`). Die Bereitstellung funktioniert in jedem Fall auf dieselbe Weise. Wenn Sie für den Web deploy Handler auf dem Zielweb Server bereitstellen, sollten Sie den Dienst Endpunkt angeben und den Namen der IIS-Website als Abfrage Zeichenfolgen-Parameter (z. b. `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`) einschließen.                                                                                                                                                                                                                                              |
|         <strong>Msdeployauth</strong> Die Methode, die Web deploy zum Authentifizieren beim Remote Computer verwenden soll.          |                                                                                                                                                                                                                          Diese sollte auf <strong>NTLM</strong> oder <strong>Basic</strong>festgelegt werden. In der Regel verwenden Sie <strong>NTLM</strong> , wenn Sie die Bereitstellung für den Remote-Agent-Dienst und " <strong>Basic</strong> " durchführen, wenn Sie die Bereitstellung für den Web deploy Handler Wenn Sie die Standard Authentifizierung verwenden, müssen Sie auch den Benutzernamen und das Kennwort angeben, die vom IIS-Webbereitstellungs-Tool (Web deploy) angenommen werden sollen, um die Bereitstellung auszuführen. In diesem Beispiel werden diese Werte über die Eigenschaften <strong>msbereitsername</strong> und <strong>msdeploypassword</strong> bereitgestellt. Wenn Sie die NTLM-Authentifizierung verwenden, können Sie diese Eigenschaften weglassen oder leer lassen.                                                                                                                                                                                                                          |
| <strong>Msbereitstellungen-Servername</strong> Wenn Sie die Standard Authentifizierung verwenden, wird Web deploy dieses Konto auf dem Remote Computer verwenden.  |                                                                                                                                                                                                                                                                                                                                                                                                                       Dies sollte die Form <em>Domäne</em>\*username * (z. b. <strong>fabrikam\matt</strong>) annehmen. Dieser Wert wird nur verwendet, wenn Sie die Standard Authentifizierung angeben. Wenn Sie die NTLM-Authentifizierung verwenden, kann die-Eigenschaft ausgelassen werden. Wenn ein Wert angegeben wird, wird er ignoriert.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <strong>Msdeploypassword</strong> Wenn Sie die Standard Authentifizierung verwenden, wird Web deploy dieses Kennwort auf dem Remote Computer verwenden. |                                                                                                                                                                                                                                                                                                                                                                                                                    Dies ist das Kennwort für das Benutzerkonto, das Sie in der <strong>msbereitsername</strong> -Eigenschaft angegeben haben. Dieser Wert wird nur verwendet, wenn Sie die Standard Authentifizierung angeben. Wenn Sie die NTLM-Authentifizierung verwenden, kann die-Eigenschaft ausgelassen werden. Wenn ein Wert angegeben wird, wird er ignoriert.                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <strong>Contactmanageriispath</strong> Der IIS-Pfad, in dem Sie die MVC-Anwendung "Contact Manager" bereitstellen möchten.     |                                                                                                                                                                                                                                                                                                                                                                        Dies sollte der Pfad sein, der im IIS-Manager im Format [IIS-<em>Website Name</em>]/[<em>Name der Webanwendung</em>] angezeigt wird. Beachten Sie, dass die IIS-Website vorhanden sein muss, bevor Sie Ihre Anwendung bereitstellen. Wenn Sie z. b. eine IIS-Website mit dem Namen Demosite erstellt haben, können Sie den IIS-Pfad für die MVC-Anwendung als Demosite/ContactManager angeben.                                                                                                                                                                                                                                                                                                                                                                        |
|   <strong>Contactmanagerserviceiispath</strong> Der IIS-Pfad, auf dem Sie den WCF-Dienst des Kontakt-Managers bereitstellen möchten.    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Wenn Sie z. b. eine IIS-Website mit dem Namen Demosite erstellt haben, können Sie den IIS-Pfad für den WCF-Dienst als <strong>Demosite/contactmanagerservice</strong>angeben.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <strong>Contactmanagertargeturl</strong> Die URL, an der der WCF-Dienst erreicht werden kann.                   |                                                                                                                                                     Dies hat das Format [<em>URL der IIS-Website</em>Stamm-URL]/[Name der<em>Dienst Anwendung</em>]/[<em>Dienst Endpunkt</em>]. Wenn Sie z. b. eine IIS-Website auf Port 85 erstellt haben, würde die URL das Formular `http://localhost:85/ContactManagerService/ContactService.svc`. Beachten Sie, dass die MVC-Anwendung und der WCF-Dienst auf demselben Server bereitgestellt werden. Folglich wird auf diese URL nur von dem Computer aus zugegriffen, auf dem Sie installiert ist. Aus diesem Grund ist es besser, localhost oder die IP-Adresse anstelle des Computer namens oder eines Host Headers in der URL zu verwenden. Wenn Sie den Computernamen oder einen Host Header verwenden, kann die [Loopback](https://go.microsoft.com/?linkid=9805131) -Sicherheitsfunktion in IIS die URL blockieren und einen Fehler vom Typ " <strong>HTTP 401,1-nicht autorisiert</strong> " zurückgeben.                                                                                                                                                     |
|                  <strong>Cmdatabaseconnectionstring</strong> Die Verbindungs Zeichenfolge für den Datenbankserver.                  | Die Verbindungs Zeichenfolge bestimmt die Anmelde Informationen, die von VSDBCMD zum Kontaktieren des Datenbankservers verwendet werden, und erstellt die Datenbank sowie die Anmelde Informationen, die der Webserver Anwendungs Pool verwendet, um eine Verbindung mit dem Datenbankserver herzustellen und mit der Datenbank zu interagieren. Im Wesentlichen haben Sie hier zwei Möglichkeiten. Sie können <strong>Integrated Security = true</strong>angeben. in diesem Fall wird die integrierte Windows-Authentifizierung verwendet: <strong>Data Source = TESTDB1; Integrated Security = true</strong> . in diesem Fall wird die Datenbank mithilfe der Anmelde Informationen des Benutzers erstellt, der die ausführbare VSDBCmd-Datei ausführt, und die Anwendung greift mithilfe der Identität des Webserver-Computer Kontos auf die Datenbank zu. Alternativ können Sie den Benutzernamen und das Kennwort für ein SQL Server Konto angeben. In diesem Fall werden die SQL Server Anmelde Informationen von VSDBCMD verwendet, um die Datenbank und den Anwendungs Pool für die Interaktion mit der Datenbank zu erstellen: <strong>Data Source = TESTDB1; Benutzer-ID = asqluser; Password = PA $ $w 0rd</strong> bei den exemplarischen Vorgehensweisen in diesem Thema wird davon ausgegangen, dass Sie die integrierte Windows-Authentifizierung verwenden. |
|        <strong>Cmtargetdatabase</strong> Der Name, den Sie der Datenbank zur Verfügung stellen möchten, die Sie auf dem Datenbankserver erstellen.        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     Der Wert, den Sie hier angeben, wird dem VSDBCmd-Befehl als Parameter hinzugefügt. Sie wird auch verwendet, um eine vollständige Verbindungs Zeichenfolge zu erstellen, mit der der Anwendungs Pool auf dem Webserver mit der Datenbank interagieren kann.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

In diesen Beispielen wird gezeigt, wie Sie diese Eigenschaften für bestimmte Bereitstellungs Szenarien konfigurieren können.

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a>Beispiel 1&#x2014;Bereitstellung für den Remote-Agent-Dienst

In diesem Beispiel:

- Sie stellen auf TESTWEB1 eine Bereitstellung für den Remote-Agent-Dienst bereit.
- Sie werden Web deploy zur Verwendung der NTLM-Authentifizierung auffordern. Web deploy werden mithilfe der Anmelde Informationen ausgeführt, die Sie zum Aufrufen der Microsoft-Build-Engine (MSBuild) verwendet haben.
- Sie verwenden die integrierte Authentifizierung, um die **ContactManager** -Datenbank auf TESTDB1 bereitzustellen. Die Datenbank wird mithilfe der Anmelde Informationen bereitgestellt, die Sie zum Aufrufen von MSBuild verwendet haben.

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]

### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a>Beispiel 2&#x2014;: Bereitstellung für den Web deploy handlerendpunkt

In diesem Beispiel:

- Sie stellen auf STAGEWEB1 eine Bereitstellung für den Dienst Endpunkt des Web deploy Handlers bereit.
- Sie werden Web deploy zur Verwendung der Standard Authentifizierung auffordern.
- Sie geben an, dass Web deploy die Identität des Kontos fabrikam\stagingbereitstellers auf dem Remote Computer annehmen soll.
- Sie verwenden SQL Server Authentifizierung, um die **ContactManager** -Datenbank auf STAGEDB1 bereitzustellen.

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]

## <a name="conclusion"></a>Zusammenfassung

An diesem Punkt sind Ihre Projektdateien vollständig so konfiguriert, dass Sie die Contact Manager-Lösung in mindestens einer Zielumgebung erstellen und bereitstellen.

Wenn Sie diese Projektdateien im Rahmen eines einstufigen, wiederholbaren Bereitstellungs Prozesses verwenden möchten, müssen Sie die Datei " *Publish. proj* " mithilfe von MSBuild ausführen und den Speicherort der Umgebungs spezifischen Projektdatei als Parameter übergeben. Dies kann auf verschiedene Arten erfolgen:

- Eine Übersicht über MSBuild und eine Einführung in benutzerdefinierte Projektdateien finden Sie Untergrund Legendes [zur Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md).
- Informationen zum formulieren eines MSBuild-Befehls, mit dem die benutzerdefinierten Projektdateien ausgeführt werden, finden Sie unter Bereitstellen von [Webpaketen](../web-deployment-in-the-enterprise/deploying-web-packages.md).
- Informationen dazu, wie Sie Ihre MSBuild-Befehle in eine Befehlsdatei für einstufige, wiederholbare bereit Stellungen integrieren, finden Sie unter [Erstellen und Ausführen einer Befehlsdatei für die Bereitstellung](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).
- Informationen dazu, wie Sie Ihre benutzerdefinierten Projektdateien aus Team Build ausführen, finden Sie [unter Erstellen einer Builddefinition, die die Bereitstellung unterstützt](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).

> [!div class="step-by-step"]
> [Previous](creating-a-server-farm-with-the-web-farm-framework.md)
