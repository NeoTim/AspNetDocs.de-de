---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: Konfigurieren von Berechtigungen für Team-Buildbereitstellung | Microsoft-Dokumentation
author: jrjlee
description: In diesem Thema wird beschrieben, wie so konfigurieren Sie Berechtigungen zum Aktivieren des Buildservers zum Bereitstellen von Inhalt auf Webserver und Datenbankserver als Teil eines automatisierten b wird...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: 5699f72af6b8d7f18d1a2c631dfdedd63c66e1e6
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/06/2019
ms.locfileid: "65133856"
---
# <a name="configuring-permissions-for-team-build-deployment"></a><span data-ttu-id="3c2a1-103">Konfigurieren von Berechtigungen für Team-Buildbereitstellung</span><span class="sxs-lookup"><span data-stu-id="3c2a1-103">Configuring Permissions for Team Build Deployment</span></span>

<span data-ttu-id="3c2a1-104">durch [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="3c2a1-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="3c2a1-105">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="3c2a1-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="3c2a1-106">Dieses Thema beschreibt, wie Sie Berechtigungen konfigurieren, um Ihre Build-Server zum Bereitstellen von Inhalt auf Webserver und Datenbankserver als Teil einer automatisierten Buildprozess zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-106">This topic describes how to configure permissions to enable your build server to deploy content to web servers and database servers as part of an automated build process.</span></span>

<span data-ttu-id="3c2a1-107">In diesem Thema ist Teil einer Reihe von Tutorials, die auf der Basis der bereitstellungsanforderungen Enterprise ein fiktives Unternehmen, die mit dem Namen Fabrikam, Inc. Dieser tutorialreihe verwendet eine beispiellösung&#x2014;der [Contact Manager-Lösung](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;zur Darstellung einer Webanwendung mit einem realistischen Maß an Komplexität, einschließlich einer ASP.NET MVC 3-Anwendung, eine Windows-Kommunikation Foundation (WCF)-Dienst und ein Datenbankprojekt.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="3c2a1-108">Die Methode für die Bereitstellung das Kernstück des in diesen Tutorials basiert auf den geteilten Projekt Dateiansatz beschrieben, die [Grundlegendes zur Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in dem der Buildprozess durch gesteuert wird zwei Projektdateien&#x2014;enthält Erstellen Sie die Anweisungen, die für jede zielumgebung, und enthält umgebungsspezifische Build & Deployment-Einstellungen gelten.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="3c2a1-109">Zur Erstellungszeit wird die umgebungsspezifischen-Projektdatei in die Unabhängigkeit von der Umgebung Projektdatei, um einen vollständigen Satz von einrichtungsanweisungen bilden zusammengeführt.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="task-overview"></a><span data-ttu-id="3c2a1-110">Übersicht über den Task</span><span class="sxs-lookup"><span data-stu-id="3c2a1-110">Task Overview</span></span>

<span data-ttu-id="3c2a1-111">Wenn Sie den Team Foundation Server (TFS) 2010-Builddienst installieren, geben Sie die Identität, die mit der den Dienst ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-111">When you install the Team Foundation Server (TFS) 2010 build service, you specify the identity with which you want the service to run.</span></span> <span data-ttu-id="3c2a1-112">Standardmäßig ist dies das Netzwerkdienstkonto.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-112">By default, this is the Network Service account.</span></span> <span data-ttu-id="3c2a1-113">Alternativ können Sie den Builddienst ausgeführt, unter Verwendung eines Domänenkontos konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-113">Alternatively, you can configure the build service to run using a domain account.</span></span>

<span data-ttu-id="3c2a1-114">Alle Bereitstellungsaufgaben, die erfordern Windows-Authentifizierung, und dass Sie planen, zur Automatisierung mithilfe von Team Build, werden mit der Dienstidentität für den Build ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-114">Any deployment tasks that require Windows authentication, and that you plan to automate using Team Build, will run using the build service identity.</span></span> <span data-ttu-id="3c2a1-115">Daher müssen Sie der builddienstidentität alle erforderlichen Berechtigungen für Ihre Webserver und Ihrer Datenbankserver aufzurüsten gewähren.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-115">As such, you'll need to grant the build service identity any required permissions on your web servers and your database servers.</span></span>

> [!NOTE]
> <span data-ttu-id="3c2a1-116">Das Netzwerkdienstkonto verwendet das Computerkonto, andere Computer zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-116">The Network Service account uses the machine account to authenticate to other computers.</span></span> <span data-ttu-id="3c2a1-117">Computerkonten haben die Form \* [Domänenname]\[Machine-Name] \***$**&#x2014;z. B. **FABRIKAM\TFSBUILD$**.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-117">Machine accounts take the form \*[domain name]\[machine name]\***$**&#x2014;for example, **FABRIKAM\TFSBUILD$**.</span></span> <span data-ttu-id="3c2a1-118">Wenn der Builddienst ausgeführt wird, mit der Identität Network Service, sollten Sie daher alle erforderlichen Berechtigungen, der die computerkontoidentität für Ihren Buildserver gewähren.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-118">As such, if your build service runs using the Network Service identity, you should grant any required permissions to the machine account identity for your build server.</span></span>

## <a name="configuring-web-server-permissions"></a><span data-ttu-id="3c2a1-119">Konfigurieren von Webserver-Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="3c2a1-119">Configuring Web Server Permissions</span></span>

<span data-ttu-id="3c2a1-120">Siehe [Entscheidung zur Webbereitstellung rechts](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), es gibt zwei Hauptansätze können, wenn Sie Web-Pakete auf einem remote-Web-Server bereitstellen möchten:</span><span class="sxs-lookup"><span data-stu-id="3c2a1-120">As described in [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), there are two main approaches you can use if you want to deploy web packages to a remote web server:</span></span>

- <span data-ttu-id="3c2a1-121">Bereitstellen die Anwendung von einem Remotestandort aus auf die *Webbereitstellungs-Agent-Dienst* (auch bekannt als die remote-Agent) auf dem Zielserver.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-121">Deploy the application from a remote location by targeting the *Web Deployment Agent Service* (also known as the remote agent) on the destination server.</span></span>
- <span data-ttu-id="3c2a1-122">Bereitstellen die Anwendung von einem Remotestandort aus auf die *Internet Information Services* (*IIS) Bereitstellen von Web-Handler* auf dem Zielserver.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-122">Deploy the application from a remote location by targeting the *Internet Information Services* (*IIS) Web Deploy Handler* on the destination server.</span></span>

<span data-ttu-id="3c2a1-123">Der remote-Agent hat zwei wichtige Einschränkungen in diesem Fall:</span><span class="sxs-lookup"><span data-stu-id="3c2a1-123">The remote agent has two key limitations in this case:</span></span>

- <span data-ttu-id="3c2a1-124">Der remote-Agent unterstützt nur NTLM-Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-124">The remote agent supports only NTLM authentication.</span></span> <span data-ttu-id="3c2a1-125">Das heißt, muss die Bereitstellung verwenden die builddienstidentität&#x2014;nicht möglich, ein anderes Konto den Identitätswechsel.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-125">In other words, the deployment must use the build service identity&#x2014;you can't impersonate another account.</span></span>
- <span data-ttu-id="3c2a1-126">Um den remote-Agent zu verwenden, muss das Konto, das die Bereitstellung führt ein Administrator auf dem Zielserver sein.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-126">To use the remote agent, the account that performs the deployment must be an administrator on the target server.</span></span>

<span data-ttu-id="3c2a1-127">Zusammen stellen diese beiden Einschränkungen den remote-Agent-Ansatz nicht wünschenswert, dass eine automatische Bereitstellung von Team Build.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-127">Together, these two limitations make the remote agent approach undesirable for an automated Team Build deployment.</span></span> <span data-ttu-id="3c2a1-128">Um diesen Ansatz verwenden, müssten Sie den Builddienst, der einen Administrator auf jedem Zielserver für die Web-Konto zu machen.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-128">To use this approach, you'd need to make the build service account an administrator on any target web servers.</span></span>

<span data-ttu-id="3c2a1-129">Im Gegensatz dazu, der WebHandler-bereitstellen-Ansatz bietet verschiedene Vorteile:</span><span class="sxs-lookup"><span data-stu-id="3c2a1-129">In contrast, the Web Deploy Handler approach offers various advantages:</span></span>

- <span data-ttu-id="3c2a1-130">Die Web-bereitstellen-Handler unterstützt die grundlegende Authentifizierung über HTTPS und unter dem Sie die Anmeldeinformationen eines alternativen Kontos auf der IIS-Webbereitstellungstool (Web Deploy) zu übergeben können.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-130">The Web Deploy Handler supports basic authentication over HTTPS, which allows you to pass the credentials of an alternative account to the IIS Web Deployment Tool (Web Deploy).</span></span>
- <span data-ttu-id="3c2a1-131">Sie können die Ziel-Webserver zum Zulassen von nicht-Administratoren zum Bereitstellen von Inhalt auf bestimmte IIS-Websites, die mithilfe des Web-bereitstellen-Handlers konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-131">You can configure target web servers to allow non-administrator users to deploy content to specific IIS websites using the Web Deploy Handler.</span></span>

<span data-ttu-id="3c2a1-132">Daher ist es deutlich besser als Ziel der Web-bereitstellen-Handler beim Automatisieren von Web-Paket-Bereitstellung von Team Build.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-132">As a result, it's clearly preferable to target the Web Deploy Handler when you automate web package deployment from Team Build.</span></span> <span data-ttu-id="3c2a1-133">Dies ist die empfohlene Vorgehensweise:</span><span class="sxs-lookup"><span data-stu-id="3c2a1-133">This is the recommended process:</span></span>

1. <span data-ttu-id="3c2a1-134">Erstellen Sie Konto mit niedrigen Berechtigungen für die Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-134">Create a low-privileged domain account to use for the deployment.</span></span>
2. <span data-ttu-id="3c2a1-135">Konfigurieren der Web-bereitstellen-Handler und erteilen Sie dem Konto die erforderlichen Berechtigungen zum Bereitstellen von Inhalt auf einer bestimmten IIS-Website, siehe [Konfigurieren eines Webservers für Bereitstellen von Webpublishing (Web bereitstellen Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a1-135">Configure the Web Deploy Handler and grant the account the required permissions to deploy content to a specific IIS website, as described in [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span>
3. <span data-ttu-id="3c2a1-136">Aufrufen von Web Deploy und als Ziel der Web-bereitstellen-Handler, unter Verwendung der Standardauthentifizierung und die Angabe der Anmeldeinformationen des Domänenkontos Sie erstellt haben, um die Bereitstellung durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-136">Invoke Web Deploy and target the Web Deploy Handler, using basic authentication and supplying the credentials of the domain account you created, to perform the deployment.</span></span>

<span data-ttu-id="3c2a1-137">In der [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) Beispielprojektmappe, geben Sie den Authentifizierungstyp (basic oder NTLM), die Web Deploy-Anmeldeinformationen ein, und die Endpunktadresse (remote-Agent oder Bereitstellen von Web-Handler) in der Umgebung spezifischen-Projektdatei.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-137">In the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, you specify the authentication type (basic or NTLM), the Web Deploy credentials, and the endpoint address (remote agent or Web Deploy Handler) in the environment-specific project file.</span></span> <span data-ttu-id="3c2a1-138">Diese Werte werden verwendet, um zu formulieren, und führen Sie einen Web Deploy-Befehl aus, wenn die Projektdatei ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-138">These values are used to formulate and run a Web Deploy command when the project file is executed.</span></span> <span data-ttu-id="3c2a1-139">Weitere Informationen finden Sie unter [Bereitstellen von Webpaketen](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a1-139">For more information, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>

<span data-ttu-id="3c2a1-140">Weitere Informationen zum Konfigurieren der bereitstellen Webhandler, einschließlich Informationen zum Konfigurieren von Berechtigungen finden Sie unter [Konfigurieren eines Webservers für Bereitstellen von Webpublishing (Web bereitstellen Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a1-140">For more information on configuring the Web Deploy Handler, including how to configure permissions, see [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="3c2a1-141">Weitere Informationen zum Konfigurieren des remote-Agents finden Sie unter [Konfigurieren eines Webservers für Bereitstellen von Webpublishing (Remote-Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a1-141">For more information on configuring the remote agent, see [Configuring a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span>

## <a name="configuring-database-server-permissions"></a><span data-ttu-id="3c2a1-142">Konfigurieren von Datenbank-Server-Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="3c2a1-142">Configuring Database Server Permissions</span></span>

<span data-ttu-id="3c2a1-143">Zum Bereitstellen einer Datenbank in SQL Server müssen Sie folgende Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="3c2a1-143">To deploy a database to SQL Server, you must:</span></span>

- <span data-ttu-id="3c2a1-144">Erstellen Sie einen Anmeldenamen für das Bereitstellen von Konto, für die SQL Server-Instanz.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-144">Create a login for the deploying account on the SQL Server instance.</span></span>
- <span data-ttu-id="3c2a1-145">Gewähren Sie der Anmeldung **DBCreator** Berechtigungen für die SQL Server-Instanz.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-145">Grant the login **DBCreator** permissions on the SQL Server instance.</span></span>
- <span data-ttu-id="3c2a1-146">Fügen Sie nach der ersten Bereitstellung die Anmeldung bei der **Db\_Besitzer** Rolle in der Zieldatenbank.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-146">After the initial deployment, add the login to the **db\_owner** role on the target database.</span></span> <span data-ttu-id="3c2a1-147">Dies ist erforderlich, da für nachfolgende Bereitstellungen Sie können eine vorhandene Datenbank ändern, anstatt eine neue Datenbank erstellen.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-147">This is required because on subsequent deployments, you're modifying an existing database rather than creating a new database.</span></span>

<span data-ttu-id="3c2a1-148">Sie können auf eine SQL Server-Instanz, die mit NTLM-Authentifizierung oder SQL Server-Authentifizierung authentifizieren:</span><span class="sxs-lookup"><span data-stu-id="3c2a1-148">You can authenticate to a SQL Server instance using either NTLM authentication or SQL Server authentication:</span></span>

- <span data-ttu-id="3c2a1-149">Wenn Sie die NTLM-Authentifizierung verwenden, müssen Sie die oben beschriebenen Build Service-Konto Berechtigungen zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-149">If you use NTLM authentication, you need to grant the permissions described above to the build service account.</span></span>
- <span data-ttu-id="3c2a1-150">Wenn Sie SQL Server-Authentifizierung verwenden, müssen Sie die oben beschriebenen, auf dem SQL Server-Dienstkonto Berechtigungen gewähren.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-150">If you use SQL Server authentication, you need to grant the permissions described above to the SQL Server account.</span></span> <span data-ttu-id="3c2a1-151">Außerdem müssen Sie den SQL Server-Benutzernamen und das Kennwort in der Verbindungszeichenfolge enthalten, die Sie verwenden, um die Datenbank bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-151">You also need to include the SQL Server user name and password in the connection string you use to deploy the database.</span></span>

<span data-ttu-id="3c2a1-152">Detaillierte Informationen zum Konfigurieren von Berechtigungen für die datenbankbereitstellung finden Sie unter [Konfigurieren eines Datenbankservers für die Webveröffentlichung bereitstellen](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a1-152">For step-by-step details on how to configure permissions for database deployment, see [Configuring a Database Server for Web Deploy Publishing](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="3c2a1-153">Schlussbemerkung</span><span class="sxs-lookup"><span data-stu-id="3c2a1-153">Conclusion</span></span>

<span data-ttu-id="3c2a1-154">An diesem Punkt sollten Sie die Berechtigungen, die erforderlich sind, zusammen mit der Authentifizierungsoptionen, öffnen Sie bei einer Web-Anwendung und Datenbank-Bereitstellungen von Team Build Automatisierung verstehen.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-154">At this point, you should understand the permissions required, together with the authentication options open to you, when you automate web application and database deployments from Team Build.</span></span> <span data-ttu-id="3c2a1-155">Sie sollten auch die erforderlichen Berechtigungen für IIS-Webserver und SQL Server-Datenbank-Server implementieren können.</span><span class="sxs-lookup"><span data-stu-id="3c2a1-155">You should also be able to implement the necessary permissions on IIS web servers and SQL Server database servers.</span></span>

## <a name="further-reading"></a><span data-ttu-id="3c2a1-156">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="3c2a1-156">Further Reading</span></span>

<span data-ttu-id="3c2a1-157">Weitere Informationen zum Konfigurieren von Windows Server-Umgebungen um Remotebereitstellungen zu unterstützen, finden Sie unter [Konfigurieren von Server-Umgebungen für die Webbereitstellung](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a1-157">For more information on configuring Windows server environments to support remote deployment, see [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="3c2a1-158">Vorherige</span><span class="sxs-lookup"><span data-stu-id="3c2a1-158">Previous</span></span>](deploying-a-specific-build.md)
