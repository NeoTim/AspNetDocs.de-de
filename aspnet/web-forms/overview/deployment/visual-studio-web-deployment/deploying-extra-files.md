---
uid: web-forms/overview/deployment/visual-studio-web-deployment/deploying-extra-files
title: 'ASP.NET-webbereitstellung mithilfe von Visual Studio: Bereitstellen von zusätzlichen Dateien | Microsoft-Dokumentation'
author: tdykstra
description: Dieser tutorialreihe erfahren Sie, wie bereitzustellende (veröffentlichen) aus einer ASP.NET web-Anwendung auf Azure App Service-Web-Apps oder bei einem Hostinganbieter von Drittanbietern, indem Warnungsprovider...
ms.author: riande
ms.date: 03/23/2015
ms.assetid: 1cd91055-84bc-42c6-9d80-646f41429d4d
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/deploying-extra-files
msc.type: authoredcontent
ms.openlocfilehash: 7ec80056a845429d5971bb174f6348b4b7a9587d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/09/2019
ms.locfileid: "59379591"
---
# <a name="aspnet-web-deployment-using-visual-studio-deploying-extra-files"></a><span data-ttu-id="d331a-103">ASP.NET-webbereitstellung mithilfe von Visual Studio: Bereitstellen von zusätzlichen Dateien</span><span class="sxs-lookup"><span data-stu-id="d331a-103">ASP.NET Web Deployment using Visual Studio: Deploying Extra Files</span></span>

<span data-ttu-id="d331a-104">durch [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="d331a-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="d331a-105">Startprojekt herunterladen</span><span class="sxs-lookup"><span data-stu-id="d331a-105">Download Starter Project</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=282627)

> <span data-ttu-id="d331a-106">Dieser tutorialreihe erfahren Sie, wie bereitzustellende (veröffentlichen) aus einer ASP.NET web-Anwendung auf Azure App Service-Web-Apps oder bei einem Hostinganbieter von Drittanbietern, mithilfe von Visual Studio 2012 oder Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="d331a-106">This tutorial series shows you how to deploy (publish) an ASP.NET web application to Azure App Service Web Apps or to a third-party hosting provider, by using Visual Studio 2012 or Visual Studio 2010.</span></span> <span data-ttu-id="d331a-107">Weitere Informationen über die Reihe finden Sie unter [im ersten Tutorial der Reihe](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="d331a-107">For information about the series, see [the first tutorial in the series](introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="d331a-108">Übersicht</span><span class="sxs-lookup"><span data-stu-id="d331a-108">Overview</span></span>

<span data-ttu-id="d331a-109">Dieses Tutorial veranschaulicht, wie erweitern das Visual Studio Web veröffentlichen Pipeline, um eine zusätzliche Aufgabe während der Bereitstellung durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="d331a-109">This tutorial shows how to extend the Visual Studio web publish pipeline to do an additional task during deployment.</span></span> <span data-ttu-id="d331a-110">Die Aufgabe besteht darin, zusätzliche Dateien kopieren, die nicht in den Projektordner, der Ziel-Website befinden.</span><span class="sxs-lookup"><span data-stu-id="d331a-110">The task is to copy extra files that are not in the project folder to the destination web site.</span></span>

<span data-ttu-id="d331a-111">In diesem Tutorial kopieren Sie eine zusätzliche Datei: *robots.txt*.</span><span class="sxs-lookup"><span data-stu-id="d331a-111">For this tutorial you'll copy one extra file: *robots.txt*.</span></span> <span data-ttu-id="d331a-112">Diese Datei in die Stagingumgebung, aber nicht in die Produktion bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="d331a-112">You want to deploy this file to staging but not to production.</span></span> <span data-ttu-id="d331a-113">In [Bereitstellen in der Produktion](deploying-to-production.md) Tutorial, das Sie diese Datei dem Projekt hinzugefügt und konfiguriert die Produktion Veröffentlichungsprofil, um sie auszuschließen.</span><span class="sxs-lookup"><span data-stu-id="d331a-113">In [the Deploying to Production](deploying-to-production.md) tutorial, you added this file to the project and configured the Production publish profile to exclude it.</span></span> <span data-ttu-id="d331a-114">In diesem Tutorial sehen Sie eine alternative Methode für diese Situation, eine, die für alle Dateien nützlich sind, die Sie bereitstellen möchten, aber nicht im Projekt enthalten sein sollen.</span><span class="sxs-lookup"><span data-stu-id="d331a-114">In this tutorial you'll see an alternative method to handle this situation, one that will be useful for any files that you want to deploy but don't want to include in the project.</span></span>

## <a name="move-the-robotstxt-file"></a><span data-ttu-id="d331a-115">Verschieben Sie die Datei "robots.txt"</span><span class="sxs-lookup"><span data-stu-id="d331a-115">Move the robots.txt file</span></span>

<span data-ttu-id="d331a-116">Zur Vorbereitung der Behandlung einer anderen Methode *robots.txt*, in diesem Abschnitt des Lernprogramms verschieben Sie die Datei in einen Ordner, die nicht im Projekt enthalten ist und Sie löschen *robots.txt* aus den Stagingtabellen Umgebung.</span><span class="sxs-lookup"><span data-stu-id="d331a-116">To prepare for a different method of handling *robots.txt*, in this section of the tutorial you move the file to a folder that is not included in the project, and you delete *robots.txt* from the staging environment.</span></span> <span data-ttu-id="d331a-117">Es ist erforderlich, löschen Sie die Datei aus der Staging-, damit Sie überprüfen können, dass die neue Methode der Bereitstellung der das für diese Umgebung ordnungsgemäß funktioniert.</span><span class="sxs-lookup"><span data-stu-id="d331a-117">It is necessary to delete the file from staging so that you can verify that your new method of deploying the file to that environment is working correctly.</span></span>

1. <span data-ttu-id="d331a-118">In **Projektmappen-Explorer**, mit der rechten Maustaste die *robots.txt* Datei, und klicken Sie auf **aus Projekt ausschließen**.</span><span class="sxs-lookup"><span data-stu-id="d331a-118">In **Solution Explorer**, right-click the *robots.txt* file and click **Exclude From Project**.</span></span>
2. <span data-ttu-id="d331a-119">Erstellen Sie einen neuen Ordner im Projektmappenordner und nennen Sie sie mithilfe des Windows-Datei-Explorers *ExtraFiles*.</span><span class="sxs-lookup"><span data-stu-id="d331a-119">Using Windows File Explorer, create a new folder in the solution folder and name it *ExtraFiles*.</span></span>
3. <span data-ttu-id="d331a-120">Verschieben der *robots.txt* -Datei aus der *ContosoUniversity* Projektordners mit dem die *ExtraFiles* Ordner.</span><span class="sxs-lookup"><span data-stu-id="d331a-120">Move the *robots.txt* file from the *ContosoUniversity* project folder to the *ExtraFiles* folder.</span></span>

    ![ExtraFiles-Ordner](deploying-extra-files/_static/image1.png)
4. <span data-ttu-id="d331a-122">Löschen Sie Ihre FTP-Tool, mit der *robots.txt* Datei von der staging-Website.</span><span class="sxs-lookup"><span data-stu-id="d331a-122">Using your FTP tool, delete the *robots.txt* file from the staging web site.</span></span>

    <span data-ttu-id="d331a-123">Als Alternative können Sie auswählen können **entfernen weiterer Dateien am Ziel** unter **Dateiveröffentlichungsoptionen** auf die **Einstellungen** Registerkarte des Veröffentlichungsprofils Staging, und Veröffentlichen Sie erneut in die Stagingumgebung.</span><span class="sxs-lookup"><span data-stu-id="d331a-123">As an alternative, you can select **Remove additional files at destination** under **File Publish Options** on the **Settings** tab of the Staging publish profile, and republish to staging.</span></span>

## <a name="update-the-publish-profile-file"></a><span data-ttu-id="d331a-124">Aktualisieren Sie das Veröffentlichungsprofil</span><span class="sxs-lookup"><span data-stu-id="d331a-124">Update the publish profile file</span></span>

<span data-ttu-id="d331a-125">Sie müssen nur *robots.txt* in der Stagingumgebung verfügbar, sodass Staging das einzige Veröffentlichungsprofil, das Sie aktualisieren, damit Sie sie bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="d331a-125">You only need *robots.txt* in staging, so the only publish profile you need to update in order to deploy it is Staging.</span></span>

1. <span data-ttu-id="d331a-126">Öffnen Sie in Visual Studio *Staging.pubxml*.</span><span class="sxs-lookup"><span data-stu-id="d331a-126">In Visual Studio, open *Staging.pubxml*.</span></span>
2. <span data-ttu-id="d331a-127">Am Ende der Datei vor dem schließenden `</Project>` markieren, fügen Sie das folgende Markup hinzu:</span><span class="sxs-lookup"><span data-stu-id="d331a-127">At the end of the file, before the closing `</Project>` tag, add the following markup:</span></span>

    [!code-xml[Main](deploying-extra-files/samples/sample1.xml)]

    <span data-ttu-id="d331a-128">Dieser Code erstellt ein neues *Ziel* sammelt, die zusätzliche Dateien bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="d331a-128">This code creates a new *target* that will collect additional files to be deployed.</span></span> <span data-ttu-id="d331a-129">Ein Ziel besteht aus einer oder mehrere Aufgaben, die ausgeführt wird, dass Sie MSBuild auf der Grundlage von Bedingungen, die Sie angeben.</span><span class="sxs-lookup"><span data-stu-id="d331a-129">A target is composed of one or more tasks that MSBuild will execute based on conditions you specify.</span></span>

    <span data-ttu-id="d331a-130">Die `Include` Attribut gibt an, dass der Ordner, in dem sich die Dateien befinden *ExtraFiles*auf derselben Ebene wie der Projektordner.</span><span class="sxs-lookup"><span data-stu-id="d331a-130">The `Include` attribute specifies that the folder in which to find the files is *ExtraFiles*, located at the same level as the project folder.</span></span> <span data-ttu-id="d331a-131">MSBuild sammelt alle Dateien in diesem Ordner und rekursiv Unterordnern (das doppelte Sternchen gibt rekursiven Unterordner).</span><span class="sxs-lookup"><span data-stu-id="d331a-131">MSBuild will collect all files from that folder and recursively from any subfolders (the double asterisk specifies recursive subfolders).</span></span> <span data-ttu-id="d331a-132">Mit diesem Code können Sie mehrere Dateien und Dateien platzieren, in Unterordnern innerhalb der *ExtraFiles* Ordner und alle bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="d331a-132">With this code you could put multiple files, and files in subfolders inside the *ExtraFiles* folder, and all will be deployed.</span></span>

    <span data-ttu-id="d331a-133">Die `DestinationRelativePath` Element gibt an, dass die Ordner und Dateien in den Stammordner der Ziel-Website, in der gleichen Struktur von Dateien und Ordner kopiert werden sollen, wie in der sie gefunden werden die *ExtraFiles* Ordner.</span><span class="sxs-lookup"><span data-stu-id="d331a-133">The `DestinationRelativePath` element specifies that the folders and files should be copied to the root folder of the destination web site, in the same file and folder structure as they are found in the *ExtraFiles* folder.</span></span> <span data-ttu-id="d331a-134">Wenn Sie, kopieren Sie möchten die *ExtraFiles* Ordner selbst, die `DestinationRelativePath` -Werte entsprächen dann *ExtraFiles\%(RecursiveDir)%(Filename)%(Extension)*.</span><span class="sxs-lookup"><span data-stu-id="d331a-134">If you wanted to copy the *ExtraFiles* folder itself, the `DestinationRelativePath` value would be *ExtraFiles\%(RecursiveDir)%(Filename)%(Extension)*.</span></span>
3. <span data-ttu-id="d331a-135">Am Ende der Datei vor dem schließenden `</Project>` markieren, fügen Sie das folgende Markup, der angibt, wann das neue Ziel ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d331a-135">At the end of the file, before the closing `</Project>` tag, add the following markup that specifies when to execute the new target.</span></span>

    [!code-xml[Main](deploying-extra-files/samples/sample2.xml)]

    <span data-ttu-id="d331a-136">Dieser Code bewirkt, dass die neue `CustomCollectFiles` Ziel ausgeführt werden, wenn das Ziel, die Dateien in den Zielordner kopiert ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d331a-136">This code causes the new `CustomCollectFiles` target to be executed whenever the target that copies files to the destination folder is executed.</span></span> <span data-ttu-id="d331a-137">Es ist ein separater Ziel für die zu veröffentlichen, im Vergleich zu paketerstellung für die Bereitstellung und das neue Ziel wird in beide Ziele für den Fall, dass Sie entscheiden, bereitstellen, indem Sie die Veröffentlichung ein Bereitstellungspakets anstelle eingefügt.</span><span class="sxs-lookup"><span data-stu-id="d331a-137">There is a separate target for publish versus deployment package creation, and the new target is injected in both targets in case you decide to deploy by using a deployment package instead of publishing.</span></span>

    <span data-ttu-id="d331a-138">Die *pubxml* Datei sieht nun wie im folgenden Beispiel:</span><span class="sxs-lookup"><span data-stu-id="d331a-138">The *.pubxml* file now looks like the following example:</span></span>

    [!code-xml[Main](deploying-extra-files/samples/sample3.xml?highlight=53-71)]
4. <span data-ttu-id="d331a-139">Speichern und schließen Sie die *Staging.pubxml* Datei.</span><span class="sxs-lookup"><span data-stu-id="d331a-139">Save and close the *Staging.pubxml* file.</span></span>

## <a name="publish-to-staging"></a><span data-ttu-id="d331a-140">In der Stagingumgebung veröffentlichen</span><span class="sxs-lookup"><span data-stu-id="d331a-140">Publish to staging</span></span>

<span data-ttu-id="d331a-141">Mit One-Click-Veröffentlichung oder der Befehlszeile, die die Anwendung zu veröffentlichen, über das Staging-Profil.</span><span class="sxs-lookup"><span data-stu-id="d331a-141">Using one-click publish or the command line, publish the application by using the Staging profile.</span></span>

<span data-ttu-id="d331a-142">Bei Verwendung von nur einem Klick zu veröffentlichen, können Sie überprüfen, in der **Vorschau** Fenster, *robots.txt* kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="d331a-142">If you use one-click publish, you can verify in the **Preview** window that *robots.txt* will be copied.</span></span> <span data-ttu-id="d331a-143">Andernfalls verwenden Sie Ihre FTP-Tool, um zu überprüfen, ob die *robots.txt* Datei ist im Stammordner der Website nach der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="d331a-143">Otherwise, use your FTP tool to verify that the *robots.txt* file is in the root folder of the web site after deployment.</span></span>

## <a name="summary"></a><span data-ttu-id="d331a-144">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="d331a-144">Summary</span></span>

<span data-ttu-id="d331a-145">Dies schließt diese tutorialreihe zum Bereitstellen einer ASP.NET-Webanwendung zu einem Hostinganbieter von Drittanbietern.</span><span class="sxs-lookup"><span data-stu-id="d331a-145">This completes this series of tutorials on deploying an ASP.NET web application to a third-party hosting provider.</span></span> <span data-ttu-id="d331a-146">Weitere Informationen zu den Themen in diesen Tutorials behandelt, finden Sie unter den [ASP.NET die ASP.NET-Bereitstellung](https://go.microsoft.com/fwlink/p/?LinkId=282413).</span><span class="sxs-lookup"><span data-stu-id="d331a-146">For more information about any of the topics covered in these tutorials, see the [ASP.NET Deployment Content Map](https://go.microsoft.com/fwlink/p/?LinkId=282413).</span></span>

## <a name="more-information"></a><span data-ttu-id="d331a-147">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="d331a-147">More information</span></span>

<span data-ttu-id="d331a-148">Wenn Sie zum Arbeiten mit Dateien von MSBuild kennen, können Sie weitere Bereitstellungsaufgaben automatisieren, indem Schreiben von Code in *pubxml* -Dateien (für Profile-spezifische Aufgaben) oder das Projekt *. wpp.targets* Datei (für tasks, gelten Sie für alle Profile).</span><span class="sxs-lookup"><span data-stu-id="d331a-148">If you know how to work with MSBuild files, you can automate many other deployment tasks by writing code in *.pubxml* files (for profile-specific tasks) or the project *.wpp.targets* file (for tasks that apply to all profiles).</span></span> <span data-ttu-id="d331a-149">Weitere Informationen zu *pubxml* und *. wpp.targets* finden Sie unter [Vorgehensweise: Bearbeiten der Bereitstellungseinstellungen in Veröffentlichungsprofildateien (.pubxml)-Dateien veröffentlichen und die. wpp.targets-Datei in Visual Studio-Webprojekten](https://msdn.microsoft.com/library/ff398069).</span><span class="sxs-lookup"><span data-stu-id="d331a-149">For more information about *.pubxml* and *.wpp.targets* files, see [How to: Edit Deployment Settings in Publish Profile (.pubxml) Files and the .wpp.targets File in Visual Studio Web Projects](https://msdn.microsoft.com/library/ff398069).</span></span> <span data-ttu-id="d331a-150">Eine grundlegende Einführung in MSBuild-Code, finden Sie unter **Anatomie einer Projektdatei** in [Unternehmensbereitstellung Serie: Grundlegendes zur Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="d331a-150">For a basic introduction to MSBuild code, see **The Anatomy of a Project File** in [Enterprise Deployment Series: Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span> <span data-ttu-id="d331a-151">Arbeiten mit Dateien von MSBuild zum Ausführen von Aufgaben für Ihre eigenen Szenarien finden Sie unter diesem Buch: [In der Microsoft Build-Engine: Mithilfe von MSBuild und Team Foundation-Build](http://msbuildbook.com) von Sayed Hashimi von Ibraham und William Bartholomew.</span><span class="sxs-lookup"><span data-stu-id="d331a-151">To learn how to work with MSBuild files to perform tasks for your own scenarios, see this book: [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://msbuildbook.com) by Sayed Ibraham Hashimi and William Bartholomew.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="d331a-152">Bestätigungen</span><span class="sxs-lookup"><span data-stu-id="d331a-152">Acknowledgements</span></span>

<span data-ttu-id="d331a-153">Ich möchte die vielen Dank, dass die folgenden Personen, die wichtige Beiträge zu den Inhalt dieser tutorialreihe vorgenommen:</span><span class="sxs-lookup"><span data-stu-id="d331a-153">I would like to thank the following people who made significant contributions to the content of this tutorial series:</span></span>

- [<span data-ttu-id="d331a-154">Alberto Poblacion, MVP &amp; MCT, Spanien</span><span class="sxs-lookup"><span data-stu-id="d331a-154">Alberto Poblacion, MVP &amp; MCT, Spain</span></span>](https://mvp.microsoft.com/mvp/Alberto%20Poblacion%20Bolano-36772)
- <span data-ttu-id="d331a-155">Jarod Ferguson, Entwicklung von Data Platform MVP, Vereinigte Staaten</span><span class="sxs-lookup"><span data-stu-id="d331a-155">Jarod Ferguson, Data Platform Development MVP, United States</span></span>
- <span data-ttu-id="d331a-156">Harsh Mittal, Microsoft</span><span class="sxs-lookup"><span data-stu-id="d331a-156">Harsh Mittal, Microsoft</span></span>
- <span data-ttu-id="d331a-157">[Jon Galloway](https://weblogs.asp.net/jgalloway) (twitter: [ @jongalloway ](http://twitter.com/jongalloway))</span><span class="sxs-lookup"><span data-stu-id="d331a-157">[Jon Galloway](https://weblogs.asp.net/jgalloway) (twitter: [@jongalloway](http://twitter.com/jongalloway))</span></span>
- [<span data-ttu-id="d331a-158">Kristina Olson, Microsoft</span><span class="sxs-lookup"><span data-stu-id="d331a-158">Kristina Olson, Microsoft</span></span>](https://blogs.iis.net/krolson/default.aspx)
- [<span data-ttu-id="d331a-159">Mike Pope, Microsoft</span><span class="sxs-lookup"><span data-stu-id="d331a-159">Mike Pope, Microsoft</span></span>](http://www.mikepope.com/blog/DisplayBlog.aspx)
- <span data-ttu-id="d331a-160">Mohit Srivastava, Microsoft</span><span class="sxs-lookup"><span data-stu-id="d331a-160">Mohit Srivastava, Microsoft</span></span>
- [<span data-ttu-id="d331a-161">Raffaele Rialdi, Italien</span><span class="sxs-lookup"><span data-stu-id="d331a-161">Raffaele Rialdi, Italy</span></span>](http://www.iamraf.net/)
- [<span data-ttu-id="d331a-162">Rick Anderson, Microsoft</span><span class="sxs-lookup"><span data-stu-id="d331a-162">Rick Anderson, Microsoft</span></span>](https://blogs.msdn.com/b/rickandy/)
- <span data-ttu-id="d331a-163">[Sayed Hashimi, Microsoft](http://sedodream.com/default.aspx)(twitter: [ @sayedihashimi ](http://twitter.com/sayedihashimi))</span><span class="sxs-lookup"><span data-stu-id="d331a-163">[Sayed Hashimi, Microsoft](http://sedodream.com/default.aspx)(twitter: [@sayedihashimi](http://twitter.com/sayedihashimi))</span></span>
- <span data-ttu-id="d331a-164">[Scott Hanselman](http://www.hanselman.com/blog/) (twitter: [ @shanselman ](http://twitter.com/shanselman))</span><span class="sxs-lookup"><span data-stu-id="d331a-164">[Scott Hanselman](http://www.hanselman.com/blog/) (twitter: [@shanselman](http://twitter.com/shanselman))</span></span>
- <span data-ttu-id="d331a-165">[Scott Hunter, Microsoft](https://blogs.msdn.com/b/scothu/) (twitter: [ @coolcsh ](http://twitter.com/coolcsh))</span><span class="sxs-lookup"><span data-stu-id="d331a-165">[Scott Hunter, Microsoft](https://blogs.msdn.com/b/scothu/) (twitter: [@coolcsh](http://twitter.com/coolcsh))</span></span>
- [<span data-ttu-id="d331a-166">Srđan Božović, Serbia</span><span class="sxs-lookup"><span data-stu-id="d331a-166">Srđan Božović, Serbia</span></span>](http://msforge.net/blogs/zmajcek/)
- <span data-ttu-id="d331a-167">[Vishal Joshi, Microsoft](http://vishaljoshi.blogspot.com/) (twitter: [@vishalrjoshi](http://twitter.com/vishalrjoshi))</span><span class="sxs-lookup"><span data-stu-id="d331a-167">[Vishal Joshi, Microsoft](http://vishaljoshi.blogspot.com/) (twitter: [@vishalrjoshi](http://twitter.com/vishalrjoshi))</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d331a-168">[Zurück](command-line-deployment.md)
> [Weiter](troubleshooting.md)</span><span class="sxs-lookup"><span data-stu-id="d331a-168">[Previous](command-line-deployment.md)
[Next](troubleshooting.md)</span></span>
