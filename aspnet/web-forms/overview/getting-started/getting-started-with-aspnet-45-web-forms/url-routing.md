---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
title: URL-Routing | Microsoft-Dokumentation
author: Erikre
description: Diese tutorialreihe vermittelt Ihnen die Grundlagen zum Entwickeln einer ASP.net Web Forms Anwendung mit ASP.NET 4,5 und Microsoft Visual Studio Express 2013 für wir...
ms.author: riande
ms.date: 09/08/2014
ms.assetid: 4f4bf092-c400-471f-a876-78fda0417890
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
msc.type: authoredcontent
ms.openlocfilehash: 66b727b69ca4f9a3d35b67f492f9a554146e09ef
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78474813"
---
# <a name="url-routing"></a><span data-ttu-id="ef546-103">URL-Routing</span><span class="sxs-lookup"><span data-stu-id="ef546-103">URL Routing</span></span>

<span data-ttu-id="ef546-104">von [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="ef546-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="ef546-105">[Herunterladen eines Wingtip Toys-C#Beispielprojekts ()](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) oder [Herunterladen von E-Book (PDF)](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="ef546-105">[Download Wingtip Toys Sample Project (C#)](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="ef546-106">Diese tutorialreihe vermittelt Ihnen die Grundlagen der Entwicklung einer ASP.net Web Forms-Anwendung mit ASP.NET 4,5 und Microsoft Visual Studio Express 2013 für das Web.</span><span class="sxs-lookup"><span data-stu-id="ef546-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="ef546-107">Für diese tutorialreihe steht ein Visual Studio 2013- [Projekt mit C# Quellcode](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="ef546-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>

<span data-ttu-id="ef546-108">In diesem Tutorial ändern Sie die Wingtip Toys-Beispielanwendung, um das URL-Routing zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="ef546-108">In this tutorial, you will modify the Wingtip Toys sample application to support URL routing.</span></span> <span data-ttu-id="ef546-109">Das Routing ermöglicht Ihrer Webanwendung die Verwendung von URLs, die benutzerfreundlich, leichter zu merken und besser von Suchmaschinen unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="ef546-109">Routing enables your web application to use URLs that are friendly, easier to remember, and better supported by search engines.</span></span> <span data-ttu-id="ef546-110">Dieses Tutorial baut auf dem vorherigen Tutorial "Mitgliedschaft und Administration" auf und ist Teil der Wingtip Toys-tutorialreihe.</span><span class="sxs-lookup"><span data-stu-id="ef546-110">This tutorial builds on the previous tutorial "Membership and Administration" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="ef546-111">Sie lernen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="ef546-111">What you'll learn:</span></span>

- <span data-ttu-id="ef546-112">Vorgehensweise beim Registrieren von Routen für eine ASP.net-Web Forms Anwendung</span><span class="sxs-lookup"><span data-stu-id="ef546-112">How to register routes for an ASP.NET Web Forms application.</span></span>
- <span data-ttu-id="ef546-113">Vorgehensweise beim Hinzufügen von Routen zu einer Webseite.</span><span class="sxs-lookup"><span data-stu-id="ef546-113">How to add routes to a web page.</span></span>
- <span data-ttu-id="ef546-114">Auswählen von Daten aus einer Datenbank zur Unterstützung von Routen.</span><span class="sxs-lookup"><span data-stu-id="ef546-114">How to select data from a database to support routes.</span></span>

## <a name="aspnet-routing-overview"></a><span data-ttu-id="ef546-115">Übersicht über ASP.NET Routing</span><span class="sxs-lookup"><span data-stu-id="ef546-115">ASP.NET Routing Overview</span></span>

<span data-ttu-id="ef546-116">Über das URL-Routing können Sie eine Anwendung so konfigurieren, dass Sie Anforderungs-URLs akzeptiert, die nicht physischen Dateien zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="ef546-116">URL routing allows you to configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="ef546-117">Eine Anforderungs-URL ist einfach die URL, die ein Benutzer in seinen Browser eingibt, um eine Seite auf Ihrer Website zu finden.</span><span class="sxs-lookup"><span data-stu-id="ef546-117">A request URL is simply the URL a user enters into their browser to find a page on your web site.</span></span> <span data-ttu-id="ef546-118">Sie verwenden das Routing, um URLs zu definieren, die für Benutzer semantisch aussagekräftig sind und die bei der Suchmaschinenoptimierung (Search Engine Optimization, SEO) helfen können.</span><span class="sxs-lookup"><span data-stu-id="ef546-118">You use routing to define URLs that are semantically meaningful to users and that can help with search-engine optimization (SEO).</span></span>

<span data-ttu-id="ef546-119">Standardmäßig enthält die Web Forms Vorlage [ASP.net friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span><span class="sxs-lookup"><span data-stu-id="ef546-119">By default, the Web Forms template includes [ASP.NET Friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span></span> <span data-ttu-id="ef546-120">Ein Großteil der grundlegenden Routing Aufgaben wird mithilfe von *freundlichen URLs*implementiert.</span><span class="sxs-lookup"><span data-stu-id="ef546-120">Much of the basic routing work will be implemented by using *Friendly URLs*.</span></span> <span data-ttu-id="ef546-121">In diesem Tutorial fügen Sie jedoch angepasste Routing Funktionen hinzu.</span><span class="sxs-lookup"><span data-stu-id="ef546-121">However, in this tutorial you will add customized routing capabilities.</span></span>

<span data-ttu-id="ef546-122">Vor dem Anpassen des URL-Routings kann die Wingtip Toys-Beispielanwendung mithilfe der folgenden URL eine Verknüpfung mit einem Produkt herstellen:</span><span class="sxs-lookup"><span data-stu-id="ef546-122">Before customizing URL routing, the Wingtip Toys sample application can link to a product using the following URL:</span></span>

`https://localhost:44300/ProductDetails.aspx?productID=2`

<span data-ttu-id="ef546-123">Durch Anpassen des URL-Routings verknüpft die Wingtip Toys-Beispielanwendung mit dem gleichen Produkt, indem eine einfachere URL verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="ef546-123">By customizing URL routing, the Wingtip Toys sample application will link to the same product using an easier to read URL:</span></span>

`https://localhost:44300/Product/Convertible%20Car`

### <a name="routes"></a><span data-ttu-id="ef546-124">Routen</span><span class="sxs-lookup"><span data-stu-id="ef546-124">Routes</span></span>

<span data-ttu-id="ef546-125">Eine Route ist ein URL-Muster, das einem-Handler zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="ef546-125">A route is a URL pattern that is mapped to a handler.</span></span> <span data-ttu-id="ef546-126">Der Handler kann eine physische Datei sein, z. b. eine ASPX-Datei in einer Web Forms Anwendung.</span><span class="sxs-lookup"><span data-stu-id="ef546-126">The handler can be a physical file, such as an .aspx file in a Web Forms application.</span></span> <span data-ttu-id="ef546-127">Ein Handler kann auch eine Klasse sein, die die Anforderung verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="ef546-127">A handler can also be a class that processes the request.</span></span> <span data-ttu-id="ef546-128">Zum Definieren einer Route erstellen Sie eine Instanz der Routen Klasse, indem Sie das URL-Muster, den Handler und optional einen Namen für die Route angeben.</span><span class="sxs-lookup"><span data-stu-id="ef546-128">To define a route, you create an instance of the Route class by specifying the URL pattern, the handler, and optionally a name for the route.</span></span>

<span data-ttu-id="ef546-129">Fügen Sie der Anwendung die Route hinzu, indem Sie das `Route`-Objekt der Eigenschaft static `Routes` der `RouteTable`-Klasse hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ef546-129">You add the route to the application by adding the `Route` object to the static `Routes` property of the `RouteTable` class.</span></span> <span data-ttu-id="ef546-130">Die Routes-Eigenschaft ist ein `RouteCollection` Objekt, das alle Routen für die Anwendung speichert.</span><span class="sxs-lookup"><span data-stu-id="ef546-130">The Routes property is a `RouteCollection` object that stores all the routes for the application.</span></span>

### <a name="url-patterns"></a><span data-ttu-id="ef546-131">URL-Muster</span><span class="sxs-lookup"><span data-stu-id="ef546-131">URL Patterns</span></span>

<span data-ttu-id="ef546-132">Ein URL-Muster kann Literalwerte und Variablen Platzhalter (als URL-Parameter bezeichnet) enthalten.</span><span class="sxs-lookup"><span data-stu-id="ef546-132">A URL pattern can contain literal values and variable placeholders (referred to as URL parameters).</span></span> <span data-ttu-id="ef546-133">Die Literale und Platzhalter befinden sich in Segmenten der URL, die durch den Schrägstrich (`/`) getrennt sind.</span><span class="sxs-lookup"><span data-stu-id="ef546-133">The literals and placeholders are located in segments of the URL which are delimited by the slash (`/`) character.</span></span>

<span data-ttu-id="ef546-134">Wenn eine Anforderung an die Webanwendung gestellt wird, wird die URL in Segmente und Platzhalter analysiert, und die Variablen Werte werden dem Anforderungs Handler bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="ef546-134">When a request to your web application is made, the URL is parsed into segments and placeholders, and the variable values are provided to the request handler.</span></span> <span data-ttu-id="ef546-135">Dieser Prozess ähnelt der Analyse der Daten in einer Abfrage Zeichenfolge und der Übergabe an den Anforderungs Handler.</span><span class="sxs-lookup"><span data-stu-id="ef546-135">This process is similar to the way the data in a query string is parsed and passed to the request handler.</span></span> <span data-ttu-id="ef546-136">In beiden Fällen sind Variablen Informationen in der URL enthalten und in Form von Schlüssel-Wert-Paaren an den Handler übermittelt.</span><span class="sxs-lookup"><span data-stu-id="ef546-136">In both cases, variable information is included in the URL and passed to the handler in the form of key-value pairs.</span></span> <span data-ttu-id="ef546-137">Für Abfrage Zeichenfolgen befinden sich sowohl die Schlüssel als auch die Werte in der URL.</span><span class="sxs-lookup"><span data-stu-id="ef546-137">For query strings, both the keys and the values are in the URL.</span></span> <span data-ttu-id="ef546-138">Bei Routen sind die Schlüssel die im URL-Muster definierten Platzhalter Namen, und nur die Werte befinden sich in der URL.</span><span class="sxs-lookup"><span data-stu-id="ef546-138">For routes, the keys are the placeholder names defined in the URL pattern, and only the values are in the URL.</span></span>

<span data-ttu-id="ef546-139">In einem URL-Muster definieren Sie Platzhalter, indem Sie Sie in geschweifte Klammern (`{` und `}`) einschließen.</span><span class="sxs-lookup"><span data-stu-id="ef546-139">In a URL pattern, you define placeholders by enclosing them in braces ( `{` and `}` ).</span></span> <span data-ttu-id="ef546-140">Sie können mehr als einen Platzhalter in einem Segment definieren, die Platzhalter müssen jedoch durch einen Literalwert getrennt werden.</span><span class="sxs-lookup"><span data-stu-id="ef546-140">You can define more than one placeholder in a segment, but the placeholders must be separated by a literal value.</span></span> <span data-ttu-id="ef546-141">Beispielsweise ist `{language}-{country}/{action}` ein gültiges Routen Muster.</span><span class="sxs-lookup"><span data-stu-id="ef546-141">For example, `{language}-{country}/{action}` is a valid route pattern.</span></span> <span data-ttu-id="ef546-142">`{language}{country}/{action}` ist jedoch kein gültiges Muster, da zwischen den Platzhaltern kein Literalwert oder Trennzeichen vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="ef546-142">However, `{language}{country}/{action}` is not a valid pattern, because there is no literal value or delimiter between the placeholders.</span></span> <span data-ttu-id="ef546-143">Daher kann Routing nicht bestimmen, wo der Wert für den sprach Platzhalter von dem Wert für den Land Platzhalter getrennt werden soll.</span><span class="sxs-lookup"><span data-stu-id="ef546-143">Therefore, routing cannot determine where to separate the value for the language placeholder from the value for the country placeholder.</span></span>

### <a name="mapping-and-registering-routes"></a><span data-ttu-id="ef546-144">Mapping und Registrieren von Routen</span><span class="sxs-lookup"><span data-stu-id="ef546-144">Mapping and Registering Routes</span></span>

<span data-ttu-id="ef546-145">Bevor Sie Routen zu Seiten der Wingtip Toys-Beispielanwendung einbinden können, müssen Sie die Routen beim Starten der Anwendung registrieren.</span><span class="sxs-lookup"><span data-stu-id="ef546-145">Before you can include routes to pages of the Wingtip Toys sample application, you must register the routes when the application starts.</span></span> <span data-ttu-id="ef546-146">Um die Routen zu registrieren, ändern Sie den `Application_Start`-Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="ef546-146">To register the routes, you will modify the `Application_Start` event handler.</span></span>

1. <span data-ttu-id="ef546-147">Suchen Sie in **Projektmappen-Explorer**von Visual Studio die Datei *Global.asax.cs* , und öffnen Sie Sie.</span><span class="sxs-lookup"><span data-stu-id="ef546-147">In **Solution Explorer**of Visual Studio, find and open the *Global.asax.cs* file.</span></span>
2. <span data-ttu-id="ef546-148">Fügen Sie den in gelb markierten Code wie folgt der *Global.asax.cs* -Datei hinzu:</span><span class="sxs-lookup"><span data-stu-id="ef546-148">Add the code highlighted in yellow to the *Global.asax.cs* file as follows:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample1.cs?highlight=30-31,34-46)]

<span data-ttu-id="ef546-149">Wenn die Wingtip Toys-Beispielanwendung gestartet wird, wird der `Application_Start`-Ereignishandler aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="ef546-149">When the Wingtip Toys sample application starts, it calls the `Application_Start` event handler.</span></span> <span data-ttu-id="ef546-150">Am Ende dieses Ereignis Handlers wird die `RegisterCustomRoutes`-Methode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="ef546-150">At the end of this event handler, the `RegisterCustomRoutes` method is called.</span></span> <span data-ttu-id="ef546-151">Die `RegisterCustomRoutes`-Methode fügt jede Route hinzu, indem Sie die `MapPageRoute`-Methode des `RouteCollection`-Objekts aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ef546-151">The `RegisterCustomRoutes` method adds each route by calling the `MapPageRoute` method of the `RouteCollection` object.</span></span> <span data-ttu-id="ef546-152">Routen werden mithilfe eines Routen namens, einer Routen-URL und einer physischen URL definiert.</span><span class="sxs-lookup"><span data-stu-id="ef546-152">Routes are defined using a route name, a route URL and a physical URL.</span></span>

<span data-ttu-id="ef546-153">Der erste Parameter ("`ProductsByCategoryRoute`") ist der Routen Name.</span><span class="sxs-lookup"><span data-stu-id="ef546-153">The first parameter ("`ProductsByCategoryRoute`") is the route name.</span></span> <span data-ttu-id="ef546-154">Sie wird verwendet, um die Route aufzurufen, wenn Sie benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="ef546-154">It is used to call the route when it is needed.</span></span> <span data-ttu-id="ef546-155">Der zweite Parameter ("`Category/{categoryName}`") definiert die benutzerfreundliche Ersetzungs-URL, die basierend auf dem Code dynamisch sein kann.</span><span class="sxs-lookup"><span data-stu-id="ef546-155">The second parameter ("`Category/{categoryName}`") defines the friendly replacement URL that can be dynamic based on code.</span></span> <span data-ttu-id="ef546-156">Diese Route wird verwendet, wenn Sie ein Daten Steuerelement mit Links auffüllen, die auf der Grundlage von Daten generiert werden.</span><span class="sxs-lookup"><span data-stu-id="ef546-156">You use this route when you are populating a data control with links that are generated based on data.</span></span> <span data-ttu-id="ef546-157">Eine Route wird wie folgt angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ef546-157">A route is shown as follows:</span></span>

[!code-csharp[Main](url-routing/samples/sample2.cs)]

<span data-ttu-id="ef546-158">Der zweite Parameter der Route enthält einen dynamischen Wert, der durch geschweifte Klammern (`{ }`) angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ef546-158">The second parameter of the route includes a dynamic value specified by braces (`{ }`).</span></span> <span data-ttu-id="ef546-159">In diesem Fall ist der `categoryName` eine Variable, mit der der richtige Routing Pfad bestimmt wird.</span><span class="sxs-lookup"><span data-stu-id="ef546-159">In this case, the `categoryName` is a variable that will be used to determine the proper routing path.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="ef546-160">**Optional**</span><span class="sxs-lookup"><span data-stu-id="ef546-160">**Optional**</span></span>
> 
> <span data-ttu-id="ef546-161">Sie finden es möglicherweise einfacher, den Code zu verwalten, indem Sie die `RegisterCustomRoutes`-Methode in eine separate Klasse verschieben.</span><span class="sxs-lookup"><span data-stu-id="ef546-161">You might find it easier to manage your code by moving the `RegisterCustomRoutes` method to a separate class.</span></span> <span data-ttu-id="ef546-162">Erstellen Sie im Ordner " *Logic* " eine separate `RouteActions`-Klasse.</span><span class="sxs-lookup"><span data-stu-id="ef546-162">In the *Logic* folder, create a separate `RouteActions` class.</span></span> <span data-ttu-id="ef546-163">Verschieben Sie die obige `RegisterCustomRoutes`-Methode aus der *Global.asax.cs* -Datei in die neue `RoutesActions`-Klasse.</span><span class="sxs-lookup"><span data-stu-id="ef546-163">Move the above `RegisterCustomRoutes` method from the *Global.asax.cs* file into the new `RoutesActions` class.</span></span> <span data-ttu-id="ef546-164">Verwenden Sie die `RoleActions`-Klasse und die `createAdmin`-Methode als Beispiel dafür, wie Sie die `RegisterCustomRoutes`-Methode aus der *Global.asax.cs* -Datei aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="ef546-164">Use the `RoleActions` class and the `createAdmin` method as an example of how to call the `RegisterCustomRoutes` method from the *Global.asax.cs* file.</span></span>

<span data-ttu-id="ef546-165">Möglicherweise haben Sie auch den `RegisterRoutes` Methoden Aufrufes mithilfe des `RouteConfig`-Objekts am Anfang des `Application_Start` Ereignis Handlers bemerkt.</span><span class="sxs-lookup"><span data-stu-id="ef546-165">You may also have noticed the `RegisterRoutes` method call using the `RouteConfig` object at the beginning of the `Application_Start` event handler.</span></span> <span data-ttu-id="ef546-166">Dieser aufgerufen wird, um das Standard Routing zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="ef546-166">This call is made to implement default routing.</span></span> <span data-ttu-id="ef546-167">Sie wurde als Standard Code eingeschlossen, als Sie die Anwendung mit der Web Forms-Vorlage von Visual Studio erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="ef546-167">It was included as default code when you created the application using Visual Studio's Web Forms template.</span></span>

## <a name="retrieving-and-using-route-data"></a><span data-ttu-id="ef546-168">Abrufen und Verwenden von Routendaten</span><span class="sxs-lookup"><span data-stu-id="ef546-168">Retrieving and Using Route Data</span></span>

<span data-ttu-id="ef546-169">Wie bereits erwähnt, können Routen definiert werden.</span><span class="sxs-lookup"><span data-stu-id="ef546-169">As mentioned above, routes can be defined.</span></span> <span data-ttu-id="ef546-170">Der Code, den Sie dem `Application_Start`-Ereignishandler in der *Global.asax.cs* -Datei hinzugefügt haben, lädt die definierbaren Routen.</span><span class="sxs-lookup"><span data-stu-id="ef546-170">The code that you added to the `Application_Start` event handler in the *Global.asax.cs* file loads the definable routes.</span></span>

### <a name="setting-routes"></a><span data-ttu-id="ef546-171">Festlegen von Routen</span><span class="sxs-lookup"><span data-stu-id="ef546-171">Setting Routes</span></span>

<span data-ttu-id="ef546-172">Für Routen müssen Sie zusätzlichen Code hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ef546-172">Routes require you to add additional code.</span></span> <span data-ttu-id="ef546-173">In diesem Tutorial verwenden Sie die Modell Bindung, um ein `RouteValueDictionary` Objekt abzurufen, das beim Erstellen der Routen mithilfe von Daten aus einem Daten Steuerelement verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ef546-173">In this tutorial, you will use model binding to retrieve a `RouteValueDictionary` object that is used when generating the routes using data from a data control.</span></span> <span data-ttu-id="ef546-174">Das `RouteValueDictionary`-Objekt enthält eine Liste von Produktnamen, die zu einer bestimmten Produktkategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="ef546-174">The `RouteValueDictionary` object will contain a list of product names that belong to a specific category of products.</span></span> <span data-ttu-id="ef546-175">Ein Link wird für jedes Produkt basierend auf den Daten und der Route erstellt.</span><span class="sxs-lookup"><span data-stu-id="ef546-175">A link is created for each product based on the data and route.</span></span>

#### <a name="enable-routes-for-categories-and-products"></a><span data-ttu-id="ef546-176">Aktivieren von Routen für Kategorien und Produkte</span><span class="sxs-lookup"><span data-stu-id="ef546-176">Enable Routes for Categories and Products</span></span>

<span data-ttu-id="ef546-177">Als nächstes aktualisieren Sie die Anwendung so, dass Sie die `ProductsByCategoryRoute` verwendet, um die richtige Route für die einzelnen Product Category-Links zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="ef546-177">Next, you'll update the application to use the `ProductsByCategoryRoute` to determine the correct route to include for each product category link.</span></span> <span data-ttu-id="ef546-178">Außerdem aktualisieren Sie die Seite " *productList. aspx* " so, dass ein Routing Link für jedes Produkt enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="ef546-178">You'll also update the *ProductList.aspx* page to include a routed link for each product.</span></span> <span data-ttu-id="ef546-179">Die Links werden wie vor der Änderung angezeigt, aber die Links verwenden jetzt das URL-Routing.</span><span class="sxs-lookup"><span data-stu-id="ef546-179">The links will be displayed as they were before the change, however the links will now use URL routing.</span></span>

1. <span data-ttu-id="ef546-180">Öffnen Sie in **Projektmappen-Explorer**die Seite *Site. Master* , wenn Sie nicht bereits geöffnet ist.</span><span class="sxs-lookup"><span data-stu-id="ef546-180">In **Solution Explorer**, open the *Site.Master* page if it is not already open.</span></span>
2. <span data-ttu-id="ef546-181">Aktualisieren Sie das **ListView** -Steuerelement mit dem Namen "`categoryList`" mit den in gelb markierten Änderungen, sodass das Markup wie folgt aussieht:</span><span class="sxs-lookup"><span data-stu-id="ef546-181">Update the **ListView** control named "`categoryList`" with the changes highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample3.aspx?highlight=7-9)]
3. <span data-ttu-id="ef546-182">Öffnen Sie in **Projektmappen-Explorer**die Seite *productList. aspx* .</span><span class="sxs-lookup"><span data-stu-id="ef546-182">In **Solution Explorer**, open the *ProductList.aspx* page.</span></span>
4. <span data-ttu-id="ef546-183">Aktualisieren Sie das `ItemTemplate`-Element der *productList. aspx* -Seite mit den in gelb markierten Updates, sodass das Markup wie folgt aussieht:</span><span class="sxs-lookup"><span data-stu-id="ef546-183">Update the `ItemTemplate` element of the *ProductList.aspx* page with the updates highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample4.aspx?highlight=6-9,14-16)]
5. <span data-ttu-id="ef546-184">Öffnen Sie die Code Behind- *productList.aspx.cs* , und fügen Sie den folgenden Namespace hinzu, wie in gelb hervorgehoben:</span><span class="sxs-lookup"><span data-stu-id="ef546-184">Open the code-behind of *ProductList.aspx.cs* and add the following namespace as highlighted in yellow:</span></span>  

    [!code-csharp[Main](url-routing/samples/sample5.cs?highlight=9)]
6. <span data-ttu-id="ef546-185">Ersetzen Sie die `GetProducts`-Methode des Code-Behind (*productList.aspx.cs*) durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="ef546-185">Replace the `GetProducts` method of the code-behind (*ProductList.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample6.cs)]

#### <a name="add-code-for-product-details"></a><span data-ttu-id="ef546-186">Hinzufügen von Code für Produkt Details</span><span class="sxs-lookup"><span data-stu-id="ef546-186">Add Code for Product Details</span></span>

<span data-ttu-id="ef546-187">Aktualisieren Sie nun den Code Behind (*ProductDetails.aspx.cs*) für die Seite *ProductDetails. aspx* , um Routendaten zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="ef546-187">Now, update the code-behind (*ProductDetails.aspx.cs*) for the *ProductDetails.aspx* page to use route data.</span></span> <span data-ttu-id="ef546-188">Beachten Sie, dass die neue `GetProduct`-Methode auch einen Abfrage Zeichenfolgen-Wert für den Fall akzeptiert, in dem der Benutzer über ein Lesezeichen verfügt, das die ältere nicht-freundliche, nicht-weitergeleitete URL verwendet.</span><span class="sxs-lookup"><span data-stu-id="ef546-188">Notice that the new `GetProduct` method also accepts a query string value for the case where the user has a link bookmarked that uses the older non-friendly, non-routed URL.</span></span>

1. <span data-ttu-id="ef546-189">Ersetzen Sie die `GetProduct`-Methode des Code-Behind (*ProductDetails.aspx.cs*) durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="ef546-189">Replace the `GetProduct` method of the code-behind (*ProductDetails.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample7.cs)]

## <a name="running-the-application"></a><span data-ttu-id="ef546-190">Ausführen der Anwendung</span><span class="sxs-lookup"><span data-stu-id="ef546-190">Running the Application</span></span>

<span data-ttu-id="ef546-191">Sie können die Anwendung jetzt ausführen, um die aktualisierten Routen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="ef546-191">You can run the application now to see the updated routes.</span></span>

1. <span data-ttu-id="ef546-192">Drücken Sie **F5** , um die Beispielanwendung Wingtip Toys auszuführen.</span><span class="sxs-lookup"><span data-stu-id="ef546-192">Press **F5** to run the Wingtip Toys sample application.</span></span>  
 <span data-ttu-id="ef546-193">Der Browser wird geöffnet und zeigt die Seite *default. aspx* an.</span><span class="sxs-lookup"><span data-stu-id="ef546-193">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="ef546-194">Klicken Sie oben auf der Seite auf den Link **Produkte** .</span><span class="sxs-lookup"><span data-stu-id="ef546-194">Click the **Products** link at the top of the page.</span></span>  
 <span data-ttu-id="ef546-195">Alle Produkte werden auf der Seite " *productList. aspx* " angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ef546-195">All products are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="ef546-196">Die folgende URL (unter Verwendung ihrer Portnummer) wird für den Browser angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ef546-196">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/ProductList`
3. <span data-ttu-id="ef546-197">Klicken Sie dann im oberen **Bereich der Seite auf die** kategoriekategorie.</span><span class="sxs-lookup"><span data-stu-id="ef546-197">Next, click the **Cars** category link near the top of the page.</span></span>  
 <span data-ttu-id="ef546-198">Nur Fahrzeuge werden auf der Seite " *productList. aspx* " angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ef546-198">Only cars are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="ef546-199">Die folgende URL (unter Verwendung ihrer Portnummer) wird für den Browser angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ef546-199">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Category/Cars`
4. <span data-ttu-id="ef546-200">Klicken Sie auf den Link mit dem Namen des ersten Fahrzeugs, das auf der Seite ("**konvertierbar**") aufgeführt ist, um die Produktdetails anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="ef546-200">Click the link containing the name of the first car listed on the page ("**Convertible Car**") to display the product details.</span></span>  
 <span data-ttu-id="ef546-201">Die folgende URL (unter Verwendung ihrer Portnummer) wird für den Browser angezeigt:</span><span class="sxs-lookup"><span data-stu-id="ef546-201">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Product/Convertible%20Car`
5. <span data-ttu-id="ef546-202">Geben Sie als nächstes die folgende nicht weitergeleitete URL (unter Verwendung ihrer Portnummer) in den Browser ein:</span><span class="sxs-lookup"><span data-stu-id="ef546-202">Next, enter the following non-routed URL (using your port number) into the browser:</span></span>  
    `https://localhost:44300/ProductDetails.aspx?productID=2`  
 <span data-ttu-id="ef546-203">Der Code erkennt weiterhin eine URL, die eine Abfrage Zeichenfolge enthält, wenn ein Benutzer einen Link mit Lesezeichen aufweist.</span><span class="sxs-lookup"><span data-stu-id="ef546-203">The code still recognizes a URL that includes a query string, for the case where a user has a link bookmarked.</span></span>

## <a name="summary"></a><span data-ttu-id="ef546-204">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="ef546-204">Summary</span></span>

<span data-ttu-id="ef546-205">In diesem Tutorial haben Sie Routen für Kategorien und Produkte hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="ef546-205">In this tutorial, you have added routes for categories and products.</span></span> <span data-ttu-id="ef546-206">Sie haben gelernt, wie Routen in Daten Steuerelemente integriert werden können, die die Modell Bindung verwenden.</span><span class="sxs-lookup"><span data-stu-id="ef546-206">You have learned how routes can be integrated with data controls that use model binding.</span></span> <span data-ttu-id="ef546-207">Im nächsten Tutorial implementieren Sie die globale Fehlerbehandlung.</span><span class="sxs-lookup"><span data-stu-id="ef546-207">In the next tutorial, you will implement global error handling.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ef546-208">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="ef546-208">Additional Resources</span></span>

[<span data-ttu-id="ef546-209">ASP.net friendly URLs</span><span class="sxs-lookup"><span data-stu-id="ef546-209">ASP.NET Friendly URLs</span></span>](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/)  
[<span data-ttu-id="ef546-210">Stellen Sie eine sichere ASP.net Web Forms-App mit Mitgliedschaft, OAuth und SQL-Datenbank bereit, um Azure App Service</span><span class="sxs-lookup"><span data-stu-id="ef546-210">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)  
[<span data-ttu-id="ef546-211">Kostenlose Testversion Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="ef546-211">Microsoft Azure - Free Trial</span></span>](https://azure.microsoft.com/pricing/free-trial/)

> [!div class="step-by-step"]
> <span data-ttu-id="ef546-212">[Zurück](membership-and-administration.md)
> [Weiter](aspnet-error-handling.md)</span><span class="sxs-lookup"><span data-stu-id="ef546-212">[Previous](membership-and-administration.md)
[Next](aspnet-error-handling.md)</span></span>
