---
uid: web-forms/overview/moving-to-aspnet-20/membership
title: Mitgliedschaft | Microsoft Docs
author: rick-anderson
description: ASP.NET Mitgliedschaft baut auf dem Erfolg des Formularauthentifizierungsmodells von ASP.NET 1.x auf. ASP.NET Forms-Authentifizierung bietet eine bequeme Möglichkeit,...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: f2339485-5d78-4c5e-8c0a-dc9b8a315345
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/membership
msc.type: authoredcontent
ms.openlocfilehash: ed48c11cbd483de088239bad7c2452b7fc60a1cf
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2020
ms.locfileid: "81543768"
---
# <a name="membership"></a><span data-ttu-id="ce792-104">Mitgliedschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-104">Membership</span></span>

<span data-ttu-id="ce792-105">von [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="ce792-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="ce792-106">ASP.NET Mitgliedschaft baut auf dem Erfolg des Formularauthentifizierungsmodells von ASP.NET 1.x auf.</span><span class="sxs-lookup"><span data-stu-id="ce792-106">ASP.NET Membership builds on the success of the Forms authentication model from ASP.NET 1.x.</span></span> <span data-ttu-id="ce792-107">ASP.NET Forms-Authentifizierung bietet eine bequeme Möglichkeit, ein Anmeldeformular in Ihre ASP.NET Anwendung zu integrieren und Benutzer anhand einer Datenbank oder eines anderen Datenspeichers zu validieren.</span><span class="sxs-lookup"><span data-stu-id="ce792-107">ASP.NET Forms authentication provides a convenient way to incorporate a login form into your ASP.NET application and validate users against a database or other data store.</span></span>

<span data-ttu-id="ce792-108">ASP.NET Mitgliedschaft baut auf dem Erfolg des Formularauthentifizierungsmodells von ASP.NET 1.x auf.</span><span class="sxs-lookup"><span data-stu-id="ce792-108">ASP.NET Membership builds on the success of the Forms authentication model from ASP.NET 1.x.</span></span> <span data-ttu-id="ce792-109">ASP.NET Forms-Authentifizierung bietet eine bequeme Möglichkeit, ein Anmeldeformular in Ihre ASP.NET Anwendung zu integrieren und Benutzer anhand einer Datenbank oder eines anderen Datenspeichers zu validieren.</span><span class="sxs-lookup"><span data-stu-id="ce792-109">ASP.NET Forms authentication provides a convenient way to incorporate a login form into your ASP.NET application and validate users against a database or other data store.</span></span> <span data-ttu-id="ce792-110">Die Member der FormsAuthentication-Klasse ermöglichen es, Cookies für die Authentifizierung zu verarbeiten, nach einem gültigen Login zu suchen, einen Benutzer auszuloggen usw. Das Implementieren der Formularauthentifizierung in einer ASP.NET 1.x-Anwendung kann jedoch eine angemessene Menge an Code erfordern.</span><span class="sxs-lookup"><span data-stu-id="ce792-110">The members of the FormsAuthentication class make it possible to handle cookies for authentication, check for a valid login, log a user out etc. However, implementing Forms authentication in an ASP.NET 1.x application can require a fair amount of code.</span></span>

<span data-ttu-id="ce792-111">Die Mitgliedschaft in ASP.NET 2.0 ist ein wichtiger Fortschritt gegenüber der Verwendung der Formularauthentifizierung allein.</span><span class="sxs-lookup"><span data-stu-id="ce792-111">Membership in ASP.NET 2.0 is a major advancement over using Forms authentication alone.</span></span> <span data-ttu-id="ce792-112">(Die Mitgliedschaft ist am robuststen, wenn sie mit der Formularauthentifizierung gekoppelt ist, aber die Verwendung der Formularauthentifizierung ist nicht erforderlich.) Wie Sie bald sehen werden, können Sie ASP.NET Mitgliedschaft und die Login-Steuerelemente in ASP.NET 2.0 verwenden, um ein leistungsfähiges Mitgliedschaftssystem zu implementieren, ohne viel Code zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="ce792-112">(Membership is most robust when coupled with Forms authentication, but using Forms authentication is not a requirement.) As you'll soon see, you can use ASP.NET Membership and the login controls in ASP.NET 2.0 to implement a powerful membership system without writing much code at all.</span></span>

## <a name="implementing-membership-in-aspnet-20"></a><span data-ttu-id="ce792-113">Implementieren der Mitgliedschaft in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="ce792-113">Implementing Membership in ASP.NET 2.0</span></span>

<span data-ttu-id="ce792-114">Die Mitgliedschaft wird durch die folgenden vier Schritte implementiert.</span><span class="sxs-lookup"><span data-stu-id="ce792-114">Membership is implemented by following four steps.</span></span> <span data-ttu-id="ce792-115">Beachten Sie, dass es viele Unterschritte gibt, die beteiligt sind, sowie optionale Konfiguration, die ebenfalls implementiert werden können.</span><span class="sxs-lookup"><span data-stu-id="ce792-115">Keep in mind that there are many sub-steps that are involved as well as optional configuration that can be implemented as well.</span></span> <span data-ttu-id="ce792-116">Diese Schritte sollen das große Ganze der Konfiguration der Mitgliedschaft veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="ce792-116">These steps are meant to illustrate the big picture of configuring membership.</span></span>

1. <span data-ttu-id="ce792-117">Erstellen Sie Ihre Mitgliedschaftsdatenbank (wenn SQL Server als Mitgliedschaftsspeicher verwendet wird).)</span><span class="sxs-lookup"><span data-stu-id="ce792-117">Create your membership database (if SQL Server is used as the membership store.)</span></span>
2. <span data-ttu-id="ce792-118">Geben Sie die Mitgliedschaftsoptionen in den Anwendungskonfigurationsdateien an.</span><span class="sxs-lookup"><span data-stu-id="ce792-118">Specify the membership options in your applications configuration files.</span></span> <span data-ttu-id="ce792-119">(Die Mitgliedschaft ist standardmäßig aktiviert.)</span><span class="sxs-lookup"><span data-stu-id="ce792-119">(Membership is enabled by default.)</span></span>
3. <span data-ttu-id="ce792-120">Bestimmen Sie den Typ des Mitgliedschaftsspeichers, den Sie verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="ce792-120">Determine the type of membership store you want to use.</span></span> <span data-ttu-id="ce792-121">Folgende Optionen sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="ce792-121">Options are:</span></span> 

    - <span data-ttu-id="ce792-122">Microsoft SQL Server (Version 7.0 oder höher)</span><span class="sxs-lookup"><span data-stu-id="ce792-122">Microsoft SQL Server (version 7.0 or later)</span></span>
    - <span data-ttu-id="ce792-123">Active Directory-Speicher</span><span class="sxs-lookup"><span data-stu-id="ce792-123">Active Directory Store</span></span>
    - <span data-ttu-id="ce792-124">Benutzerdefinierter Mitgliedschaftsanbieter</span><span class="sxs-lookup"><span data-stu-id="ce792-124">Custom membership provider</span></span>
4. <span data-ttu-id="ce792-125">Konfigurieren Sie die Anwendung für ASP.NET Forms-Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="ce792-125">Configure the application for ASP.NET Forms authentication.</span></span> <span data-ttu-id="ce792-126">Auch hier ist die Mitgliedschaft so konzipiert, dass die Formularauthentifizierung genutzt wird, die Verwendung der Formularauthentifizierung ist jedoch nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="ce792-126">Once again, Membership is designed to take advantage of Forms authentication, but using Forms authentication is not a requirement.</span></span>
5. <span data-ttu-id="ce792-127">Definieren Sie Benutzerkonten für die Mitgliedschaft, und konfigurieren Sie ggf. Rollen.</span><span class="sxs-lookup"><span data-stu-id="ce792-127">Define user accounts for membership and configure roles if desired.</span></span>

## <a name="creating-the-membership-database"></a><span data-ttu-id="ce792-128">Erstellen der Mitgliedschaftsdatenbank</span><span class="sxs-lookup"><span data-stu-id="ce792-128">Creating the Membership Database</span></span>

<span data-ttu-id="ce792-129">Wenn Sie SQL Server 7.0 oder höher als Mitgliedschaftsspeicher verwenden,\_können Sie das Dienstprogramm aspnet regsql (das am einfachsten über die Befehlsaufforderung Visual Studio .NET 2005 verfügbar ist) verwenden, um die Datenbank zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="ce792-129">If you're using SQL Server 7.0 or later as your membership store, you can use the aspnet\_regsql utility (available most easily from the Visual Studio .NET 2005 Command Prompt) to configure your database.</span></span> <span data-ttu-id="ce792-130">Das Dienstprogramm\_aspnet regsql kann als Eingabeaufforderungstool oder über einen GUI-Assistenten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-130">The aspnet\_regsql utility can be used as a command prompt tool or via a GUI wizard.</span></span> <span data-ttu-id="ce792-131">Die Assistentenmethode ist die einfachste Möglichkeit, ihre Datenbank zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="ce792-131">The wizard method is the easiest way to configure your database.</span></span> <span data-ttu-id="ce792-132">Um auf den Assistenten zuzugreifen, führen Sie einfach den folgenden Befehl aus:</span><span class="sxs-lookup"><span data-stu-id="ce792-132">To access the wizard, simply run the following command:</span></span>

`aspnet_regsql W`

<span data-ttu-id="ce792-133">Sobald Sie diesen Befehl ausführen, wird Ihnen der ASP.NET SQL Server-Setup-Assistenten angezeigt, wie unten gezeigt.</span><span class="sxs-lookup"><span data-stu-id="ce792-133">Once you run that command, you will be presented with the ASP.NET SQL Server Setup Wizard as shown below.</span></span>

![](membership/_static/image1.jpg)

<span data-ttu-id="ce792-134">**Abbildung 1**</span><span class="sxs-lookup"><span data-stu-id="ce792-134">**Figure 1**</span></span>

<span data-ttu-id="ce792-135">Der ASP.NET SQL Server-Setup-Assistenten erstellt die Website in der Instanz, die Sie im Assistenten angeben.</span><span class="sxs-lookup"><span data-stu-id="ce792-135">The ASP.NET SQL Server Setup Wizard creates the Web site in the instance you specify in the wizard.</span></span> <span data-ttu-id="ce792-136">ASP.NET verwendet jedoch die Verbindungszeichenfolge in der Datei machine.config, um eine Verbindung mit der Datenbank herzustellen.</span><span class="sxs-lookup"><span data-stu-id="ce792-136">However, ASP.NET will use the connection string in the machine.config file to connect to your database.</span></span> <span data-ttu-id="ce792-137">Standardmäßig weist diese Verbindungszeichenfolge auf eine SQL Server 2005-Instanz hin. Wenn Sie also eine SQL Server 2000- oder SQL Server 7.0-Instanz verwenden, müssen Sie die Verbindungszeichenfolge in der Datei machine.config ändern.</span><span class="sxs-lookup"><span data-stu-id="ce792-137">By default, this connection string will point to a SQL Server 2005 instance, so if you are using a SQL Server 2000 or SQL Server 7.0 instance, you will need to modify the connection string in the machine.config file.</span></span> <span data-ttu-id="ce792-138">Diese Verbindungszeichenfolge kann hier gefunden werden:</span><span class="sxs-lookup"><span data-stu-id="ce792-138">That connection string can be located here:</span></span>

[!code-xml[Main](membership/samples/sample1.xml)]

<span data-ttu-id="ce792-139">Wenn Sie die Verbindungszeichenfolge nicht ändern, erhalten Sie ASP.NET leider keinen beschreibenden Fehler.</span><span class="sxs-lookup"><span data-stu-id="ce792-139">Unfortunately, if you don't modify the connection string, ASP.NET will not give you a descriptive error.</span></span> <span data-ttu-id="ce792-140">Es wird sich einfach weiterhin beschweren und sagen, dass Sie die Datenbank nicht erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="ce792-140">It will just continue to complain saying that you haven't created the database.</span></span> <span data-ttu-id="ce792-141">Im obigen Fall habe ich die Verbindungszeichenfolge so geändert, dass sie auf meine lokale SQL Server 2000-Instanz verweisen soll.</span><span class="sxs-lookup"><span data-stu-id="ce792-141">In the case above, I have modified the connection string to point to my local SQL Server 2000 instance.</span></span>

## <a name="specifying-configuration-and-adding-users-and-roles"></a><span data-ttu-id="ce792-142">Angeben der Konfiguration und Hinzufügen von Benutzern und Rollen</span><span class="sxs-lookup"><span data-stu-id="ce792-142">Specifying Configuration and Adding Users and Roles</span></span>

<span data-ttu-id="ce792-143">Der nächste Schritt beim Konfigurieren der Mitgliedschaft besteht darin, die erforderlichen Informationen zur Datei web.config der Anwendung hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="ce792-143">The next step in configuring Membership is to add the necessary information to the web.config file of the application.</span></span> <span data-ttu-id="ce792-144">In ASP.NET 1.x war das Ändern der Datei web.config manchmal schwierig, da lowerCamelCase verwendet wurde und Intellisense fehlte.</span><span class="sxs-lookup"><span data-stu-id="ce792-144">In ASP.NET 1.x, modifying the web.config file was sometimes difficult because of the use of lowerCamelCase and the lack of Intellisense.</span></span> <span data-ttu-id="ce792-145">Visual Studio .NET 2005 erleichtert die Aufgabe mit Intellisense für Konfigurationsdateien erheblich, aber ASP.NET 2.0 geht noch einen Schritt weiter, indem eine Weboberfläche zum Bearbeiten von Konfigurationsdateien bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="ce792-145">Visual Studio .NET 2005 makes the task much easier with Intellisense for configuration files, but ASP.NET 2.0 goes one step further by providing a Web interface for editing configuration files.</span></span>

<span data-ttu-id="ce792-146">Sie können die Weboberfläche starten, indem Sie auf der Symbolleiste des Projektmappen-Explorers auf die Schaltfläche ASP.NET Konfiguration klicken.</span><span class="sxs-lookup"><span data-stu-id="ce792-146">You can launch the Web interface by clicking the ASP.NET Configuration button on the Solution Explorer toolbar as shown below.</span></span> <span data-ttu-id="ce792-147">Sie können die Weboberfläche auch über Pop-ups starten, die angezeigt werden, wenn Login-Steuerelemente eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-147">You can also launch the Web interface via pop-ups that are displayed when Login controls are inserted.</span></span>

![](membership/_static/image2.jpg)

<span data-ttu-id="ce792-148">**Abbildung 2**</span><span class="sxs-lookup"><span data-stu-id="ce792-148">**Figure 2**</span></span>

<span data-ttu-id="ce792-149">Dadurch wird das unten gezeigte ASP.NET Websiteverwaltungstool gestartet.</span><span class="sxs-lookup"><span data-stu-id="ce792-149">This launches the ASP.NET Web Site Administration Tool shown below.</span></span> <span data-ttu-id="ce792-150">Die ASP.NET Websiteadministration ist eine Schnittstelle mit vier Registerkarten, die die Verwaltung von Anwendungseinstellungen erleichtert.</span><span class="sxs-lookup"><span data-stu-id="ce792-150">The ASP.NET Web Site Administration is a four-tab interface that makes it easy to manage application settings.</span></span> <span data-ttu-id="ce792-151">Die folgenden Registerkarten sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="ce792-151">The following tabs are available:</span></span>

- <span data-ttu-id="ce792-152">**Start**</span><span class="sxs-lookup"><span data-stu-id="ce792-152">**Home**</span></span>
- <span data-ttu-id="ce792-153">**Sicherheit** Konfigurieren Sie Benutzer, Rollen und Zugriffe.</span><span class="sxs-lookup"><span data-stu-id="ce792-153">**Security** Configure users, roles, and access.</span></span>
- <span data-ttu-id="ce792-154">**Anwendung** Konfigurieren Sie die Anwendungseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="ce792-154">**Application** Configure application settings.</span></span>
- <span data-ttu-id="ce792-155">**Anbieter** Konfigurieren und testen Sie Ihren Anwendungsmitgliedschaftsanbieter.</span><span class="sxs-lookup"><span data-stu-id="ce792-155">**Provider** Configure and test your applications membership provider.</span></span>

<span data-ttu-id="ce792-156">Mit dem Websiteverwaltungstool können Sie ganz einfach neue Benutzer erstellen, neue Rollen erstellen und Benutzer und Rollen verwalten.</span><span class="sxs-lookup"><span data-stu-id="ce792-156">The Web Site Administration Tool allows you to easily create new users, create new roles, and to manage users and roles.</span></span> <span data-ttu-id="ce792-157">Diese Fähigkeit ist in der Windows-Benutzeroberfläche nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ce792-157">This ability is not available in the Windows interface.</span></span> <span data-ttu-id="ce792-158">Mit der Windows-Schnittstelle können Sie autorisierungseinstellungen einfach definieren und Anbieter hinzufügen, löschen und verwalten, funktionen, die nicht im Websiteverwaltungstool vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="ce792-158">The Windows interface allows you to easily define authorization settings and to add, delete, and manage providers, capabilities that are not in the Web Site Administration Tool.</span></span>

<span data-ttu-id="ce792-159">Um die Windows-Schnittstelle zu starten, öffnen Sie das Snap-In "Internetinformationsdienste", klicken Sie mit der rechten Maustaste auf Ihre Anwendung, und wählen Sie Eigenschaften aus.</span><span class="sxs-lookup"><span data-stu-id="ce792-159">To launch the Windows interface, open the Internet Information Services snap-in, right-click on your application, and choose Properties.</span></span> <span data-ttu-id="ce792-160">Klicken Sie auf die Registerkarte ASP.NET, und klicken Sie dann auf die Schaltfläche Konfiguration bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="ce792-160">Click the ASP.NET tab and then click the Edit Configuration button.</span></span> <span data-ttu-id="ce792-161">(Die Anwendung muss unter ASP.NET 2.0 ausgeführt werden, damit die Schaltfläche Konfiguration bearbeiten aktiviert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ce792-161">(The application must be running under ASP.NET 2.0 for the Edit Configuration button to be enabled.</span></span> <span data-ttu-id="ce792-162">Sie können die ASP.NET Version auch im ASP.NET-Dialog konfigurieren.) Das Dialogfeld ASP.NET Konfigurationseinstellungen wird wie unten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ce792-162">You can configure the ASP.NET version in the ASP.NET dialog as well.) The ASP.NET Configuration Settings dialog is displayed as shown below.</span></span>

![](membership/_static/image3.jpg)

<span data-ttu-id="ce792-163">**Abbildung 3**</span><span class="sxs-lookup"><span data-stu-id="ce792-163">**Figure 3**</span></span>

<span data-ttu-id="ce792-164">Auf der Registerkarte Allgemein werden Verbindungszeichenfolgen und Anwendungseinstellungen aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="ce792-164">On the General tab, connection strings and application settings are listed.</span></span> <span data-ttu-id="ce792-165">Alle Einstellungen in Kursivschrift werden in einer übergeordneten Konfigurationsdatei definiert (entweder die machine.config oder eine web.config auf einer höheren Ebene), und Einstellungen, die nicht kursiv sind, stammen aus der Anwendungskonfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="ce792-165">Any settings in italics are defined in a parent configuration file (either the machine.config or a web.config at a higher level) and settings not in italics are from the applications configuration file.</span></span> <span data-ttu-id="ce792-166">Wenn eine Einstellung auf Anwendungsebene hinzugefügt, entfernt oder bearbeitet wird, fügt ASP.NET die Einstellung auf Anwendungsebene web.config hinzu, entfernt oder bearbeitet wird, anstatt die Einstellung aus der Konfigurationsdatei zu entfernen, aus der sie geerbt wird.</span><span class="sxs-lookup"><span data-stu-id="ce792-166">If a setting is added, removed, or edited at the application level, ASP.NET will add, remove, or modify the setting at the application levels web.config instead of removing the setting from the configuration file from which it is inherited.</span></span>

<span data-ttu-id="ce792-167">Die Registerkarte Authentifizierung wird unten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ce792-167">The Authentication tab is shown below.</span></span> <span data-ttu-id="ce792-168">Hier konfigurieren Sie Ihre Mitgliedschaftseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="ce792-168">This is where you will configure your membership settings.</span></span> <span data-ttu-id="ce792-169">Formularauthentifizierungseinstellungen, Mitgliedschaftsanbieter und Rollenanbieter können hier konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-169">Forms authentication settings, membership providers, and role providers can be configured here.</span></span>

![](membership/_static/image4.jpg)

<span data-ttu-id="ce792-170">**Abbildung 4**</span><span class="sxs-lookup"><span data-stu-id="ce792-170">**Figure 4**</span></span>

## <a name="implementing-membership-in-your-application"></a><span data-ttu-id="ce792-171">Implementieren der Mitgliedschaft in Ihrer Bewerbung</span><span class="sxs-lookup"><span data-stu-id="ce792-171">Implementing Membership in Your Application</span></span>

<span data-ttu-id="ce792-172">Die einfachste Möglichkeit, ASP.NET 2.0-Mitgliedschaft in Ihrer Anwendung zu implementieren, besteht darin, die bereitgestellten Anmeldesteuerelemente zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="ce792-172">The easiest way to implement ASP.NET 2.0 membership in your application is to use the provided Logon controls.</span></span> <span data-ttu-id="ce792-173">Mit dieser Methode können Sie die Grundlagen der ASP.NET 2.0-Mitgliedschaft implementieren, ohne codezuschreiben.</span><span class="sxs-lookup"><span data-stu-id="ce792-173">This method allows you to implement the basics of ASP.NET 2.0 membership without writing any code at all.</span></span>

<span data-ttu-id="ce792-174">Die folgenden Anmeldesteuerelemente sind in ASP.NET 2.0 verfügbar:</span><span class="sxs-lookup"><span data-stu-id="ce792-174">The following Logon controls are available in ASP.NET 2.0:</span></span>

## <a name="login-control"></a><span data-ttu-id="ce792-175">Login-Steuerung</span><span class="sxs-lookup"><span data-stu-id="ce792-175">Login Control</span></span>

<span data-ttu-id="ce792-176">Das Login-Steuerelement stellt eine Schnittstelle für personen bereit, sich bei Ihrem Mitgliedschaftssystem anzumelden.</span><span class="sxs-lookup"><span data-stu-id="ce792-176">The Login control provides an interface for someone to log into your membership system.</span></span> <span data-ttu-id="ce792-177">Es bietet Ihnen einen Benutzernamen und Passwort Textfeld und eine Login-Taste.</span><span class="sxs-lookup"><span data-stu-id="ce792-177">It provides you with a username and password textbox and a login button.</span></span> <span data-ttu-id="ce792-178">Viele andere allgemeine Funktionen wie ein Link zur Registrierung für Personen, die dies noch nicht getan haben, ein Kontrollkästchen, das es dem Benutzer ermöglicht, sich automatisch bei nachfolgenden Besuchen anzumelden, ein Link für eine Passworterinnerung usw. Alle Funktionen des Login-Steuerelements sind über die Eigenschaften des Steuerelements anpassbar.</span><span class="sxs-lookup"><span data-stu-id="ce792-178">Many other common features such as a link to register for people who have not yet done so, a checkbox that allows the user to automatically login on subsequent visits, a link for a password reminder, etc. All features of the Login control are customizable via the properties of the control.</span></span>

<span data-ttu-id="ce792-179">In ASP.NET 1.x mussten Entwickler eine angemessene Menge an Code schreiben, um eine Suche durchzuführen, wenn die Formularauthentifizierung verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="ce792-179">In ASP.NET 1.x, developers had to write a fair amount of code to do a lookup when using Forms authentication.</span></span> <span data-ttu-id="ce792-180">Mit ASP.NET 2.0-Mitgliedschaft können Sie Benutzer validieren, ohne codezuschreiben.</span><span class="sxs-lookup"><span data-stu-id="ce792-180">With ASP.NET 2.0 membership, you can validate users without writing any code at all.</span></span> <span data-ttu-id="ce792-181">ASP.NET wird automatisch die Suche des Benutzers für Sie tun.</span><span class="sxs-lookup"><span data-stu-id="ce792-181">ASP.NET will automatically do the look-up of the user for you.</span></span> <span data-ttu-id="ce792-182">(Wenn Sie das Login-Steuerelement verwenden, ohne ASP.NET-Mitgliedschaft zu verwenden, können Sie die **OnAuthenticate-Methode** verwenden, um den Benutzer zu überprüfen.)</span><span class="sxs-lookup"><span data-stu-id="ce792-182">(If you are using the Login control without using ASP.NET membership, you can use the **OnAuthenticate** method to validate the user.)</span></span>

## <a name="loginview-control"></a><span data-ttu-id="ce792-183">LoginView-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="ce792-183">LoginView Control</span></span>

<span data-ttu-id="ce792-184">Das LoginView-Steuerelement ist ein Vorlagensteuerelement, das standardmäßig zwei Vorlagen bereitstellt. AnonymousTemplate und Die LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="ce792-184">The LoginView control is a templated control that provides two templates by default; the AnonymousTemplate and the LoggedInTemplate.</span></span> <span data-ttu-id="ce792-185">Die angezeigte Vorlage hängt davon ab, ob der Benutzer bei Ihrem Mitgliedschaftssystem angemeldet ist oder nicht.</span><span class="sxs-lookup"><span data-stu-id="ce792-185">The template that is displayed is determined by whether or not the user is logged into your membership system.</span></span> <span data-ttu-id="ce792-186">Dieses Steuerelement wird in der Regel verwendet, um ein Login-Steuerelement anzuzeigen, wenn sich ein Benutzer noch nicht angemeldet hat, und ein LoginStatus-Steuerelement und/oder andere Anmeldesteuerelemente, wenn sich der Benutzer angemeldet hat.</span><span class="sxs-lookup"><span data-stu-id="ce792-186">This control is typically used to display a Login control when a user has not yet logged in and a LoginStatus control and/or other login controls when the user has logged in.</span></span> <span data-ttu-id="ce792-187">Wenn Sie die Rollenverwaltung in Ihrer ASP.NET Anwendung verwenden, kann das LoginView-Steuerelement eine bestimmte Vorlage basierend auf der Benutzerrolle anzeigen.</span><span class="sxs-lookup"><span data-stu-id="ce792-187">If you are using role management in your ASP.NET application, the LoginView control can display a specific template based upon the users role.</span></span> <span data-ttu-id="ce792-188">(Weitere Informationen zu ASP.NET Rollenmanagement werden später behandelt.)</span><span class="sxs-lookup"><span data-stu-id="ce792-188">(More on ASP.NET role management will be covered later.)</span></span>

## <a name="passwordrecovery-control"></a><span data-ttu-id="ce792-189">PasswordRecovery-Steuerung</span><span class="sxs-lookup"><span data-stu-id="ce792-189">PasswordRecovery Control</span></span>

<span data-ttu-id="ce792-190">Das PasswordRecovery-Steuerelement ermöglicht es Benutzern, eine E-Mail mit ihrem aktuellen Kennwort zu erhalten oder ihr Kennwort zurückzusetzen.</span><span class="sxs-lookup"><span data-stu-id="ce792-190">The PasswordRecovery control allows users to receive an email with his or her current password or reset his or her password.</span></span> <span data-ttu-id="ce792-191">Klartext und verschlüsselte Passwörter können wiederhergestellt und per E-Mail an Benutzer gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-191">Clear text and encrypted passwords can be recovered and emailed to users.</span></span> <span data-ttu-id="ce792-192">Wenn das Kennwort gehasht wird, kann es nicht wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-192">If the password is hashed, it cannot be recovered.</span></span> <span data-ttu-id="ce792-193">Stattdessen muss der Benutzer ein Kennwort zurücksetzen.</span><span class="sxs-lookup"><span data-stu-id="ce792-193">Instead the user will be required to perform a password reset.</span></span>

## <a name="loginstatus-control"></a><span data-ttu-id="ce792-194">LoginStatus-Steuerung</span><span class="sxs-lookup"><span data-stu-id="ce792-194">LoginStatus Control</span></span>

<span data-ttu-id="ce792-195">Das LoginStatus-Steuerelement wird verwendet, um Benutzern, die nicht angemeldet sind, eine Anmeldeanzeige und Benutzern, die derzeit angemeldet sind, eine Anmeldeanzeige anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="ce792-195">The LoginStatus control is used to display a login indicator to users who are not logged in and a logout indicator to users who are currently logged in.</span></span> <span data-ttu-id="ce792-196">Die Request.IsAuthenticated-Eigenschaft wird verwendet, um zu bestimmen, welcher Indikator angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="ce792-196">The Request.IsAuthenticated property is used to determine which indicator to display.</span></span> <span data-ttu-id="ce792-197">Der Indikator, der vom LoginStatus-Steuerelement angezeigt wird, kann Text (implementiert über die **LoginText-** und **LogoutText-Eigenschaften)** oder Bilder (implementiert über die **LoginImageUrl-** und **LogoutImageUrl-Eigenschaften)** sein.</span><span class="sxs-lookup"><span data-stu-id="ce792-197">The indicator displayed by the LoginStatus control can be text (implemented via the **LoginText** and **LogoutText** properties) or images (implemented via the **LoginImageUrl** and **LogoutImageUrl** properties.)</span></span>

<span data-ttu-id="ce792-198">Wenn sich ein Benutzer über das LoginStatus-Steuerelement abmeldet, wird er oder sie an die URL umgeleitet, die von der **LogoutPageUrl-Eigenschaft** angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ce792-198">When a user logs out via the LoginStatus control, he or she is redirected to the URL specified by the **LogoutPageUrl** property.</span></span> <span data-ttu-id="ce792-199">Wenn diese Eigenschaft nicht festgelegt ist, wird die aktuelle Seite aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="ce792-199">If that property is not set, the current page is refreshed.</span></span> <span data-ttu-id="ce792-200">Da die Website wahrscheinlich durch die Formularauthentifizierung geschützt ist, wird der Benutzer durch die Aktualisierung der aktuellen Seite auf die Anmeldeseite für die Website umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="ce792-200">Since the site is likely protected by Forms authentication, the refresh of the current page will redirect the user to the login page for the site.</span></span>

## <a name="loginname-control"></a><span data-ttu-id="ce792-201">LoginName-Steuerung</span><span class="sxs-lookup"><span data-stu-id="ce792-201">LoginName Control</span></span>

<span data-ttu-id="ce792-202">Das LoginName-Steuerelement zeigt den Benutzernamen des Benutzers an, der derzeit bei der Website angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="ce792-202">The LoginName control displays the username of the user currently logged into the site.</span></span>

## <a name="createuserwizard-control"></a><span data-ttu-id="ce792-203">CreateUserWizard-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="ce792-203">CreateUserWizard Control</span></span>

<span data-ttu-id="ce792-204">Das CreateUserWizard-Steuerelement bietet Benutzern eine bequeme Möglichkeit, sich für Ihr Mitgliedschaftssystem zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="ce792-204">The CreateUserWizard control provides users with a convenient way to register for your membership system.</span></span> <span data-ttu-id="ce792-205">Sie können Schritte (als Eine Sammlung von WizardSteps implementiert) über die unten gezeigte Schnittstelle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ce792-205">You can add steps (implemented as a collection of WizardSteps) via the interface shown below.</span></span>

![](membership/_static/image5.jpg)

<span data-ttu-id="ce792-206">**Abbildung 5**</span><span class="sxs-lookup"><span data-stu-id="ce792-206">**Figure 5**</span></span>

<span data-ttu-id="ce792-207">Der CreateUserWizard ist ein Vorlagensteuerelement, das von der Wizard-Klasse abstammt und die folgenden Vorlagen bereitstellt:</span><span class="sxs-lookup"><span data-stu-id="ce792-207">The CreateUserWizard is a templated control that derives from the Wizard class and provides the following templates:</span></span>

- <span data-ttu-id="ce792-208">**HeaderTemplate** Diese Vorlage steuert die Darstellung der Kopfzeile des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="ce792-208">**HeaderTemplate** This template controls the appearance of the header of the wizard.</span></span>
- <span data-ttu-id="ce792-209">**SidebarTemplate** Diese Vorlage steuert die Darstellung der Seitenleiste des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="ce792-209">**SidebarTemplate** This template controls the appearance of the sidebar of the wizard.</span></span>
- <span data-ttu-id="ce792-210">**StartNavigationTemplate** Diese Vorlage steuert die Darstellung der Navigation des Assistenten im Startschritt.</span><span class="sxs-lookup"><span data-stu-id="ce792-210">**StartNavigationTemplate** This template controls the appearance of the navigation are of the wizard at the start step.</span></span>
- <span data-ttu-id="ce792-211">**StepNavigationTemplate** Diese Vorlage steuert die Darstellung des Navigationsbereichs, wenn sie sich nicht im Start- oder Endschritt befindet.</span><span class="sxs-lookup"><span data-stu-id="ce792-211">**StepNavigationTemplate** This template controls the appearance of the navigation area when not in the start or finish step.</span></span>
- <span data-ttu-id="ce792-212">**FinishNavigationTemplate** Diese Vorlage steuert die Darstellung des Navigationsbereichs im Zielschritt.</span><span class="sxs-lookup"><span data-stu-id="ce792-212">**FinishNavigationTemplate** This template controls the appearance of the navigation area when on the finish step.</span></span>

<span data-ttu-id="ce792-213">Darüber hinaus erstellt ASP.NET für jeden Schritt, den Sie dem Assistenten hinzufügen, eine benutzerdefinierte Vorlage, die sowohl eine ContentTemplate- als auch eine CustomNavigationTemplate für diesen Schritt enthält.</span><span class="sxs-lookup"><span data-stu-id="ce792-213">Additionally, for each step that you add to the Wizard, ASP.NET will create a custom template that contains both a ContentTemplate and a CustomNavigationTemplate for that step.</span></span> <span data-ttu-id="ce792-214">Ausführliche Informationen zum Anpassen des CreateUserWizard finden Sie in der Dokumentation VS.NET 2005:</span><span class="sxs-lookup"><span data-stu-id="ce792-214">For full details on customizing the CreateUserWizard, see the VS.NET 2005 documentation:</span></span>

## <a name="changepassword-control"></a><span data-ttu-id="ce792-215">ChangePassword-Steuerung</span><span class="sxs-lookup"><span data-stu-id="ce792-215">ChangePassword Control</span></span>

<span data-ttu-id="ce792-216">Mit dem ChangePassword-Steuerelement können Benutzer ihr Kennwort ändern.</span><span class="sxs-lookup"><span data-stu-id="ce792-216">The ChangePassword control allows users to change his or her password.</span></span> <span data-ttu-id="ce792-217">Wenn die DisplayUserName-Eigenschaft true ist (standardmäßig ist sie false), kann der Benutzer sein Kennwort ändern, wenn er nicht angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="ce792-217">If the DisplayUserName property is true (it is false by default), the user can change his or her password when they are not logged in.</span></span> <span data-ttu-id="ce792-218">Wenn der Benutzer bereits angemeldet *ist* und die DisplayUserName-Eigenschaft true ist, kann der Benutzer das Kennwort eines anderen Benutzers ändern, der nicht angemeldet ist, vorausgesetzt, er kennt die Benutzer-ID dieses Benutzers.</span><span class="sxs-lookup"><span data-stu-id="ce792-218">If the user *is* already logged in and the DisplayUserName property is true, the user will be able to change the password of another user that is not logged in providing they know the user ID of that user.</span></span>

<span data-ttu-id="ce792-219">Wenn Benutzer Kennwörter ändern können sollen, ohne sich anmelden zu müssen, müssen Sie sicherstellen, dass die Seite, auf der das ChangePassword-Steuerelement angezeigt wird, anonymen Zugriff ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="ce792-219">Keep in mind that if you want users to be able to change passwords without having to log in, you will need to ensure that the page on which the ChangePassword control is displayed allows anonymous access.</span></span> <span data-ttu-id="ce792-220">Natürlich müssen Benutzer ihr altes Passwort angeben, um ihr Passwort zu ändern.</span><span class="sxs-lookup"><span data-stu-id="ce792-220">Obviously, users will have to provide their old password in order to change their password.</span></span>

## <a name="role-management"></a><span data-ttu-id="ce792-221">Rollenverwaltung</span><span class="sxs-lookup"><span data-stu-id="ce792-221">Role Management</span></span>

<span data-ttu-id="ce792-222">Mit der Rollenverwaltung können Sie Benutzern einer bestimmten Rolle zuweisen und dann den Zugriff auf bestimmte Dateien oder Ordner basierend auf dieser Rolle einschränken.</span><span class="sxs-lookup"><span data-stu-id="ce792-222">Role management allows you to assign users to a particular role and then restrict access to certain file or folders based on that role.</span></span> <span data-ttu-id="ce792-223">Die Rollenverwaltung stellt auch eine API bereit, mit der Sie die Rolle einer Person programmgesteuert oder alle Benutzer in einer bestimmten Rolle bestimmen und entsprechend reagieren können.</span><span class="sxs-lookup"><span data-stu-id="ce792-223">Role management also provides an API so that you can programmatically determine someones role or determine all users in a particular role and respond accordingly.</span></span>

<span data-ttu-id="ce792-224">Rollenverwaltung ist keine Anforderung in ASP.NET Mitgliedschaft, noch ist die Mitgliedschaft eine Voraussetzung für die Verwendung der Rollenverwaltung.</span><span class="sxs-lookup"><span data-stu-id="ce792-224">Role management is not a requirement in ASP.NET membership, nor is membership a requirement in order to use role management.</span></span> <span data-ttu-id="ce792-225">Jedoch, die beiden ergänzen sich nett und es ist wahrscheinlich, dass Entwickler sie in Verbindung miteinander verwenden.</span><span class="sxs-lookup"><span data-stu-id="ce792-225">However, the two supplement each other nicely and it is likely that developers will use them in conjunction with each other.</span></span>

<span data-ttu-id="ce792-226">Um die Rollenverwaltung in Ihrer Anwendung zu aktivieren, nehmen Sie die folgende Änderung in Ihrer web.config-Datei vor:</span><span class="sxs-lookup"><span data-stu-id="ce792-226">To enable role management in your application, make the following change in your web.config file:</span></span>

[!code-xml[Main](membership/samples/sample2.xml)]

<span data-ttu-id="ce792-227">Wenn das **CacheRolesInCookie-Attribut** auf true festgelegt ist, ASP.NET eine Benutzerrollenmitgliedschaft in einem Cookie auf dem Client zwischenspeichert.</span><span class="sxs-lookup"><span data-stu-id="ce792-227">When the **cacheRolesInCookie** attribute is set to true, ASP.NET caches a users role membership in a cookie on the client.</span></span> <span data-ttu-id="ce792-228">Dadurch können Rollensuchen ohne Aufrufe in den RoleProvider erfolgen.</span><span class="sxs-lookup"><span data-stu-id="ce792-228">This allows role lookups to occur without calls into the RoleProvider.</span></span> <span data-ttu-id="ce792-229">Bei der Verwendung dieses Attributs sollten Entwickler darauf achten, dass das **cookieProtection-Attribut** auf Alle festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="ce792-229">When using this attribute, developers are encouraged to ensure that the **cookieProtection** attribute is set to All.</span></span> <span data-ttu-id="ce792-230">(Dies ist die Standardeinstellung.) Dadurch wird sichergestellt, dass die Cookie-Daten verschlüsselt sind und trägt dazu bei, dass der Cookie-Inhalt nicht geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="ce792-230">(This is the default setting.) This ensures that the cookie data are encrypted and helps to ensure that the cookies contents haven't been altered.</span></span> <span data-ttu-id="ce792-231">Rollen können mit dem Websiteverwaltungstool hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-231">Roles can be added using the Web Site Administration Tool.</span></span> <span data-ttu-id="ce792-232">Es ermöglicht Ihnen, Rollen einfach zu definieren, den Zugriff auf Teile der Website basierend auf diesen Rollen zu konfigurieren und Benutzer Rollen zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="ce792-232">It allows you to easily define roles, configure access to parts of the site based on those roles, and assign users to roles.</span></span>

![](membership/_static/image6.jpg)

<span data-ttu-id="ce792-233">**Abbildung 6**</span><span class="sxs-lookup"><span data-stu-id="ce792-233">**Figure 6**</span></span>

<span data-ttu-id="ce792-234">Wie oben gezeigt, können neue Rollen hinzugefügt werden, indem Sie einfach den Namen der Rolle eingeben und dann auf Rolle hinzufügen klicken.</span><span class="sxs-lookup"><span data-stu-id="ce792-234">As shown above, new roles can be added by simply entering the name of the role and then clicking Add Role.</span></span> <span data-ttu-id="ce792-235">Vorhandene Rollen können verwaltet oder gelöscht werden, indem Sie auf den entsprechenden Link in der Liste der vorhandenen Rollen klicken.</span><span class="sxs-lookup"><span data-stu-id="ce792-235">Existing roles can be managed or deleted by clicking the appropriate link in the list of existing roles.</span></span>

<span data-ttu-id="ce792-236">Wenn Sie eine Rolle verwalten, können Sie Benutzer hinzufügen oder entfernen, wie unten gezeigt.</span><span class="sxs-lookup"><span data-stu-id="ce792-236">When you manage a role, you can add or remove users as shown below.</span></span>

![](membership/_static/image7.jpg)

<span data-ttu-id="ce792-237">**Abbildung 7**</span><span class="sxs-lookup"><span data-stu-id="ce792-237">**Figure 7**</span></span>

<span data-ttu-id="ce792-238">Wenn Sie das Kontrollkästchen "Benutzer ist in Rolle" aktivieren, können Sie problemlos einen Benutzer zu einer bestimmten Rolle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ce792-238">By checking the User Is In Role checkbox, you can easily add a user to a specific role.</span></span> <span data-ttu-id="ce792-239">ASP.NET aktualisiert Ihre Mitgliedschaftsdatenbank automatisch mit den entsprechenden Einträgen.</span><span class="sxs-lookup"><span data-stu-id="ce792-239">ASP.NET will automatically update your membership database with the appropriate entries.</span></span> <span data-ttu-id="ce792-240">Sie sollten auch Zugriffsregeln für Ihre Anwendung konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="ce792-240">You will also want to configure access rules for your application.</span></span> <span data-ttu-id="ce792-241">ASP.NET 1.x-Entwickler sind damit &lt;über&gt; das Autorisierungselement in der Datei web.config vertraut, und diese Option ist in ASP.NET 2.0 weiterhin verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ce792-241">ASP.NET 1.x developers are familiar with doing this via the &lt;authorization&gt; element in the web.config file, and that option is still available in ASP.NET 2.0.</span></span> <span data-ttu-id="ce792-242">Es ist jedoch einfacher, Zugriffsregeln mithilfe des Websiteverwaltungstools zu verwalten, wie unten gezeigt.</span><span class="sxs-lookup"><span data-stu-id="ce792-242">However, its easier to manage access rules using the Web Site Administration Tool as shown below.</span></span>

![](membership/_static/image8.jpg)

<span data-ttu-id="ce792-243">**Abbildung 8**</span><span class="sxs-lookup"><span data-stu-id="ce792-243">**Figure 8**</span></span>

<span data-ttu-id="ce792-244">In diesem Fall wird der Verwaltungsordner hervorgehoben (es ist schwer zu sehen, da das Tool ihn hellgrau hervorhebt), und der Rolle Administratoren wurde Zugriff gewährt.</span><span class="sxs-lookup"><span data-stu-id="ce792-244">In this case, the Administration folder is highlighted (its difficult to see because the tool highlights it in light gray) and the Administrators role has been granted access.</span></span> <span data-ttu-id="ce792-245">Alle anderen Benutzer werden abgelehnt.</span><span class="sxs-lookup"><span data-stu-id="ce792-245">All other users are denied.</span></span> <span data-ttu-id="ce792-246">Sie können auf das Kopfsymbol klicken, um eine Regel auszuwählen, und dann die Schaltflächen Nach oben und Nach unten verwenden, um die Regeln anzuordnen.</span><span class="sxs-lookup"><span data-stu-id="ce792-246">You can click on the head icon to select a rule and then use the Move Up and Move Down buttons to arrange the rules.</span></span> <span data-ttu-id="ce792-247">Wie beim &lt;ASP.NET&gt; Autorisierungselement werden Regeln in der Reihenfolge verarbeitet, in der sie angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-247">As with the ASP.NET &lt;authorization&gt; element, rules are processed in the order in which they appear.</span></span> <span data-ttu-id="ce792-248">Mit anderen Worten, wenn die Reihenfolge der Regeln in der obigen Aufnahme umgekehrt würde, hätte niemand Zugriff auf den Administrationsordner, da die erste Regel, auf die ASP.NET stoßen würde, die Regel wäre, die jedem den Ordner verweigert.</span><span class="sxs-lookup"><span data-stu-id="ce792-248">In other words, if the order of rules in the shot above were reversed, no one would have access to the Administration folder because the first rule that ASP.NET would encounter would be the rule that denies everyone to the folder.</span></span>

<span data-ttu-id="ce792-249">ASP.NET 2.0 fügt dem Ordner, für den Sie eine Zugriffsregel angeben, eine web.config-Datei hinzu.</span><span class="sxs-lookup"><span data-stu-id="ce792-249">ASP.NET 2.0 adds a web.config file to the folder for which you are specifying an access rule.</span></span> <span data-ttu-id="ce792-250">Zugriffsregeln können über die Konfigurationsdatei oder über das Websiteadministrationstool bearbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-250">Access rules can be edited via the configuration file or via the Web Site Administration Tool.</span></span> <span data-ttu-id="ce792-251">Mit anderen Worten, das Website-Verwaltungstool ist einfach eine Schnittstelle, über die die Konfigurationsdatei in einer benutzerfreundlichen Umgebung bearbeitet werden kann.</span><span class="sxs-lookup"><span data-stu-id="ce792-251">In other words, the Web Site Administration Tool is simply an interface through which the configuration file can be edited in a user-friendly environment.</span></span>

## <a name="using-roles-in-code"></a><span data-ttu-id="ce792-252">Verwenden von Rollen im Code</span><span class="sxs-lookup"><span data-stu-id="ce792-252">Using Roles in Code</span></span>

<span data-ttu-id="ce792-253">Die API für die Rollenverwaltung hat sich seit Version 1.x nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="ce792-253">The API for role management has not changed since version 1.x.</span></span> <span data-ttu-id="ce792-254">Die **IsInRole-Methode** wird verwendet, um zu bestimmen, ob ein Benutzer in einer bestimmten Rolle ist.</span><span class="sxs-lookup"><span data-stu-id="ce792-254">The **IsInRole** method is used to determine if a user is in a particular role.</span></span>

[!code-csharp[Main](membership/samples/sample3.cs)]

<span data-ttu-id="ce792-255">ASP.NET erstellt auch eine RolePrincipal-Instanz als Mitglied des aktuellen Kontexts.</span><span class="sxs-lookup"><span data-stu-id="ce792-255">ASP.NET also creates a RolePrincipal instance as a member of the current context.</span></span> <span data-ttu-id="ce792-256">Das RolePrincipal-Objekt kann verwendet werden, um alle Rollen abzuerlangen, zu denen der Benutzer gehört:</span><span class="sxs-lookup"><span data-stu-id="ce792-256">The RolePrincipal object can be used to obtain all of the roles to which the user belongs as follows:</span></span>

[!code-csharp[Main](membership/samples/sample4.cs)]

## <a name="using-rolegroups-with-the-loginview-control"></a><span data-ttu-id="ce792-257">Verwenden von RoleGroups mit dem LoginView-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="ce792-257">Using RoleGroups with the LoginView Control</span></span>

<span data-ttu-id="ce792-258">Nachdem Sie nun über ein Verständnis der Rollenverwaltung und -mitgliedschaft verfügen, können Sie kurz erläutern, wie das LoginView-Steuerelement diese Funktion in ASP.NET 2.0 nutzt.</span><span class="sxs-lookup"><span data-stu-id="ce792-258">Now that you have an understanding of role management and membership, lets discuss briefly how the LoginView control takes advantage of this capability in ASP.NET 2.0.</span></span> <span data-ttu-id="ce792-259">Wie bereits erwähnt, ist das LoginView-Steuerelement ein Vorlagensteuerelement, das standardmäßig zwei Vorlagen enthält. AnonymousTemplate und Die LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="ce792-259">As previously discussed, the LoginView control is a templated control that contains two templates by default; the AnonymousTemplate and the LoggedInTemplate.</span></span> <span data-ttu-id="ce792-260">Im Dialogfeld LoginView Tasks befindet sich ein Link (siehe unten), mit dem Sie RoleGroups bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="ce792-260">Within the LoginView Tasks dialog is a link (shown below) that allows you to edit RoleGroups.</span></span>

![](membership/_static/image9.jpg)

<span data-ttu-id="ce792-261">**Abbildung 9**</span><span class="sxs-lookup"><span data-stu-id="ce792-261">**Figure 9**</span></span>

<span data-ttu-id="ce792-262">Jedes RoleGroup-Objekt enthält ein Array von Zeichenfolgen, das definiert, auf welche Rollen RoleGroup angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="ce792-262">Each RoleGroup object contains an array of strings that defines which roles that RoleGroup applies to.</span></span> <span data-ttu-id="ce792-263">Um dem LoginView-Steuerelement eine neue RoleGroup hinzuzufügen, klicken Sie auf den Link Rollengruppen bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="ce792-263">To add a new RoleGroup to the LoginView control, click the Edit RoleGroups link.</span></span> <span data-ttu-id="ce792-264">In der Abbildung oben sehen Sie, dass ich eine neue RoleGroup für Administratoren hinzugefügt habe.</span><span class="sxs-lookup"><span data-stu-id="ce792-264">In the image above, you can see that I have added a new RoleGroup for Administrators.</span></span> <span data-ttu-id="ce792-265">Wenn Ich diese RoleGroup (RoleGroup[0]) aus der Dropdownliste Ansichten auswänge, kann ich eine Vorlage konfigurieren, die nur Mitgliedern der Rolle Administratoren angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="ce792-265">By selecting that RoleGroup (RoleGroup[0]) from the Views dropdown, I can configure a template that will only be displayed to members of the Administrators role.</span></span> <span data-ttu-id="ce792-266">In der folgenden Abbildung habe ich eine neue RoleGroup hinzugefügt, die für Mitglieder der Rolle "Vertrieb" und der Verteilungsrolle gilt.</span><span class="sxs-lookup"><span data-stu-id="ce792-266">In the image below, I have added a new RoleGroup that applies to members of the Sales role and the Distribution role.</span></span> <span data-ttu-id="ce792-267">Dadurch wird der Dropdownliste Ansichten im Dialogfeld LoginView-Aufgaben eine zweite RoleGroup hinzugefügt, und alle, die dieser Vorlage hinzugefügt werden, werden von jedem Benutzer in der Rolle "Vertrieb" oder "Verteilung" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ce792-267">This adds a second RoleGroup to the Views dropdown in the LoginView Tasks dialog and anything added to that template will be visible by any user in either the Sales or Distribution role.</span></span>

![](membership/_static/image10.jpg)

<span data-ttu-id="ce792-268">**Abbildung 10**</span><span class="sxs-lookup"><span data-stu-id="ce792-268">**Figure 10**</span></span>

## <a name="overriding-the-existing-membership-provider"></a><span data-ttu-id="ce792-269">Überschreiben des vorhandenen Mitgliedschaftsanbieters</span><span class="sxs-lookup"><span data-stu-id="ce792-269">Overriding the Existing Membership Provider</span></span>

<span data-ttu-id="ce792-270">Es gibt mehrere Möglichkeiten, wie Sie die Funktionalität ASP.NET-Mitgliedschaft erweitern können.</span><span class="sxs-lookup"><span data-stu-id="ce792-270">There are a couple of ways that you can extend the functionality of ASP.NET membership.</span></span> <span data-ttu-id="ce792-271">Zunächst können Sie natürlich die vorhandene Funktionalität der SqlMembershipProvider-Klasse ändern, indem Sie von ihr erben und ihre Methoden überschreiben.</span><span class="sxs-lookup"><span data-stu-id="ce792-271">First of all, you can obviously change the existing functionality of the SqlMembershipProvider class by inheriting from it and overriding its methods.</span></span> <span data-ttu-id="ce792-272">Wenn Sie z. B. beim Erstellen von Benutzern eigene Funktionen implementieren möchten, können Sie eine eigene Klasse erstellen, die von SqlMembershipProvider wie folgt erbt:</span><span class="sxs-lookup"><span data-stu-id="ce792-272">For example, if you want to implement your own functionality when users are created, you can create your own class that inherits from SqlMembershipProvider as follows:</span></span>

[!code-csharp[Main](membership/samples/sample5.cs)]

<span data-ttu-id="ce792-273">Wenn Sie hingegen einen eigenen Anbieter erstellen möchten (z. B. zum Speichern Ihrer Mitgliedsinformationen in einer Access-Datenbank), können Sie einen eigenen Anbieter erstellen.</span><span class="sxs-lookup"><span data-stu-id="ce792-273">If, on the other hand, you want to create your own provider (to store your membership information in an Access database, for example), you can create your own provider.</span></span>

## <a name="creating-your-own-membership-provider"></a><span data-ttu-id="ce792-274">Erstellen eines eigenen Mitgliedschaftsanbieters</span><span class="sxs-lookup"><span data-stu-id="ce792-274">Creating Your Own Membership Provider</span></span>

<span data-ttu-id="ce792-275">Um einen eigenen Mitgliedschaftsanbieter zu erstellen, müssen Sie zunächst eine Klasse erstellen, die von der MembershipProvider-Klasse erbt.</span><span class="sxs-lookup"><span data-stu-id="ce792-275">To create your own membership provider, you will first need to create a class that inherits from the MembershipProvider class.</span></span> <span data-ttu-id="ce792-276">Wenn Sie VB.NET verwenden, fügt Visual Studio 2005 die Stubs für alle Methoden hinzu, die Sie überschreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="ce792-276">If you are using VB.NET, Visual Studio 2005 will add the stubs for all of the methods that you need to override.</span></span> <span data-ttu-id="ce792-277">Wenn Sie c- verwenden, ist es an Ihnen, die Stubs hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="ce792-277">If you are using C#, its up to you to add the stubs.</span></span>

<span data-ttu-id="ce792-278">Sie müssen Folgendes überschreiben:</span><span class="sxs-lookup"><span data-stu-id="ce792-278">You will need to override the following:</span></span>

- <span data-ttu-id="ce792-279">ApplicationName-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-279">ApplicationName property</span></span>
- <span data-ttu-id="ce792-280">ChangePassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-280">ChangePassword function</span></span>
- <span data-ttu-id="ce792-281">ChangePasswordQuestionAndAnswer-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-281">ChangePasswordQuestionAndAnswer function</span></span>
- <span data-ttu-id="ce792-282">CreateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-282">CreateUser function</span></span>
- <span data-ttu-id="ce792-283">DeleteUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-283">DeleteUser function</span></span>
- <span data-ttu-id="ce792-284">EnablePasswordReset-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-284">EnablePasswordReset property</span></span>
- <span data-ttu-id="ce792-285">EnablePasswordRetrieval-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-285">EnablePasswordRetrieval property</span></span>
- <span data-ttu-id="ce792-286">FindUsersByEmail-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-286">FindUsersByEmail function</span></span>
- <span data-ttu-id="ce792-287">FindUsersByName-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-287">FindUsersByName function</span></span>
- <span data-ttu-id="ce792-288">GetAllUsers-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-288">GetAllUsers function</span></span>
- <span data-ttu-id="ce792-289">GetNumberOfUsersOnline-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-289">GetNumberOfUsersOnline function</span></span>
- <span data-ttu-id="ce792-290">GetPassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-290">GetPassword function</span></span>
- <span data-ttu-id="ce792-291">GetUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-291">GetUser function</span></span>
- <span data-ttu-id="ce792-292">GetUserNameByEmail-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-292">GetUserNameByEmail function</span></span>
- <span data-ttu-id="ce792-293">MaxInvalidPasswordAttempts-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-293">MaxInvalidPasswordAttempts property</span></span>
- <span data-ttu-id="ce792-294">MinRequiredNonAlphanumericCharacters-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-294">MinRequiredNonAlphanumericCharacters property</span></span>
- <span data-ttu-id="ce792-295">MinRequiredPasswordLength-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-295">MinRequiredPasswordLength property</span></span>
- <span data-ttu-id="ce792-296">PasswordAttemptWindow-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-296">PasswordAttemptWindow property</span></span>
- <span data-ttu-id="ce792-297">PasswordFormat-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-297">PasswordFormat property</span></span>
- <span data-ttu-id="ce792-298">PasswordStrengthRegularExpression-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-298">PasswordStrengthRegularExpression property</span></span>
- <span data-ttu-id="ce792-299">RequiresQuestionAndAnswer-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-299">RequiresQuestionAndAnswer property</span></span>
- <span data-ttu-id="ce792-300">RequiresUniqueEmail-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ce792-300">RequiresUniqueEmail property</span></span>
- <span data-ttu-id="ce792-301">ResetPassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-301">ResetPassword function</span></span>
- <span data-ttu-id="ce792-302">Entsperren der Benutzerfunktion</span><span class="sxs-lookup"><span data-stu-id="ce792-302">Unlock user function</span></span>
- <span data-ttu-id="ce792-303">UpdateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-303">UpdateUser function</span></span>
- <span data-ttu-id="ce792-304">ValidateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="ce792-304">ValidateUser function</span></span>

<span data-ttu-id="ce792-305">Das ist eine ziemliche Liste, die als C-Entwickler implementiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="ce792-305">Thats quite a list to implement as a C# developer.</span></span> <span data-ttu-id="ce792-306">Möglicherweise ist es einfacher, die Klasse in VB.NET ohne Implementierung zu erstellen und dann .NET Reflector oder ein ähnliches Tool zu verwenden, um den Code in C zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="ce792-306">You may find it easier to create the class in VB.NET without any implementation and then use .NET Reflector or a similar tool to convert the code to C#.</span></span>

<span data-ttu-id="ce792-307">Die Verbindungszeichenfolge und andere Eigenschaften sollten in der Initialize-Methode auf ihre Standardwerte festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="ce792-307">The connection string and other properties should be set to their defaults in the Initialize method.</span></span> <span data-ttu-id="ce792-308">(Die Initialize-Methode wird ausgelöst, wenn der Anbieter zur Laufzeit geladen wird.) Der zweite Parameter für die Initialize-Methode ist vom Typ System.Collections.Specialized.NameValueCollection und ist ein Verweis auf das &lt;Add-Element,&gt; das Ihrem benutzerdefinierten Anbieter in der Datei web.config zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="ce792-308">(The Initialize method is fired when the provider is loaded at runtime.) The second parameter to the Initialize method is of type System.Collections.Specialized.NameValueCollection and is a reference to the &lt;add&gt; element that is associated with your custom provider in the web.config file.</span></span> <span data-ttu-id="ce792-309">Dieser Eintrag sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="ce792-309">That entry looks like the following:</span></span>

[!code-xml[Main](membership/samples/sample6.xml)]

<span data-ttu-id="ce792-310">Hier ist ein Beispiel für die Initialize-Methode.</span><span class="sxs-lookup"><span data-stu-id="ce792-310">Here is an example of the Initialize method.</span></span>

[!code-csharp[Main](membership/samples/sample7.cs)]

<span data-ttu-id="ce792-311">Um den Benutzer beim Absenden des Anmeldeformulars zu überprüfen, müssen Sie die ValidateUser-Methode verwenden.</span><span class="sxs-lookup"><span data-stu-id="ce792-311">In order to validate the user when they submit your login form, you will need to use the ValidateUser method.</span></span> <span data-ttu-id="ce792-312">Diese Methode wird ausgelöst, wenn der Benutzer auf die Anmeldeschaltfläche im Login-Steuerelement klickt.</span><span class="sxs-lookup"><span data-stu-id="ce792-312">This method fires when the user clicks the login button in the Login control.</span></span> <span data-ttu-id="ce792-313">Sie platzieren Ihren Code, der die Benutzersuche ausführt, in dieser Methode.</span><span class="sxs-lookup"><span data-stu-id="ce792-313">You will place your code that does the user lookup in this method.</span></span>

<span data-ttu-id="ce792-314">Wie Sie sehen können, ist das Schreiben Ihres eigenen Mitgliedschaftsanbieters nicht schwierig und ermöglicht es Ihnen, diese leistungsstarke Funktionalität von ASP.NET 2.0 zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="ce792-314">As you can see, writing your own membership provider is not difficult and allows you to extend this powerful functionality of ASP.NET 2.0.</span></span>
