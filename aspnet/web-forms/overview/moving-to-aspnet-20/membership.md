---
uid: web-forms/overview/moving-to-aspnet-20/membership
title: Mitgliedschaft | Microsoft-Dokumentation
author: microsoft
description: Die ASP.NET-Mitgliedschaft basiert auf dem Erfolg des Formular Authentifizierungs Modells von ASP.NET 1. x. Die ASP.NET-Formular Authentifizierung bietet eine bequeme Möglichkeit zum incorp...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: f2339485-5d78-4c5e-8c0a-dc9b8a315345
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/membership
msc.type: authoredcontent
ms.openlocfilehash: da6fc205bd852a818d65425586cec38fdb08d310
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78521703"
---
# <a name="membership"></a><span data-ttu-id="800a0-104">Mitgliedschaft</span><span class="sxs-lookup"><span data-stu-id="800a0-104">Membership</span></span>

<span data-ttu-id="800a0-105">von [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="800a0-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="800a0-106">Die ASP.NET-Mitgliedschaft basiert auf dem Erfolg des Formular Authentifizierungs Modells von ASP.NET 1. x.</span><span class="sxs-lookup"><span data-stu-id="800a0-106">ASP.NET Membership builds on the success of the Forms authentication model from ASP.NET 1.x.</span></span> <span data-ttu-id="800a0-107">Die ASP.NET-Formular Authentifizierung bietet eine bequeme Möglichkeit, ein Anmeldeformular in Ihre ASP.NET-Anwendung einzubinden und Benutzer anhand einer Datenbank oder eines anderen Datenspeicher zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="800a0-107">ASP.NET Forms authentication provides a convenient way to incorporate a login form into your ASP.NET application and validate users against a database or other data store.</span></span>

<span data-ttu-id="800a0-108">Die ASP.NET-Mitgliedschaft basiert auf dem Erfolg des Formular Authentifizierungs Modells von ASP.NET 1. x.</span><span class="sxs-lookup"><span data-stu-id="800a0-108">ASP.NET Membership builds on the success of the Forms authentication model from ASP.NET 1.x.</span></span> <span data-ttu-id="800a0-109">Die ASP.NET-Formular Authentifizierung bietet eine bequeme Möglichkeit, ein Anmeldeformular in Ihre ASP.NET-Anwendung einzubinden und Benutzer anhand einer Datenbank oder eines anderen Datenspeicher zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="800a0-109">ASP.NET Forms authentication provides a convenient way to incorporate a login form into your ASP.NET application and validate users against a database or other data store.</span></span> <span data-ttu-id="800a0-110">Die Member der FormsAuthentication-Klasse ermöglichen das Behandeln von Cookies für die Authentifizierung, das Überprüfen auf eine gültige Anmeldung, das Protokollieren eines Benutzers usw. Das Implementieren der Formular Authentifizierung in einer ASP.NET 1. x-Anwendung kann jedoch eine ziemlich große Menge an Code erfordern.</span><span class="sxs-lookup"><span data-stu-id="800a0-110">The members of the FormsAuthentication class make it possible to handle cookies for authentication, check for a valid login, log a user out etc. However, implementing Forms authentication in an ASP.NET 1.x application can require a fair amount of code.</span></span>

<span data-ttu-id="800a0-111">Die Mitgliedschaft in ASP.NET 2,0 ist ein wichtiger Schritt bei der Verwendung der Formular Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="800a0-111">Membership in ASP.NET 2.0 is a major advancement over using Forms authentication alone.</span></span> <span data-ttu-id="800a0-112">(Die Mitgliedschaft ist am stärksten, wenn Sie mit der Formular Authentifizierung gekoppelt ist, aber die Verwendung der Formular Authentifizierung ist nicht zwingend erforderlich.) Wie Sie sehen werden, können Sie die ASP.NET-Mitgliedschaft und die Anmeldungs Steuerelemente in ASP.NET 2,0 verwenden, um ein leistungsfähiges Mitgliedschaftssystem zu implementieren, ohne viel Code schreiben zu müssen.</span><span class="sxs-lookup"><span data-stu-id="800a0-112">(Membership is most robust when coupled with Forms authentication, but using Forms authentication is not a requirement.) As you'll soon see, you can use ASP.NET Membership and the login controls in ASP.NET 2.0 to implement a powerful membership system without writing much code at all.</span></span>

## <a name="implementing-membership-in-aspnet-20"></a><span data-ttu-id="800a0-113">Implementieren der Mitgliedschaft in ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="800a0-113">Implementing Membership in ASP.NET 2.0</span></span>

<span data-ttu-id="800a0-114">Die Mitgliedschaft wird durch die folgenden vier Schritte implementiert.</span><span class="sxs-lookup"><span data-stu-id="800a0-114">Membership is implemented by following four steps.</span></span> <span data-ttu-id="800a0-115">Beachten Sie, dass es viele untergeordnete Schritte und eine optionale Konfiguration gibt, die ebenfalls implementiert werden können.</span><span class="sxs-lookup"><span data-stu-id="800a0-115">Keep in mind that there are many sub-steps that are involved as well as optional configuration that can be implemented as well.</span></span> <span data-ttu-id="800a0-116">Diese Schritte sollen den großen Überblick über die Konfiguration der Mitgliedschaft veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="800a0-116">These steps are meant to illustrate the big picture of configuring membership.</span></span>

1. <span data-ttu-id="800a0-117">Erstellen Sie Ihre Mitgliedschafts Datenbank (wenn SQL Server als Mitgliedschafts Speicher verwendet wird.)</span><span class="sxs-lookup"><span data-stu-id="800a0-117">Create your membership database (if SQL Server is used as the membership store.)</span></span>
2. <span data-ttu-id="800a0-118">Geben Sie die Mitgliedschafts Optionen in ihren Anwendungs Konfigurationsdateien an.</span><span class="sxs-lookup"><span data-stu-id="800a0-118">Specify the membership options in your applications configuration files.</span></span> <span data-ttu-id="800a0-119">(Die Mitgliedschaft ist standardmäßig aktiviert.)</span><span class="sxs-lookup"><span data-stu-id="800a0-119">(Membership is enabled by default.)</span></span>
3. <span data-ttu-id="800a0-120">Bestimmen Sie den Typ des Mitgliedschafts Stores, den Sie verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="800a0-120">Determine the type of membership store you want to use.</span></span> <span data-ttu-id="800a0-121">Folgende Optionen sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="800a0-121">Options are:</span></span> 

    - <span data-ttu-id="800a0-122">Microsoft SQL Server (Version 7,0 oder höher)</span><span class="sxs-lookup"><span data-stu-id="800a0-122">Microsoft SQL Server (version 7.0 or later)</span></span>
    - <span data-ttu-id="800a0-123">Active Directory Speicher</span><span class="sxs-lookup"><span data-stu-id="800a0-123">Active Directory Store</span></span>
    - <span data-ttu-id="800a0-124">Benutzerdefinierter Mitgliedschafts Anbieter</span><span class="sxs-lookup"><span data-stu-id="800a0-124">Custom membership provider</span></span>
4. <span data-ttu-id="800a0-125">Konfigurieren Sie die Anwendung für die ASP.NET-Formular Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="800a0-125">Configure the application for ASP.NET Forms authentication.</span></span> <span data-ttu-id="800a0-126">Auch hier ist die Mitgliedschaft so konzipiert, dass die Formular Authentifizierung genutzt wird, aber die Verwendung der Formular Authentifizierung ist keine Voraussetzung.</span><span class="sxs-lookup"><span data-stu-id="800a0-126">Once again, Membership is designed to take advantage of Forms authentication, but using Forms authentication is not a requirement.</span></span>
5. <span data-ttu-id="800a0-127">Definieren von Benutzerkonten für die Mitgliedschaft und Konfigurieren von Rollen, falls gewünscht.</span><span class="sxs-lookup"><span data-stu-id="800a0-127">Define user accounts for membership and configure roles if desired.</span></span>

## <a name="creating-the-membership-database"></a><span data-ttu-id="800a0-128">Erstellen der Mitgliedschafts Datenbank</span><span class="sxs-lookup"><span data-stu-id="800a0-128">Creating the Membership Database</span></span>

<span data-ttu-id="800a0-129">Wenn Sie SQL Server 7,0 oder höher als Mitgliedschafts Speicher verwenden, können Sie das ASPNET\_RegSql-Hilfsprogramm verwenden (das am einfachsten über die Eingabeaufforderung von Visual Studio .net 2005 verfügbar ist), um Ihre Datenbank zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="800a0-129">If you're using SQL Server 7.0 or later as your membership store, you can use the aspnet\_regsql utility (available most easily from the Visual Studio .NET 2005 Command Prompt) to configure your database.</span></span> <span data-ttu-id="800a0-130">Das ASPNET\_RegSql-Hilfsprogramm kann als Eingabe Aufforderungs Tool oder über einen GUI-Assistenten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-130">The aspnet\_regsql utility can be used as a command prompt tool or via a GUI wizard.</span></span> <span data-ttu-id="800a0-131">Die Assistenten-Methode ist die einfachste Möglichkeit zum Konfigurieren Ihrer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="800a0-131">The wizard method is the easiest way to configure your database.</span></span> <span data-ttu-id="800a0-132">Um auf den Assistenten zuzugreifen, führen Sie einfach den folgenden Befehl aus:</span><span class="sxs-lookup"><span data-stu-id="800a0-132">To access the wizard, simply run the following command:</span></span>

`aspnet_regsql W`

<span data-ttu-id="800a0-133">Nachdem Sie diesen Befehl ausgeführt haben, wird der Setup-Assistent für ASP.NET SQL Server wie unten dargestellt angezeigt.</span><span class="sxs-lookup"><span data-stu-id="800a0-133">Once you run that command, you will be presented with the ASP.NET SQL Server Setup Wizard as shown below.</span></span>

![](membership/_static/image1.jpg)

<span data-ttu-id="800a0-134">**Abbildung 1**</span><span class="sxs-lookup"><span data-stu-id="800a0-134">**Figure 1**</span></span>

<span data-ttu-id="800a0-135">Der Setup-Assistent für ASP.NET SQL Server erstellt die Website in der-Instanz, die Sie im Assistenten angeben.</span><span class="sxs-lookup"><span data-stu-id="800a0-135">The ASP.NET SQL Server Setup Wizard creates the Web site in the instance you specify in the wizard.</span></span> <span data-ttu-id="800a0-136">Allerdings verwendet ASP.net die Verbindungs Zeichenfolge in der Datei "Machine. config", um eine Verbindung mit Ihrer Datenbank herzustellen.</span><span class="sxs-lookup"><span data-stu-id="800a0-136">However, ASP.NET will use the connection string in the machine.config file to connect to your database.</span></span> <span data-ttu-id="800a0-137">Standardmäßig verweist diese Verbindungs Zeichenfolge auf eine SQL Server 2005-Instanz. Wenn Sie also eine SQL Server 2000-oder SQL Server 7,0-Instanz verwenden, müssen Sie die Verbindungs Zeichenfolge in der Datei Machine. config ändern.</span><span class="sxs-lookup"><span data-stu-id="800a0-137">By default, this connection string will point to a SQL Server 2005 instance, so if you are using a SQL Server 2000 or SQL Server 7.0 instance, you will need to modify the connection string in the machine.config file.</span></span> <span data-ttu-id="800a0-138">Diese Verbindungs Zeichenfolge kann hier angezeigt werden:</span><span class="sxs-lookup"><span data-stu-id="800a0-138">That connection string can be located here:</span></span>

[!code-xml[Main](membership/samples/sample1.xml)]

<span data-ttu-id="800a0-139">Wenn Sie die Verbindungs Zeichenfolge nicht ändern, gibt ASP.net Ihnen keinen beschreibenden Fehler.</span><span class="sxs-lookup"><span data-stu-id="800a0-139">Unfortunately, if you don't modify the connection string, ASP.NET will not give you a descriptive error.</span></span> <span data-ttu-id="800a0-140">Es wird nur noch die Meldung angezeigt, dass Sie die Datenbank noch nicht erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="800a0-140">It will just continue to complain saying that you haven't created the database.</span></span> <span data-ttu-id="800a0-141">Im obigen Fall habe ich die Verbindungs Zeichenfolge so geändert, dass Sie auf meine lokale SQL Server 2000-Instanz verweist.</span><span class="sxs-lookup"><span data-stu-id="800a0-141">In the case above, I have modified the connection string to point to my local SQL Server 2000 instance.</span></span>

## <a name="specifying-configuration-and-adding-users-and-roles"></a><span data-ttu-id="800a0-142">Angeben der Konfiguration und Hinzufügen von Benutzern und Rollen</span><span class="sxs-lookup"><span data-stu-id="800a0-142">Specifying Configuration and Adding Users and Roles</span></span>

<span data-ttu-id="800a0-143">Der nächste Schritt bei der Konfiguration der Mitgliedschaft besteht darin, die erforderlichen Informationen der Datei "Web. config" der Anwendung hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="800a0-143">The next step in configuring Membership is to add the necessary information to the web.config file of the application.</span></span> <span data-ttu-id="800a0-144">In ASP.NET 1. x war das Ändern der Datei "Web. config" aufgrund der Verwendung von "lowercamelcase" und dem Fehlen von IntelliSense manchmal schwierig.</span><span class="sxs-lookup"><span data-stu-id="800a0-144">In ASP.NET 1.x, modifying the web.config file was sometimes difficult because of the use of lowerCamelCase and the lack of Intellisense.</span></span> <span data-ttu-id="800a0-145">Visual Studio .net 2005 vereinfacht die Aufgabe mit IntelliSense für Konfigurationsdateien, aber ASP.NET 2,0 geht noch einen Schritt weiter, indem eine Webschnittstelle zum Bearbeiten von Konfigurationsdateien bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="800a0-145">Visual Studio .NET 2005 makes the task much easier with Intellisense for configuration files, but ASP.NET 2.0 goes one step further by providing a Web interface for editing configuration files.</span></span>

<span data-ttu-id="800a0-146">Sie können die Weboberfläche starten, indem Sie auf der Projektmappen-Explorer Symbolleiste auf die Schaltfläche ASP.net Configuration klicken, wie unten gezeigt.</span><span class="sxs-lookup"><span data-stu-id="800a0-146">You can launch the Web interface by clicking the ASP.NET Configuration button on the Solution Explorer toolbar as shown below.</span></span> <span data-ttu-id="800a0-147">Sie können die Weboberfläche auch über Popups starten, die angezeigt werden, wenn Anmelde Steuerelemente eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-147">You can also launch the Web interface via pop-ups that are displayed when Login controls are inserted.</span></span>

![](membership/_static/image2.jpg)

<span data-ttu-id="800a0-148">**Abbildung 2**</span><span class="sxs-lookup"><span data-stu-id="800a0-148">**Figure 2**</span></span>

<span data-ttu-id="800a0-149">Dadurch wird das unten gezeigte Websiteverwaltungs-Tool ASP.net gestartet.</span><span class="sxs-lookup"><span data-stu-id="800a0-149">This launches the ASP.NET Web Site Administration Tool shown below.</span></span> <span data-ttu-id="800a0-150">Bei der ASP.NET-Website Verwaltung handelt es sich um eine Schnittstelle mit vier Registerkarten, die die Verwaltung von Anwendungseinstellungen erleichtert.</span><span class="sxs-lookup"><span data-stu-id="800a0-150">The ASP.NET Web Site Administration is a four-tab interface that makes it easy to manage application settings.</span></span> <span data-ttu-id="800a0-151">Die folgenden Registerkarten sind verfügbar:</span><span class="sxs-lookup"><span data-stu-id="800a0-151">The following tabs are available:</span></span>

- <span data-ttu-id="800a0-152">**Startseite**</span><span class="sxs-lookup"><span data-stu-id="800a0-152">**Home**</span></span>
- <span data-ttu-id="800a0-153">**Sicherheit** Benutzer, Rollen und Zugriff konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="800a0-153">**Security** Configure users, roles, and access.</span></span>
- <span data-ttu-id="800a0-154">**Anwendung** Konfigurieren Sie die Anwendungseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="800a0-154">**Application** Configure application settings.</span></span>
- <span data-ttu-id="800a0-155">**Anbieter** Konfigurieren und testen Sie Ihren Anwendungs Mitgliedschafts Anbieter.</span><span class="sxs-lookup"><span data-stu-id="800a0-155">**Provider** Configure and test your applications membership provider.</span></span>

<span data-ttu-id="800a0-156">Mit dem Websiteverwaltungs-Tool können Sie problemlos neue Benutzer erstellen, neue Rollen erstellen und Benutzer und Rollen verwalten.</span><span class="sxs-lookup"><span data-stu-id="800a0-156">The Web Site Administration Tool allows you to easily create new users, create new roles, and to manage users and roles.</span></span> <span data-ttu-id="800a0-157">Diese Möglichkeit ist in der Windows-Benutzeroberfläche nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="800a0-157">This ability is not available in the Windows interface.</span></span> <span data-ttu-id="800a0-158">Mithilfe der Windows-Benutzeroberfläche können Sie einfach Autorisierungs Einstellungen definieren und Anbieter, Funktionen, die nicht im Websiteverwaltungs-Tool sind, hinzufügen, löschen und verwalten.</span><span class="sxs-lookup"><span data-stu-id="800a0-158">The Windows interface allows you to easily define authorization settings and to add, delete, and manage providers, capabilities that are not in the Web Site Administration Tool.</span></span>

<span data-ttu-id="800a0-159">Öffnen Sie zum Starten der Windows-Benutzeroberfläche das Snap-in "Internetinformationsdienste", klicken Sie mit der rechten Maustaste auf die Anwendung, und wählen Sie Eigenschaften aus.</span><span class="sxs-lookup"><span data-stu-id="800a0-159">To launch the Windows interface, open the Internet Information Services snap-in, right-click on your application, and choose Properties.</span></span> <span data-ttu-id="800a0-160">Klicken Sie auf die Registerkarte ASP.net und anschließend auf die Schaltfläche Konfiguration bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="800a0-160">Click the ASP.NET tab and then click the Edit Configuration button.</span></span> <span data-ttu-id="800a0-161">(Die Anwendung muss unter ASP.NET 2,0 ausgeführt werden, damit die Schaltfläche "Konfiguration bearbeiten" aktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="800a0-161">(The application must be running under ASP.NET 2.0 for the Edit Configuration button to be enabled.</span></span> <span data-ttu-id="800a0-162">Sie können auch die ASP.NET-Version im Dialogfeld ASP.net konfigurieren.) Das Dialogfeld ASP.NET-Konfigurationseinstellungen wird wie unten dargestellt angezeigt.</span><span class="sxs-lookup"><span data-stu-id="800a0-162">You can configure the ASP.NET version in the ASP.NET dialog as well.) The ASP.NET Configuration Settings dialog is displayed as shown below.</span></span>

![](membership/_static/image3.jpg)

<span data-ttu-id="800a0-163">**Abbildung 3**</span><span class="sxs-lookup"><span data-stu-id="800a0-163">**Figure 3**</span></span>

<span data-ttu-id="800a0-164">Auf der Registerkarte Allgemein werden Verbindungs Zeichenfolgen und Anwendungseinstellungen aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="800a0-164">On the General tab, connection strings and application settings are listed.</span></span> <span data-ttu-id="800a0-165">Alle Einstellungen in kursiv Schrift werden in einer übergeordneten Konfigurationsdatei ("Machine. config" oder "Web. config" auf einer höheren Ebene) und Einstellungen, die nicht kursiv sind, in der Anwendungs Konfigurationsdatei definiert.</span><span class="sxs-lookup"><span data-stu-id="800a0-165">Any settings in italics are defined in a parent configuration file (either the machine.config or a web.config at a higher level) and settings not in italics are from the applications configuration file.</span></span> <span data-ttu-id="800a0-166">Wenn eine Einstellung auf Anwendungsebene hinzugefügt, entfernt oder bearbeitet wird, wird die Einstellung von ASP.net auf Anwendungsebene "Web. config" hinzugefügt, entfernt oder geändert, anstatt die Einstellung aus der Konfigurationsdatei zu entfernen, von der Sie geerbt wurde.</span><span class="sxs-lookup"><span data-stu-id="800a0-166">If a setting is added, removed, or edited at the application level, ASP.NET will add, remove, or modify the setting at the application levels web.config instead of removing the setting from the configuration file from which it is inherited.</span></span>

<span data-ttu-id="800a0-167">Die Registerkarte Authentifizierung wird unten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="800a0-167">The Authentication tab is shown below.</span></span> <span data-ttu-id="800a0-168">Hier konfigurieren Sie Ihre Mitgliedschafts Einstellungen.</span><span class="sxs-lookup"><span data-stu-id="800a0-168">This is where you will configure your membership settings.</span></span> <span data-ttu-id="800a0-169">Hier können Formular Authentifizierungs Einstellungen, Mitgliedschafts Anbieter und Rollen Anbieter konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-169">Forms authentication settings, membership providers, and role providers can be configured here.</span></span>

![](membership/_static/image4.jpg)

<span data-ttu-id="800a0-170">**Abbildung 4**</span><span class="sxs-lookup"><span data-stu-id="800a0-170">**Figure 4**</span></span>

## <a name="implementing-membership-in-your-application"></a><span data-ttu-id="800a0-171">Implementieren der Mitgliedschaft in der Anwendung</span><span class="sxs-lookup"><span data-stu-id="800a0-171">Implementing Membership in Your Application</span></span>

<span data-ttu-id="800a0-172">Die einfachste Möglichkeit, die ASP.NET 2,0-Mitgliedschaft in Ihre Anwendung zu implementieren, ist die Verwendung der bereitgestellten Logon-Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="800a0-172">The easiest way to implement ASP.NET 2.0 membership in your application is to use the provided Logon controls.</span></span> <span data-ttu-id="800a0-173">Mit dieser Methode können Sie die Grundlagen der ASP.NET 2,0-Mitgliedschaft implementieren, ohne Code schreiben zu müssen.</span><span class="sxs-lookup"><span data-stu-id="800a0-173">This method allows you to implement the basics of ASP.NET 2.0 membership without writing any code at all.</span></span>

<span data-ttu-id="800a0-174">Die folgenden Anmelde Steuerelemente sind in ASP.NET 2,0 verfügbar:</span><span class="sxs-lookup"><span data-stu-id="800a0-174">The following Logon controls are available in ASP.NET 2.0:</span></span>

## <a name="login-control"></a><span data-ttu-id="800a0-175">Login-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="800a0-175">Login Control</span></span>

<span data-ttu-id="800a0-176">Das-Anmelde Steuerelement stellt eine Benutzeroberfläche für die Anmeldung an Ihrem Mitgliedschaftssystem bereit.</span><span class="sxs-lookup"><span data-stu-id="800a0-176">The Login control provides an interface for someone to log into your membership system.</span></span> <span data-ttu-id="800a0-177">Sie erhalten ein Textfeld mit einem Benutzernamen und einem Kennwort sowie eine Anmelde Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="800a0-177">It provides you with a username and password textbox and a login button.</span></span> <span data-ttu-id="800a0-178">Viele weitere allgemeine Features, wie z. b. ein Link zum Registrieren für Personen, die noch nicht ausgeführt wurden, ein Kontrollkästchen, mit dem sich der Benutzer automatisch bei nachfolgenden Besuchen anmelden kann, ein Link zur Kenn Wort Erinnerung usw. Alle Funktionen des Anmeldungs Steuer Elements können über die Eigenschaften des-Steuer Elements angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-178">Many other common features such as a link to register for people who have not yet done so, a checkbox that allows the user to automatically login on subsequent visits, a link for a password reminder, etc. All features of the Login control are customizable via the properties of the control.</span></span>

<span data-ttu-id="800a0-179">In ASP.NET 1. x mussten Entwickler beim Verwenden der Formular Authentifizierung eine große Menge an Code schreiben, um eine Suche durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="800a0-179">In ASP.NET 1.x, developers had to write a fair amount of code to do a lookup when using Forms authentication.</span></span> <span data-ttu-id="800a0-180">Mit der ASP.NET 2,0-Mitgliedschaft können Sie Benutzer überprüfen, ohne Code schreiben zu müssen.</span><span class="sxs-lookup"><span data-stu-id="800a0-180">With ASP.NET 2.0 membership, you can validate users without writing any code at all.</span></span> <span data-ttu-id="800a0-181">ASP.NET führt den Benutzer automatisch für Sie durch.</span><span class="sxs-lookup"><span data-stu-id="800a0-181">ASP.NET will automatically do the look-up of the user for you.</span></span> <span data-ttu-id="800a0-182">(Wenn Sie das Login-Steuerelement ohne Verwendung der ASP.NET-Mitgliedschaft verwenden, können Sie die **OnAuthenticate** -Methode verwenden, um den Benutzer zu validieren.)</span><span class="sxs-lookup"><span data-stu-id="800a0-182">(If you are using the Login control without using ASP.NET membership, you can use the **OnAuthenticate** method to validate the user.)</span></span>

## <a name="loginview-control"></a><span data-ttu-id="800a0-183">LoginView-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="800a0-183">LoginView Control</span></span>

<span data-ttu-id="800a0-184">Das LoginView-Steuerelement ist ein auf Vorlagen basiertes Steuerelement, das standardmäßig zwei Vorlagen bereitstellt. AnonymousTemplate und LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="800a0-184">The LoginView control is a templated control that provides two templates by default; the AnonymousTemplate and the LoggedInTemplate.</span></span> <span data-ttu-id="800a0-185">Welche Vorlage angezeigt wird, hängt davon ab, ob der Benutzer beim Mitgliedschaftssystem angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="800a0-185">The template that is displayed is determined by whether or not the user is logged into your membership system.</span></span> <span data-ttu-id="800a0-186">Dieses Steuerelement wird normalerweise verwendet, um ein Login-Steuerelement anzuzeigen, wenn sich ein Benutzer noch nicht angemeldet hat, und ein LoginStatus-Steuerelement und/oder andere Anmelde Steuerelemente, wenn sich der Benutzer angemeldet hat.</span><span class="sxs-lookup"><span data-stu-id="800a0-186">This control is typically used to display a Login control when a user has not yet logged in and a LoginStatus control and/or other login controls when the user has logged in.</span></span> <span data-ttu-id="800a0-187">Wenn Sie die Rollen Verwaltung in Ihrer ASP.NET-Anwendung verwenden, kann das LoginView-Steuerelement eine bestimmte Vorlage basierend auf der Rolle "Benutzer" anzeigen.</span><span class="sxs-lookup"><span data-stu-id="800a0-187">If you are using role management in your ASP.NET application, the LoginView control can display a specific template based upon the users role.</span></span> <span data-ttu-id="800a0-188">(Weitere Informationen zur ASP.NET-Rollen Verwaltung werden zu einem späteren Zeitpunkt behandelt.)</span><span class="sxs-lookup"><span data-stu-id="800a0-188">(More on ASP.NET role management will be covered later.)</span></span>

## <a name="passwordrecovery-control"></a><span data-ttu-id="800a0-189">PasswordRecovery-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="800a0-189">PasswordRecovery Control</span></span>

<span data-ttu-id="800a0-190">Das PasswordRecovery-Steuerelement ermöglicht es Benutzern, eine e-Mail mit Ihrem aktuellen Kennwort zu erhalten oder das Kennwort zurückzusetzen.</span><span class="sxs-lookup"><span data-stu-id="800a0-190">The PasswordRecovery control allows users to receive an email with his or her current password or reset his or her password.</span></span> <span data-ttu-id="800a0-191">Klartext und verschlüsselte Kenn Wörter können wieder hergestellt und per e-Mail an Benutzer gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-191">Clear text and encrypted passwords can be recovered and emailed to users.</span></span> <span data-ttu-id="800a0-192">Wenn für das Kennwort ein Hashwert verwendet wird, kann es nicht wieder hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-192">If the password is hashed, it cannot be recovered.</span></span> <span data-ttu-id="800a0-193">Stattdessen muss der Benutzer eine Kenn Wort Zurücksetzung durchführen.</span><span class="sxs-lookup"><span data-stu-id="800a0-193">Instead the user will be required to perform a password reset.</span></span>

## <a name="loginstatus-control"></a><span data-ttu-id="800a0-194">LoginStatus-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="800a0-194">LoginStatus Control</span></span>

<span data-ttu-id="800a0-195">Das LoginStatus-Steuerelement wird verwendet, um einen Anmelde Indikator für Benutzer anzuzeigen, die nicht angemeldet sind, und einen Abmelde Indikator für Benutzer, die zurzeit angemeldet sind.</span><span class="sxs-lookup"><span data-stu-id="800a0-195">The LoginStatus control is used to display a login indicator to users who are not logged in and a logout indicator to users who are currently logged in.</span></span> <span data-ttu-id="800a0-196">Die Eigenschaft "Request. IsAuthenticated" wird verwendet, um zu bestimmen, welcher Indikator angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="800a0-196">The Request.IsAuthenticated property is used to determine which indicator to display.</span></span> <span data-ttu-id="800a0-197">Der vom LoginStatus-Steuerelement angezeigte Indikator kann Text (implementiert über die Eigenschaften " **LoginText** " und " **LogoutText** ") oder Bilder (implementiert über die Eigenschaften " **LoginImageUrl** " und " **LogoutImageUrl** ") sein.</span><span class="sxs-lookup"><span data-stu-id="800a0-197">The indicator displayed by the LoginStatus control can be text (implemented via the **LoginText** and **LogoutText** properties) or images (implemented via the **LoginImageUrl** and **LogoutImageUrl** properties.)</span></span>

<span data-ttu-id="800a0-198">Wenn sich ein Benutzer über das LoginStatus-Steuerelement anmeldet, wird er an die von der **LogoutPageUrl** -Eigenschaft angegebene URL umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="800a0-198">When a user logs out via the LoginStatus control, he or she is redirected to the URL specified by the **LogoutPageUrl** property.</span></span> <span data-ttu-id="800a0-199">Wenn diese Eigenschaft nicht festgelegt ist, wird die aktuelle Seite aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="800a0-199">If that property is not set, the current page is refreshed.</span></span> <span data-ttu-id="800a0-200">Da die Site wahrscheinlich durch die Formular Authentifizierung geschützt ist, leitet die Aktualisierung der aktuellen Seite den Benutzer zur Anmeldeseite für die Website um.</span><span class="sxs-lookup"><span data-stu-id="800a0-200">Since the site is likely protected by Forms authentication, the refresh of the current page will redirect the user to the login page for the site.</span></span>

## <a name="loginname-control"></a><span data-ttu-id="800a0-201">LoginName-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="800a0-201">LoginName Control</span></span>

<span data-ttu-id="800a0-202">Das LoginName-Steuerelement zeigt den Benutzernamen des Benutzers an, der derzeit bei der Website angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="800a0-202">The LoginName control displays the username of the user currently logged into the site.</span></span>

## <a name="createuserwizard-control"></a><span data-ttu-id="800a0-203">Steuerelement "kreateuserwizard"</span><span class="sxs-lookup"><span data-stu-id="800a0-203">CreateUserWizard Control</span></span>

<span data-ttu-id="800a0-204">Das Steuerelement "kreateuserwizard" bietet Benutzern eine bequeme Möglichkeit, sich für Ihr Mitgliedschaftssystem zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="800a0-204">The CreateUserWizard control provides users with a convenient way to register for your membership system.</span></span> <span data-ttu-id="800a0-205">Mithilfe der unten gezeigten Schnittstelle können Sie Schritte hinzufügen (als Sammlung von WizardSteps implementiert).</span><span class="sxs-lookup"><span data-stu-id="800a0-205">You can add steps (implemented as a collection of WizardSteps) via the interface shown below.</span></span>

![](membership/_static/image5.jpg)

<span data-ttu-id="800a0-206">**Abbildung 5**</span><span class="sxs-lookup"><span data-stu-id="800a0-206">**Figure 5**</span></span>

<span data-ttu-id="800a0-207">Der "kreateuserwizard" ist ein auf Vorlagen basiertes Steuerelement, das von der Wizard-Klasse abgeleitet ist und die folgenden Vorlagen bereitstellt:</span><span class="sxs-lookup"><span data-stu-id="800a0-207">The CreateUserWizard is a templated control that derives from the Wizard class and provides the following templates:</span></span>

- <span data-ttu-id="800a0-208">**HeaderTemplate** Mit dieser Vorlage wird die Darstellung des Headers des Assistenten gesteuert.</span><span class="sxs-lookup"><span data-stu-id="800a0-208">**HeaderTemplate** This template controls the appearance of the header of the wizard.</span></span>
- <span data-ttu-id="800a0-209">**SideBarTemplate** Mit dieser Vorlage wird die Darstellung der Rand Leiste des Assistenten gesteuert.</span><span class="sxs-lookup"><span data-stu-id="800a0-209">**SidebarTemplate** This template controls the appearance of the sidebar of the wizard.</span></span>
- <span data-ttu-id="800a0-210">**StartNavigationTemplate** Mit dieser Vorlage wird gesteuert, wie die Navigation im Assistenten beim Start Schritt ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="800a0-210">**StartNavigationTemplate** This template controls the appearance of the navigation are of the wizard at the start step.</span></span>
- <span data-ttu-id="800a0-211">**StepNavigationTemplate** Diese Vorlage steuert die Darstellung des Navigationsbereichs, wenn dies nicht der Start-oder Abschluss Schritt ist.</span><span class="sxs-lookup"><span data-stu-id="800a0-211">**StepNavigationTemplate** This template controls the appearance of the navigation area when not in the start or finish step.</span></span>
- <span data-ttu-id="800a0-212">**FinishNavigationTemplate** Diese Vorlage steuert die Darstellung des Navigationsbereichs, wenn der Schritt abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="800a0-212">**FinishNavigationTemplate** This template controls the appearance of the navigation area when on the finish step.</span></span>

<span data-ttu-id="800a0-213">Außerdem erstellt ASP.net für jeden Schritt, den Sie dem Assistenten hinzufügen, eine benutzerdefinierte Vorlage, die für diesen Schritt sowohl eine ContentTemplate als auch eine CustomNavigationTemplate enthält.</span><span class="sxs-lookup"><span data-stu-id="800a0-213">Additionally, for each step that you add to the Wizard, ASP.NET will create a custom template that contains both a ContentTemplate and a CustomNavigationTemplate for that step.</span></span> <span data-ttu-id="800a0-214">Ausführliche Informationen zum Anpassen von "anateuserwizard" finden Sie in der Dokumentation zu vs.net 2005:</span><span class="sxs-lookup"><span data-stu-id="800a0-214">For full details on customizing the CreateUserWizard, see the VS.NET 2005 documentation:</span></span>

## <a name="changepassword-control"></a><span data-ttu-id="800a0-215">ChangePassword-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="800a0-215">ChangePassword Control</span></span>

<span data-ttu-id="800a0-216">Das ChangePassword-Steuerelement ermöglicht es Benutzern, das Kennwort zu ändern.</span><span class="sxs-lookup"><span data-stu-id="800a0-216">The ChangePassword control allows users to change his or her password.</span></span> <span data-ttu-id="800a0-217">Wenn die Display Name-Eigenschaft den Wert true hat (standardmäßig false), kann der Benutzer sein Kennwort ändern, wenn er nicht angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="800a0-217">If the DisplayUserName property is true (it is false by default), the user can change his or her password when they are not logged in.</span></span> <span data-ttu-id="800a0-218">Wenn der Benutzer bereits angemeldet *ist* und die Display Name-Eigenschaft auf true festgelegt ist, kann der Benutzer das Kennwort eines anderen Benutzers ändern, der nicht angemeldet ist und die Benutzer-ID dieses Benutzers kennt.</span><span class="sxs-lookup"><span data-stu-id="800a0-218">If the user *is* already logged in and the DisplayUserName property is true, the user will be able to change the password of another user that is not logged in providing they know the user ID of that user.</span></span>

<span data-ttu-id="800a0-219">Beachten Sie Folgendes: Wenn Sie möchten, dass Benutzer Kenn Wörter ohne Anmeldung ändern können, müssen Sie sicherstellen, dass die Seite, auf der das ChangePassword-Steuerelement angezeigt wird, anonymen Zugriff zulässt.</span><span class="sxs-lookup"><span data-stu-id="800a0-219">Keep in mind that if you want users to be able to change passwords without having to log in, you will need to ensure that the page on which the ChangePassword control is displayed allows anonymous access.</span></span> <span data-ttu-id="800a0-220">Natürlich müssen Benutzer Ihr altes Kennwort angeben, um Ihr Kennwort zu ändern.</span><span class="sxs-lookup"><span data-stu-id="800a0-220">Obviously, users will have to provide their old password in order to change their password.</span></span>

## <a name="role-management"></a><span data-ttu-id="800a0-221">Rollenverwaltung</span><span class="sxs-lookup"><span data-stu-id="800a0-221">Role Management</span></span>

<span data-ttu-id="800a0-222">Mithilfe der Rollen Verwaltung können Sie Benutzer einer bestimmten Rolle zuweisen und dann den Zugriff auf bestimmte Dateien oder Ordner basierend auf dieser Rolle einschränken.</span><span class="sxs-lookup"><span data-stu-id="800a0-222">Role management allows you to assign users to a particular role and then restrict access to certain file or folders based on that role.</span></span> <span data-ttu-id="800a0-223">Die Rollen Verwaltung bietet auch eine API, sodass Sie Programm gesteuert eine Rolle bestimmen oder alle Benutzer in einer bestimmten Rolle ermitteln und entsprechend reagieren können.</span><span class="sxs-lookup"><span data-stu-id="800a0-223">Role management also provides an API so that you can programmatically determine someones role or determine all users in a particular role and respond accordingly.</span></span>

<span data-ttu-id="800a0-224">Die Rollen Verwaltung ist keine Voraussetzung für die ASP.NET-Mitgliedschaft, und die Mitgliedschaft ist keine Voraussetzung für die Verwendung der Rollen Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="800a0-224">Role management is not a requirement in ASP.NET membership, nor is membership a requirement in order to use role management.</span></span> <span data-ttu-id="800a0-225">Die beiden ergänzen sich jedoch gut, und es ist wahrscheinlich, dass Sie von Entwicklern gemeinsam verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-225">However, the two supplement each other nicely and it is likely that developers will use them in conjunction with each other.</span></span>

<span data-ttu-id="800a0-226">Nehmen Sie die folgende Änderung in der Datei "Web. config" vor, um die Rollen Verwaltung in Ihrer Anwendung zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="800a0-226">To enable role management in your application, make the following change in your web.config file:</span></span>

[!code-xml[Main](membership/samples/sample2.xml)]

<span data-ttu-id="800a0-227">Wenn das **CacheRolesInCookie** -Attribut auf "true" festgelegt ist, speichert ASP.net eine Benutzer Rollen Mitgliedschaft in einem Cookie auf dem Client.</span><span class="sxs-lookup"><span data-stu-id="800a0-227">When the **cacheRolesInCookie** attribute is set to true, ASP.NET caches a users role membership in a cookie on the client.</span></span> <span data-ttu-id="800a0-228">Dadurch können Rollen Suchvorgänge ohne Aufrufe an den RoleProvider erfolgen.</span><span class="sxs-lookup"><span data-stu-id="800a0-228">This allows role lookups to occur without calls into the RoleProvider.</span></span> <span data-ttu-id="800a0-229">Bei der Verwendung dieses Attributs wird Entwicklern empfohlen, sicherzustellen, dass das **cookieProtection** -Attribut auf all festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="800a0-229">When using this attribute, developers are encouraged to ensure that the **cookieProtection** attribute is set to All.</span></span> <span data-ttu-id="800a0-230">(Dies ist die Standardeinstellung.) Dadurch wird sichergestellt, dass die Cookiedaten verschlüsselt werden und sichergestellt werden, dass der Inhalt der Cookies nicht geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="800a0-230">(This is the default setting.) This ensures that the cookie data are encrypted and helps to ensure that the cookies contents haven't been altered.</span></span> <span data-ttu-id="800a0-231">Rollen können mithilfe des Websiteverwaltungs-Tools hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-231">Roles can be added using the Web Site Administration Tool.</span></span> <span data-ttu-id="800a0-232">Sie ermöglicht Ihnen das einfache definieren von Rollen, das Konfigurieren des Zugriffs auf Teile der Website auf der Grundlage dieser Rollen und das Zuweisen von Benutzern zu Rollen.</span><span class="sxs-lookup"><span data-stu-id="800a0-232">It allows you to easily define roles, configure access to parts of the site based on those roles, and assign users to roles.</span></span>

![](membership/_static/image6.jpg)

<span data-ttu-id="800a0-233">**Abbildung 6**</span><span class="sxs-lookup"><span data-stu-id="800a0-233">**Figure 6**</span></span>

<span data-ttu-id="800a0-234">Wie oben gezeigt, können neue Rollen hinzugefügt werden, indem Sie einfach den Namen der Rolle eingeben und dann auf Rolle hinzufügen klicken.</span><span class="sxs-lookup"><span data-stu-id="800a0-234">As shown above, new roles can be added by simply entering the name of the role and then clicking Add Role.</span></span> <span data-ttu-id="800a0-235">Vorhandene Rollen können durch Klicken auf den entsprechenden Link in der Liste der vorhandenen Rollen verwaltet oder gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-235">Existing roles can be managed or deleted by clicking the appropriate link in the list of existing roles.</span></span>

<span data-ttu-id="800a0-236">Wenn Sie eine Rolle verwalten, können Sie Benutzer wie unten gezeigt hinzufügen oder entfernen.</span><span class="sxs-lookup"><span data-stu-id="800a0-236">When you manage a role, you can add or remove users as shown below.</span></span>

![](membership/_static/image7.jpg)

<span data-ttu-id="800a0-237">**Abbildung 7**</span><span class="sxs-lookup"><span data-stu-id="800a0-237">**Figure 7**</span></span>

<span data-ttu-id="800a0-238">Durch Aktivieren des Kontrollkästchens "Benutzer ist in Rolle" können Sie problemlos einen Benutzer zu einer bestimmten Rolle hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="800a0-238">By checking the User Is In Role checkbox, you can easily add a user to a specific role.</span></span> <span data-ttu-id="800a0-239">ASP.NET aktualisiert Ihre Mitgliedschafts Datenbank automatisch mit den entsprechenden Einträgen.</span><span class="sxs-lookup"><span data-stu-id="800a0-239">ASP.NET will automatically update your membership database with the appropriate entries.</span></span> <span data-ttu-id="800a0-240">Außerdem sollten Sie Zugriffsregeln für Ihre Anwendung konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="800a0-240">You will also want to configure access rules for your application.</span></span> <span data-ttu-id="800a0-241">ASP.NET 1. x-Entwickler sind mit dem &lt;Authorization&gt;-Element in der Datei "Web. config" vertraut, und diese Option ist weiterhin in ASP.NET 2,0 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="800a0-241">ASP.NET 1.x developers are familiar with doing this via the &lt;authorization&gt; element in the web.config file, and that option is still available in ASP.NET 2.0.</span></span> <span data-ttu-id="800a0-242">Es ist jedoch einfacher, Zugriffsregeln mithilfe des Websiteverwaltungs-Tools zu verwalten, wie unten gezeigt.</span><span class="sxs-lookup"><span data-stu-id="800a0-242">However, its easier to manage access rules using the Web Site Administration Tool as shown below.</span></span>

![](membership/_static/image8.jpg)

<span data-ttu-id="800a0-243">**Abbildung 8**</span><span class="sxs-lookup"><span data-stu-id="800a0-243">**Figure 8**</span></span>

<span data-ttu-id="800a0-244">In diesem Fall wird der Verwaltungs Ordner hervorgehoben (er ist schwer zu erkennen, da das Tool ihn in hellgrau hervorgehoben hat), und der Administrator Rolle wurde der Zugriff gewährt.</span><span class="sxs-lookup"><span data-stu-id="800a0-244">In this case, the Administration folder is highlighted (its difficult to see because the tool highlights it in light gray) and the Administrators role has been granted access.</span></span> <span data-ttu-id="800a0-245">Alle anderen Benutzer werden verweigert.</span><span class="sxs-lookup"><span data-stu-id="800a0-245">All other users are denied.</span></span> <span data-ttu-id="800a0-246">Sie können auf das Head-Symbol klicken, um eine Regel auszuwählen, und dann die Schaltflächen nach oben und nach unten verwenden, um die Regeln anzuordnen.</span><span class="sxs-lookup"><span data-stu-id="800a0-246">You can click on the head icon to select a rule and then use the Move Up and Move Down buttons to arrange the rules.</span></span> <span data-ttu-id="800a0-247">Wie beim ASP.net-&lt;Authorization&gt;-Element werden Regeln in der Reihenfolge verarbeitet, in der Sie angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-247">As with the ASP.NET &lt;authorization&gt; element, rules are processed in the order in which they appear.</span></span> <span data-ttu-id="800a0-248">Anders ausgedrückt: Wenn die Reihenfolge der Regeln im obigen Screenshot umgekehrt wäre, hätte niemand Zugriff auf den Ordner "Verwaltung", da die erste Regel, die ASP.net finden würde, die Regel ist, die allen Benutzern den Ordner verweigert.</span><span class="sxs-lookup"><span data-stu-id="800a0-248">In other words, if the order of rules in the shot above were reversed, no one would have access to the Administration folder because the first rule that ASP.NET would encounter would be the rule that denies everyone to the folder.</span></span>

<span data-ttu-id="800a0-249">ASP.NET 2,0 fügt dem Ordner, für den Sie eine Zugriffs Regel angeben, eine Web. config-Datei hinzu.</span><span class="sxs-lookup"><span data-stu-id="800a0-249">ASP.NET 2.0 adds a web.config file to the folder for which you are specifying an access rule.</span></span> <span data-ttu-id="800a0-250">Zugriffsregeln können über die Konfigurationsdatei oder über das Websiteverwaltungs-Tool bearbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-250">Access rules can be edited via the configuration file or via the Web Site Administration Tool.</span></span> <span data-ttu-id="800a0-251">Anders ausgedrückt: das Websiteverwaltungs-Tool ist einfach eine Schnittstelle, über die die Konfigurationsdatei in einer benutzerfreundlichen Umgebung bearbeitet werden kann.</span><span class="sxs-lookup"><span data-stu-id="800a0-251">In other words, the Web Site Administration Tool is simply an interface through which the configuration file can be edited in a user-friendly environment.</span></span>

## <a name="using-roles-in-code"></a><span data-ttu-id="800a0-252">Verwenden von Rollen im Code</span><span class="sxs-lookup"><span data-stu-id="800a0-252">Using Roles in Code</span></span>

<span data-ttu-id="800a0-253">Die API für die Rollen Verwaltung wurde seit Version 1. x nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="800a0-253">The API for role management has not changed since version 1.x.</span></span> <span data-ttu-id="800a0-254">Die **IsInRole** -Methode wird verwendet, um zu bestimmen, ob ein Benutzer einer bestimmten Rolle gehört.</span><span class="sxs-lookup"><span data-stu-id="800a0-254">The **IsInRole** method is used to determine if a user is in a particular role.</span></span>

[!code-csharp[Main](membership/samples/sample3.cs)]

<span data-ttu-id="800a0-255">ASP.NET erstellt auch eine RolePrincipal-Instanz als Member des aktuellen Kontexts.</span><span class="sxs-lookup"><span data-stu-id="800a0-255">ASP.NET also creates a RolePrincipal instance as a member of the current context.</span></span> <span data-ttu-id="800a0-256">Das RolePrincipal-Objekt kann verwendet werden, um alle Rollen zu erhalten, zu denen der Benutzer gehört:</span><span class="sxs-lookup"><span data-stu-id="800a0-256">The RolePrincipal object can be used to obtain all of the roles to which the user belongs as follows:</span></span>

[!code-csharp[Main](membership/samples/sample4.cs)]

## <a name="using-rolegroups-with-the-loginview-control"></a><span data-ttu-id="800a0-257">Verwenden von RoleGroups mit dem LoginView-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="800a0-257">Using RoleGroups with the LoginView Control</span></span>

<span data-ttu-id="800a0-258">Nachdem Sie nun mit der Rollen Verwaltung und-Mitgliedschaft vertraut sind, können Sie kurz darauf eingehen, wie das LoginView-Steuerelement diese Funktion in ASP.NET 2,0 nutzt.</span><span class="sxs-lookup"><span data-stu-id="800a0-258">Now that you have an understanding of role management and membership, lets discuss briefly how the LoginView control takes advantage of this capability in ASP.NET 2.0.</span></span> <span data-ttu-id="800a0-259">Wie bereits erwähnt, ist das LoginView-Steuerelement ein auf Vorlagen basiertes Steuerelement, das standardmäßig zwei Vorlagen enthält. AnonymousTemplate und LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="800a0-259">As previously discussed, the LoginView control is a templated control that contains two templates by default; the AnonymousTemplate and the LoggedInTemplate.</span></span> <span data-ttu-id="800a0-260">Im Dialogfeld "LoginView-Aufgaben" befindet sich ein Link (unten dargestellt), mit dem Sie RoleGroups bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="800a0-260">Within the LoginView Tasks dialog is a link (shown below) that allows you to edit RoleGroups.</span></span>

![](membership/_static/image9.jpg)

<span data-ttu-id="800a0-261">**Abbildung 9**</span><span class="sxs-lookup"><span data-stu-id="800a0-261">**Figure 9**</span></span>

<span data-ttu-id="800a0-262">Jedes RoleGroup-Objekt enthält ein Array von Zeichen folgen, das definiert, für welche Rollen RoleGroup gilt.</span><span class="sxs-lookup"><span data-stu-id="800a0-262">Each RoleGroup object contains an array of strings that defines which roles that RoleGroup applies to.</span></span> <span data-ttu-id="800a0-263">Um dem LoginView-Steuerelement eine neue RoleGroup hinzuzufügen, klicken Sie auf den Link RoleGroups bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="800a0-263">To add a new RoleGroup to the LoginView control, click the Edit RoleGroups link.</span></span> <span data-ttu-id="800a0-264">In der obigen Abbildung können Sie sehen, dass ich eine neue RoleGroup für Administratoren hinzugefügt habe.</span><span class="sxs-lookup"><span data-stu-id="800a0-264">In the image above, you can see that I have added a new RoleGroup for Administrators.</span></span> <span data-ttu-id="800a0-265">Wenn Sie in der Dropdown Liste Sichten die Option RoleGroup (RoleGroup [0]) auswählen, können Sie eine Vorlage konfigurieren, die nur Mitgliedern der Rolle "Administratoren" angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="800a0-265">By selecting that RoleGroup (RoleGroup[0]) from the Views dropdown, I can configure a template that will only be displayed to members of the Administrators role.</span></span> <span data-ttu-id="800a0-266">In der folgenden Abbildung wurde eine neue RoleGroup hinzugefügt, die für Mitglieder der Rolle "Sales" und der Rolle "Distribution" gilt.</span><span class="sxs-lookup"><span data-stu-id="800a0-266">In the image below, I have added a new RoleGroup that applies to members of the Sales role and the Distribution role.</span></span> <span data-ttu-id="800a0-267">Dadurch wird der Dropdown Liste "Ansichten" im Dialogfeld "LoginView Tasks" eine zweite RoleGroup hinzugefügt, und alle dieser Vorlage hinzugefügten Elemente werden von jedem Benutzer in der Rolle "Sales" oder "Distribution" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="800a0-267">This adds a second RoleGroup to the Views dropdown in the LoginView Tasks dialog and anything added to that template will be visible by any user in either the Sales or Distribution role.</span></span>

![](membership/_static/image10.jpg)

<span data-ttu-id="800a0-268">**Abbildung 10**</span><span class="sxs-lookup"><span data-stu-id="800a0-268">**Figure 10**</span></span>

## <a name="overriding-the-existing-membership-provider"></a><span data-ttu-id="800a0-269">Überschreiben des vorhandenen Mitgliedschafts Anbieters</span><span class="sxs-lookup"><span data-stu-id="800a0-269">Overriding the Existing Membership Provider</span></span>

<span data-ttu-id="800a0-270">Es gibt mehrere Möglichkeiten, die Funktionalität der ASP.NET-Mitgliedschaft zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="800a0-270">There are a couple of ways that you can extend the functionality of ASP.NET membership.</span></span> <span data-ttu-id="800a0-271">Erstens können Sie die vorhandene Funktionalität der sqlmembership shipprovider-Klasse offensichtlich ändern, indem Sie von ihr erben und deren Methoden überschreiben.</span><span class="sxs-lookup"><span data-stu-id="800a0-271">First of all, you can obviously change the existing functionality of the SqlMembershipProvider class by inheriting from it and overriding its methods.</span></span> <span data-ttu-id="800a0-272">Wenn Sie z. b. ihre eigene Funktionalität implementieren möchten, wenn Benutzer erstellt werden, können Sie eine eigene Klasse erstellen, die wie folgt von sqlmembership shipprovider erbt:</span><span class="sxs-lookup"><span data-stu-id="800a0-272">For example, if you want to implement your own functionality when users are created, you can create your own class that inherits from SqlMembershipProvider as follows:</span></span>

[!code-csharp[Main](membership/samples/sample5.cs)]

<span data-ttu-id="800a0-273">Wenn Sie andererseits einen eigenen Anbieter erstellen möchten (z. b. zum Speichern Ihrer Mitgliedschafts Informationen in einer Access-Datenbank), können Sie einen eigenen Anbieter erstellen.</span><span class="sxs-lookup"><span data-stu-id="800a0-273">If, on the other hand, you want to create your own provider (to store your membership information in an Access database, for example), you can create your own provider.</span></span>

## <a name="creating-your-own-membership-provider"></a><span data-ttu-id="800a0-274">Erstellen eines eigenen Mitgliedschafts Anbieters</span><span class="sxs-lookup"><span data-stu-id="800a0-274">Creating Your Own Membership Provider</span></span>

<span data-ttu-id="800a0-275">Um einen eigenen Mitgliedschafts Anbieter zu erstellen, müssen Sie zuerst eine Klasse erstellen, die von der Mitgliedschafts Anbieter Klasse erbt.</span><span class="sxs-lookup"><span data-stu-id="800a0-275">To create your own membership provider, you will first need to create a class that inherits from the MembershipProvider class.</span></span> <span data-ttu-id="800a0-276">Wenn Sie VB.NET verwenden, fügt Visual Studio 2005 die stubweise für alle Methoden hinzu, die Sie überschreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="800a0-276">If you are using VB.NET, Visual Studio 2005 will add the stubs for all of the methods that you need to override.</span></span> <span data-ttu-id="800a0-277">Wenn Sie verwenden C#, können Sie die stusb hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="800a0-277">If you are using C#, its up to you to add the stubs.</span></span>

<span data-ttu-id="800a0-278">Sie müssen Folgendes überschreiben:</span><span class="sxs-lookup"><span data-stu-id="800a0-278">You will need to override the following:</span></span>

- <span data-ttu-id="800a0-279">ApplicationName-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="800a0-279">ApplicationName property</span></span>
- <span data-ttu-id="800a0-280">ChangePassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-280">ChangePassword function</span></span>
- <span data-ttu-id="800a0-281">Changepasswordfrag andanswer-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-281">ChangePasswordQuestionAndAnswer function</span></span>
- <span data-ttu-id="800a0-282">Funktion "Funktion"</span><span class="sxs-lookup"><span data-stu-id="800a0-282">CreateUser function</span></span>
- <span data-ttu-id="800a0-283">DeleteUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-283">DeleteUser function</span></span>
- <span data-ttu-id="800a0-284">EnablePasswordReset (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-284">EnablePasswordReset property</span></span>
- <span data-ttu-id="800a0-285">EnablePasswordRetrieval (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-285">EnablePasswordRetrieval property</span></span>
- <span data-ttu-id="800a0-286">FindUsersByEmail-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-286">FindUsersByEmail function</span></span>
- <span data-ttu-id="800a0-287">FindUsersByName-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-287">FindUsersByName function</span></span>
- <span data-ttu-id="800a0-288">GetAllUsers-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-288">GetAllUsers function</span></span>
- <span data-ttu-id="800a0-289">Getnumofusersonline-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-289">GetNumberOfUsersOnline function</span></span>
- <span data-ttu-id="800a0-290">GetPassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-290">GetPassword function</span></span>
- <span data-ttu-id="800a0-291">GetUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-291">GetUser function</span></span>
- <span data-ttu-id="800a0-292">GetUserNameByEmail-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-292">GetUserNameByEmail function</span></span>
- <span data-ttu-id="800a0-293">MaxInvalidPasswordAttempts (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-293">MaxInvalidPasswordAttempts property</span></span>
- <span data-ttu-id="800a0-294">Minrequirements dnonalpha anumschlag Character (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-294">MinRequiredNonAlphanumericCharacters property</span></span>
- <span data-ttu-id="800a0-295">Minrequirements dpasswordlength (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-295">MinRequiredPasswordLength property</span></span>
- <span data-ttu-id="800a0-296">PasswordAttemptWindow (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-296">PasswordAttemptWindow property</span></span>
- <span data-ttu-id="800a0-297">PasswordFormat (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-297">PasswordFormat property</span></span>
- <span data-ttu-id="800a0-298">Passwordfestiregularexpression (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-298">PasswordStrengthRegularExpression property</span></span>
- <span data-ttu-id="800a0-299">Requirements/Answer (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-299">RequiresQuestionAndAnswer property</span></span>
- <span data-ttu-id="800a0-300">Requirements suniqueemail (Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="800a0-300">RequiresUniqueEmail property</span></span>
- <span data-ttu-id="800a0-301">ResetPassword-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-301">ResetPassword function</span></span>
- <span data-ttu-id="800a0-302">Entsperren der Benutzerfunktion</span><span class="sxs-lookup"><span data-stu-id="800a0-302">Unlock user function</span></span>
- <span data-ttu-id="800a0-303">UpdateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-303">UpdateUser function</span></span>
- <span data-ttu-id="800a0-304">ValidateUser-Funktion</span><span class="sxs-lookup"><span data-stu-id="800a0-304">ValidateUser function</span></span>

<span data-ttu-id="800a0-305">Dies ist eine Liste, die als C# Entwickler implementiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="800a0-305">Thats quite a list to implement as a C# developer.</span></span> <span data-ttu-id="800a0-306">Möglicherweise ist es einfacher, die-Klasse in VB.net ohne Implementierung zu erstellen, und dann den .net-Reflektor oder ein ähnliches Tool zu C#verwenden, um den Code in zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="800a0-306">You may find it easier to create the class in VB.NET without any implementation and then use .NET Reflector or a similar tool to convert the code to C#.</span></span>

<span data-ttu-id="800a0-307">Die Verbindungs Zeichenfolge und andere Eigenschaften sollten in der Initialize-Methode auf ihre Standardwerte festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="800a0-307">The connection string and other properties should be set to their defaults in the Initialize method.</span></span> <span data-ttu-id="800a0-308">(Die Initialize-Methode wird ausgelöst, wenn der Anbieter zur Laufzeit geladen wird.) Der zweite Parameter für die Initialize-Methode ist vom Typ System. Collections. Specialized. NameValueCollection und ist ein Verweis auf das &lt;&gt; Element hinzufügen, das Ihrem benutzerdefinierten Anbieter in der Datei "Web. config" zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="800a0-308">(The Initialize method is fired when the provider is loaded at runtime.) The second parameter to the Initialize method is of type System.Collections.Specialized.NameValueCollection and is a reference to the &lt;add&gt; element that is associated with your custom provider in the web.config file.</span></span> <span data-ttu-id="800a0-309">Dieser Eintrag sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="800a0-309">That entry looks like the following:</span></span>

[!code-xml[Main](membership/samples/sample6.xml)]

<span data-ttu-id="800a0-310">Im folgenden finden Sie ein Beispiel für die Initialize-Methode.</span><span class="sxs-lookup"><span data-stu-id="800a0-310">Here is an example of the Initialize method.</span></span>

[!code-csharp[Main](membership/samples/sample7.cs)]

<span data-ttu-id="800a0-311">Um den Benutzer zu validieren, wenn er Ihr Anmeldeformular sendet, müssen Sie die ValidateUser-Methode verwenden.</span><span class="sxs-lookup"><span data-stu-id="800a0-311">In order to validate the user when they submit your login form, you will need to use the ValidateUser method.</span></span> <span data-ttu-id="800a0-312">Diese Methode wird ausgelöst, wenn der Benutzer im Anmelde Steuerelement auf die Anmelde Schaltfläche klickt.</span><span class="sxs-lookup"><span data-stu-id="800a0-312">This method fires when the user clicks the login button in the Login control.</span></span> <span data-ttu-id="800a0-313">Sie platzieren den Code, der die Benutzersuche in dieser Methode durchführt.</span><span class="sxs-lookup"><span data-stu-id="800a0-313">You will place your code that does the user lookup in this method.</span></span>

<span data-ttu-id="800a0-314">Wie Sie sehen können, ist das Schreiben Ihres eigenen Mitgliedschafts Anbieters nicht schwierig und ermöglicht Ihnen das Erweitern dieser leistungsstarken Funktionalität von ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="800a0-314">As you can see, writing your own membership provider is not difficult and allows you to extend this powerful functionality of ASP.NET 2.0.</span></span>
