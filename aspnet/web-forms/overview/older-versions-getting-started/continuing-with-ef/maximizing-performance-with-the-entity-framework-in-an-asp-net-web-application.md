---
uid: web-forms/overview/older-versions-getting-started/continuing-with-ef/maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application
title: Maximieren der Leistung mit dem Entity Framework 4,0 in einer ASP.NET 4-Webanwendung | Microsoft-Dokumentation
author: tdykstra
description: Diese tutorialreihe basiert auf der Webanwendung der Website von "Web", die in der tutorialreihe für die ersten Schritte mit Entity Framework 4,0 erstellt wurde. I...
ms.author: riande
ms.date: 01/26/2011
ms.assetid: 4e43455e-dfa1-42db-83cb-c987703f04b5
msc.legacyurl: /web-forms/overview/older-versions-getting-started/continuing-with-ef/maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application
msc.type: authoredcontent
ms.openlocfilehash: 5630200a1ad1d30f6d89b38e15179f15b699fa9f
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78439263"
---
# <a name="maximizing-performance-with-the-entity-framework-40-in-an-aspnet-4-web-application"></a><span data-ttu-id="d7578-104">Maximieren der Leistung mit dem Entity Framework 4,0 in einer ASP.NET 4-Webanwendung</span><span class="sxs-lookup"><span data-stu-id="d7578-104">Maximizing Performance with the Entity Framework 4.0 in an ASP.NET 4 Web Application</span></span>

<span data-ttu-id="d7578-105">von [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="d7578-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="d7578-106">Diese tutorialreihe basiert auf der Webanwendung der Website von "Web", die in der tutorialreihe für die ersten Schritte [mit Entity Framework 4,0](https://asp.net/entity-framework/tutorials#Getting%20Started) erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="d7578-106">This tutorial series builds on the Contoso University web application that is created by the [Getting Started with the Entity Framework 4.0](https://asp.net/entity-framework/tutorials#Getting%20Started) tutorial series.</span></span> <span data-ttu-id="d7578-107">Wenn Sie die vorherigen Tutorials nicht durchgearbeitet haben, können Sie die Anwendung, die Sie erstellt haben, als Ausgangspunkt für dieses Tutorial [herunterladen](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a) .</span><span class="sxs-lookup"><span data-stu-id="d7578-107">If you didn't complete the earlier tutorials, as a starting point for this tutorial you can [download the application](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a) that you would have created.</span></span> <span data-ttu-id="d7578-108">Sie können auch [die Anwendung herunterladen](https://code.msdn.microsoft.com/ASPNET-Web-Forms-6c7197aa) , die von der kompletten tutorialreihe erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-108">You can also [download the application](https://code.msdn.microsoft.com/ASPNET-Web-Forms-6c7197aa) that is created by the complete tutorial series.</span></span> <span data-ttu-id="d7578-109">Wenn Sie Fragen zu den Tutorials haben, können Sie Sie im ASP.net- [Entity Framework Forum](https://forums.asp.net/1227.aspx)Posten.</span><span class="sxs-lookup"><span data-stu-id="d7578-109">If you have questions about the tutorials, you can post them to the [ASP.NET Entity Framework forum](https://forums.asp.net/1227.aspx).</span></span>

<span data-ttu-id="d7578-110">Im vorherigen Tutorial haben Sie erfahren, wie Parallelitäts Konflikte behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="d7578-110">In the previous tutorial, you saw how to handle concurrency conflicts.</span></span> <span data-ttu-id="d7578-111">Dieses Tutorial zeigt Optionen zur Verbesserung der Leistung einer ASP.NET-Webanwendung, die die Entity Framework verwendet.</span><span class="sxs-lookup"><span data-stu-id="d7578-111">This tutorial shows options for improving the performance of an ASP.NET web application that uses the Entity Framework.</span></span> <span data-ttu-id="d7578-112">Sie lernen verschiedene Methoden zum Maximieren der Leistung oder zur Diagnose von Leistungsproblemen kennen.</span><span class="sxs-lookup"><span data-stu-id="d7578-112">You'll learn several methods for maximizing performance or for diagnosing performance problems.</span></span>

<span data-ttu-id="d7578-113">Die in den folgenden Abschnitten dargestellten Informationen sind wahrscheinlich in einer Vielzahl von Szenarios nützlich:</span><span class="sxs-lookup"><span data-stu-id="d7578-113">Information presented in the following sections is likely to be useful in a broad variety of scenarios:</span></span>

- <span data-ttu-id="d7578-114">Effizientes Laden verwandter Daten.</span><span class="sxs-lookup"><span data-stu-id="d7578-114">Efficiently load related data.</span></span>
- <span data-ttu-id="d7578-115">Verwalten des Ansichts Zustands.</span><span class="sxs-lookup"><span data-stu-id="d7578-115">Manage view state.</span></span>

<span data-ttu-id="d7578-116">Die in den folgenden Abschnitten dargestellten Informationen können nützlich sein, wenn Sie über einzelne Abfragen verfügen, die Leistungsprobleme darstellen:</span><span class="sxs-lookup"><span data-stu-id="d7578-116">Information presented in the following sections might be useful if you have individual queries that present performance problems:</span></span>

- <span data-ttu-id="d7578-117">Verwenden Sie die Option `NoTracking` Merge.</span><span class="sxs-lookup"><span data-stu-id="d7578-117">Use the `NoTracking` merge option.</span></span>
- <span data-ttu-id="d7578-118">LINQ-Abfragen vor der Kompilierung.</span><span class="sxs-lookup"><span data-stu-id="d7578-118">Pre-compile LINQ queries.</span></span>
- <span data-ttu-id="d7578-119">Überprüfen Sie die an die Datenbank gesendeten Abfrage Befehle.</span><span class="sxs-lookup"><span data-stu-id="d7578-119">Examine query commands sent to the database.</span></span>

<span data-ttu-id="d7578-120">Die im folgenden Abschnitt dargestellten Informationen sind möglicherweise nützlich für Anwendungen, die über extrem große Datenmodelle verfügen:</span><span class="sxs-lookup"><span data-stu-id="d7578-120">Information presented in the following section is potentially useful for applications that have extremely large data models:</span></span>

- <span data-ttu-id="d7578-121">Vorab Generieren von Sichten.</span><span class="sxs-lookup"><span data-stu-id="d7578-121">Pre-generate views.</span></span>

> [!NOTE]
> <span data-ttu-id="d7578-122">Die Leistung der Webanwendung ist von vielen Faktoren betroffen, z. b. der Größe von Anforderungs-und Antwortdaten, der Geschwindigkeit von Datenbankabfragen, der Anzahl von Anforderungen, die der Server in die Warteschlange aufnehmen kann, und der Art und Weise, wie schnell der Dienst Sie bedienen kann Client-Skript Bibliotheken, die Sie möglicherweise verwenden.</span><span class="sxs-lookup"><span data-stu-id="d7578-122">Web application performance is affected by many factors, including things like the size of request and response data, the speed of database queries, how many requests the server can queue and how quickly it can service them, and even the efficiency of any client-script libraries you might be using.</span></span> <span data-ttu-id="d7578-123">Wenn die Leistung in Ihrer Anwendung kritisch ist, oder wenn Tests oder Benutzeroberflächen anzeigen, dass die Anwendungsleistung nicht zufriedenstellend ist, sollten Sie das normale Protokoll zur Leistungsoptimierung befolgen.</span><span class="sxs-lookup"><span data-stu-id="d7578-123">If performance is critical in your application, or if testing or experience shows that application performance isn't satisfactory, you should follow normal protocol for performance tuning.</span></span> <span data-ttu-id="d7578-124">Legen Sie fest, wo Leistungsengpässe auftreten, und beheben Sie dann die Bereiche, die die größten Auswirkungen auf die Gesamtleistung der Anwendung haben.</span><span class="sxs-lookup"><span data-stu-id="d7578-124">Measure to determine where performance bottlenecks are occurring, and then address the areas that will have the greatest impact on overall application performance.</span></span>
> 
> <span data-ttu-id="d7578-125">Dieses Thema konzentriert sich hauptsächlich auf Möglichkeiten, mit denen Sie die Leistung der Entity Framework in ASP.net möglicherweise verbessern können.</span><span class="sxs-lookup"><span data-stu-id="d7578-125">This topic focuses mainly on ways in which you can potentially improve the performance specifically of the Entity Framework in ASP.NET.</span></span> <span data-ttu-id="d7578-126">Die hier aufgeführten Vorschläge sind hilfreich, wenn Sie feststellen, dass der Datenzugriff einer der Leistungsengpässe in der Anwendung ist.</span><span class="sxs-lookup"><span data-stu-id="d7578-126">The suggestions here are useful if you determine that data access is one of the performance bottlenecks in your application.</span></span> <span data-ttu-id="d7578-127">Sofern nicht erwähnt, sollten die hier erläuterten Methoden nicht &quot;bewährten Methoden&quot; im Allgemeinen nicht berücksichtigt werden – viele von Ihnen sind nur in Ausnahmesituationen oder sehr spezifischen Arten von Leistungs Engpässen geeignet.</span><span class="sxs-lookup"><span data-stu-id="d7578-127">Except as noted, the methods explained here shouldn't be considered &quot;best practices&quot; in general — many of them are appropriate only in exceptional situations or to address very specific kinds of performance bottlenecks.</span></span>

<span data-ttu-id="d7578-128">Um das Lernprogramm zu starten, starten Sie Visual Studio, und öffnen Sie die Webanwendung der Website "Web-so University", die Sie im vorherigen Tutorial gearbeitet haben.</span><span class="sxs-lookup"><span data-stu-id="d7578-128">To start the tutorial, start Visual Studio and open the Contoso University web application that you were working with in the previous tutorial.</span></span>

## <a name="efficiently-loading-related-data"></a><span data-ttu-id="d7578-129">Effizientes Laden verwandter Daten</span><span class="sxs-lookup"><span data-stu-id="d7578-129">Efficiently Loading Related Data</span></span>

<span data-ttu-id="d7578-130">Es gibt mehrere Möglichkeiten, wie die Entity Framework verknüpfte Daten in die Navigations Eigenschaften einer Entität laden kann:</span><span class="sxs-lookup"><span data-stu-id="d7578-130">There are several ways that the Entity Framework can load related data into the navigation properties of an entity:</span></span>

- <span data-ttu-id="d7578-131">*Lazy Loading (verzögertes Laden)* .</span><span class="sxs-lookup"><span data-stu-id="d7578-131">*Lazy loading*.</span></span> <span data-ttu-id="d7578-132">Wenn die Entität zuerst gelesen wird, werden verwandte Daten nicht abgerufen.</span><span class="sxs-lookup"><span data-stu-id="d7578-132">When the entity is first read, related data isn't retrieved.</span></span> <span data-ttu-id="d7578-133">Wenn Sie jedoch zum ersten Mal versuchen, auf eine Navigationseigenschaft zuzugreifen, werden die für diese Navigationseigenschaft erforderlichen Daten automatisch abgerufen.</span><span class="sxs-lookup"><span data-stu-id="d7578-133">However, the first time you attempt to access a navigation property, the data required for that navigation property is automatically retrieved.</span></span> <span data-ttu-id="d7578-134">Dies führt dazu, dass mehrere Abfragen an die Datenbank gesendet werden – eine für die Entität selbst und eine, wenn verknüpfte Daten für die Entität abgerufen werden müssen.</span><span class="sxs-lookup"><span data-stu-id="d7578-134">This results in multiple queries sent to the database — one for the entity itself and one each time that related data for the entity must be retrieved.</span></span> 

    <span data-ttu-id="d7578-135">[![Image05](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image2.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-135">[![Image05](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image2.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image1.png)</span></span>

<span data-ttu-id="d7578-136">*Eager Loading (vorzeitiges Laden)* .</span><span class="sxs-lookup"><span data-stu-id="d7578-136">*Eager loading*.</span></span> <span data-ttu-id="d7578-137">Wenn die Entität gelesen wird, werden ihre verwandten Daten mit ihr abgerufen.</span><span class="sxs-lookup"><span data-stu-id="d7578-137">When the entity is read, related data is retrieved along with it.</span></span> <span data-ttu-id="d7578-138">Dies führt normalerweise zu einer einzelnen Joinabfrage, die alle Daten abruft, die erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="d7578-138">This typically results in a single join query that retrieves all of the data that's needed.</span></span> <span data-ttu-id="d7578-139">Sie können Eager Loading mit der `Include`-Methode angeben, wie Sie bereits in diesen Tutorials gesehen haben.</span><span class="sxs-lookup"><span data-stu-id="d7578-139">You specify eager loading by using the `Include` method, as you've seen already in these tutorials.</span></span>

<span data-ttu-id="d7578-140">[![Image07](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image4.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-140">[![Image07](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image4.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image3.png)</span></span>

- <span data-ttu-id="d7578-141">*Explizites Laden*.</span><span class="sxs-lookup"><span data-stu-id="d7578-141">*Explicit loading*.</span></span> <span data-ttu-id="d7578-142">Dies ähnelt Lazy Loading, mit dem Unterschied, dass Sie die zugehörigen Daten explizit im Code abrufen. Dies geschieht nicht automatisch, wenn Sie auf eine Navigations Eigenschaft zugreifen.</span><span class="sxs-lookup"><span data-stu-id="d7578-142">This is similar to lazy loading, except that you explicitly retrieve the related data in code; it doesn't happen automatically when you access a navigation property.</span></span> <span data-ttu-id="d7578-143">Mit der `Load`-Methode der Navigations Eigenschaft für Auflistungen können Sie verknüpfte Daten manuell laden, oder Sie verwenden die `Load`-Methode der Reference-Eigenschaft für Eigenschaften, die ein einzelnes Objekt enthalten.</span><span class="sxs-lookup"><span data-stu-id="d7578-143">You load related data manually using the `Load` method of the navigation property for collections, or you use the `Load` method of the reference property for properties that hold a single object.</span></span> <span data-ttu-id="d7578-144">(Beispielsweise wird die `PersonReference.Load`-Methode aufgerufen, um die `Person` Navigations Eigenschaft einer `Department` Entität zu laden.)</span><span class="sxs-lookup"><span data-stu-id="d7578-144">(For example, you call the `PersonReference.Load` method to load the `Person` navigation property of a `Department` entity.)</span></span>

    <span data-ttu-id="d7578-145">[![Image06](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image6.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-145">[![Image06](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image6.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image5.png)</span></span>

<span data-ttu-id="d7578-146">Da Sie die Eigenschaftswerte nicht sofort abrufen, werden Lazy Loading und explizites laden auch als *Verzögertes Laden*bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="d7578-146">Because they don't immediately retrieve the property values, lazy loading and explicit loading are also both known as *deferred loading*.</span></span>

<span data-ttu-id="d7578-147">Lazy Load ist das Standardverhalten für einen Objekt Kontext, der vom Designer generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="d7578-147">Lazy loading is the default behavior for an object context that has been generated by the designer.</span></span> <span data-ttu-id="d7578-148">Wenn Sie die *SchoolModel.Designer.cs* -Datei öffnen, die die Objekt Kontext Klasse definiert, finden Sie drei Konstruktormethoden, die jeweils die folgende Anweisung enthalten:</span><span class="sxs-lookup"><span data-stu-id="d7578-148">If you open the *SchoolModel.Designer.cs* file that defines the object context class, you'll find three constructor methods, and each of them includes the following statement:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample1.cs)]

<span data-ttu-id="d7578-149">Wenn Sie wissen, dass Sie verwandte Daten für jede abgerufene Entität benötigen, bietet Eager Loading im Allgemeinen die beste Leistung, da eine einzelne Abfrage, die an die Datenbank gesendet wird, in der Regel effizienter als separate Abfragen für jede abgerufene Entität ist.</span><span class="sxs-lookup"><span data-stu-id="d7578-149">In general, if you know you need related data for every entity retrieved, eager loading offers the best performance, because a single query sent to the database is typically more efficient than separate queries for each entity retrieved.</span></span> <span data-ttu-id="d7578-150">Wenn Sie andererseits nur selten oder nur für eine kleine Gruppe von Entitäten auf die Navigations Eigenschaften einer Entität zugreifen müssen, ist Lazy Loading oder explizites laden möglicherweise effizienter, da Eager Loading mehr Daten abrufen, als Sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="d7578-150">On the other hand, if you need to access an entity's navigation properties only infrequently or only for a small set of the entities, lazy loading or explicit loading may be more efficient, because eager loading would retrieve more data than you need.</span></span>

<span data-ttu-id="d7578-151">In einer Webanwendung ist Lazy Loading möglicherweise relativ wenig Wert, da Benutzeraktionen, die sich auf die Notwendigkeit von verknüpften Daten auswirken, im Browser stattfinden, der keine Verbindung mit dem Objekt Kontext hat, der die Seite gerendert hat.</span><span class="sxs-lookup"><span data-stu-id="d7578-151">In a web application, lazy loading may be of relatively little value anyway, because user actions that affect the need for related data take place in the browser, which has no connection to the object context that rendered the page.</span></span> <span data-ttu-id="d7578-152">Wenn Sie jedoch ein Steuerelement DataBind, wissen Sie in der Regel, welche Daten Sie benötigen, und daher ist es am besten, Eager Loading oder verzögertes Laden basierend auf den in den einzelnen Szenarios geeigneten Anforderungen auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="d7578-152">On the other hand, when you databind a control, you typically know what data you need, and so it's generally best to choose eager loading or deferred loading based on what's appropriate in each scenario.</span></span>

<span data-ttu-id="d7578-153">Außerdem kann ein Daten gebundene Steuerelement ein Entitäts Objekt verwenden, nachdem der Objekt Kontext verworfen wurde.</span><span class="sxs-lookup"><span data-stu-id="d7578-153">In addition, a databound control might use an entity object after the object context is disposed.</span></span> <span data-ttu-id="d7578-154">In diesem Fall würde der Versuch, eine Navigations Eigenschaft verzögert zu laden, fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="d7578-154">In that case, an attempt to lazy-load a navigation property would fail.</span></span> <span data-ttu-id="d7578-155">Die Fehlermeldung, die Sie erhalten, ist eindeutig: &quot;`The ObjectContext instance has been disposed and can no longer be used for operations that require a connection.`&quot;</span><span class="sxs-lookup"><span data-stu-id="d7578-155">The error message you receive is clear: &quot;`The ObjectContext instance has been disposed and can no longer be used for operations that require a connection.`&quot;</span></span>

<span data-ttu-id="d7578-156">Das `EntityDataSource`-Steuerelement deaktiviert Lazy Loading standardmäßig.</span><span class="sxs-lookup"><span data-stu-id="d7578-156">The `EntityDataSource` control disables lazy loading by default.</span></span> <span data-ttu-id="d7578-157">Für das `ObjectDataSource` Steuerelement, das Sie für das aktuelle Tutorial verwenden (oder wenn Sie über den Seitencode auf den Objekt Kontext zugreifen), gibt es mehrere Möglichkeiten, Lazy Loading standardmäßig deaktiviert zu machen.</span><span class="sxs-lookup"><span data-stu-id="d7578-157">For the `ObjectDataSource` control that you're using for the current tutorial (or if you access the object context from page code), there are several ways you can make lazy loading disabled by default.</span></span> <span data-ttu-id="d7578-158">Sie können Sie deaktivieren, wenn Sie einen Objekt Kontext instanziieren.</span><span class="sxs-lookup"><span data-stu-id="d7578-158">You can disable it when you instantiate an object context.</span></span> <span data-ttu-id="d7578-159">Beispielsweise können Sie der Konstruktormethode der `SchoolRepository`-Klasse die folgende Zeile hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="d7578-159">For example, you can add the following line to the constructor method of the `SchoolRepository` class:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample2.cs)]

<span data-ttu-id="d7578-160">Für die Anwendung "" der Anwendung "" der Anwendung "" wird der Objekt Kontext automatisch deaktiviert Lazy Loading, sodass diese Eigenschaft nicht festgelegt werden muss, wenn ein Kontext instanziiert wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-160">For the Contoso University application, you'll make the object context automatically disable lazy loading so that this property doesn't have to be set whenever a context is instantiated.</span></span>

<span data-ttu-id="d7578-161">Öffnen Sie das Datenmodell *School Model. edmx* , klicken Sie auf die Entwurfs Oberfläche, und legen Sie dann im Bereich Eigenschaften die Eigenschaft **Lazy Load aktiviert** auf `False`fest.</span><span class="sxs-lookup"><span data-stu-id="d7578-161">Open the *SchoolModel.edmx* data model, click the design surface, and then in the properties pane set the **Lazy Loading Enabled** property to `False`.</span></span> <span data-ttu-id="d7578-162">Speichern und schließen Sie das Datenmodell.</span><span class="sxs-lookup"><span data-stu-id="d7578-162">Save and close the data model.</span></span>

<span data-ttu-id="d7578-163">[![Image04](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image8.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-163">[![Image04](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image8.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image7.png)</span></span>

## <a name="managing-view-state"></a><span data-ttu-id="d7578-164">Verwalten des Ansichts Zustands</span><span class="sxs-lookup"><span data-stu-id="d7578-164">Managing View State</span></span>

<span data-ttu-id="d7578-165">Um die Aktualisierungs Funktionalität bereitzustellen, muss eine ASP.NET-Webseite die ursprünglichen Eigenschaftswerte einer Entität speichern, wenn eine Seite gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-165">In order to provide update functionality, an ASP.NET web page must store the original property values of an entity when a page is rendered.</span></span> <span data-ttu-id="d7578-166">Während des Postbacks kann das Steuerelement den ursprünglichen Zustand der Entität neu erstellen und die `Attach` Methode der Entität aufrufen, bevor Sie Änderungen anwenden und die `SaveChanges`-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d7578-166">During postback processing the control can re-create the original state of the entity and call the entity's `Attach` method before applying changes and calling the `SaveChanges` method.</span></span> <span data-ttu-id="d7578-167">Standardmäßig verwenden ASP.net-Web Forms Daten Steuerelemente den Ansichts Zustand, um die ursprünglichen Werte zu speichern.</span><span class="sxs-lookup"><span data-stu-id="d7578-167">By default, ASP.NET Web Forms data controls use view state to store the original values.</span></span> <span data-ttu-id="d7578-168">Der Ansichts Zustand kann sich jedoch auf die Leistung auswirken, da er in ausgeblendeten Feldern gespeichert ist, die die Größe der Seite, die an den Browser gesendet wird, erheblich vergrößern kann.</span><span class="sxs-lookup"><span data-stu-id="d7578-168">However, view state can affect performance, because it's stored in hidden fields that can substantially increase the size of the page that's sent to and from the browser.</span></span>

<span data-ttu-id="d7578-169">Techniken zum Verwalten des Ansichts Zustands oder Alternativen, wie z. b. der Sitzungs Status, sind nicht für die Entity Framework eindeutig, sodass dieses Tutorial nicht ausführlich behandelt wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-169">Techniques for managing view state, or alternatives such as session state, aren't unique to the Entity Framework, so this tutorial doesn't go into this topic in detail.</span></span> <span data-ttu-id="d7578-170">Weitere Informationen finden Sie unter den Links am Ende des Tutorials.</span><span class="sxs-lookup"><span data-stu-id="d7578-170">For more information see the links at the end of the tutorial.</span></span>

<span data-ttu-id="d7578-171">Version 4 von ASP.net bietet jedoch eine neue Möglichkeit, mit dem Ansichts Zustand zu arbeiten, den jeder ASP.NET-Entwickler von Web Forms Anwendungen beachten sollte: die `ViewStateMode`-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="d7578-171">However, version 4 of ASP.NET provides a new way of working with view state that every ASP.NET developer of Web Forms applications should be aware of: the `ViewStateMode` property.</span></span> <span data-ttu-id="d7578-172">Diese neue Eigenschaft kann auf der Seiten-oder Steuerelement Ebene festgelegt werden. Sie ermöglicht es Ihnen, den Ansichts Zustand für eine Seite standardmäßig zu deaktivieren und nur für Steuerelemente zu aktivieren, die Sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="d7578-172">This new property can be set at the page or control level, and it enables you to disable view state by default for a page and enable it only for controls that need it.</span></span>

<span data-ttu-id="d7578-173">Für Anwendungen, bei denen die Leistung kritisch ist, empfiehlt es sich, den Ansichts Zustand auf Seitenebene immer zu deaktivieren und nur für Steuerelemente zu aktivieren, die dies erfordern.</span><span class="sxs-lookup"><span data-stu-id="d7578-173">For applications where performance is critical, a good practice is to always disable view state at the page level and enable it only for controls that require it.</span></span> <span data-ttu-id="d7578-174">Die Größe des Ansichts Zustands auf den Seiten der "Seite" der Seite "Seite" wird von dieser Methode nicht wesentlich gesenkt, aber um die Funktionsweise zu überprüfen, machen Sie dies für die Seite " *Dozenten. aspx* ".</span><span class="sxs-lookup"><span data-stu-id="d7578-174">The size of view state in the Contoso University pages wouldn't be substantially decreased by this method, but to see how it works, you'll do it for the *Instructors.aspx* page.</span></span> <span data-ttu-id="d7578-175">Diese Seite enthält viele Steuerelemente, einschließlich eines `Label` Steuer Elements, für das der Ansichts Zustand deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="d7578-175">That page contains many controls, including a `Label` control that has view state disabled.</span></span> <span data-ttu-id="d7578-176">Für keines der Steuerelemente auf dieser Seite muss der Ansichts Zustand aktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="d7578-176">None of the controls on this page actually need to have view state enabled.</span></span> <span data-ttu-id="d7578-177">(Die `DataKeyNames`-Eigenschaft des `GridView` Steuer Elements gibt den Zustand an, der zwischen Postbacks beibehalten werden muss. diese Werte werden jedoch im Steuerelement Zustand beibehalten, was von der `ViewStateMode`-Eigenschaft nicht beeinträchtigt wird.)</span><span class="sxs-lookup"><span data-stu-id="d7578-177">(The `DataKeyNames` property of the `GridView` control specifies state that must be maintained between postbacks, but these values are kept in control state, which isn't affected by the `ViewStateMode` property.)</span></span>

<span data-ttu-id="d7578-178">Die `Page`-Direktive und `Label`-Steuerelement Markup ähneln derzeit dem folgenden Beispiel:</span><span class="sxs-lookup"><span data-stu-id="d7578-178">The `Page` directive and `Label` control markup currently resembles the following example:</span></span>

[!code-aspx[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample3.aspx)]

<span data-ttu-id="d7578-179">Nehmen Sie die folgenden Änderungen vor:</span><span class="sxs-lookup"><span data-stu-id="d7578-179">Make the following changes:</span></span>

- <span data-ttu-id="d7578-180">Fügen Sie `ViewStateMode="Disabled"` der `Page` Direktive hinzu.</span><span class="sxs-lookup"><span data-stu-id="d7578-180">Add `ViewStateMode="Disabled"` to the `Page` directive.</span></span>
- <span data-ttu-id="d7578-181">Entfernen Sie `ViewStateMode="Disabled"` aus dem `Label`-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="d7578-181">Remove `ViewStateMode="Disabled"` from the `Label` control.</span></span>

<span data-ttu-id="d7578-182">Das Markup ähnelt nun dem folgenden Beispiel:</span><span class="sxs-lookup"><span data-stu-id="d7578-182">The markup now resembles the following example:</span></span>

[!code-aspx[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample4.aspx)]

<span data-ttu-id="d7578-183">Der Ansichts Zustand ist jetzt für alle Steuerelemente deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="d7578-183">View state is now disabled for all controls.</span></span> <span data-ttu-id="d7578-184">Wenn Sie später ein Steuerelement hinzufügen, das den Ansichts Zustand verwenden muss, müssen Sie lediglich das `ViewStateMode="Enabled"`-Attribut für dieses Steuerelement einschließen.</span><span class="sxs-lookup"><span data-stu-id="d7578-184">If you later add a control that does need to use view state, all you need to do is include the `ViewStateMode="Enabled"` attribute for that control.</span></span>

## <a name="using-the-notracking-merge-option"></a><span data-ttu-id="d7578-185">Verwenden der NoTracking-MergeOption</span><span class="sxs-lookup"><span data-stu-id="d7578-185">Using The NoTracking Merge Option</span></span>

<span data-ttu-id="d7578-186">Wenn ein Objekt Kontext Daten Bank Zeilen abruft und Entitäts Objekte erstellt, die diese darstellen, werden diese Entitäts Objekte standardmäßig auch mithilfe des Objekt Zustands-Managers nachverfolgt.</span><span class="sxs-lookup"><span data-stu-id="d7578-186">When an object context retrieves database rows and creates entity objects that represent them, by default it also tracks those entity objects using its object state manager.</span></span> <span data-ttu-id="d7578-187">Diese Überwachungsdaten fungieren als Cache und werden beim Aktualisieren einer Entität verwendet.</span><span class="sxs-lookup"><span data-stu-id="d7578-187">This tracking data acts as a cache and is used when you update an entity.</span></span> <span data-ttu-id="d7578-188">Da eine Webanwendung in der Regel über kurzlebige Objekt Kontext Instanzen verfügt, geben Abfragen häufig Daten zurück, die nicht nachverfolgt werden müssen, da der Objekt Kontext, der Sie liest, verworfen wird, bevor eine der gelesenen Entitäten wieder verwendet oder aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-188">Because a web application typically has short-lived object context instances, queries often return data that doesn't need to be tracked, because the object context that reads them will be disposed before any of the entities it reads are used again or updated.</span></span>

<span data-ttu-id="d7578-189">Im Entity Framework können Sie angeben, ob der Objekt Kontext Entitäts Objekte nachverfolgt, indem Sie eine *MergeOption*festlegen.</span><span class="sxs-lookup"><span data-stu-id="d7578-189">In the Entity Framework, you can specify whether the object context tracks entity objects by setting a *merge option*.</span></span> <span data-ttu-id="d7578-190">Sie können die MergeOption für einzelne Abfragen oder für Entitätenmengen festlegen.</span><span class="sxs-lookup"><span data-stu-id="d7578-190">You can set the merge option for individual queries or for entity sets.</span></span> <span data-ttu-id="d7578-191">Wenn Sie diese Einstellung für eine Entitätenmenge festlegen, bedeutet dies, dass Sie die standardmäßige MergeOption für alle Abfragen festlegen, die für diese Entitätenmenge erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="d7578-191">If you set it for an entity set, that means that you're setting the default merge option for all queries that are created for that entity set.</span></span>

<span data-ttu-id="d7578-192">Für die Anwendung der Anwendung "die Anwendung" wird die Überwachung für keine Entitätenmengen benötigt, auf die Sie aus dem Repository zugreifen, sodass Sie die Merge-Option auf `NoTracking` für diese Entitätenmengen festlegen können, wenn Sie den Objekt Kontext in der Repository-Klasse instanziieren.</span><span class="sxs-lookup"><span data-stu-id="d7578-192">For the Contoso University application, tracking isn't needed for any of the entity sets that you access from the repository, so you can set the merge option to `NoTracking` for those entity sets when you instantiate the object context in the repository class.</span></span> <span data-ttu-id="d7578-193">(Beachten Sie, dass das Festlegen der Merge-Option in diesem Tutorial keine merkliche Auswirkung auf die Leistung der Anwendung hat.</span><span class="sxs-lookup"><span data-stu-id="d7578-193">(Note that in this tutorial, setting the merge option won't have a noticeable effect on the application's performance.</span></span> <span data-ttu-id="d7578-194">Die Option `NoTracking` wird wahrscheinlich nur in bestimmten Szenarios mit hohem Datenvolumen zu einer wahrnehmbaren Leistungsverbesserung führen.)</span><span class="sxs-lookup"><span data-stu-id="d7578-194">The `NoTracking` option is likely to make an observable performance improvement only in certain high-data-volume scenarios.)</span></span>

<span data-ttu-id="d7578-195">Öffnen Sie im Ordner dal die Datei *SchoolRepository.cs* , und fügen Sie eine Konstruktormethode hinzu, die die MergeOption für die Entitätenmengen festlegt, auf die das Repository zugreift:</span><span class="sxs-lookup"><span data-stu-id="d7578-195">In the DAL folder, open the *SchoolRepository.cs* file and add a constructor method that sets the merge option for the entity sets that the repository accesses:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample5.cs)]

## <a name="pre-compiling-linq-queries"></a><span data-ttu-id="d7578-196">Vorkompilieren von LINQ-Abfragen</span><span class="sxs-lookup"><span data-stu-id="d7578-196">Pre-Compiling LINQ Queries</span></span>

<span data-ttu-id="d7578-197">Wenn das Entity Framework zum ersten Mal eine Entity SQL Abfrage innerhalb der Lebensdauer einer bestimmten `ObjectContext` Instanz ausführt, dauert die Kompilierung der Abfrage einige Zeit.</span><span class="sxs-lookup"><span data-stu-id="d7578-197">The first time that the Entity Framework executes an Entity SQL query within the life of a given `ObjectContext` instance, it takes some time to compile the query.</span></span> <span data-ttu-id="d7578-198">Das Ergebnis der Kompilierung wird zwischengespeichert, was bedeutet, dass nachfolgende Ausführungen der Abfrage viel schneller sind.</span><span class="sxs-lookup"><span data-stu-id="d7578-198">The result of compilation is cached, which means that subsequent executions of the query are much quicker.</span></span> <span data-ttu-id="d7578-199">LINQ-Abfragen folgen einem ähnlichen Muster, mit dem Unterschied, dass ein Teil der Arbeit, die zum Kompilieren der Abfrage erforderlich ist, jedes Mal erfolgt, wenn die Abfrage ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-199">LINQ queries follow a similar pattern, except that some of the work required to compile the query is done every time the query is executed.</span></span> <span data-ttu-id="d7578-200">Anders ausgedrückt: für LINQ-Abfragen werden standardmäßig nicht alle Ergebnisse der Kompilierung zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="d7578-200">In other words, for LINQ queries, by default not all of the results of compilation are cached.</span></span>

<span data-ttu-id="d7578-201">Wenn Sie eine LINQ-Abfrage haben, die im Lebenszyklus eines Objekt Kontexts wiederholt ausgeführt werden soll, können Sie Code schreiben, der bewirkt, dass alle Ergebnisse der Kompilierung beim ersten Ausführen der LINQ-Abfrage zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="d7578-201">If you have a LINQ query that you expect to run repeatedly in the life of an object context, you can write code that causes all of the results of compilation to be cached the first time the LINQ query is run.</span></span>

<span data-ttu-id="d7578-202">Als Abbildung wird dies für zwei `Get` Methoden in der `SchoolRepository`-Klasse ausgeführt, von denen eine keine Parameter übernimmt (die `GetInstructorNames`-Methode), und eine, die einen-Parameter benötigt (die `GetDepartmentsByAdministrator`-Methode).</span><span class="sxs-lookup"><span data-stu-id="d7578-202">As an illustration, you'll do this for two `Get` methods in the `SchoolRepository` class, one of which doesn't take any parameters (the `GetInstructorNames` method), and one that does require a parameter (the `GetDepartmentsByAdministrator` method).</span></span> <span data-ttu-id="d7578-203">Diese Methoden sind jetzt nicht mehr kompiliert, da Sie keine LINQ-Abfragen sind:</span><span class="sxs-lookup"><span data-stu-id="d7578-203">These methods as they stand now actually don't need to be compiled because they aren't LINQ queries:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample6.cs)]

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample7.cs)]

<span data-ttu-id="d7578-204">Wenn Sie jedoch kompilierte Abfragen ausprobieren möchten, können Sie so vorgehen, als wären diese als die folgenden LINQ-Abfragen geschrieben worden:</span><span class="sxs-lookup"><span data-stu-id="d7578-204">However, so that you can try out compiled queries, you'll proceed as if these had been written as the following LINQ queries:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample8.cs)]

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample9.cs)]

<span data-ttu-id="d7578-205">Sie können den Code in diesen Methoden in den obigen Code ändern und die Anwendung ausführen, um zu überprüfen, ob Sie funktioniert, bevor Sie fortfahren.</span><span class="sxs-lookup"><span data-stu-id="d7578-205">You could change the code in these methods to what's shown above and run the application to verify that it works before continuing.</span></span> <span data-ttu-id="d7578-206">Die folgenden Anweisungen werden jedoch direkt in das Erstellen vorkompilierter Versionen einfließen.</span><span class="sxs-lookup"><span data-stu-id="d7578-206">But the following instructions jump right into creating pre-compiled versions of them.</span></span>

<span data-ttu-id="d7578-207">Erstellen Sie eine Klassendatei im Ordner *dal* , benennen Sie Sie *SchoolEntities.cs*, und ersetzen Sie den vorhandenen Code durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="d7578-207">Create a class file in the *DAL* folder, name it *SchoolEntities.cs*, and replace the existing code with the following code:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample10.cs)]

<span data-ttu-id="d7578-208">Dieser Code erstellt eine partielle Klasse, die die automatisch generierte Objekt Kontext Klasse erweitert.</span><span class="sxs-lookup"><span data-stu-id="d7578-208">This code creates a partial class that extends the automatically generated object context class.</span></span> <span data-ttu-id="d7578-209">Die partielle Klasse enthält zwei kompilierte LINQ-Abfragen mit der `Compile`-Methode der `CompiledQuery`-Klasse.</span><span class="sxs-lookup"><span data-stu-id="d7578-209">The partial class includes two compiled LINQ queries using the `Compile` method of the `CompiledQuery` class.</span></span> <span data-ttu-id="d7578-210">Außerdem werden Methoden erstellt, die Sie verwenden können, um die Abfragen aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="d7578-210">It also creates methods that you can use to call the queries.</span></span> <span data-ttu-id="d7578-211">Speichern und schließen Sie diese Datei.</span><span class="sxs-lookup"><span data-stu-id="d7578-211">Save and close this file.</span></span>

<span data-ttu-id="d7578-212">Ändern Sie anschließend in *SchoolRepository.cs*die vorhandenen `GetInstructorNames`-und `GetDepartmentsByAdministrator` Methoden in der Repository-Klasse, sodass Sie die kompilierten Abfragen aufzurufen:</span><span class="sxs-lookup"><span data-stu-id="d7578-212">Next, in *SchoolRepository.cs*, change the existing `GetInstructorNames` and `GetDepartmentsByAdministrator` methods in the repository class so that they call the compiled queries:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample11.cs)]

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample12.cs)]

<span data-ttu-id="d7578-213">Führen Sie die Seite *Departments. aspx* aus, um zu überprüfen, ob Sie wie zuvor funktioniert hat.</span><span class="sxs-lookup"><span data-stu-id="d7578-213">Run the *Departments.aspx* page to verify that it works as it did before.</span></span> <span data-ttu-id="d7578-214">Die `GetInstructorNames`-Methode wird aufgerufen, um die Dropdown Liste "Administrator" aufzufüllen, und die `GetDepartmentsByAdministrator`-Methode wird aufgerufen, wenn Sie auf " **Aktualisieren** " klicken, um zu überprüfen, ob kein Dozenten Administrator mehrerer Abteilungen ist.</span><span class="sxs-lookup"><span data-stu-id="d7578-214">The `GetInstructorNames` method is called in order to populate the administrator drop-down list, and the `GetDepartmentsByAdministrator` method is called when you click **Update** in order to verify that no instructor is an administrator of more than one department.</span></span>

<span data-ttu-id="d7578-215">[![Image03](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image10.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-215">[![Image03](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image10.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image9.png)</span></span>

<span data-ttu-id="d7578-216">Sie haben Abfragen in der Anwendung "" der Anwendung "" der Anwendung "" von "" in der Anwendung "" der Anwendung "" der Anwendung "" bereits kompiliert, nicht, weil dadurch die Leistung</span><span class="sxs-lookup"><span data-stu-id="d7578-216">You've pre-compiled queries in the Contoso University application only to see how to do it, not because it would measurably improve performance.</span></span> <span data-ttu-id="d7578-217">Durch das Vorkompilieren von LINQ-Abfragen wird dem Code ein Komplexitäts Grad hinzugefügt. Stellen Sie daher sicher, dass Sie ihn nur für Abfragen ausführen, die tatsächlich Leistungsengpässe in der Anwendung darstellen.</span><span class="sxs-lookup"><span data-stu-id="d7578-217">Pre-compiling LINQ queries does add a level of complexity to your code, so make sure you do it only for queries that actually represent performance bottlenecks in your application.</span></span>

## <a name="examining-queries-sent-to-the-database"></a><span data-ttu-id="d7578-218">Untersuchen der an die Datenbank gesendeten Abfragen</span><span class="sxs-lookup"><span data-stu-id="d7578-218">Examining Queries Sent to the Database</span></span>

<span data-ttu-id="d7578-219">Wenn Sie Leistungsprobleme untersuchen, ist es manchmal hilfreich, die exakten SQL-Befehle zu kennen, die vom Entity Framework an die Datenbank gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="d7578-219">When you're investigating performance issues, sometimes it's helpful to know the exact SQL commands that the Entity Framework is sending to the database.</span></span> <span data-ttu-id="d7578-220">Wenn Sie mit einem `IQueryable` Objekt arbeiten, besteht eine Möglichkeit darin, die `ToTraceString`-Methode zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="d7578-220">If you're working with an `IQueryable` object, one way to do this is to use the `ToTraceString` method.</span></span>

<span data-ttu-id="d7578-221">Ändern Sie in *SchoolRepository.cs*den Code in der `GetDepartmentsByName`-Methode so, dass er dem folgenden Beispiel entspricht:</span><span class="sxs-lookup"><span data-stu-id="d7578-221">In *SchoolRepository.cs*, change the code in the `GetDepartmentsByName` method to match the following example:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample13.cs)]

<span data-ttu-id="d7578-222">Die `departments` Variable muss nur in einen `ObjectQuery`-Typ umgewandelt werden, da die `Where`-Methode am Ende der vorangehenden Zeile ein `IQueryable` Objekt erstellt. ohne die `Where`-Methode ist die Umwandlung nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="d7578-222">The `departments` variable must be cast to an `ObjectQuery` type only because the `Where` method at the end of the preceding line creates an `IQueryable` object; without the `Where` method, the cast would not be necessary.</span></span>

<span data-ttu-id="d7578-223">Legen Sie einen Haltepunkt in der `return` Zeile fest, und führen Sie dann die Seite *Departments. aspx* im Debugger aus.</span><span class="sxs-lookup"><span data-stu-id="d7578-223">Set a breakpoint on the `return` line, and then run the *Departments.aspx* page in the debugger.</span></span> <span data-ttu-id="d7578-224">Wenn Sie den Breakpoint erreichen, überprüfen Sie die `commandText` Variable **im Fenster "** lokal", und verwenden Sie die Text Schnellansicht (die Lupe in der Spalte **Wert** ), um den Wert im Fenster **Text** Schnellansicht anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="d7578-224">When you hit the breakpoint, examine the `commandText` variable in the **Locals** window and use the text visualizer (the magnifying glass in the **Value** column) to display its value in the **Text Visualizer** window.</span></span> <span data-ttu-id="d7578-225">Der gesamte SQL-Befehl, der sich aus diesem Code ergibt, wird angezeigt:</span><span class="sxs-lookup"><span data-stu-id="d7578-225">You can see the entire SQL command that results from this code:</span></span>

<span data-ttu-id="d7578-226">[![Image08](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image12.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-226">[![Image08](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image12.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image11.png)</span></span>

<span data-ttu-id="d7578-227">Als Alternative bietet das IntelliTrace-Feature in Visual Studio Ultimate eine Möglichkeit zum Anzeigen von SQL-Befehlen, die von der Entity Framework generiert werden, ohne dass Sie Ihren Code ändern oder sogar einen Haltepunkt festlegen müssen.</span><span class="sxs-lookup"><span data-stu-id="d7578-227">As an alternative, the IntelliTrace feature in Visual Studio Ultimate provides a way to view SQL commands generated by the Entity Framework that doesn't require you to change your code or even set a breakpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="d7578-228">Sie können die folgenden Prozeduren nur ausführen, wenn Sie Visual Studio Ultimate haben.</span><span class="sxs-lookup"><span data-stu-id="d7578-228">You can perform the following procedures only if you have Visual Studio Ultimate.</span></span>

<span data-ttu-id="d7578-229">Stellen Sie den ursprünglichen Code in der `GetDepartmentsByName`-Methode wieder her, und führen Sie dann die Seite *Departments. aspx* im Debugger aus.</span><span class="sxs-lookup"><span data-stu-id="d7578-229">Restore the original code in the `GetDepartmentsByName` method, and then run the *Departments.aspx* page in the debugger.</span></span>

<span data-ttu-id="d7578-230">Wählen Sie in Visual Studio das Menü **Debuggen** , dann **IntelliTrace**und dann **IntelliTrace-Ereignisse**aus.</span><span class="sxs-lookup"><span data-stu-id="d7578-230">In Visual Studio, select the **Debug** menu, then **IntelliTrace**, and then **IntelliTrace Events**.</span></span>

<span data-ttu-id="d7578-231">[![Image11](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image14.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-231">[![Image11](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image14.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image13.png)</span></span>

<span data-ttu-id="d7578-232">Klicken Sie im **IntelliTrace** -Fenster auf **Alle unterbrechen**.</span><span class="sxs-lookup"><span data-stu-id="d7578-232">In the **IntelliTrace** window, click **Break All**.</span></span>

<span data-ttu-id="d7578-233">[![Image12](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image16.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-233">[![Image12](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image16.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image15.png)</span></span>

<span data-ttu-id="d7578-234">Das **IntelliTrace** -Fenster zeigt eine Liste aktueller Ereignisse an:</span><span class="sxs-lookup"><span data-stu-id="d7578-234">The **IntelliTrace** window displays a list of recent events:</span></span>

<span data-ttu-id="d7578-235">[![Image09](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image18.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-235">[![Image09](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image18.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image17.png)</span></span>

<span data-ttu-id="d7578-236">Klicken Sie auf die Zeile **ADO.net** .</span><span class="sxs-lookup"><span data-stu-id="d7578-236">Click the **ADO.NET** line.</span></span> <span data-ttu-id="d7578-237">Es wird erweitert, um Ihnen den Befehls Text anzuzeigen:</span><span class="sxs-lookup"><span data-stu-id="d7578-237">It expands to show you the command text:</span></span>

<span data-ttu-id="d7578-238">[![Image10](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image20.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-238">[![Image10](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image20.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image19.png)</span></span>

<span data-ttu-id="d7578-239">Sie können die gesamte Befehls Text Zeichenfolge aus dem **Lokal Fenster in** die Zwischenablage kopieren.</span><span class="sxs-lookup"><span data-stu-id="d7578-239">You can copy the entire command text string to the clipboard from the **Locals** window.</span></span>

<span data-ttu-id="d7578-240">Angenommen, Sie arbeiten mit einer Datenbank, die mehr Tabellen, Beziehungen und Spalten als die einfache `School` Datenbank hat.</span><span class="sxs-lookup"><span data-stu-id="d7578-240">Suppose you were working with a database with more tables, relationships, and columns than the simple `School` database.</span></span> <span data-ttu-id="d7578-241">Möglicherweise werden Sie feststellen, dass eine Abfrage, die alle Informationen sammelt, die Sie in einer einzigen `Select` Anweisung mit mehreren `Join` Klauseln benötigen, zu komplex wird, um effizient zu arbeiten.</span><span class="sxs-lookup"><span data-stu-id="d7578-241">You might find that a query that gathers all the information you need in a single `Select` statement containing multiple `Join` clauses becomes too complex to work efficiently.</span></span> <span data-ttu-id="d7578-242">In diesem Fall können Sie von Eager Loading zum expliziten Laden wechseln, um die Abfrage zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="d7578-242">In that case you can switch from eager loading to explicit loading to simplify the query.</span></span>

<span data-ttu-id="d7578-243">Versuchen Sie z. b., den Code in der `GetDepartmentsByName`-Methode in *SchoolRepository.cs*zu ändern.</span><span class="sxs-lookup"><span data-stu-id="d7578-243">For example, try changing the code in the `GetDepartmentsByName` method in *SchoolRepository.cs*.</span></span> <span data-ttu-id="d7578-244">Derzeit verfügen Sie in dieser Methode über eine Objekt Abfrage, die über `Include` Methoden für die Navigations Eigenschaften `Person` und `Courses` verfügt.</span><span class="sxs-lookup"><span data-stu-id="d7578-244">Currently in that method you have an object query that has `Include` methods for the `Person` and `Courses` navigation properties.</span></span> <span data-ttu-id="d7578-245">Ersetzen Sie die `return`-Anweisung durch Code, der Explizites Laden ausführt, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="d7578-245">Replace the `return` statement with code that performs explicit loading, as shown in the following example:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample14.cs)]

<span data-ttu-id="d7578-246">Führen Sie im Debugger die Seite " *Departments. aspx* " aus, und überprüfen Sie das **IntelliTrace** -Fenster wie zuvor.</span><span class="sxs-lookup"><span data-stu-id="d7578-246">Run the *Departments.aspx* page in the debugger and check the **IntelliTrace** window again as you did before.</span></span> <span data-ttu-id="d7578-247">Nun, wo eine einzelne Abfrage vorhanden war, wird eine lange Sequenz von Ihnen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="d7578-247">Now, where there was a single query before, you see a long sequence of them.</span></span>

<span data-ttu-id="d7578-248">[![Image13](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image22.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-248">[![Image13](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image22.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image21.png)</span></span>

<span data-ttu-id="d7578-249">Klicken Sie auf die erste Zeile **ADO.net** , um zu sehen, was mit der komplexen Abfrage geschehen ist, die Sie zuvor gesehen haben</span><span class="sxs-lookup"><span data-stu-id="d7578-249">Click the first **ADO.NET** line to see what has happened to the complex query you viewed earlier.</span></span>

<span data-ttu-id="d7578-250">[![Image14](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image24.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-250">[![Image14](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image24.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image23.png)</span></span>

<span data-ttu-id="d7578-251">Die Abfrage aus Abteilungen ist eine einfache `Select` Abfrage ohne `Join`-Klausel, gefolgt von separaten Abfragen, die Verwandte Kurse und einen Administrator abrufen, wobei eine Reihe von zwei Abfragen für jede Abteilung verwendet werden, die von der ursprünglichen Abfrage zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-251">The query from Departments has become a simple `Select` query with no `Join` clause, but it's followed by separate queries that retrieve related courses and an administrator, using a set of two queries for each department returned by the original query.</span></span>

> [!NOTE]
> <span data-ttu-id="d7578-252">Wenn Sie Lazy Loading aktiviert lassen, kann das Muster, das hier angezeigt wird, mit derselben Abfrage mehrmals wiederholt werden, von Lazy Loading resultieren.</span><span class="sxs-lookup"><span data-stu-id="d7578-252">If you leave lazy loading enabled, the pattern you see here, with the same query repeated many times, might result from lazy loading.</span></span> <span data-ttu-id="d7578-253">Ein Muster, das Sie in der Regel vermeiden möchten, ist das verzögerte Laden verwandter Daten für jede Zeile der primären Tabelle.</span><span class="sxs-lookup"><span data-stu-id="d7578-253">A pattern that you typically want to avoid is lazy-loading related data for every row of the primary table.</span></span> <span data-ttu-id="d7578-254">Wenn Sie nicht überprüft haben, dass eine einzelne joinabfrage zu komplex ist, um effizient zu sein, können Sie in solchen Fällen die Leistung verbessern, indem Sie die primäre Abfrage so ändern, dass Sie Eager Loading verwendet.</span><span class="sxs-lookup"><span data-stu-id="d7578-254">Unless you've verified that a single join query is too complex to be efficient, you'd typically be able to improve performance in such cases by changing the primary query to use eager loading.</span></span>

## <a name="pre-generating-views"></a><span data-ttu-id="d7578-255">Vorab generierende Sichten</span><span class="sxs-lookup"><span data-stu-id="d7578-255">Pre-Generating Views</span></span>

<span data-ttu-id="d7578-256">Wenn ein `ObjectContext` Objekt erstmalig in einer neuen Anwendungsdomäne erstellt wird, generiert die Entity Framework eine Reihe von Klassen, die für den Zugriff auf die Datenbank verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="d7578-256">When an `ObjectContext` object is first created in a new application domain, the Entity Framework generates a set of classes that it uses to access the database.</span></span> <span data-ttu-id="d7578-257">Diese Klassen werden als *Sichten*bezeichnet. Wenn Sie über ein sehr großes Datenmodell verfügen, können Sie durch das Erstellen dieser Sichten die Website Antwort auf die erste Anforderung einer Seite verzögern, nachdem eine neue Anwendungsdomäne initialisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="d7578-257">These classes are called *views*, and if you have a very large data model, generating these views can delay the web site's response to the first request for a page after a new application domain is initialized.</span></span> <span data-ttu-id="d7578-258">Sie können diese Verzögerung der ersten Anforderung verringern, indem Sie die Sichten zur Kompilierzeit statt zur Laufzeit erstellen.</span><span class="sxs-lookup"><span data-stu-id="d7578-258">You can reduce this first-request delay by creating the views at compile time rather than at run time.</span></span>

> [!NOTE]
> <span data-ttu-id="d7578-259">Wenn Ihre Anwendung nicht über ein extrem großes Datenmodell verfügt oder wenn Sie über ein großes Datenmodell verfügt, Sie sich aber nicht um ein Leistungsproblem kümmern, das sich nur auf die Anforderung der ersten Seite auswirkt, nachdem IIS wieder verwendet wurde, können Sie diesen Abschnitt überspringen.</span><span class="sxs-lookup"><span data-stu-id="d7578-259">If your application doesn't have an extremely large data model, or if it does have a large data model but you aren't concerned about a performance problem that affects only the very first page request after IIS is recycled, you can skip this section.</span></span> <span data-ttu-id="d7578-260">Die Ansichts Erstellung findet nicht jedes Mal statt, wenn Sie ein `ObjectContext` Objekt instanziieren, da die Ansichten in der Anwendungsdomäne zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="d7578-260">View creation doesn't happen every time you instantiate an `ObjectContext` object, because the views are cached in the application domain.</span></span> <span data-ttu-id="d7578-261">Wenn Sie Ihre Anwendung nicht häufig in IIS wieder verwenden, profitieren nur wenige Seiten Anforderungen von vordefinierten Ansichten.</span><span class="sxs-lookup"><span data-stu-id="d7578-261">Therefore, unless you're frequently recycling your application in IIS, very few page requests would benefit from pre-generated views.</span></span>

<span data-ttu-id="d7578-262">Sie können Sichten mit dem Befehlszeilen Tool " *EdmGen. exe* " oder mithilfe einer T4-Vorlage ( *Text Template Transformation Toolkit* ) vorab generieren.</span><span class="sxs-lookup"><span data-stu-id="d7578-262">You can pre-generate views using the *EdmGen.exe* command-line tool or by using a *Text Template Transformation Toolkit* (T4) template.</span></span> <span data-ttu-id="d7578-263">In diesem Tutorial verwenden Sie eine T4-Vorlage.</span><span class="sxs-lookup"><span data-stu-id="d7578-263">In this tutorial you'll use a T4 template.</span></span>

<span data-ttu-id="d7578-264">Fügen Sie im Ordner *dal* eine Datei mithilfe der Vorlage **Text Vorlage** hinzu (Sie befindet sich unter dem Knoten **Allgemein** in der Liste **installierte Vorlagen** ), und nennen Sie Sie *SchoolModel.views.tt*.</span><span class="sxs-lookup"><span data-stu-id="d7578-264">In the *DAL* folder, add a file using the **Text Template** template (it's under the **General** node in the **Installed Templates** list), and name it *SchoolModel.Views.tt*.</span></span> <span data-ttu-id="d7578-265">Ersetzen Sie den vorhandenen Code in der Datei durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="d7578-265">Replace the existing code in the file with the following code:</span></span>

[!code-csharp[Main](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/samples/sample15.cs)]

<span data-ttu-id="d7578-266">Dieser Code generiert Sichten für eine *edmx* -Datei, die sich im selben Ordner wie die Vorlage befindet und denselben Namen wie die Vorlagen Datei hat.</span><span class="sxs-lookup"><span data-stu-id="d7578-266">This code generates views for an *.edmx* file that's located in the same folder as the template and that has the same name as the template file.</span></span> <span data-ttu-id="d7578-267">Wenn die Vorlagen Datei z. b. den Namen " *SchoolModel.views.tt*" hat, sucht Sie nach einer Datenmodell Datei mit dem Namen " *SchoolModel. edmx*".</span><span class="sxs-lookup"><span data-stu-id="d7578-267">For example, if your template file is named *SchoolModel.Views.tt*, it will look for a data model file named *SchoolModel.edmx*.</span></span>

<span data-ttu-id="d7578-268">Speichern Sie die Datei, klicken Sie dann mit der rechten Maustaste auf **Projektmappen-Explorer** , und wählen Sie **benutzerdefiniertes Tool ausführen**aus.</span><span class="sxs-lookup"><span data-stu-id="d7578-268">Save the file, then right-click the file in **Solution Explorer** and select **Run Custom Tool**.</span></span>

<span data-ttu-id="d7578-269">[![Image02](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image26.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-269">[![Image02](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image26.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image25.png)</span></span>

<span data-ttu-id="d7578-270">Visual Studio generiert eine Codedatei, mit der die Ansichten erstellt werden, die basierend auf der Vorlage den Namen *SchoolModel.views.cs* haben.</span><span class="sxs-lookup"><span data-stu-id="d7578-270">Visual Studio generates a code file that creates the views, which is named *SchoolModel.Views.cs* based on the template.</span></span> <span data-ttu-id="d7578-271">(Möglicherweise haben Sie bemerkt, dass die Codedatei generiert wird, bevor Sie **benutzerdefiniertes Tool ausführen**auswählen, sobald Sie die Vorlagen Datei speichern.)</span><span class="sxs-lookup"><span data-stu-id="d7578-271">(You might have noticed that the code file is generated even before you select **Run Custom Tool**, as soon as you save the template file.)</span></span>

<span data-ttu-id="d7578-272">[![Image01](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image28.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="d7578-272">[![Image01](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image28.png)](maximizing-performance-with-the-entity-framework-in-an-asp-net-web-application/_static/image27.png)</span></span>

<span data-ttu-id="d7578-273">Sie können die Anwendung jetzt ausführen und überprüfen, ob Sie wie zuvor funktioniert.</span><span class="sxs-lookup"><span data-stu-id="d7578-273">You can now run the application and verify that it works as it did before.</span></span>

<span data-ttu-id="d7578-274">Weitere Informationen zu vorab generierten Sichten finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="d7578-274">For more information about pre-generated views, see the following resources:</span></span>

- <span data-ttu-id="d7578-275">Gewusst [wie: Vorgenerieren von Ansichten zur Verbesserung der Abfrageleistung](https://msdn.microsoft.com/library/bb896240.aspx) auf der MSDN-Website.</span><span class="sxs-lookup"><span data-stu-id="d7578-275">[How to: Pre-Generate Views to Improve Query Performance](https://msdn.microsoft.com/library/bb896240.aspx) on the MSDN web site.</span></span> <span data-ttu-id="d7578-276">Erläutert die Verwendung des Befehlszeilen Tools `EdmGen.exe`, um Sichten vorab zu generieren.</span><span class="sxs-lookup"><span data-stu-id="d7578-276">Explains how to use the `EdmGen.exe` command-line tool to pre-generate views.</span></span>
- <span data-ttu-id="d7578-277">[Isolieren der Leistung mit vorkompilierten/vordefinierten Sichten in der Entity Framework 4](https://blogs.msdn.com/b/appfabriccat/archive/2010/08/06/isolating-performance-with-precompiled-pre-generated-views-in-the-entity-framework-4.aspx) im Windows Server AppFabric Customer Advisory Team Blog.</span><span class="sxs-lookup"><span data-stu-id="d7578-277">[Isolating Performance with Precompiled/Pre-generated Views in the Entity Framework 4](https://blogs.msdn.com/b/appfabriccat/archive/2010/08/06/isolating-performance-with-precompiled-pre-generated-views-in-the-entity-framework-4.aspx) on the Windows Server AppFabric Customer Advisory Team blog.</span></span>

<span data-ttu-id="d7578-278">Dies schließt die Einführung zur Verbesserung der Leistung in einer ASP.NET-Webanwendung ab, die die Entity Framework verwendet.</span><span class="sxs-lookup"><span data-stu-id="d7578-278">This completes the introduction to improving performance in an ASP.NET web application that uses the Entity Framework.</span></span> <span data-ttu-id="d7578-279">Weitere Informationen finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="d7578-279">For more information, see the following resources:</span></span>

- <span data-ttu-id="d7578-280">Über [Legungen zur Leistung (Entity Framework)](https://msdn.microsoft.com/library/cc853327.aspx) auf der MSDN-Website.</span><span class="sxs-lookup"><span data-stu-id="d7578-280">[Performance Considerations (Entity Framework)](https://msdn.microsoft.com/library/cc853327.aspx) on the MSDN web site.</span></span>
- <span data-ttu-id="d7578-281">[Leistungsbezogene Beiträge im Entity Framework Teamblog](https://blogs.msdn.com/b/adonet/archive/tags/performance/).</span><span class="sxs-lookup"><span data-stu-id="d7578-281">[Performance-related posts on the Entity Framework Team blog](https://blogs.msdn.com/b/adonet/archive/tags/performance/).</span></span>
- <span data-ttu-id="d7578-282">[EF-mergeoptionen und kompilierte Abfragen](https://blogs.msdn.com/b/dsimmons/archive/2010/01/12/ef-merge-options-and-compiled-queries.aspx).</span><span class="sxs-lookup"><span data-stu-id="d7578-282">[EF Merge Options and Compiled Queries](https://blogs.msdn.com/b/dsimmons/archive/2010/01/12/ef-merge-options-and-compiled-queries.aspx).</span></span> <span data-ttu-id="d7578-283">Blog Beitrag, der unerwartetes Verhalten von kompilierten Abfragen und mergeoptionen wie `NoTracking`erläutert.</span><span class="sxs-lookup"><span data-stu-id="d7578-283">Blog post that explains unexpected behaviors of compiled queries and merge options such as `NoTracking`.</span></span> <span data-ttu-id="d7578-284">Wenn Sie beabsichtigen, kompilierte Abfragen zu verwenden oder die Einstellungen für zusammenzustellungsoptionen in Ihrer Anwendung zu bearbeiten, lesen Sie dies zuerst</span><span class="sxs-lookup"><span data-stu-id="d7578-284">If you plan to use compiled queries or manipulate merge option settings in your application, read this first.</span></span>
- <span data-ttu-id="d7578-285">[Entity Framework Beiträge im Blog zum Daten-und Modellierungs Team Blog](https://blogs.msdn.com/b/dmcat/archive/tags/entity+framework/).</span><span class="sxs-lookup"><span data-stu-id="d7578-285">[Entity Framework-related posts in the Data and Modeling Customer Advisory Team blog](https://blogs.msdn.com/b/dmcat/archive/tags/entity+framework/).</span></span> <span data-ttu-id="d7578-286">Enthält Beiträge zu kompilierten Abfragen und verwendet den Visual Studio 2010 Profiler zum Ermitteln von Leistungsproblemen.</span><span class="sxs-lookup"><span data-stu-id="d7578-286">Includes posts on compiled queries and using the Visual Studio 2010 Profiler to discover performance issues.</span></span>
- <span data-ttu-id="d7578-287">[Entity Framework Forums Thread mit Ratschläge zum Verbessern der Leistung von sehr komplexen Abfragen](https://social.msdn.microsoft.com/Forums/adodotnetentityframework/thread/ffe8b2ab-c5b5-4331-8988-33a872d0b5f6).</span><span class="sxs-lookup"><span data-stu-id="d7578-287">[Entity Framework forum thread with advice on improving performance of highly complex queries](https://social.msdn.microsoft.com/Forums/adodotnetentityframework/thread/ffe8b2ab-c5b5-4331-8988-33a872d0b5f6).</span></span>
- <span data-ttu-id="d7578-288">[Empfehlungen zur ASP.net State Management](https://msdn.microsoft.com/library/z1hkazw7.aspx)</span><span class="sxs-lookup"><span data-stu-id="d7578-288">[ASP.NET State Management Recommendations](https://msdn.microsoft.com/library/z1hkazw7.aspx).</span></span>
- <span data-ttu-id="d7578-289">[Verwenden des Entity Framework und der ObjectDataSource: Custom Paging](http://geekswithblogs.net/Frez/articles/using-the-entity-framework-and-the-objectdatasource-custom-paging.aspx).</span><span class="sxs-lookup"><span data-stu-id="d7578-289">[Using the Entity Framework and the ObjectDataSource: Custom Paging](http://geekswithblogs.net/Frez/articles/using-the-entity-framework-and-the-objectdatasource-custom-paging.aspx).</span></span> <span data-ttu-id="d7578-290">Blog Beitrag, der auf der in diesen Tutorials erstellten Anwendung condesouniversity aufbaut und erläutert, wie Paging auf der Seite " *Departments. aspx* " implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="d7578-290">Blog post that builds on the ContosoUniversity application created in these tutorials to explain how to implement paging in the *Departments.aspx* page.</span></span>

<span data-ttu-id="d7578-291">Im nächsten Tutorial werden einige der wichtigen Verbesserungen der in Version 4 neuen Entity Framework überprüft.</span><span class="sxs-lookup"><span data-stu-id="d7578-291">The next tutorial reviews some of the important enhancements to the Entity Framework that are new in version 4.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d7578-292">[Zurück](handling-concurrency-with-the-entity-framework-in-an-asp-net-web-application.md)
> [Weiter](what-s-new-in-the-entity-framework-4.md)</span><span class="sxs-lookup"><span data-stu-id="d7578-292">[Previous](handling-concurrency-with-the-entity-framework-in-an-asp-net-web-application.md)
[Next](what-s-new-in-the-entity-framework-4.md)</span></span>
