---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/displaying-a-custom-error-page-cs
title: Anzeigen einer benutzerdefinierten Fehlerseite (c#) | Microsoft-Dokumentation
author: rick-anderson
description: Was wird dem Benutzer angezeigt, wenn ein Laufzeitfehler in einer ASP.NET-Webanwendung auftritt? Die Antwort hängt davon ab, wie die &lt; customErrors-Konfiguration der Website &gt; ...
ms.author: riande
ms.date: 06/09/2009
ms.assetid: cb061642-faf3-41b2-9372-69e13444d458
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/displaying-a-custom-error-page-cs
msc.type: authoredcontent
ms.openlocfilehash: 777948732690443d63f1fb2afd6f72a33a496c44
ms.sourcegitcommit: 0d583ed9253103f3e50b6d729276e667591cdd41
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/09/2020
ms.locfileid: "86211057"
---
# <a name="displaying-a-custom-error-page-c"></a><span data-ttu-id="54b8c-104">Anzeigen einer benutzerdefinierten Fehlerseite (C#)</span><span class="sxs-lookup"><span data-stu-id="54b8c-104">Displaying a Custom Error Page (C#)</span></span>

<span data-ttu-id="54b8c-105">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="54b8c-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="54b8c-106">[Code herunterladen](https://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_11_CS.zip) oder [PDF herunterladen](https://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial11_CustomErrors_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="54b8c-106">[Download Code](https://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_11_CS.zip) or [Download PDF](https://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial11_CustomErrors_cs.pdf)</span></span>

> <span data-ttu-id="54b8c-107">Was wird dem Benutzer angezeigt, wenn ein Laufzeitfehler in einer ASP.NET-Webanwendung auftritt?</span><span class="sxs-lookup"><span data-stu-id="54b8c-107">What does the user see when a runtime error occurs in an ASP.NET web application?</span></span> <span data-ttu-id="54b8c-108">Die Antwort hängt davon ab, wie die &lt; customErrors-Konfiguration der Website &gt; .</span><span class="sxs-lookup"><span data-stu-id="54b8c-108">The answer depends on how the website's &lt;customErrors&gt; configuration.</span></span> <span data-ttu-id="54b8c-109">Standardmäßig wird Benutzern ein unansehnlicher gelber Bildschirm angezeigt, der einen Laufzeitfehler verkündet.</span><span class="sxs-lookup"><span data-stu-id="54b8c-109">By default, users are shown an unsightly yellow screen proclaiming that a runtime error has occurred.</span></span> <span data-ttu-id="54b8c-110">In diesem Tutorial wird gezeigt, wie Sie diese Einstellungen anpassen, um eine ästhetisch ansprechende benutzerdefinierte Fehlerseite anzuzeigen, die dem Aussehen und Erscheinungsbild Ihrer Website entspricht.</span><span class="sxs-lookup"><span data-stu-id="54b8c-110">This tutorial shows how to customize these settings to display an aesthetically-pleasing custom error page that matches your site's look and feel.</span></span>

## <a name="introduction"></a><span data-ttu-id="54b8c-111">Einführung</span><span class="sxs-lookup"><span data-stu-id="54b8c-111">Introduction</span></span>

<span data-ttu-id="54b8c-112">In einer perfekten Welt gibt es keine Laufzeitfehler.</span><span class="sxs-lookup"><span data-stu-id="54b8c-112">In a perfect world there would be no run-time errors.</span></span> <span data-ttu-id="54b8c-113">Programmierer würden Code mit nary-Fehlern und mit stabiler Benutzereingabe Validierung schreiben, und externe Ressourcen wie Datenbankserver und e-Mail-Server würden niemals offline geschaltet werden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-113">Programmers would write code with nary a bug and with robust user input validation, and external resources like database servers and email servers would never go offline.</span></span> <span data-ttu-id="54b8c-114">Natürlich sind Fehler in der Realität unvermeidlich.</span><span class="sxs-lookup"><span data-stu-id="54b8c-114">Of course, in reality errors are inevitable.</span></span> <span data-ttu-id="54b8c-115">Die Klassen im .NET Framework signalisieren einen Fehler, indem eine Ausnahme ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-115">The classes in the .NET Framework signal an error by throwing an exception.</span></span> <span data-ttu-id="54b8c-116">Wenn Sie z. b. die Open-Methode eines SqlConnection-Objekts aufrufen, wird eine Verbindung mit der durch eine Verbindungs Zeichenfolge angegebenen Datenbank hergestellt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-116">For example, calling a SqlConnection object's Open method establishes a connection to the database specified by a connection string.</span></span> <span data-ttu-id="54b8c-117">Wenn die Datenbank jedoch nicht herunter ist oder die Anmelde Informationen in der Verbindungs Zeichenfolge ungültig sind, löst die Open-Methode eine aus `SqlException` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-117">However, if the database is down or if the credentials in the connection string are invalid then the Open method throws a `SqlException`.</span></span> <span data-ttu-id="54b8c-118">Ausnahmen können durch die Verwendung von-Blöcken behandelt werden `try/catch/finally` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-118">Exceptions can be handled by the use of `try/catch/finally` blocks.</span></span> <span data-ttu-id="54b8c-119">Wenn Code in einem- `try` Block eine Ausnahme auslöst, wird die Steuerung an den entsprechenden catch-Block übertragen, in dem der Entwickler versuchen kann, den Fehler zu beheben.</span><span class="sxs-lookup"><span data-stu-id="54b8c-119">If code within a `try` block throws an exception, control is transferred to the appropriate catch block where the developer can attempt to recover from the error.</span></span> <span data-ttu-id="54b8c-120">Wenn kein entsprechender catch-Block vorhanden ist, oder wenn sich der Code, der die Ausnahme ausgelöst hat, nicht in einem try-Block befindet, durchläuft die Ausnahme die Aufrufliste bei der Suche nach `try/catch/finally` Blöcken.</span><span class="sxs-lookup"><span data-stu-id="54b8c-120">If there is no matching catch block, or if the code that threw the exception is not in a try block, the exception percolates up the call stack in search of `try/catch/finally` blocks.</span></span>

<span data-ttu-id="54b8c-121">Wenn die Ausnahme bis zum ASP.net-Lauf Zeit Modul ohne Behandlung der Ausnahme erfolgt, wird das- [ `Error` Ereignis](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx) der- [ `HttpApplication` Klasse](https://msdn.microsoft.com/library/system.web.httpapplication.aspx)ausgelöst, und die konfigurierte *Fehlerseite* wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-121">If the exception bubbles all the way up to the ASP.NET runtime without being handled, the [`HttpApplication` class](https://msdn.microsoft.com/library/system.web.httpapplication.aspx)'s [`Error` event](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx) is raised and the configured *error page* is displayed.</span></span> <span data-ttu-id="54b8c-122">Standardmäßig wird in ASP.net eine Fehlerseite angezeigt, die als [gelber Bildschirm für Tod](http://en.wikipedia.org/wiki/Yellow_Screen_of_Death#Yellow) (Ysod) bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-122">By default, ASP.NET displays an error page that is affectionately referred to as the [Yellow Screen of Death](http://en.wikipedia.org/wiki/Yellow_Screen_of_Death#Yellow) (YSOD).</span></span> <span data-ttu-id="54b8c-123">Es gibt zwei Versionen von Ysod: eine zeigt die Ausnahme Details, eine Stapel Überwachung und weitere Informationen, die für Entwickler hilfreich sind, die die Anwendung Debuggen (siehe **Abbildung 1**). der andere gibt einfach an, dass ein Laufzeitfehler aufgetreten ist (siehe **Abbildung 2**).</span><span class="sxs-lookup"><span data-stu-id="54b8c-123">There are two versions of the YSOD: one shows the exception details, a stack trace, and other information helpful to developers debugging the application (see **Figure 1**); the other simply states that there was a run-time error (see **Figure 2**).</span></span>

<span data-ttu-id="54b8c-124">Die Ausnahme Details Ysod ist für Entwickler, die die Anwendung debuggen, sehr hilfreich, aber das Anzeigen von Ysod für Endbenutzer ist bedienen und Unprofessional.</span><span class="sxs-lookup"><span data-stu-id="54b8c-124">The exception details YSOD is quite helpful for developers debugging the application, but showing a YSOD to end users is tacky and unprofessional.</span></span> <span data-ttu-id="54b8c-125">Stattdessen sollten Endbenutzer auf eine Fehlerseite gelangen, auf der das Aussehen und das Erscheinungsbild der Website verwaltet werden, mit der benutzerfreundlichen Prosa, in der die Situation beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-125">Instead, end users should be taken to an error page that maintains the site's look and feel with more user-friendly prose describing the situation.</span></span> <span data-ttu-id="54b8c-126">Die gute Nachricht ist, dass das Erstellen einer benutzerdefinierten Fehlerseite recht einfach ist.</span><span class="sxs-lookup"><span data-stu-id="54b8c-126">The good news is that creating such a custom error page is quite easy.</span></span> <span data-ttu-id="54b8c-127">Dieses Tutorial beginnt mit einem Blick auf ASP. Die unterschiedlichen Fehlerseiten von net.</span><span class="sxs-lookup"><span data-stu-id="54b8c-127">This tutorial starts with a look at ASP.NET's different error pages.</span></span> <span data-ttu-id="54b8c-128">Anschließend wird gezeigt, wie Sie die Webanwendung so konfigurieren, dass Benutzer eine benutzerdefinierte Fehlerseite bei einem Fehler anzeigt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-128">It then shows how to configure the web application to show users a custom error page in the face of an error.</span></span>

### <a name="examining-the-three-types-of-error-pages"></a><span data-ttu-id="54b8c-129">Untersuchen der drei Typen von Fehlerseiten</span><span class="sxs-lookup"><span data-stu-id="54b8c-129">Examining the Three Types of Error Pages</span></span>

<span data-ttu-id="54b8c-130">Wenn in einer ASP.NET-Anwendung eine nicht behandelte Ausnahme auftritt, wird einer der folgenden drei Arten von Fehlerseiten angezeigt:</span><span class="sxs-lookup"><span data-stu-id="54b8c-130">When an unhandled exception arises in an ASP.NET application one of three types of error pages is displayed:</span></span>

- <span data-ttu-id="54b8c-131">Auf der Seite mit der Ausnahme Details (gelber Bildschirm von Fehlerseite)</span><span class="sxs-lookup"><span data-stu-id="54b8c-131">The Exception Details Yellow Screen of Death error page,</span></span>
- <span data-ttu-id="54b8c-132">Der gelbe Bildschirm "Laufzeitfehler" der Fehlerseite "Tod" oder</span><span class="sxs-lookup"><span data-stu-id="54b8c-132">The Runtime Error Yellow Screen of Death error page, or</span></span>
- <span data-ttu-id="54b8c-133">Eine benutzerdefinierte Fehlerseite</span><span class="sxs-lookup"><span data-stu-id="54b8c-133">A custom error page</span></span>

<span data-ttu-id="54b8c-134">Die Fehlerseite, die Entwicklern am häufigsten bekannt ist, ist die Ausnahme Details Ysod.</span><span class="sxs-lookup"><span data-stu-id="54b8c-134">The error page developers are most familiar with is the Exception Details YSOD.</span></span> <span data-ttu-id="54b8c-135">Standardmäßig wird diese Seite für Benutzer angezeigt, die lokal besuchen. Daher ist dies die Seite, die angezeigt wird, wenn beim Testen der Website in der Entwicklungsumgebung ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-135">By default, this page is displayed to users who are visiting locally and therefore is the page that you see when an error occurs when testing the site in the development environment.</span></span> <span data-ttu-id="54b8c-136">Wie der Name schon sagt, enthält die Ausnahme Details Ysod Details zur Ausnahme, den Typ, die Meldung und die Stapel Überwachung.</span><span class="sxs-lookup"><span data-stu-id="54b8c-136">As its name implies, the Exception Details YSOD provides details about the exception - the type, the message, and the stack trace.</span></span> <span data-ttu-id="54b8c-137">Wenn die Ausnahme durch Code in der Code Behind-Klasse der ASP.NET-Seite ausgelöst wurde und die Anwendung für das Debuggen konfiguriert ist, wird in der Ausnahme Details Ysod ebenfalls diese Codezeile (und einige Codezeilen oberhalb und darunter) angezeigt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-137">What's more, if the exception was raised by code in your ASP.NET page's code-behind class and if the application is configured for debugging then the Exception Details YSOD will also show this line of code (and a few lines of code above and below it).</span></span>

<span data-ttu-id="54b8c-138">**Abbildung 1** zeigt die Seite mit Ausnahme Details Ysod.</span><span class="sxs-lookup"><span data-stu-id="54b8c-138">**Figure 1** shows the Exception Details YSOD page.</span></span> <span data-ttu-id="54b8c-139">Notieren Sie sich die URL im Adress Fenster des Browsers: `http://localhost:62275/Genre.aspx?ID=foo` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-139">Note the URL in the browser's address window: `http://localhost:62275/Genre.aspx?ID=foo`.</span></span> <span data-ttu-id="54b8c-140">Denken Sie daran, dass die `Genre.aspx` Seite die Buch Reviews in einem bestimmten Genre auflistet.</span><span class="sxs-lookup"><span data-stu-id="54b8c-140">Recall that the `Genre.aspx` page lists the book reviews in a particular genre.</span></span> <span data-ttu-id="54b8c-141">Hierfür ist es erforderlich, dass `GenreId` der Wert (a `uniqueidentifier` ) durch die Abfrage Zeichenfolge übermittelt wird, z. b. die entsprechende URL zum Anzeigen der Überprüfung der Fiktion `Genre.aspx?ID=7683ab5d-4589-4f03-a139-1c26044d0146` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-141">It requires that `GenreId` value (a `uniqueidentifier`) be passed through the querystring; for example, the appropriate URL to view the fiction reviews is `Genre.aspx?ID=7683ab5d-4589-4f03-a139-1c26044d0146`.</span></span> <span data-ttu-id="54b8c-142">Wenn ein nicht- `uniqueidentifier` Wert durch die QueryString (z. b. "foo") übermittelt wird, wird eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="54b8c-142">If a non-`uniqueidentifier` value is passed in through the querystring (such as "foo") an exception is thrown.</span></span>

> [!NOTE]
> <span data-ttu-id="54b8c-143">Zum Reproduzieren dieses Fehlers in der für den Download verfügbaren demowebanwendung können Sie entweder `Genre.aspx?ID=foo` direkt besuchen oder auf den Link "Laufzeitfehler generieren" in klicken `Default.aspx` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-143">To reproduce this error in the demo web application available for download you can either visit `Genre.aspx?ID=foo` directly or click the "Generate a Runtime Error" link in `Default.aspx`.</span></span>

<span data-ttu-id="54b8c-144">Beachten Sie die in **Abbildung 1**dargestellten Ausnahme Informationen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-144">Note the exception information presented in **Figure 1**.</span></span> <span data-ttu-id="54b8c-145">Die Ausnahme Meldung "Fehler bei der Konvertierung bei der Konvertierung von einer Zeichenfolge in uniqueidentifier" oben auf der Seite.</span><span class="sxs-lookup"><span data-stu-id="54b8c-145">The exception message, "Conversion failed when converting from a character string to uniqueidentifier" is present at the top of the page.</span></span> <span data-ttu-id="54b8c-146">Der Typ der Ausnahme, `System.Data.SqlClient.SqlException` , wird ebenfalls aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="54b8c-146">The type of the exception, `System.Data.SqlClient.SqlException`, is listed, as well.</span></span> <span data-ttu-id="54b8c-147">Außerdem gibt es die Stapel Überwachung.</span><span class="sxs-lookup"><span data-stu-id="54b8c-147">There's also the stack trace.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image2.png)](displaying-a-custom-error-page-cs/_static/image1.png)

<span data-ttu-id="54b8c-148">**Abbildung 1**: die Ausnahme Details Ysod enthält Informationen zur Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="54b8c-148">**Figure 1**: The Exception Details YSOD Includes Information About the Exception</span></span>  
 <span data-ttu-id="54b8c-149">([Klicken Sie, um das Bild in voller Größe anzuzeigen](displaying-a-custom-error-page-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="54b8c-149">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image3.png))</span></span>

<span data-ttu-id="54b8c-150">Der andere Typ von Ysod ist der Laufzeitfehler Ysod und ist in **Abbildung 2**dargestellt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-150">The other type of YSOD is the Runtime Error YSOD, and is shown in **Figure 2**.</span></span> <span data-ttu-id="54b8c-151">Der Laufzeitfehler Ysod informiert den Besucher, dass ein Laufzeitfehler aufgetreten ist, enthält jedoch keine Informationen über die ausgelöste Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="54b8c-151">The Runtime Error YSOD informs the visitor that a run-time error has occurred, but it does not include any information about the exception that was thrown.</span></span> <span data-ttu-id="54b8c-152">(Es wird jedoch beschrieben, wie Sie die Fehlerdetails anzeigen können, indem Sie die `Web.config` Datei ändern. Dies ist ein Bestandteil der Art, in der ein solcher Ysod-Wert unprofessionell aussieht.)</span><span class="sxs-lookup"><span data-stu-id="54b8c-152">(It does, however, provide instructions on how to make the error details viewable by modifying the `Web.config` file, which is part of what makes such a YSOD look unprofessional.)</span></span>

<span data-ttu-id="54b8c-153">Standardmäßig wird der Laufzeitfehler Ysod für Benutzer angezeigt, die Remote aufrufen (über http://www.yoursite.com) , wie von der URL in der Adressleiste des Browsers in **Abbildung 2**dargestellt) `http://httpruntime.web703.discountasp.net/Genre.aspx?ID=foo` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-153">By default, the Runtime Error YSOD is shown to users visiting remotely (through http://www.yoursite.com), as evidenced by the URL in the browser's Address bar in **Figure 2**: `http://httpruntime.web703.discountasp.net/Genre.aspx?ID=foo`.</span></span> <span data-ttu-id="54b8c-154">Die beiden unterschiedlichen Ysod-Bildschirme sind vorhanden, da Entwickler an der Kenntnis der Fehlerdetails interessiert sind. diese Informationen sollten jedoch auf einer Live Website nicht angezeigt werden, da Sie möglicherweise potenzielle Sicherheitsrisiken oder andere vertrauliche Informationen für alle Benutzer, die Ihre Website besuchen, offenlegen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-154">The two different YSOD screens exist because developers are interested in knowing the error details, but such information should not be shown on a live site as it may reveal potential security vulnerabilities or other sensitive information to anyone who visits your site.</span></span>

> [!NOTE]
> <span data-ttu-id="54b8c-155">Wenn Sie das befolgen und DiscountASP.net als Webhost verwenden, bemerken Sie möglicherweise, dass der Laufzeitfehler Ysod beim Besuch der Live Website nicht angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-155">If you are following along and are using DiscountASP.NET as your web host, you may notice that the Runtime Error YSOD does not display when visiting the live site.</span></span> <span data-ttu-id="54b8c-156">Dies liegt daran, dass DiscountASP.net Ihre Server so konfiguriert hat, dass die Ausnahme Details Ysod standardmäßig angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-156">This is because DiscountASP.NET has their servers configured to show the Exception Details YSOD by default.</span></span> <span data-ttu-id="54b8c-157">Die gute Nachricht ist, dass Sie dieses Standardverhalten außer Kraft setzen können, indem Sie der Datei einen-Abschnitt hinzufügen `<customErrors>` `Web.config` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-157">The good news is that you can override this default behavior by adding a `<customErrors>` section to your `Web.config` file.</span></span> <span data-ttu-id="54b8c-158">Im Abschnitt "Konfigurieren der angezeigten Fehlerseite" wird der `<customErrors>` Abschnitt ausführlich erläutert.</span><span class="sxs-lookup"><span data-stu-id="54b8c-158">The "Configuring Which Error Page is Displayed" section examines the `<customErrors>` section in detail.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image5.png)](displaying-a-custom-error-page-cs/_static/image4.png)

<span data-ttu-id="54b8c-159">**Abbildung 2**: der Laufzeitfehler "Ysod" enthält keine Fehler Details.</span><span class="sxs-lookup"><span data-stu-id="54b8c-159">**Figure 2**: The Runtime Error YSOD Does Not Include Any Error Details</span></span>  
 <span data-ttu-id="54b8c-160">([Klicken Sie, um das Bild in voller Größe anzuzeigen](displaying-a-custom-error-page-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="54b8c-160">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image6.png))</span></span>

<span data-ttu-id="54b8c-161">Die dritte Fehlerseite ist die benutzerdefinierte Fehlerseite, die eine von Ihnen erstellte Webseite ist.</span><span class="sxs-lookup"><span data-stu-id="54b8c-161">The third type of error page is the custom error page, which is a web page that you create.</span></span> <span data-ttu-id="54b8c-162">Der Vorteil einer benutzerdefinierten Fehlerseite besteht darin, dass Sie über die gesamte Kontrolle über die Informationen verfügen, die dem Benutzer zusammen mit dem Aussehen und Gefühl der Seite angezeigt werden. die benutzerdefinierte Fehlerseite kann dieselbe Master Seite und dieselben Stile wie Ihre anderen Seiten verwenden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-162">The benefit of a custom error page is that you have complete control over the information that is displayed to the user along with the page's look and feel; the custom error page can use the same master page and styles as your other pages.</span></span> <span data-ttu-id="54b8c-163">Der Abschnitt "Verwenden einer benutzerdefinierten Fehlerseite" führt Sie durch das Erstellen einer benutzerdefinierten Fehlerseite und deren Konfiguration für die Anzeige im Fall einer nicht behandelten Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="54b8c-163">The "Using a Custom Error Page" section walks through creating a custom error page and configuring it to display in the event of an unhandled exception.</span></span> <span data-ttu-id="54b8c-164">**Abbildung 3** bietet einen kurzen Spitzenwert für diese benutzerdefinierte Fehlerseite.</span><span class="sxs-lookup"><span data-stu-id="54b8c-164">**Figure 3** offers a sneak peak of this custom error page.</span></span> <span data-ttu-id="54b8c-165">Wie Sie sehen können, ist das Aussehen und das Gefühl der Fehlerseite weitaus professioneller als der in den Abbildungen 1 und 2 gezeigte gelbe Bildschirm.</span><span class="sxs-lookup"><span data-stu-id="54b8c-165">As you can see, the look and feel of the error page is much more professional-looking than either of the Yellow Screens of Death shown in Figures 1 and 2.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image8.png)](displaying-a-custom-error-page-cs/_static/image7.png)

<span data-ttu-id="54b8c-166">**Abbildung 3**: eine benutzerdefinierte Fehlerseite bietet ein individuanpasstes Aussehen und Gefühl</span><span class="sxs-lookup"><span data-stu-id="54b8c-166">**Figure 3**: A Custom Error Page Offers a More Tailored Look and Feel</span></span>  
 <span data-ttu-id="54b8c-167">([Klicken Sie, um das Bild in voller Größe anzuzeigen](displaying-a-custom-error-page-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="54b8c-167">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image9.png))</span></span>

<span data-ttu-id="54b8c-168">Nehmen Sie sich einen Moment Zeit, um die Adressleiste des Browsers in **Abbildung 3**zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-168">Take a moment to inspect the browser's Address bar in **Figure 3**.</span></span> <span data-ttu-id="54b8c-169">Beachten Sie, dass in der Adressleiste die URL der benutzerdefinierten Fehlerseite () angezeigt wird `/ErrorPages/Oops.aspx` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-169">Note that the Address bar shows the URL of the custom error page (`/ErrorPages/Oops.aspx`).</span></span> <span data-ttu-id="54b8c-170">In den Abbildungen 1 und 2 werden die gelben Bildschirme auf derselben Seite angezeigt, von der der Fehler stammt ( `Genre.aspx` ).</span><span class="sxs-lookup"><span data-stu-id="54b8c-170">In Figures 1 and 2 the Yellow Screens of Death are shown in the same page that the error originated from (`Genre.aspx`).</span></span> <span data-ttu-id="54b8c-171">Der benutzerdefinierten Fehlerseite wird die URL der Seite übergeben, auf der der Fehler über den `aspxerrorpath` Parameter QueryString aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="54b8c-171">The custom error page is passed the URL of the page where the error occurred via the `aspxerrorpath` querystring parameter.</span></span>

## <a name="configuring-which-error-page-is-displayed"></a><span data-ttu-id="54b8c-172">Konfigurieren der angezeigten Fehlerseite</span><span class="sxs-lookup"><span data-stu-id="54b8c-172">Configuring Which Error Page is Displayed</span></span>

<span data-ttu-id="54b8c-173">Welche der drei möglichen Fehlerseiten angezeigt wird, basiert auf zwei Variablen:</span><span class="sxs-lookup"><span data-stu-id="54b8c-173">Which of the three possible error pages is displayed is based on two variables:</span></span>

- <span data-ttu-id="54b8c-174">Die Konfigurationsinformationen im `<customErrors>` Abschnitt und</span><span class="sxs-lookup"><span data-stu-id="54b8c-174">The configuration information in the `<customErrors>` section, and</span></span>
- <span data-ttu-id="54b8c-175">Gibt an, ob der Benutzer die Website lokal oder Remote besucht.</span><span class="sxs-lookup"><span data-stu-id="54b8c-175">Whether the user is visiting the site locally or remotely.</span></span>

<span data-ttu-id="54b8c-176">Der- [ `<customErrors>` Abschnitt](https://msdn.microsoft.com/library/h0hfz6fc.aspx) in `Web.config` verfügt über zwei Attribute, die sich darauf auswirken, welche Fehlerseite angezeigt wird: `defaultRedirect` und `mode` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-176">The [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx) in `Web.config` has two attributes that affect what error page is shown: `defaultRedirect` and `mode`.</span></span> <span data-ttu-id="54b8c-177">Das `defaultRedirect`-Attribut ist optional.</span><span class="sxs-lookup"><span data-stu-id="54b8c-177">The `defaultRedirect` attribute is optional.</span></span> <span data-ttu-id="54b8c-178">Wenn angegeben, wird die URL der benutzerdefinierten Fehlerseite angegeben, und es wird angegeben, dass die benutzerdefinierte Fehlerseite anstelle der Lauf Zeit Fehler-Ysod angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="54b8c-178">If provided, it specifies the URL of the custom error page and indicates that the custom error page should be shown instead of the Runtime Error YSOD.</span></span> <span data-ttu-id="54b8c-179">Das `mode` -Attribut ist erforderlich und akzeptiert einen von drei Werten: `On` , `Off` oder `RemoteOnly` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-179">The `mode` attribute is required and accepts one of three values: `On`, `Off`, or `RemoteOnly`.</span></span> <span data-ttu-id="54b8c-180">Diese Werte weisen folgendes Verhalten auf:</span><span class="sxs-lookup"><span data-stu-id="54b8c-180">These values have the following behavior:</span></span>

- <span data-ttu-id="54b8c-181">`On`: gibt an, dass die benutzerdefinierte Fehlerseite oder der Laufzeitfehler Ysod für alle Besucher angezeigt wird, unabhängig davon, ob Sie lokal oder Remote sind.</span><span class="sxs-lookup"><span data-stu-id="54b8c-181">`On` - indicates that the custom error page or the Runtime Error YSOD is shown to all visitors, regardless of whether they are local or remote.</span></span>
- <span data-ttu-id="54b8c-182">`Off`: gibt an, dass die Ausnahme Details Ysod für alle Besucher angezeigt werden, unabhängig davon, ob Sie lokal oder Remote sind.</span><span class="sxs-lookup"><span data-stu-id="54b8c-182">`Off` - specifies that the Exception Details YSOD is displayed to all visitors, regardless of whether they are local or remote.</span></span>
- <span data-ttu-id="54b8c-183">`RemoteOnly`: gibt an, dass die benutzerdefinierte Fehlerseite oder der Laufzeitfehler Ysod für Remote Besucher angezeigt wird, während die Ausnahme Details Ysod für die lokalen Besucher angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-183">`RemoteOnly` - indicates that the custom error page or the Runtime Error YSOD is shown to remote visitors, while the Exception Details YSOD is shown to local visitors.</span></span>

<span data-ttu-id="54b8c-184">Wenn Sie nicht anders angeben, verhält sich ASP.net so, als hätten Sie das Mode-Attribut auf festgelegt `RemoteOnly` und keinen `defaultRedirect` Wert angegeben.</span><span class="sxs-lookup"><span data-stu-id="54b8c-184">Unless you specify otherwise, ASP.NET acts as if you had set the mode attribute to `RemoteOnly` and had not specified a `defaultRedirect` value.</span></span> <span data-ttu-id="54b8c-185">Anders ausgedrückt bedeutet das Standardverhalten, dass die Ausnahme Details Ysod für lokale Besucher angezeigt werden, während der Laufzeitfehler Ysod für Remote Besucher angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-185">In other words, the default behavior is that the Exception Details YSOD is displayed to local visitors while the Runtime Error YSOD is shown to remote visitors.</span></span> <span data-ttu-id="54b8c-186">Sie können dieses Standardverhalten überschreiben, indem Sie einen `<customErrors>` Abschnitt zu Ihrer Webanwendung hinzufügen.`Web.config file.`</span><span class="sxs-lookup"><span data-stu-id="54b8c-186">You can override this default behavior by adding a `<customErrors>` section to your web application's `Web.config file.`</span></span>

## <a name="using-a-custom-error-page"></a><span data-ttu-id="54b8c-187">Verwenden einer benutzerdefinierten Fehlerseite</span><span class="sxs-lookup"><span data-stu-id="54b8c-187">Using a Custom Error Page</span></span>

<span data-ttu-id="54b8c-188">Jede Webanwendung sollte über eine benutzerdefinierte Fehlerseite verfügen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-188">Every web application should have a custom error page.</span></span> <span data-ttu-id="54b8c-189">Es bietet eine sicherere Alternative zum Lauf Zeit Fehler Ysod, es ist einfach zu erstellen, und das Konfigurieren der Anwendung für die Verwendung der benutzerdefinierten Fehlerseite nimmt nur einige Zeit in Anspruch.</span><span class="sxs-lookup"><span data-stu-id="54b8c-189">It provides a more professional-looking alternative to the Runtime Error YSOD, it is easy to create, and configuring the application to use the custom error page takes only a few moments.</span></span> <span data-ttu-id="54b8c-190">Der erste Schritt besteht darin, die benutzerdefinierte Fehlerseite zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-190">The first step is creating the custom error page.</span></span> <span data-ttu-id="54b8c-191">Ich habe der Anwendung "Book Reviews" einen neuen Ordner namens hinzugefügt `ErrorPages` und dieser eine neue ASP.NET-Seite mit dem Namen hinzugefügt `Oops.aspx` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-191">I've added a new folder to the Book Reviews application named `ErrorPages` and added to that a new ASP.NET page named `Oops.aspx`.</span></span> <span data-ttu-id="54b8c-192">Lassen Sie die Seite dieselbe Master Seite wie die übrigen Seiten auf Ihrer Website verwenden, damit Sie automatisch dasselbe Aussehen und Gefühl erbt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-192">Have the page use the same master page as the rest of the pages on your site so that it automatically inherits the same look and feel.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image11.png)](displaying-a-custom-error-page-cs/_static/image10.png)

<span data-ttu-id="54b8c-193">**Abbildung 4**: Erstellen einer benutzerdefinierten Fehlerseite</span><span class="sxs-lookup"><span data-stu-id="54b8c-193">**Figure 4**: Create a Custom Error Page</span></span>

<span data-ttu-id="54b8c-194">Geben Sie als nächstes einige Minuten ein, um den Inhalt für die Fehlerseite zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-194">Next, spend a few minutes creating the content for the error page.</span></span> <span data-ttu-id="54b8c-195">Ich habe eine ziemlich einfache benutzerdefinierte Fehlerseite erstellt und eine Meldung mit dem Hinweis angezeigt, dass ein unerwarteter Fehler aufgetreten ist, und ein Link zurück zur Homepage der Site.</span><span class="sxs-lookup"><span data-stu-id="54b8c-195">I've created a rather simple custom error page with a message indicating that there was an unexpected error and a link back to the site's homepage.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image13.png)](displaying-a-custom-error-page-cs/_static/image12.png)

<span data-ttu-id="54b8c-196">**Abbildung 5**: Entwerfen der benutzerdefinierten Fehlerseite</span><span class="sxs-lookup"><span data-stu-id="54b8c-196">**Figure 5**: Design Your Custom Error Page</span></span>  
 <span data-ttu-id="54b8c-197">([Klicken Sie, um das Bild in voller Größe anzuzeigen](displaying-a-custom-error-page-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="54b8c-197">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image14.png))</span></span>

<span data-ttu-id="54b8c-198">Wenn die Fehlerseite abgeschlossen ist, konfigurieren Sie die Webanwendung so, dass die benutzerdefinierte Fehlerseite anstelle der Lauf Zeit Fehler-Ysod verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-198">With the error page completed, configure the web application to use the custom error page in lieu of the Runtime Error YSOD.</span></span> <span data-ttu-id="54b8c-199">Dies wird erreicht, indem die URL der Fehlerseite im `<customErrors>` -Attribut des Abschnitts angegeben wird `defaultRedirect` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-199">This is accomplished by specifying the URL of the error page in the `<customErrors>` section's `defaultRedirect` attribute.</span></span> <span data-ttu-id="54b8c-200">Fügen Sie der Datei Ihrer Anwendung das folgende Markup hinzu `Web.config` :</span><span class="sxs-lookup"><span data-stu-id="54b8c-200">Add the following markup to your application's `Web.config` file:</span></span>

[!code-xml[Main](displaying-a-custom-error-page-cs/samples/sample1.xml)]

<span data-ttu-id="54b8c-201">Das obige Markup konfiguriert die Anwendung so, dass die Ausnahme Details Ysod für Benutzer angezeigt werden, die lokal besuchen, während die benutzerdefinierte Fehlerseite oops. aspx für die Benutzer verwendet wird, die Remote besuchen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-201">The above markup configures the application to show the Exception Details YSOD to users visiting locally, while using the custom error page Oops.aspx for those users visiting remotely.</span></span> <span data-ttu-id="54b8c-202">Um dies in Aktion zu sehen, stellen Sie Ihre Website in der Produktionsumgebung bereit, und besuchen Sie dann die Seite Genre. aspx auf der Live Website mit einem ungültigen QueryString-Wert.</span><span class="sxs-lookup"><span data-stu-id="54b8c-202">To see this in action, deploy your website to the production environment and then visit the Genre.aspx page on the live site with an invalid querystring value.</span></span> <span data-ttu-id="54b8c-203">Die benutzerdefinierte Fehlerseite sollte angezeigt werden (siehe **Abbildung 3**).</span><span class="sxs-lookup"><span data-stu-id="54b8c-203">You should see the custom error page (refer back to **Figure 3**).</span></span>

<span data-ttu-id="54b8c-204">Um zu überprüfen, ob die benutzerdefinierte Fehlerseite nur Remote Benutzern angezeigt wird, besuchen Sie die `Genre.aspx` Seite mit einer ungültigen Abfrage Zeichenfolge aus der Entwicklungsumgebung.</span><span class="sxs-lookup"><span data-stu-id="54b8c-204">To verify that the custom error page is only shown to remote users, visit the `Genre.aspx` page with an invalid querystring from the development environment.</span></span> <span data-ttu-id="54b8c-205">Es sollte weiterhin die Ausnahme Details Ysod angezeigt werden (siehe **Abbildung 1**).</span><span class="sxs-lookup"><span data-stu-id="54b8c-205">You should still see the Exception Details YSOD (refer back to **Figure 1**).</span></span> <span data-ttu-id="54b8c-206">Mit `RemoteOnly` dieser Einstellung wird sichergestellt, dass Benutzer, die die Website in der Produktionsumgebung besuchen, die benutzerdefinierte Fehlerseite sehen, während Entwickler, die lokal arbeiten, weiterhin die Details der Ausnahme sehen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-206">The `RemoteOnly` setting ensures that users visiting the site on the production environment see the custom error page while developers working locally continue to see the details of the exception.</span></span>

## <a name="notifying-developers-and-logging-error-details"></a><span data-ttu-id="54b8c-207">Benachrichtigen von Entwicklern und Protokollieren von Fehler Details</span><span class="sxs-lookup"><span data-stu-id="54b8c-207">Notifying Developers and Logging Error Details</span></span>

<span data-ttu-id="54b8c-208">Fehler, die in der Entwicklungsumgebung auftreten, sind darauf zurückzuführen, dass sich der Entwickler auf dem Computer befindet.</span><span class="sxs-lookup"><span data-stu-id="54b8c-208">Errors that occur in the development environment were caused by the developer sitting at her computer.</span></span> <span data-ttu-id="54b8c-209">Ihnen werden die Informationen der Ausnahme in der Ausnahme Details Ysod angezeigt, und Sie weiß, welche Schritte Sie ausgeführt haben, als der Fehler aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="54b8c-209">She is shown the exception's information in the Exception Details YSOD, and she knows what steps she was performing when the error occurred.</span></span> <span data-ttu-id="54b8c-210">Wenn bei der Produktion jedoch ein Fehler auftritt, hat der Entwickler nicht wissen, dass ein Fehler aufgetreten ist, es sei denn, der Endbenutzer, der die Website besucht, benötigt die Zeit, den Fehler zu melden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-210">But when an error occurs on production, the developer has no knowledge that an error occurred unless the end user visiting the site takes the time to report the error.</span></span> <span data-ttu-id="54b8c-211">Und selbst wenn der Benutzer seine Möglichkeit verlässt, das Entwicklungsteam darauf aufmerksam zu machen, dass ein Fehler aufgetreten ist, ohne den Ausnahmetyp, die Nachricht und die Stapel Überwachung zu kennen, kann es schwierig sein, die Ursache des Fehlers zu diagnostizieren.</span><span class="sxs-lookup"><span data-stu-id="54b8c-211">And even if the user goes out of his way to alert the development team that an error occurred, without knowing the exception type, message, and stack trace it can be difficult to diagnose the cause of the error, let alone fix it.</span></span>

<span data-ttu-id="54b8c-212">Aus diesen Gründen ist es wichtig, dass alle Fehler in der Produktionsumgebung in einem permanenten Speicher (z. b. einer Datenbank) protokolliert werden und dass die Entwickler über diesen Fehler benachrichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-212">For these reasons it is paramount that any error in the production environment is logged to some persistent store (such as a database) and that the developers are alerted of this error.</span></span> <span data-ttu-id="54b8c-213">Die benutzerdefinierte Fehlerseite mag ein guter Ausgangspunkt für diese Protokollierung und Benachrichtigung sein.</span><span class="sxs-lookup"><span data-stu-id="54b8c-213">The custom error page may seem like a good place to do this logging and notification.</span></span> <span data-ttu-id="54b8c-214">Die benutzerdefinierte Fehlerseite hat leider keinen Zugriff auf die Fehlerdetails und kann daher nicht zum Protokollieren dieser Informationen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-214">Unfortunately, the custom error page does not have access to the error details and therefore cannot be used to log this information.</span></span> <span data-ttu-id="54b8c-215">Die gute Nachricht ist, dass es eine Reihe von Möglichkeiten gibt, die Fehlerdetails abzufangen und zu protokollieren. in den nächsten drei Tutorials wird dieses Thema ausführlicher erläutert.</span><span class="sxs-lookup"><span data-stu-id="54b8c-215">The good news is that there are a number of ways to intercept the error details and to log them, and the next three tutorials explore this topic in more detail.</span></span>

## <a name="using-different-custom-error-pages-for-different-http-error-statuses"></a><span data-ttu-id="54b8c-216">Verwenden verschiedener benutzerdefinierter Fehlerseiten für verschiedene http-Fehlerstatus</span><span class="sxs-lookup"><span data-stu-id="54b8c-216">Using Different Custom Error Pages for Different HTTP Error Statuses</span></span>

<span data-ttu-id="54b8c-217">Wenn eine Ausnahme von einer ASP.NET-Seite ausgelöst und nicht behandelt wird, wird die Ausnahme durch die ASP.NET-Laufzeit erhöht, die die konfigurierte Fehlerseite anzeigt.</span><span class="sxs-lookup"><span data-stu-id="54b8c-217">When an exception is thrown by an ASP.NET page and is not handled, the exception percolates up to the ASP.NET runtime, which displays the configured error page.</span></span> <span data-ttu-id="54b8c-218">Wenn eine Anforderung in die ASP.net-Engine kommt, aber aus irgendeinem Grund nicht verarbeitet werden kann, kann es vorkommen, dass die angeforderte Datei nicht gefunden wurde oder Leseberechtigungen für die Datei deaktiviert wurden. dann löst die ASP.net-Engine eine aus `HttpException` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-218">If a request comes into the ASP.NET engine but cannot be processed for some reason - perhaps the requested file is not found or Read permissions have been disabled for the file - then the ASP.NET engine raises an `HttpException`.</span></span> <span data-ttu-id="54b8c-219">Diese Ausnahme, wie z. b. Ausnahmen, die von ASP.NET Seiten ausgelöst werden, wird zur Laufzeit hochskalieren, sodass die entsprechende Fehlerseite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-219">This exception, like exceptions raised from ASP.NET pages, bubbles up to the runtime, causing the appropriate error page to be displayed.</span></span>

<span data-ttu-id="54b8c-220">Dies bedeutet, dass für die Webanwendung in der Produktion die benutzerdefinierte Fehlerseite angezeigt wird, wenn ein Benutzer eine Seite anfordert, die nicht gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="54b8c-220">What this means for the web application in production is that if a user requests a page that is not found then they will see the custom error page.</span></span> <span data-ttu-id="54b8c-221">**Abbildung 6** zeigt ein Beispiel.</span><span class="sxs-lookup"><span data-stu-id="54b8c-221">**Figure 6** shows such an example.</span></span> <span data-ttu-id="54b8c-222">Da die Anforderung für eine nicht vorhandene Seite () gilt `NoSuchPage.aspx` , wird eine ausgelöst, `HttpException` und die benutzerdefinierte Fehlerseite wird angezeigt (Beachten Sie den Verweis auf `NoSuchPage.aspx` im `aspxerrorpath` QueryString-Parameter).</span><span class="sxs-lookup"><span data-stu-id="54b8c-222">Because the request is for a non-existent page (`NoSuchPage.aspx`), an `HttpException` is thrown and the custom error page is displayed (note the reference to `NoSuchPage.aspx` in the `aspxerrorpath` querystring parameter).</span></span>

[![](displaying-a-custom-error-page-cs/_static/image16.png)](displaying-a-custom-error-page-cs/_static/image15.png)

<span data-ttu-id="54b8c-223">**Abbildung 6**: die ASP.NET-Laufzeit zeigt die konfigurierte Fehlerseite als Reaktion auf eine ungültige Anforderung an ([Klicken Sie, um das Bild in voller Größe anzuzeigen](displaying-a-custom-error-page-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="54b8c-223">**Figure 6**: The ASP.NET Runtime Displays the Configured Error Page In Response to an Invalid Request ([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image17.png))</span></span>

<span data-ttu-id="54b8c-224">Standardmäßig bewirken alle Fehlertypen, dass die gleiche benutzerdefinierte Fehlerseite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-224">By default, all types of errors cause the same custom error page to be displayed.</span></span> <span data-ttu-id="54b8c-225">Sie können jedoch eine andere benutzerdefinierte Fehlerseite für einen bestimmten HTTP-Statuscode angeben, indem Sie untergeordnete `<error>` Elemente im- `<customErrors>` Abschnitt verwenden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-225">However, you can specify a different custom error page for a specific HTTP status code using `<error>` children elements within the `<customErrors>` section.</span></span> <span data-ttu-id="54b8c-226">Um z. b. eine andere Fehlerseite anzuzeigen, die im Fall eines Fehlers der Seite "nicht gefunden" mit dem HTTP-Statuscode 404 angezeigt wird, aktualisieren `<customErrors>` Sie den Abschnitt, sodass er das folgende Markup enthält:</span><span class="sxs-lookup"><span data-stu-id="54b8c-226">For example, to have a different error page displayed in the event of a page not found error, which has an HTTP status code of 404, update the `<customErrors>` section to include the following markup:</span></span>

[!code-xml[Main](displaying-a-custom-error-page-cs/samples/sample2.xml)]

<span data-ttu-id="54b8c-227">Wenn diese Änderung vorgenommen wird und ein Benutzer, der eine Remote Verbindung benötigt, eine ASP.NET-Ressource anfordert, die nicht vorhanden ist, wird er an die `404.aspx` benutzerdefinierte Fehlerseite und nicht an weitergeleitet `Oops.aspx` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-227">With this change in place, whenever a user visiting remotely requests an ASP.NET resource that does not exist, they will be redirected to the `404.aspx` custom error page instead of `Oops.aspx`.</span></span> <span data-ttu-id="54b8c-228">Wie **Abbildung 7** zeigt, `404.aspx` kann die Seite eine spezifischere Nachricht als die allgemeine benutzerdefinierte Fehlerseite enthalten.</span><span class="sxs-lookup"><span data-stu-id="54b8c-228">As **Figure 7** illustrates, the `404.aspx` page can include a more specific message than the general custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="54b8c-229">Weitere Informationen zum Erstellen effektiver 404-Fehlerseiten finden Sie [unter 404-Fehlerseiten](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/) .</span><span class="sxs-lookup"><span data-stu-id="54b8c-229">Check out [404 Error Pages, One More Time](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/) for guidance on creating effective 404 error pages.</span></span>

[![](displaying-a-custom-error-page-cs/_static/image19.png)](displaying-a-custom-error-page-cs/_static/image18.png)

<span data-ttu-id="54b8c-230">**Abbildung 7**: auf der Seite "benutzerdefinierter 404-Fehler" wird eine gezieltere Nachricht angezeigt als`Oops.aspx`</span><span class="sxs-lookup"><span data-stu-id="54b8c-230">**Figure 7**: The Custom 404 Error Page Displays a More Targeted Message Than `Oops.aspx`</span></span>  
<span data-ttu-id="54b8c-231">([Klicken Sie, um das Bild in voller Größe anzuzeigen](displaying-a-custom-error-page-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="54b8c-231">([Click to view full-size image](displaying-a-custom-error-page-cs/_static/image20.png))</span></span> 

<span data-ttu-id="54b8c-232">Da Sie wissen, dass die `404.aspx` Seite nur erreicht wird, wenn der Benutzer eine Anforderung an eine Seite sendet, die nicht gefunden wurde, können Sie diese benutzerdefinierte Fehlerseite so erweitern, dass Sie Funktionen zum Beheben dieses bestimmten Fehler Typs enthält.</span><span class="sxs-lookup"><span data-stu-id="54b8c-232">Because you know that the `404.aspx` page is only reached when the user makes a request for a page that was not found, you can enhance this custom error page to include functionality to help the user address this specific type of error.</span></span> <span data-ttu-id="54b8c-233">Sie könnten z. b. eine Datenbanktabelle erstellen, in der bekannte ungültige URLs zu guten URLs zugeordnet werden. Anschließend können Sie auf der `404.aspx` benutzerdefinierten Fehlerseite eine Abfrage für diese Tabelle ausführen und Seiten vorschlagen, die der Benutzer möglicherweise zu erreichen versucht.</span><span class="sxs-lookup"><span data-stu-id="54b8c-233">For example, you could build a database table that maps known bad URLs to good URLs, and then have the `404.aspx` custom error page run a query against that table and suggest pages the user may be trying to reach.</span></span>

> [!NOTE]
> <span data-ttu-id="54b8c-234">Die benutzerdefinierte Fehlerseite wird nur angezeigt, wenn eine Anforderung an eine Ressource gerichtet ist, die von der ASP.net-Engine verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-234">The custom error page is only displayed when a request is made to a resource handled by the ASP.NET engine.</span></span> <span data-ttu-id="54b8c-235">Wie in den [grundlegenden Unterschieden zwischen IIS und dem ASP.NET Development Server-](core-differences-between-iis-and-the-asp-net-development-server-cs.md) Tutorial erläutert wurde, kann der Webserver bestimmte Anforderungen selbst verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="54b8c-235">As we discussed in the [Core Differences Between IIS and the ASP.NET Development Server](core-differences-between-iis-and-the-asp-net-development-server-cs.md) tutorial, the web server may handle certain requests itself.</span></span> <span data-ttu-id="54b8c-236">Standardmäßig verarbeitet der IIS-Webserver Anforderungen für statische Inhalte wie Bilder und HTML-Dateien, ohne dass die ASP.net-Engine aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-236">By default, the IIS web server processes requests for static content like images and HTML files without invoking the ASP.NET engine.</span></span> <span data-ttu-id="54b8c-237">Wenn der Benutzer daher eine nicht vorhandene Bilddatei anfordert, wird die standardmäßige 404-Fehlermeldung von IIS anstelle von ASP zurückgegeben. Die konfigurierte Fehlerseite des Netzes.</span><span class="sxs-lookup"><span data-stu-id="54b8c-237">Consequently, if the user requests a non-existent image file they will get back IIS's default 404 error message rather than ASP.NET's configured error page.</span></span>

## <a name="summary"></a><span data-ttu-id="54b8c-238">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="54b8c-238">Summary</span></span>

<span data-ttu-id="54b8c-239">Wenn in einer ASP.NET-Anwendung eine nicht behandelte Ausnahme auftritt, wird dem Benutzer eine von drei Fehlerseiten angezeigt: die Ausnahme Details gelbe Bildschirm von Tod. Laufzeitfehler: gelber Bildschirm des Todes oder eine benutzerdefinierte Fehlerseite.</span><span class="sxs-lookup"><span data-stu-id="54b8c-239">When an unhandled exception occurs in an ASP.NET application, the user is shown one of three error pages: the Exception Details Yellow Screen of Death; the Runtime Error Yellow Screen of Death; or a custom error page.</span></span> <span data-ttu-id="54b8c-240">Welche Fehlerseite angezeigt wird, hängt von der Konfiguration der Anwendung und davon ab, `<customErrors>` ob der Benutzer lokal oder Remote zu besuchen ist.</span><span class="sxs-lookup"><span data-stu-id="54b8c-240">Which error page is displayed depends on the application's `<customErrors>` configuration and whether the user is visiting locally or remotely.</span></span> <span data-ttu-id="54b8c-241">Das Standardverhalten besteht darin, die Ausnahme Details Ysod an lokale Besucher und den Laufzeitfehler Ysod an Remote Besucher anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="54b8c-241">The default behavior is to show the Exception Details YSOD to local visitors and the Runtime Error YSOD to remote visitors.</span></span>

<span data-ttu-id="54b8c-242">Der Laufzeitfehler "Ysod" blendet potenziell vertrauliche Fehlerinformationen vom Benutzer aus, der die Website besucht, unterbricht aber das Erscheinungsbild Ihrer Website und bewirkt, dass die Anwendung fehlerhaft wird.</span><span class="sxs-lookup"><span data-stu-id="54b8c-242">While the Runtime Error YSOD hides potentially sensitive error information from the user visiting the site, it breaks from your site's look and feel and makes your application look buggy.</span></span> <span data-ttu-id="54b8c-243">Ein besserer Ansatz ist die Verwendung einer benutzerdefinierten Fehlerseite, bei der die benutzerdefinierte Fehlerseite erstellt und entworfen und die zugehörige URL im `<customErrors>` -Attribut des Abschnitts angegeben wird `defaultRedirect` .</span><span class="sxs-lookup"><span data-stu-id="54b8c-243">A better approach is to use a custom error page, which entails creating and designing the custom error page and specifying its URL in the `<customErrors>` section's `defaultRedirect` attribute.</span></span> <span data-ttu-id="54b8c-244">Sie können sogar mehrere benutzerdefinierte Fehlerseiten für verschiedene http-Fehlerstatus verwenden.</span><span class="sxs-lookup"><span data-stu-id="54b8c-244">You can even have multiple custom error pages for different HTTP error statuses.</span></span>

<span data-ttu-id="54b8c-245">Die Seite benutzerdefinierter Fehler ist der erste Schritt in einer umfassenden Strategie zur Fehlerbehandlung für eine Website in der Produktion.</span><span class="sxs-lookup"><span data-stu-id="54b8c-245">The custom error page is the first step in a comprehensive error handling strategy for a website in production.</span></span> <span data-ttu-id="54b8c-246">Außerdem sind wichtige Schritte erforderlich, um den Entwickler des Fehlers zu warnen und seine Details zu protokollieren.</span><span class="sxs-lookup"><span data-stu-id="54b8c-246">Alerting the developer of the error and logging its details are also important steps.</span></span> <span data-ttu-id="54b8c-247">Die nächsten drei Tutorials untersuchen Techniken für Fehler Benachrichtigung und Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="54b8c-247">The next three tutorials explore techniques for error notification and logging.</span></span>

<span data-ttu-id="54b8c-248">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="54b8c-248">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="54b8c-249">Weitere nützliche Informationen</span><span class="sxs-lookup"><span data-stu-id="54b8c-249">Further Reading</span></span>

<span data-ttu-id="54b8c-250">Weitere Informationen zu den in diesem Tutorial behandelten Themen finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="54b8c-250">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="54b8c-251">Fehlerseiten, eine weitere Zeit</span><span class="sxs-lookup"><span data-stu-id="54b8c-251">Error Pages, One More Time</span></span>](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/)
- [<span data-ttu-id="54b8c-252">Entwurfsrichtlinien für Ausnahmen</span><span class="sxs-lookup"><span data-stu-id="54b8c-252">Design Guidelines for Exceptions</span></span>](https://msdn.microsoft.com/library/ms229014.aspx)
- [<span data-ttu-id="54b8c-253">Benutzerfreundliche Fehlerseiten</span><span class="sxs-lookup"><span data-stu-id="54b8c-253">User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="54b8c-254">Behandeln und Auslösen von Ausnahmen</span><span class="sxs-lookup"><span data-stu-id="54b8c-254">Handling and Throwing Exceptions</span></span>](https://msdn.microsoft.com/library/5b2yeyab.aspx)
- [<span data-ttu-id="54b8c-255">Ordnungsgemäße Verwendung von benutzerdefinierten Fehlerseiten in ASP.net</span><span class="sxs-lookup"><span data-stu-id="54b8c-255">Properly Using Custom Error Pages in ASP.NET</span></span>](http://professionalaspnet.com/archive/2007/09/30/Properly-Using-Custom-Error-Pages-in-ASP.NET.aspx)
- <span data-ttu-id="54b8c-256">[Übersicht über die ASP.NET-Ablaufverfolgung](/previous-versions/aspnet/bb386420(v%3Dvs.100))</span><span class="sxs-lookup"><span data-stu-id="54b8c-256">[ASP.NET Tracing Overview](/previous-versions/aspnet/bb386420(v%3Dvs.100))</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="54b8c-257">[Zurück](strategies-for-database-development-and-deployment-cs.md)
> [Weiter](processing-unhandled-exceptions-cs.md)</span><span class="sxs-lookup"><span data-stu-id="54b8c-257">[Previous](strategies-for-database-development-and-deployment-cs.md)
[Next](processing-unhandled-exceptions-cs.md)</span></span>
