---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-vb
title: Strategien für die Datenbankentwicklung und-Bereitstellung (VB) | Microsoft-Dokumentation
author: rick-anderson
description: Wenn Sie eine datengesteuerte Anwendung zum ersten Mal bereitstellen, können Sie die Datenbank in der Entwicklungsumgebung Blind in die Produktionsumgebung kopieren. B...
ms.author: riande
ms.date: 04/23/2009
ms.assetid: 07b8905d-78ac-4252-97fb-8675b3fb0bbf
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-vb
msc.type: authoredcontent
ms.openlocfilehash: 1ea4ade32fb05b9e69647ece7d1a4c400fe9fb21
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74616159"
---
# <a name="strategies-for-database-development-and-deployment-vb"></a><span data-ttu-id="3bbcf-104">Strategien zur Datenbankentwicklung und -bereitstellung (VB)</span><span class="sxs-lookup"><span data-stu-id="3bbcf-104">Strategies for Database Development and Deployment (VB)</span></span>

<span data-ttu-id="3bbcf-105">von [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3bbcf-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="3bbcf-106">PDF herunterladen</span><span class="sxs-lookup"><span data-stu-id="3bbcf-106">Download PDF</span></span>](https://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial10_DBDevel_vb.pdf)

> <span data-ttu-id="3bbcf-107">Wenn Sie eine datengesteuerte Anwendung zum ersten Mal bereitstellen, können Sie die Datenbank in der Entwicklungsumgebung Blind in die Produktionsumgebung kopieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-107">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="3bbcf-108">Durch das Ausführen einer Blind Kopie in nachfolgenden bereit Stellungen werden jedoch alle Daten überschrieben, die in die Produktionsdatenbank eingegeben werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-108">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="3bbcf-109">Stattdessen müssen bei der Bereitstellung einer Datenbank die Änderungen übernommen werden, die seit der letzten Bereitstellung auf der Produktionsdatenbank an der Entwicklungs Datenbank vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-109">Instead, deploying a database involves applying the changes made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="3bbcf-110">Dieses Tutorial behandelt diese Herausforderungen und bietet verschiedene Strategien zur Unterstützung bei der chronisierung und Anwendung der Änderungen, die seit der letzten Bereitstellung an der Datenbank vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-110">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>

## <a name="introduction"></a><span data-ttu-id="3bbcf-111">Einführung</span><span class="sxs-lookup"><span data-stu-id="3bbcf-111">Introduction</span></span>

<span data-ttu-id="3bbcf-112">Wie in den vorherigen Tutorials erläutert, bedeutet das Bereitstellen einer ASP.NET-Anwendung, dass der relevante Inhalt aus der Entwicklungsumgebung in die Produktionsumgebung kopiert wird.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-112">As discussed in previous tutorials, deploying an ASP.NET application entails copying the pertinent content from the development environment to the production environment.</span></span> <span data-ttu-id="3bbcf-113">Bei der Bereitstellung handelt es sich nicht um ein einmalige Ereignis, sondern um etwas, das jedes Mal erfolgt, wenn eine neue Version der Software veröffentlicht wird oder wenn Fehler oder Sicherheitsprobleme identifiziert und behoben wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-113">Deployment is not a one-time event, but rather something that happens every time a new version of the software is released or when bugs or security concerns have been identified and addressed.</span></span> <span data-ttu-id="3bbcf-114">Beim Kopieren von ASP.NET-Seiten, Bildern, JavaScript-Dateien und anderen Dateien in die Produktionsumgebung müssen Sie sich nicht darum kümmern, wie diese Datei seit der letzten Bereitstellung geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-114">When copying ASP.NET pages, images, JavaScript files, and other such files to the production environment you do not need to concern yourself with how these file have been changed since the last deployment.</span></span> <span data-ttu-id="3bbcf-115">Sie können die Datei Blind in die Produktionsumgebung kopieren und den vorhandenen Inhalt überschreiben.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-115">You can blindly copy the file to production, overwriting the existing content.</span></span> <span data-ttu-id="3bbcf-116">Leider ist diese Einfachheit nicht auf die Bereitstellung der Datenbank ausgedehnt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-116">Unfortunately, this simplicity does not extend to deploying the database.</span></span>

<span data-ttu-id="3bbcf-117">Wenn Sie eine datengesteuerte Anwendung zum ersten Mal bereitstellen, können Sie die Datenbank in der Entwicklungsumgebung Blind in die Produktionsumgebung kopieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-117">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="3bbcf-118">Durch das Ausführen einer Blind Kopie in nachfolgenden bereit Stellungen werden jedoch alle Daten überschrieben, die in die Produktionsdatenbank eingegeben werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-118">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="3bbcf-119">Stattdessen müssen bei der Bereitstellung einer Datenbank die *Änderungen* übernommen werden, die seit der letzten Bereitstellung auf der Produktionsdatenbank an der Entwicklungs Datenbank vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-119">Instead, deploying a database involves applying the *changes* made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="3bbcf-120">Dieses Tutorial behandelt diese Herausforderungen und bietet verschiedene Strategien zur Unterstützung bei der chronisierung und Anwendung der Änderungen, die seit der letzten Bereitstellung an der Datenbank vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-120">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>

## <a name="the-challenges-of-deploying-a-database"></a><span data-ttu-id="3bbcf-121">Die Herausforderungen bei der Bereitstellung einer Datenbank</span><span class="sxs-lookup"><span data-stu-id="3bbcf-121">The Challenges of Deploying a Database</span></span>

<span data-ttu-id="3bbcf-122">Bevor eine datengesteuerte Anwendung zum ersten Mal bereitgestellt wurde, gibt es nur eine Datenbank, nämlich die Datenbank in der Entwicklungsumgebung. aus diesem Grund können Sie bei der erstmaligen Bereitstellung einer datengesteuerten Anwendung die Datenbank im Entwicklungsumgebung in der Produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-122">Before a data-driven application has been deployed for the first time, there is only one database, namely the database in the development environment, which is why when deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="3bbcf-123">Nachdem die Anwendung bereitgestellt wurde, gibt es zwei Kopien der Datenbank: eine in der Entwicklung und eine in der Produktion.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-123">But once the application has been deployed there are two copies of the database: one in development and one in production.</span></span>

<span data-ttu-id="3bbcf-124">Zwischen bereit Stellungen können die Entwicklungs-und Produktionsdatenbanken nicht mehr synchronisiert werden. Obwohl das Schema der Produktionsdatenbank unverändert bleibt, kann sich das Schema der Entwicklungs Datenbank ändern, wenn neue Funktionen hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-124">Between deployments the development and production databases can become out of sync. While the production database s schema remains unchanged, the development database s schema may change as new features are added.</span></span> <span data-ttu-id="3bbcf-125">Sie können Spalten, Tabellen, Sichten oder gespeicherte Prozeduren hinzufügen oder entfernen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-125">You might add or remove columns, tables, views, or stored procedures.</span></span> <span data-ttu-id="3bbcf-126">Es können auch wichtige Daten vorhanden sein, die der Entwicklungs Datenbank hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-126">There may also be important data that gets added to the development database.</span></span> <span data-ttu-id="3bbcf-127">Viele datengesteuerte Anwendungen enthalten Nachschlage Tabellen mit hart codierten anwendungsspezifischen Daten, die nicht vom Benutzer bearbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-127">Many data-driven applications include lookup tables populated with hard-coded, application-specific data that are not user-editable.</span></span> <span data-ttu-id="3bbcf-128">Beispielsweise kann eine Auktionswebsite eine Dropdown Liste mit Auswahlmöglichkeiten enthalten, die die Bedingung des zu versteigernden Elements beschreiben: neu, wie z. b. "neu", "gut" und "Fair".</span><span class="sxs-lookup"><span data-stu-id="3bbcf-128">For example, an auction website might have a drop-down list with choices that describe the condition of the item being auctioned: New, Like New, Good, and Fair.</span></span> <span data-ttu-id="3bbcf-129">Anstatt diese Optionen direkt in der Dropdown Liste hart codieren zu müssen, ist es in der Regel besser, Sie in einer Datenbanktabelle zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-129">Rather than hard-coding these options directly in the drop-down list it is usually better to place them in a database table.</span></span> <span data-ttu-id="3bbcf-130">Wenn bei der Entwicklung der Tabelle eine neue Bedingung mit dem Namen "schlecht" hinzugefügt wird, muss der gleiche Datensatz bei der Bereitstellung der Anwendung der Nachschlage Tabelle in der Produktionsdatenbank hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-130">If, during development, a new condition named Poor is added to the table then when deploying the application this same record needs to be added to the lookup table in the production database.</span></span>

<span data-ttu-id="3bbcf-131">Im Idealfall umfasst das Bereitstellen der Datenbank das Kopieren der Datenbank aus der Entwicklung in die Produktion.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-131">Ideally, deploying the database would involve copying the database from development to production.</span></span> <span data-ttu-id="3bbcf-132">Beachten Sie jedoch, dass die Produktionsdatenbank nach der Bereitstellung der Anwendung und der fortgesetzten Entwicklung mit echten Daten von echten Benutzern aufgefüllt wird.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-132">But keep in mind that after you have deployed the application and resumed development, the production database is being populated with real data from real users.</span></span> <span data-ttu-id="3bbcf-133">Wenn Sie die Datenbank bei der nächsten Bereitstellung aus der Entwicklung in die Produktion kopieren, würden Sie daher die Produktionsdatenbank überschreiben und die vorhandenen Daten verlieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-133">Therefore, if you were to simply copy the database from development to production at the next deployment you would overwrite the production database and lose its existing data.</span></span> <span data-ttu-id="3bbcf-134">Das Ergebnis ist, dass die Bereitstellung der Datenbank auf die Anwendung der Änderungen zurückzuführen ist, die seit der letzten Bereitstellung an der Entwicklungs Datenbank vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-134">The net result is that deploying the database boils down to applying the changes made to the development database since the last deployment.</span></span>

<span data-ttu-id="3bbcf-135">Das Bereitstellen einer Datenbank umfasst das Anwenden der Änderungen im Schema und ggf. die Daten seit der letzten Bereitstellung. der Verlauf der Änderungen muss beibehalten (oder zur Bereitstellung festgelegt werden), damit diese Änderungen auf die Produktion angewendet werden können.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-135">Because deploying a database involves applying the changes in the schema and, possibly, the data since the last deployment, a history of changes must be maintained (or determined at deploy-time) so that those changes can be applied on production.</span></span> <span data-ttu-id="3bbcf-136">Es gibt eine Reihe von Techniken zum Verwalten und Anwenden von Änderungen am Datenmodell.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-136">There are a variety of techniques for managing and applying changes to the data model.</span></span>

### <a name="defining-the-baseline"></a><span data-ttu-id="3bbcf-137">Definieren der Baseline</span><span class="sxs-lookup"><span data-stu-id="3bbcf-137">Defining the Baseline</span></span>

<span data-ttu-id="3bbcf-138">Um die Änderungen an der Datenbank der Anwendung beizubehalten, benötigen Sie einen Anfangszustand, eine Baseline, auf die die Änderungen angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-138">To maintain the changes to your application s database you need to have some starting state, a baseline to which the changes are applied to.</span></span> <span data-ttu-id="3bbcf-139">Im Extremfall könnte der Startstatus eine leere Datenbank ohne Tabellen, Sichten oder gespeicherte Prozeduren sein.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-139">At one extreme the starting state could be an empty database with no tables, views, or stored procedures.</span></span> <span data-ttu-id="3bbcf-140">Eine solche Baseline führt zu einem großen Änderungsprotokoll, da es die Erstellung sämtlicher Tabellen, Sichten und gespeicherter Prozeduren der Datenbank sowie alle Änderungen beinhalten muss, die nach der ersten Bereitstellung vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-140">Such a baseline results in a large change log because it must include the creation of all of the database s tables, views, and stored procedures along with any changes made after the initial deployment.</span></span> <span data-ttu-id="3bbcf-141">Am anderen Ende des Spektrums können Sie die Baseline als Version der Datenbank festlegen, die anfänglich in der Produktionsumgebung bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-141">At the other end of the spectrum you could set the baseline as the version of the database that is initially deployed to the production environment.</span></span> <span data-ttu-id="3bbcf-142">Diese Auswahl führt zu einem wesentlich geringeren Änderungsprotokoll, da es nur die Änderungen enthält, die nach der ersten Bereitstellung an der Datenbank vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-142">This choice results in a much smaller change log because it only includes the changes made to the database following the first deployment.</span></span> <span data-ttu-id="3bbcf-143">Dies ist der bevorzugte Ansatz.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-143">This is the approach I prefer.</span></span> <span data-ttu-id="3bbcf-144">Natürlich können Sie auch einen weiteren Mittelpunkt der Straße wählen, indem Sie die Baseline als einen Punkt zwischen der ersten Erstellung der Datenbank und der ersten Bereitstellung der Datenbank definieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-144">And of course you can choose a more middle of the road approach, defining the baseline as some point between the initial creation of the database and when the database is first deployed.</span></span>

<span data-ttu-id="3bbcf-145">Wenn Sie eine Baseline ausgewählt haben, sollten Sie ein SQL-Skript erstellen, das ausgeführt werden kann, um die Baselineversion neu zu erstellen</span><span class="sxs-lookup"><span data-stu-id="3bbcf-145">Once you have chosen a baseline consider generating a SQL script that can be executed to recreate the baseline version.</span></span> <span data-ttu-id="3bbcf-146">Mit einem solchen Skript können Sie schnell die Baseline-Version der Datenbank neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-146">Such a script makes it possible to quickly recreate the baseline version of the database.</span></span> <span data-ttu-id="3bbcf-147">Diese Funktion ist besonders nützlich in größeren Projekten, in denen es möglicherweise mehrere Entwickler am Projekt oder in zusätzlichen Umgebungen, wie z. b. Tests oder Staging, arbeiten, die jeweils eine eigene Kopie der Datenbank benötigen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-147">This functionality is especially useful in larger projects, where there may be multiple developers working on the project or additional environments, such as testing or staging, that each need their own copy of the database.</span></span>

<span data-ttu-id="3bbcf-148">Es stehen eine Vielzahl von Tools zur Verfügung, um ein SQL-Skript der Baselineversion zu generieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-148">There are a variety of tools at your disposal to generate a SQL script of the baseline version.</span></span> <span data-ttu-id="3bbcf-149">Über SQL Server Management Studio (SSMS) können Sie mit der rechten Maustaste auf die Datenbank klicken, im Untermenü Aufgaben auf die Option Skripts generieren klicken.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-149">From SQL Server Management Studio (SSMS) you can right-click on the database, go to the Tasks submenu, and choose the Generate Scripts option.</span></span> <span data-ttu-id="3bbcf-150">Dadurch wird der Skript-Assistent gestartet, den Sie anweisen können, eine Datei zu generieren, die die SQL-Befehle zum Erstellen der Objekte der Datenbank enthält.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-150">This launches the Script Wizard, which you can instruct to generate a file that contains the SQL commands to create your database s objects.</span></span> <span data-ttu-id="3bbcf-151">Eine weitere Option ist der Datenbankveröffentlichungs-Assistent, der die SQL-Befehle generieren kann, um nicht nur das Datenbankschema zu erstellen, sondern auch die Daten in den Datenbanktabellen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-151">Another option is the Database Publishing Wizard, which can generate the SQL commands to not only create the database schema, but also the data in the database tables.</span></span> <span data-ttu-id="3bbcf-152">Der Datenbankveröffentlichungs-Assistent wurde im Tutorial bereitstellen *einer Datenbank* ausführlich erläutert.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-152">The Database Publishing Wizard was examined in detail back in the *Deploying a Database* tutorial.</span></span> <span data-ttu-id="3bbcf-153">Unabhängig davon, welches Tool Sie verwenden, sollten Sie am Ende über eine Skriptdatei verfügen, mit der Sie die Baselineversion Ihrer Datenbank neu erstellen können, falls dies erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-153">Regardless of what tool you use, in the end you should have a script file that you can use to recreate the baseline version of your database, should the need arise.</span></span>

## <a name="documenting-the-database-changes-in-prose"></a><span data-ttu-id="3bbcf-154">Dokumentieren der Daten Bank Änderungen in der Prosa</span><span class="sxs-lookup"><span data-stu-id="3bbcf-154">Documenting the Database Changes in Prose</span></span>

<span data-ttu-id="3bbcf-155">Die einfachste Möglichkeit, ein Protokoll der Änderungen am Datenmodell während der Entwicklungsphase beizubehalten, besteht darin, die Änderungen in der Prosa aufzuzeichnen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-155">The simplest way to maintain a log of changes to the data model during the development phase is to record the changes in prose.</span></span> <span data-ttu-id="3bbcf-156">Wenn Sie z. b. während der Entwicklung einer bereits bereitgestellten Anwendung der `Employees` Tabelle eine neue Spalte hinzufügen, eine Spalte aus der `Orders` Tabelle entfernen und eine neue Tabelle (`ProductCategories`) hinzufügen, erhalten Sie eine Textdatei oder ein Microsoft Word-Dokument mit folgendem Verlauf:</span><span class="sxs-lookup"><span data-stu-id="3bbcf-156">For example, if during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`), you would maintain a text file or Microsoft Word document with the following history:</span></span>

<a id="0.8_table01"></a>

| <span data-ttu-id="3bbcf-157">**Änderungsdatum**</span><span class="sxs-lookup"><span data-stu-id="3bbcf-157">**Change Date**</span></span> | <span data-ttu-id="3bbcf-158">**Details ändern**</span><span class="sxs-lookup"><span data-stu-id="3bbcf-158">**Change Details**</span></span> |
| --- | --- |
| <span data-ttu-id="3bbcf-159">2009-02-03:</span><span class="sxs-lookup"><span data-stu-id="3bbcf-159">2009-02-03:</span></span> | <span data-ttu-id="3bbcf-160">Der `Employees` Tabelle wurde die Spalten `DepartmentID` (`int`, nicht null) hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-160">Added column `DepartmentID` (`int`, NOT NULL) to the `Employees` table.</span></span> <span data-ttu-id="3bbcf-161">Eine FOREIGN KEY-Einschränkung wurde von `Departments.DepartmentID` zu `Employees.DepartmentID`hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-161">Added a foreign key constraint from `Departments.DepartmentID` to `Employees.DepartmentID`.</span></span> |
| <span data-ttu-id="3bbcf-162">2009-02-05:</span><span class="sxs-lookup"><span data-stu-id="3bbcf-162">2009-02-05:</span></span> | <span data-ttu-id="3bbcf-163">Die Spalten `TotalWeight` aus der `Orders` Tabelle wurde entfernt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-163">Removed column `TotalWeight` from the `Orders` table.</span></span> <span data-ttu-id="3bbcf-164">Daten wurden bereits in zugeordneten `OrderDetails` Datensätzen aufgezeichnet.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-164">Data already captured in associated `OrderDetails` records.</span></span> |
| <span data-ttu-id="3bbcf-165">2009-02-12:</span><span class="sxs-lookup"><span data-stu-id="3bbcf-165">2009-02-12:</span></span> | <span data-ttu-id="3bbcf-166">Die `ProductCategories` Tabelle wurde erstellt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-166">Created the `ProductCategories` table.</span></span> <span data-ttu-id="3bbcf-167">Es gibt drei Spalten: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`) und `Active` (`bit`, `NOT NULL`).</span><span class="sxs-lookup"><span data-stu-id="3bbcf-167">There are three columns: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`), and `Active` (`bit`, `NOT NULL`).</span></span> <span data-ttu-id="3bbcf-168">Der `ProductCategoryID`wurde eine PRIMARY KEY-Einschränkung und der Standardwert 1 für `Active`hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-168">Added a primary key constraint to `ProductCategoryID`, and a default value of 1 to `Active`.</span></span> |

<span data-ttu-id="3bbcf-169">Dieser Ansatz hat eine Reihe von Nachteilen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-169">There are a number of drawbacks to this approach.</span></span> <span data-ttu-id="3bbcf-170">Zunächst einmal gibt es keine Hoffnung für die Automatisierung.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-170">For starters, there is no hope for automation.</span></span> <span data-ttu-id="3bbcf-171">Jedes Mal, wenn diese Änderungen auf eine Datenbank angewendet werden müssen, z. b. wenn die Anwendung bereitgestellt wird, muss ein Entwickler jede Änderung nacheinander manuell implementieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-171">Anytime these changes need to be applied to a database - such as when the application is deployed - a developer must manually implement each change, one at a time.</span></span> <span data-ttu-id="3bbcf-172">Wenn Sie darüber hinaus eine bestimmte Version der Datenbank aus der Baseline mithilfe des Änderungsprotokolls rekonstruieren müssen, nimmt dies mehr und mehr Zeit in Anspruch, wenn die Größe des Protokolls zunimmt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-172">Moreover, if you need to reconstruct a particular version of the database from the baseline using the change log, doing so will take more and more time as the size of the log grows.</span></span> <span data-ttu-id="3bbcf-173">Ein weiterer Nachteil dieser Methode besteht darin, dass die Klarheit und Detailgenauigkeit jedes Änderungsprotokoll Eintrags für die Person verbleibt, die die Änderung aufgezeichnet hat.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-173">Another drawback to this method is that the clarity and level of detail of each change log entry is left to the person recording the change.</span></span> <span data-ttu-id="3bbcf-174">In einem Team mit mehreren Entwicklern können einige ausführlichere, besser lesbare oder präzisere Einträge als andere vornehmen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-174">In a team with multiple developers some may make more detailed, more readable, or more precise entries than others.</span></span> <span data-ttu-id="3bbcf-175">Außerdem sind typpos und andere personenbezogene Dateneingabe Fehler möglich.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-175">Also, typos and other human-related data entry errors are possible.</span></span>

<span data-ttu-id="3bbcf-176">Der Hauptvorteil der Dokumentation der Daten Bank Änderungen in der Prosa ist die Einfachheit.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-176">The primary benefit of documenting the database changes in prose is simplicity.</span></span> <span data-ttu-id="3bbcf-177">Sie müssen nicht mit der SQL-Syntax zum Erstellen und Ändern von Datenbankobjekten vertraut sein.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-177">You don t need familiarity with the SQL syntax for creating and altering database objects.</span></span> <span data-ttu-id="3bbcf-178">Stattdessen können Sie die Änderungen in der Prosa aufzeichnen und mithilfe der grafischen Benutzeroberfläche SQL Server Management Studio s implementieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-178">Instead, you can record the changes in prose and implement them through SQL Server Management Studio s graphical user interface.</span></span>

<span data-ttu-id="3bbcf-179">Das Verwalten Ihres Änderungsprotokolls in der Prosa ist zugegebenermaßen nicht sehr komplex und funktioniert nicht gut mit bestimmten Projekten, wie z. b. denen, die im Bereich liegen, häufige Änderungen am Datenmodell aufweisen oder mehrere Entwickler einbeziehen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-179">Maintaining your change log in prose is, admittedly, not very sophisticated and won't work well with certain projects, such as ones that are large in scope, have frequent changes to the data model, or involve multiple developers.</span></span> <span data-ttu-id="3bbcf-180">Aber ich habe gesehen, dass diese Vorgehensweise in kleinen Projekten mit nur einem Mann sehr gut funktioniert, die nur gelegentlich Änderungen am Datenmodell aufweisen und dass der Einzelentwickler keinen starken Hintergrund in der SQL-Syntax zum Erstellen und Ändern von Datenbankobjekten hat.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-180">But I have seen this approach work quite well in small, one-man projects that have only occasional changes to the data model and where the solo developer does not have a strong background in the SQL syntax for creating and altering database objects.</span></span>

> [!NOTE]
> <span data-ttu-id="3bbcf-181">Obwohl die Informationen im Änderungsprotokoll, technisch gesehen, nur für die Bereitstellung benötigt werden, empfehle ich, einen Verlauf der Änderungen beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-181">While the information in the change log is, technically, only needed until deploy-time, I recommend keeping a history of changes.</span></span> <span data-ttu-id="3bbcf-182">Anstatt eine einzelne, immer wachsende Änderungsprotokoll Datei zu verwalten, sollten Sie jedoch eine andere Änderungsprotokoll Datei für jede Datenbankversion haben.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-182">But rather than maintaining a single, ever growing change log file, consider having a different change log file for each database version.</span></span> <span data-ttu-id="3bbcf-183">In der Regel ist es ratsam, die Datenbank bei jeder Bereitstellung zu Versions.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-183">Typically you will want to version the database each time it is deployed.</span></span> <span data-ttu-id="3bbcf-184">Durch die Beibehaltung eines Protokolls von Änderungs Protokollen können Sie ab der Baseline eine beliebige Datenbankversion neu erstellen, indem Sie die Änderungsprotokoll Skripts ab Version 1 ausführen und fortfahren, bis Sie die Version erreichen, die Sie neu erstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-184">By maintaining a log of change logs you can, starting from the baseline, recreate any database version by executing the change log scripts starting from version 1 and continuing until you reach the version you need to recreate.</span></span>

## <a name="recording-the-sql-change-statements"></a><span data-ttu-id="3bbcf-185">Aufzeichnen der SQL-Änderungs Anweisungen</span><span class="sxs-lookup"><span data-stu-id="3bbcf-185">Recording the SQL Change Statements</span></span>

<span data-ttu-id="3bbcf-186">Der Hauptnachteil der Beibehaltung des Änderungsprotokolls in der Prosa ist die fehlende Automatisierung.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-186">The primary drawback of maintaining the change log in prose is the lack of automation.</span></span> <span data-ttu-id="3bbcf-187">Im Idealfall wäre das Implementieren der Daten Bank Änderungen in der Produktionsdatenbank zur Bereitstellungs Zeit genauso einfach wie das Klicken auf eine Schaltfläche, um ein Skript auszuführen, anstatt manuell eine Liste von Anweisungen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-187">Ideally, implementing the database changes to the production database at deploy-time would be as easy as clicking a button to execute a script rather than having to manually perform a list of instructions.</span></span> <span data-ttu-id="3bbcf-188">Eine solche Automatisierung ist möglich, indem ein Änderungsprotokoll verwaltet wird, das die SQL-Befehle enthält, die zum Ändern des Datenmodells verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-188">Such automation is possible by maintaining a change log that contains those SQL commands used to alter the data model.</span></span>

<span data-ttu-id="3bbcf-189">Die SQL-Syntax umfasst eine Reihe von Anweisungen zum Erstellen und Ändern verschiedener Datenbankobjekte.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-189">The SQL syntax includes a number of statements for creating and modifying various database objects.</span></span> <span data-ttu-id="3bbcf-190">Beispielsweise wird mit der [*CREATE TABLE-Anweisung*](https://msdn.microsoft.com/library/ms174979.aspx)eine neue Tabelle mit den angegebenen Spalten und Einschränkungen erstellt, wenn Sie ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-190">For example, the [*CREATE TABLE statement*](https://msdn.microsoft.com/library/ms174979.aspx), when executed, creates a new table with the specified columns and constraints.</span></span> <span data-ttu-id="3bbcf-191">Mit der [*ALTER TABLE-Anweisung*](https://msdn.microsoft.com/library/ms190273.aspx) wird eine vorhandene Tabelle geändert, um die Spalten oder Einschränkungen hinzuzufügen, zu entfernen oder zu ändern.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-191">The [*ALTER TABLE statement*](https://msdn.microsoft.com/library/ms190273.aspx) modifies an existing table, adding, removing, or modifying its columns or constraints.</span></span> <span data-ttu-id="3bbcf-192">Es gibt auch Anweisungen zum Erstellen, ändern und Löschen von Indizes, Sichten, benutzerdefinierten Funktionen, gespeicherten Prozeduren, Triggern und anderen Datenbankobjekten.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-192">There are also statements to create, modify, and drop indexes, views, user-defined functions, stored procedures, triggers, and other database objects.</span></span>

<span data-ttu-id="3bbcf-193">Wenn Sie zum vorherigen Beispiel zurückkehren, wird das Image, dass Sie während der Entwicklung einer bereits bereitgestellten Anwendung der `Employees` Tabelle eine neue Spalte hinzufügen, eine Spalte aus der `Orders` Tabelle entfernen und eine neue Tabelle (`ProductCategories`) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-193">Returning to our earlier example, image that during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`).</span></span> <span data-ttu-id="3bbcf-194">Solche Aktionen führen zu einer Änderungsprotokoll Datei mit den folgenden SQL-Befehlen:</span><span class="sxs-lookup"><span data-stu-id="3bbcf-194">Such actions would result in a change log file with the following SQL commands:</span></span>

[!code-sql[Main](strategies-for-database-development-and-deployment-vb/samples/sample1.sql)]

<span data-ttu-id="3bbcf-195">Das Übertragen dieser Änderungen an die Produktionsdatenbank während der Bereitstellung ist ein One-Click-Vorgang: Öffnen Sie SQL Server Management Studio, stellen Sie eine Verbindung mit der Produktionsdatenbank her, öffnen Sie ein neues Abfragefenster, fügen Sie den Inhalt des Änderungsprotokolls ein, und klicken Sie auf Ausführen, um das Skript auszuführen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-195">Pushing these changes to the production database at deploy-time is a one-click operation: open SQL Server Management Studio, connect to your production database, open a New Query window, paste the contents of the change log, and click Execute to run the script.</span></span>

## <a name="using-a-comparison-tool-to-synchronize-the-data-models"></a><span data-ttu-id="3bbcf-196">Verwenden eines Vergleichs Tools zum Synchronisieren der Datenmodelle</span><span class="sxs-lookup"><span data-stu-id="3bbcf-196">Using a Comparison Tool to Synchronize the Data Models</span></span>

<span data-ttu-id="3bbcf-197">Das Dokumentieren von Daten Bank Änderungen in der Prosa ist einfach, aber das Implementieren der Änderungen erfordert, dass ein Entwickler jede Änderung in der Produktionsdatenbank nacheinander vornimmt. das Dokumentieren der Change SQL-Befehle bewirkt, dass diese Änderungen in der Produktionsdatenbank so einfach und schnell wie beim Klicken auf eine Schaltfläche implementiert werden. Allerdings müssen Sie die SQL-Anweisungen und die Syntax zum Erstellen und Ändern von Datenbankobjekten erlernen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-197">Documenting database changes in prose is easy, but implementing the changes requires a developer to make each change on the production database one at a time; documenting the change SQL commands makes implementing those changes on the production database as easy and quick as clicking a button, but requires learning and mastering the SQL statements and syntax for creating and altering database objects.</span></span> <span data-ttu-id="3bbcf-198">Daten Bank Vergleichs Tools erzielen am besten von beiden Ansätzen und verwerfen den schlechtesten.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-198">Database comparison tools take the best from both approaches and discard the worst.</span></span>

<span data-ttu-id="3bbcf-199">Ein Daten Bank Vergleichstool vergleicht das Schema oder die Daten zweier Datenbanken und zeigt einen Zusammenfassungs Bericht an, der anzeigt, wie sich die Datenbanken unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-199">A database comparison tool compares the schema or data of two databases and displays a summary report showing you how the databases differ.</span></span> <span data-ttu-id="3bbcf-200">Anschließend können Sie mit dem Klicken auf eine Schaltfläche die SQL-Befehle zum Synchronisieren eines oder mehrerer Datenbankobjekte generieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-200">Then, with the click of a button, you can generate the SQL commands for synchronizing one or more database objects.</span></span> <span data-ttu-id="3bbcf-201">Kurz gesagt, Sie können ein Daten Bank Vergleichstool verwenden, um die Entwicklungs-und Produktionsdatenbanken zum Zeitpunkt der Bereitstellung zu vergleichen und eine Datei zu erstellen, die die SQL-Befehle enthält, die bei der Ausführung die Änderungen auf das s-Schema der Produktionsdatenbank anwenden. spiegelt das Schema der Entwicklungs Datenbank wider.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-201">In a nutshell, you can use a database comparison tool to compare the development and production databases at deploy-time, generating a file that contains the SQL commands that, when executed, will apply the changes to the production database s schema so that it mirrors the development database s schema.</span></span>

<span data-ttu-id="3bbcf-202">Es gibt eine Vielzahl von Daten Bank Vergleichs Tools von Drittanbietern, die von vielen unterschiedlichen Anbietern angeboten werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-202">There are a variety of third-party database comparison tools offered by many different vendors.</span></span> <span data-ttu-id="3bbcf-203">Ein Beispiel hierfür ist [*SQL Compare*](http://www.red-gate.com/products/SQL_Compare/)von [*Red Gate Software*](http://www.red-gate.com/).</span><span class="sxs-lookup"><span data-stu-id="3bbcf-203">One such example is [*SQL Compare*](http://www.red-gate.com/products/SQL_Compare/), by [*Red Gate Software*](http://www.red-gate.com/).</span></span> <span data-ttu-id="3bbcf-204">Im folgenden wird erläutert, wie Sie SQL Compare zum Vergleichen und Synchronisieren der Entwicklungs-und Produktionsdaten Bank Schemas verwenden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-204">Let s walk through the process of using SQL Compare to compare and synchronize the development and production databases schemas.</span></span>

> [!NOTE]
> <span data-ttu-id="3bbcf-205">Zum Zeitpunkt der Erstellung dieses Artikels lautete die aktuelle Version von SQL Compare in Version 7,1, bei der Standard Edition $395.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-205">At the time of this writing the current version of SQL Compare was version 7.1, with the Standard Edition costing $395.</span></span> <span data-ttu-id="3bbcf-206">Hierzu können Sie eine kostenlose 14-Tage-Testversion herunterladen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-206">You can follow along by downloading a free 14-day trial.</span></span>

<span data-ttu-id="3bbcf-207">Wenn SQL Compare gestartet wird, wird das Dialogfeld Vergleichs Projekte geöffnet, in dem die gespeicherten SQL Compare-Projekte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-207">When SQL Compare starts the Comparison Projects dialog box opens, showing the saved SQL Compare projects.</span></span> <span data-ttu-id="3bbcf-208">Erstellen Sie ein neues Projekt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-208">Create a new project.</span></span> <span data-ttu-id="3bbcf-209">Dadurch wird der Projektkonfigurations-Assistent gestartet, der Informationen zu den zu vergleichenden Datenbanken auffordert (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="3bbcf-209">This launches the Project Configuration wizard, which prompts for information about the databases to compare (see Figure 1).</span></span> <span data-ttu-id="3bbcf-210">Geben Sie die Informationen für die Entwicklungs-und Produktions Umgebungs Datenbanken ein.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-210">Enter the information for the development and production environment databases.</span></span>

<span data-ttu-id="3bbcf-211">[![vergleichen der Entwicklungs-und Produktionsdatenbanken](strategies-for-database-development-and-deployment-vb/_static/image2.jpg)](strategies-for-database-development-and-deployment-vb/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="3bbcf-211">[![Compare the Development and Production Databases](strategies-for-database-development-and-deployment-vb/_static/image2.jpg)](strategies-for-database-development-and-deployment-vb/_static/image1.jpg)</span></span>

<span data-ttu-id="3bbcf-212">**Abbildung 1**: Vergleichen der Entwicklungs-und Produktionsdatenbanken ([Klicken Sie, um das Bild in voller Größe anzuzeigen](strategies-for-database-development-and-deployment-vb/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="3bbcf-212">**Figure 1**: Compare the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image3.jpg))</span></span>

> [!NOTE]
> <span data-ttu-id="3bbcf-213">Wenn es sich bei der Entwicklungs Umgebungs Datenbank um eine SQL Express Edition-Datenbankdatei im Ordner `App_Data` Ihrer Website handelt, müssen Sie die Datenbank auf dem SQL Server Express Daten Bank Server registrieren, um Sie aus dem in Abbildung 1 dargestellten Dialogfeld auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-213">If your development environment database is a SQL Express Edition database file in the `App_Data` folder of your website you will need to register the database in the SQL Server Express database server in order to select it from the dialog box shown in Figure 1.</span></span> <span data-ttu-id="3bbcf-214">Dies lässt sich am einfachsten erreichen, indem Sie SQL Server Management Studio (SSMS) öffnen, eine Verbindung mit dem SQL Server Express Daten Bank Server herstellen und die Datenbank anfügen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-214">The easiest way to accomplish this is to open SQL Server Management Studio (SSMS), connect to the SQL Server Express database server, and attach the database.</span></span> <span data-ttu-id="3bbcf-215">Wenn SSMS nicht auf dem Computer installiert ist, können Sie den kostenlosen [*SQL Server 2008 Management Studio Basic-Version*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en)herunterladen und installieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-215">If you do not have SSMS installed on your computer you can download and install the free [*SQL Server 2008 Management Studio Basic version*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en).</span></span>

<span data-ttu-id="3bbcf-216">Zusätzlich zur Auswahl der zu vergleichenden Datenbanken können Sie auf der Registerkarte "Optionen" auch eine Vielzahl von Vergleichs Einstellungen angeben. Eine Möglichkeit, die Sie aktivieren möchten, ist die "Einschränkung von Einschränkungs-und Indexnamen".</span><span class="sxs-lookup"><span data-stu-id="3bbcf-216">In addition to selecting the databases to compare, you can also specify a variety of comparison settings from the Options tab. One option you may want to turn on is the "Ignore constraint and index names."</span></span> <span data-ttu-id="3bbcf-217">Beachten Sie, dass im vorherigen Tutorial die Anwendungs Dienst-Datenbankobjekte zu den Entwicklungs-und Produktionsdatenbanken hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-217">Recall that in the preceding tutorial we added the application services database objects to the development and production databases.</span></span> <span data-ttu-id="3bbcf-218">Wenn Sie das `aspnet_regsql.exe` Tool verwendet haben, um diese Objekte in der Produktionsdatenbank zu erstellen, werden Sie feststellen, dass sich die Namen der PRIMARY KEY-und Unique-Einschränkung zwischen den Entwicklungs-und Produktionsdatenbanken unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-218">If you used the `aspnet_regsql.exe` tool to create these objects on the production database then you will find that the primary key and unique constraint names differ between the development and production databases.</span></span> <span data-ttu-id="3bbcf-219">Folglich werden in SQL Compare alle Tabellen der Anwendungsdienste als unterschiedlich gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-219">Consequently, SQL Compare will flag all of the application services tables as differing.</span></span> <span data-ttu-id="3bbcf-220">Sie können entweder die Option "Einschränkungs-und Indexnamen ignorieren" deaktiviert lassen und die Einschränkungs Namen synchronisieren oder den SQL-Vergleich anweisen, diese Unterschiede zu ignorieren.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-220">You can either leave the "Ignore constraint and index names" unchecked and synchronize the constraint names, or instruct SQL Compare to ignore these differences.</span></span>

<span data-ttu-id="3bbcf-221">Nachdem Sie die zu vergleichenden Datenbanken ausgewählt (und die Vergleichs Optionen überprüft haben), klicken Sie auf die Schaltfläche jetzt vergleichen, um den Vergleich zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-221">After selecting the databases to compare (and reviewing the comparison options), click the Compare Now button to begin the comparison.</span></span> <span data-ttu-id="3bbcf-222">In den nächsten Sekunden untersucht SQL Compare die Schemas der beiden Datenbanken und generiert einen Bericht darüber, wie sich diese unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-222">Over the next several seconds, SQL Compare examines the schemas of the two databases and generates a report of how they differ.</span></span> <span data-ttu-id="3bbcf-223">Ich habe absichtlich einige Änderungen an der Entwicklungs Datenbank vorgenommen, um zu veranschaulichen, wie diese Abweichungen in der SQL Compare-Schnittstelle vermerkt werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-223">I ve purposefully made some modifications to the development database to show how such discrepancies are noted in the SQL Compare interface.</span></span> <span data-ttu-id="3bbcf-224">Wie in Abbildung 2 gezeigt, habe ich der Tabelle "`Authors`" eine `BirthDate` Spalte hinzugefügt, die Spalte "`ISBN`" aus der `Books` Tabelle entfernt und eine neue Tabelle hinzugefügt `Ratings`, mit der die Benutzer auf der Website die überprüften Bücher besuchen können.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-224">As Figure 2 shows, I ve added a `BirthDate` column to the `Authors` table, removed the `ISBN` column from the `Books` table, and added a new table, `Ratings`, which is meant to let users visiting the site rate the reviewed books.</span></span>

> [!NOTE]
> <span data-ttu-id="3bbcf-225">Die Änderungen an den Datenmodellen, die in diesem Tutorial vorgenommen wurden, wurden mit einem Daten Bank Vergleichstool veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-225">The data model changes made in this tutorial were done to illustrate using a database comparison tool.</span></span> <span data-ttu-id="3bbcf-226">Sie finden diese Änderungen in zukünftigen Tutorials nicht in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-226">You will not find these changes in the database in future tutorials.</span></span>

<span data-ttu-id="3bbcf-227">[in ![SQL-Vergleich werden die Unterschiede zwischen den Entwicklungs-und Produktionsdatenbanken aufgeführt.](strategies-for-database-development-and-deployment-vb/_static/image5.jpg)](strategies-for-database-development-and-deployment-vb/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="3bbcf-227">[![SQL Compare Lists the Differences Between the Development and Production Databases](strategies-for-database-development-and-deployment-vb/_static/image5.jpg)](strategies-for-database-development-and-deployment-vb/_static/image4.jpg)</span></span>

<span data-ttu-id="3bbcf-228">**Abbildung 2**: SQL Compare listet die Unterschiede zwischen den Entwicklungs-und Produktionsdatenbanken auf ([Klicken Sie, um das Bild in voller Größe anzuzeigen](strategies-for-database-development-and-deployment-vb/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="3bbcf-228">**Figure 2**: SQL Compare Lists the Differences Between the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image6.jpg))</span></span>

<span data-ttu-id="3bbcf-229">Der SQL-Vergleich teilt die Datenbankobjekte in Gruppen auf und zeigt Ihnen schnell, welche Objekte in beiden Datenbanken vorhanden sind, aber unterschiedlich sind, welche Objekte in einer Datenbank, aber nicht in der anderen vorhanden sind und welche Objekte identisch sind.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-229">SQL Compare breaks down the database objects into groups, quickly showing you what objects exist in both databases but are different, which objects exist in one database but not the other, and which objects are identical.</span></span> <span data-ttu-id="3bbcf-230">Wie Sie sehen können, gibt es zwei Objekte, die in beiden Datenbanken vorhanden sind, sich jedoch unterscheiden: die `Authors` Tabelle, der eine Spalte hinzugefügt wurde, und die `Books` Tabelle, für die eine Spalte entfernt wurde.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-230">As you can see, there are two objects that exist in both databases but are different: the `Authors` table, which had a column added, and the `Books` table, which had one removed.</span></span> <span data-ttu-id="3bbcf-231">Es gibt ein-Objekt, das nur in der Entwicklungs Datenbank vorhanden ist, nämlich die neu erstellte `Ratings` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-231">There is one object that exists only in the development database, namely the newly created `Ratings` table.</span></span> <span data-ttu-id="3bbcf-232">Und es gibt 117-Objekte, die in beiden Datenbanken identisch sind.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-232">And there are 117 objects that are identical in both databases.</span></span>

<span data-ttu-id="3bbcf-233">Wenn Sie ein Datenbankobjekt auswählen, wird das Fenster SQL-Unterschiede angezeigt</span><span class="sxs-lookup"><span data-stu-id="3bbcf-233">Selecting a database object displays the SQL Differences window, which shows how these objects differ.</span></span> <span data-ttu-id="3bbcf-234">Das Fenster SQL-Unterschiede, das am unteren Rand in Abbildung 2 angezeigt wird, verdeutlicht, dass die `Authors` Tabelle in der Entwicklungs Datenbank die `BirthDate` Spalte enthält, die in der `Authors`-Tabelle der Produktionsdatenbank nicht gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-234">The SQL Differences window, displayed at the bottom in Figure 2, highlights that the `Authors` table in the development database has the `BirthDate` column, which is not found in the `Authors` table on the production database.</span></span>

<span data-ttu-id="3bbcf-235">Nachdem Sie die Unterschiede überprüft und ausgewählt haben, welche Objekte synchronisiert werden sollen, besteht der nächste Schritt darin, die SQL-Befehle zu generieren, die erforderlich sind, um das s-Schema der Produktionsdatenbank entsprechend der Entwicklungs Datenbank zu aktualisieren</span><span class="sxs-lookup"><span data-stu-id="3bbcf-235">After reviewing the differences and selecting which objects you want to synchronize, the next step is to generate the SQL commands needed to update the production database s schema to match the development database.</span></span> <span data-ttu-id="3bbcf-236">Dies erfolgt über den Synchronisierungs-Assistenten.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-236">This is accomplished through the Synchronization Wizard.</span></span> <span data-ttu-id="3bbcf-237">Der Synchronisierungs-Assistent bestätigt, welche Objekte synchronisiert werden sollen, und fasst den Aktionsplan zusammen (siehe Abbildung 3).</span><span class="sxs-lookup"><span data-stu-id="3bbcf-237">The Synchronization Wizard confirms what objects to synchronize and summarizes the action plan (see Figure 3).</span></span> <span data-ttu-id="3bbcf-238">Sie können die Datenbanken sofort synchronisieren oder ein Skript mit den SQL-Befehlen generieren, die Sie in ihrer Freizeit ausführen können.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-238">You can synchronize the databases immediately or generate a script with the SQL commands that can be run at your leisure.</span></span>

<span data-ttu-id="3bbcf-239">[![mit dem Synchronisierungs-Assistenten Ihre Datenbankschemas synchronisieren](strategies-for-database-development-and-deployment-vb/_static/image8.jpg)](strategies-for-database-development-and-deployment-vb/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="3bbcf-239">[![Use the Synchronization Wizard to Synchronize Your Databases Schemas](strategies-for-database-development-and-deployment-vb/_static/image8.jpg)](strategies-for-database-development-and-deployment-vb/_static/image7.jpg)</span></span>

<span data-ttu-id="3bbcf-240">**Abbildung 3**: Verwenden des Synchronisierungs-Assistenten zum Synchronisieren der Datenbankschemas ([Klicken Sie, um das Bild in voller Größe anzuzeigen](strategies-for-database-development-and-deployment-vb/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="3bbcf-240">**Figure 3**: Use the Synchronization Wizard to Synchronize Your Databases Schemas ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image9.jpg))</span></span>

<span data-ttu-id="3bbcf-241">Daten Bank Vergleichs Tools wie Red Gate Software s SQL Compare machen das Anwenden der Änderungen auf das Schema der Entwicklungs Datenbank so einfach wie Point und Click.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-241">Database comparison tools like Red Gate Software s SQL Compare make applying the changes to the development database schema to the production database as easy as point and click.</span></span>

> [!NOTE]
> <span data-ttu-id="3bbcf-242">SQL Compare vergleicht und synchronisiert zwei Daten Bank *Schemas*.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-242">SQL Compare compares and synchronizes two databases *schemas*.</span></span> <span data-ttu-id="3bbcf-243">Leider werden die Daten in zwei Datenbanktabellen nicht verglichen und synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-243">Unfortunately, it does not compare and synchronize the data within two databases tables.</span></span> <span data-ttu-id="3bbcf-244">Die Red Gate-Software bietet ein Produkt mit dem Namen [*SQL Data Compare*](http://www.red-gate.com/products/SQL_Data_Compare/) , das die Daten zwischen zwei Datenbanken vergleicht und synchronisiert. es handelt sich jedoch um ein separates Produkt aus SQL-vergleichen und Kosten mit einem weiteren $395.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-244">Red Gate Software does offer a product named [*SQL Data Compare*](http://www.red-gate.com/products/SQL_Data_Compare/) that compares and synchronizes the data between two databases, but it is a separate product from SQL Compare and costs another $395.</span></span>

## <a name="taking-the-application-offline-during-deployment"></a><span data-ttu-id="3bbcf-245">Offline schalten der Anwendung während der Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="3bbcf-245">Taking the Application Offline During Deployment</span></span>

<span data-ttu-id="3bbcf-246">Wie wir in diesen Tutorials gesehen haben, ist die Bereitstellung ein Prozess, der mehrere Schritte umfasst: Kopieren der ASP.NET-Seiten, Masterseiten, CSS-Dateien, JavaScript-Dateien, Bilder und anderer erforderlicher Inhalte aus der Entwicklungsumgebung in die Produktionsumgebung. Umgebung nach Bedarf werden die Konfigurationsinformationen für die Produktionsumgebung kopiert. und Anwenden der Änderungen auf das Datenmodell seit der letzten Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-246">As we ve seen throughout these tutorials, deployment is a process that involves multiple steps: copying the ASP.NET pages, master pages, CSS files, JavaScript files, images, and other necessary content from the development environment to the production environment; copying up the production environment-specific configuration information, if needed; and applying the changes to the data model since the last deployment.</span></span> <span data-ttu-id="3bbcf-247">Abhängig von der Anzahl der Dateien und der Komplexität der Änderungen an der Datenbank kann es zwischen wenigen Sekunden und mehreren Minuten dauern, bis diese Schritte abgeschlossen sind.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-247">Depending on the number of files and the complexity of your database changes, these steps can take anywhere from a few seconds to several minutes to complete.</span></span> <span data-ttu-id="3bbcf-248">Während dieses Fensters befindet sich die Webanwendung in Flux, und Benutzer, die die Website besuchen, können Fehler oder unerwartetes Verhalten auftreten.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-248">During this window the web application is in flux and users visiting the site may experience errors or unexpected behavior.</span></span>

<span data-ttu-id="3bbcf-249">Beim Bereitstellen einer Website ist es am besten, die Webanwendung "Offline" zu nehmen, bis die Bereitstellung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-249">When deploying a website it is best to take the web application "offline" until deployment has completed.</span></span> <span data-ttu-id="3bbcf-250">Wenn Sie die Anwendung offline schalten (und Sie nach Abschluss des Bereitstellungs Prozesses wieder in Betrieb nehmen), ist das Hochladen einer Datei und das anschließende Löschen von Dateien ganz einfach.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-250">Taking the application offline (and bringing it back up once the deployment process has finished) is as easy as uploading a file and then deleting it.</span></span> <span data-ttu-id="3bbcf-251">Ab ASP.NET 2,0 wird durch das bloße vorhanden sein einer Datei mit dem Namen `app_offline.htm` im Stammverzeichnis der Anwendung die gesamte Website "Offline".</span><span class="sxs-lookup"><span data-stu-id="3bbcf-251">Starting with ASP.NET 2.0, the mere presence of a file named `app_offline.htm` in the application s root directory takes the entire website "offline."</span></span> <span data-ttu-id="3bbcf-252">Jede Anforderung an eine ASP.NET-Seite auf dieser Website wird automatisch mit dem Inhalt der `app_offline.htm` Datei beantwortet.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-252">Any request to an ASP.NET page on that site is automatically responded with the contents of the `app_offline.htm` file.</span></span> <span data-ttu-id="3bbcf-253">Nachdem diese Datei entfernt wurde, wird die Anwendung wieder online geschaltet.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-253">Once that file is removed, the application comes back online.</span></span>

<span data-ttu-id="3bbcf-254">Wenn eine Anwendung während der Bereitstellung offline geschaltet wird, ist es so einfach wie das Hochladen einer `app_offline.htm` Datei in das Stammverzeichnis der Produktionsumgebung vor dem Start des Bereitstellungs Prozesses und dem anschließenden löschen (oder umbenennen in etwas anderes) nach Abschluss der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-254">Taking an application offline during deployment, then, is as simple as uploading an `app_offline.htm` file to the production environment s root directory prior to beginning the deployment process and then deleting it (or renaming it to something else) once deployment is complete.</span></span> <span data-ttu-id="3bbcf-255">Weitere Informationen zu diesem Verfahren finden Sie im Artikel über das offline schalten einer [*ASP.NET-Anwendung*](http://www.15seconds.com/issue/061207.htm)in John Peterson.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-255">For more information on this technique refer to John Peterson s article, Taking an [*ASP.NET Application Offline*](http://www.15seconds.com/issue/061207.htm).</span></span>

## <a name="summary"></a><span data-ttu-id="3bbcf-256">Summary</span><span class="sxs-lookup"><span data-stu-id="3bbcf-256">Summary</span></span>

<span data-ttu-id="3bbcf-257">Die größte Herausforderung beim Bereitstellen einer datengesteuerten Anwendung liegt auf der Bereitstellung der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-257">The main challenge in deploying a data-driven application centers around deploying the database.</span></span> <span data-ttu-id="3bbcf-258">Da es zwei Versionen der-Datenbank gibt: eine in der Entwicklungsumgebung und eine in der Produktionsumgebung. diese beiden Datenbankschemas können nicht mehr synchronisiert werden, da neue Features in der Entwicklung hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-258">Because there are two versions of the database - one in the development environment and one in the production environment - these two databases schemas can become out of sync as new features are added in development.</span></span> <span data-ttu-id="3bbcf-259">Wenn die Produktionsdatenbank mit echten Daten von echten Benutzern aufgefüllt wird, können Sie die Produktionsdatenbank nicht mit der geänderten Entwicklungs Datenbank überschreiben, wie Sie es beim Bereitstellen der Dateien, aus denen die Anwendung besteht (die ASP.NET Seiten, Bilddateien usw.).</span><span class="sxs-lookup"><span data-stu-id="3bbcf-259">What s more, because the production database as being populated with real data from real users, you cannot overwrite the production database with the modified development database like you can when deploying the files that make up the application (the ASP.NET pages, image files, and so forth).</span></span> <span data-ttu-id="3bbcf-260">Stattdessen muss bei der Bereitstellung einer Datenbank der genaue Satz von Änderungen implementiert werden, die seit der letzten Bereitstellung an der Entwicklungs Datenbank in der Produktionsdatenbank vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-260">Instead, deploying a database entails implementing the precise set of changes made to the development database on the production database since the last deployment.</span></span>

<span data-ttu-id="3bbcf-261">In diesem Tutorial wurden drei Techniken zum Verwalten und Anwenden eines Protokolls von Daten Bank Änderungen behandelt.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-261">This tutorial looked at three techniques for maintaining and applying a log of database changes.</span></span> <span data-ttu-id="3bbcf-262">Der einfachste Ansatz besteht darin, die Änderungen in der Prosa aufzuzeichnen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-262">The simplest approach is to record the changes in prose.</span></span> <span data-ttu-id="3bbcf-263">Diese Taktik bewirkt zwar, dass diese Änderungen in der Produktionsdatenbank manuell verarbeitet werden, aber es ist nicht erforderlich, die SQL-Befehle zum Erstellen und Ändern von Datenbankobjekten zu kennen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-263">While this tactic makes implementing these changes on the production database a manual process, it does not require knowledge of the SQL commands for creating and altering database objects.</span></span> <span data-ttu-id="3bbcf-264">Ein anspruchsvolleres Verfahren, das in größeren Projekten oder Projekten mit mehreren Entwicklern weitaus besser erkennbar ist, besteht darin, die Änderungen als eine Reihe von SQL-Befehlen aufzuzeichnen.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-264">A more sophisticated approach, and one that is much more palatable in larger projects or projects with multiple developers, is to record the changes as a series of SQL commands.</span></span> <span data-ttu-id="3bbcf-265">Dies hat deutlich zu tun, dass diese Änderungen in der Zieldatenbank durchgängig werden.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-265">This greatly hastens rolling out these changes to the target database.</span></span> <span data-ttu-id="3bbcf-266">Das Beste aus beiden Ansätzen kann mit einem Daten Bank Vergleichstool erzielt werden, wie z. b. Red Gate Software s SQL Compare.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-266">The best of both approaches can be achieved by using a database comparison tool, such as Red Gate Software s SQL Compare.</span></span>

<span data-ttu-id="3bbcf-267">Dieses Tutorial schließt den Schwerpunkt auf die Bereitstellung einer datengesteuerten Anwendung ab.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-267">This tutorial concludes our focus on deploying a data-driven application.</span></span> <span data-ttu-id="3bbcf-268">In den nächsten Tutorials wird erläutert, wie auf Fehler in der Produktionsumgebung reagiert wird.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-268">The next set of tutorials looks at how to respond to errors in the production environment.</span></span> <span data-ttu-id="3bbcf-269">Wir sehen uns an, wie anstelle des gelben Bildschirms eine benutzerfreundliche Fehlerseite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-269">We'll look at how to display a friendly error page rather instead of the Yellow Screen of Death.</span></span> <span data-ttu-id="3bbcf-270">Und wir sehen, wie die Fehlerdetails protokolliert werden und wie Sie benachrichtigt werden, wenn derartige Fehler auftreten.</span><span class="sxs-lookup"><span data-stu-id="3bbcf-270">And we'll see how to log the error s details and how to alert you when such errors occur.</span></span>

<span data-ttu-id="3bbcf-271">Fröhliche Programmierung!</span><span class="sxs-lookup"><span data-stu-id="3bbcf-271">Happy Programming!</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3bbcf-272">[Zurück](configuring-a-website-that-uses-application-services-vb.md)
> [Weiter](displaying-a-custom-error-page-vb.md)</span><span class="sxs-lookup"><span data-stu-id="3bbcf-272">[Previous](configuring-a-website-that-uses-application-services-vb.md)
[Next](displaying-a-custom-error-page-vb.md)</span></span>
