---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12
title: 'Bereitstellen einer ASP.NET-Webanwendung mit SQL Server Compact mit Visual Studio oder Visual Web Developer: Bereitstellen in IIS als Testumgebung - 5, 12 | Microsoft-Dokumentation'
author: tdykstra
description: In dieser tutorialreihe erfahren Sie, wie zum Bereitstellen einer ASP.NET-Anwendung (veröffentlichen) Webanwendungsprojekt, die eine SQL Server Compact-Datenbank enthält, mithilfe von Visual Stu...
ms.author: riande
ms.date: 11/17/2011
ms.assetid: 493b2a66-816c-485c-8315-952ed1085ccc
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12
msc.type: authoredcontent
ms.openlocfilehash: 624d99ccbb0da1281b8c9cd8503507f22742e7a7
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/06/2019
ms.locfileid: "65132311"
---
# <a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-iis-as-a-test-environment---5-of-12"></a><span data-ttu-id="df6e0-103">Bereitstellen einer ASP.NET-Webanwendung mit SQL Server Compact mit Visual Studio oder Visual Web Developer: Bereitstellen in IIS als Testumgebung - 5, 12</span><span class="sxs-lookup"><span data-stu-id="df6e0-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to IIS as a Test Environment - 5 of 12</span></span>

<span data-ttu-id="df6e0-104">durch [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="df6e0-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="df6e0-105">Startprojekt herunterladen</span><span class="sxs-lookup"><span data-stu-id="df6e0-105">Download Starter Project</span></span>](http://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="df6e0-106">In dieser tutorialreihe erfahren Sie, wie zum Bereitstellen einer ASP.NET-Anwendung (veröffentlichen) Webanwendungsprojekt, das eine SQL Server Compact-Datenbank mithilfe von Visual Studio 2012 RC oder Visual Studio Express 2012 RC für Web enthält.</span><span class="sxs-lookup"><span data-stu-id="df6e0-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="df6e0-107">Sie können auch Visual Studio 2010 verwenden, wenn Sie die Web Publish Update installieren.</span><span class="sxs-lookup"><span data-stu-id="df6e0-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="df6e0-108">Eine Einführung in die Reihe, finden Sie unter [im ersten Tutorial der Reihe](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="df6e0-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="df6e0-109">Ein Lernprogramm, das zeigt, Bereitstellungsfunktionen, die nach der RC-Version von Visual Studio 2012 eingeführt wurden, zeigt, wie zum Bereitstellen von SQL Server-Editionen als SQL Server Compact und zeigt, wie Sie in Azure App Service-Web-Apps bereitstellen, finden Sie unter [ASP.NET-webbereitstellung Mithilfe von Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="df6e0-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="df6e0-110">Übersicht</span><span class="sxs-lookup"><span data-stu-id="df6e0-110">Overview</span></span>

<span data-ttu-id="df6e0-111">Dieses Tutorial veranschaulicht, wie eine ASP.NET-Webanwendung in IIS auf dem lokalen Computer bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-111">This tutorial shows how to deploy an ASP.NET web application to IIS on the local computer.</span></span>

<span data-ttu-id="df6e0-112">Wenn Sie eine Anwendung entwickeln, testen Sie in der Regel, indem Sie sie in Visual Studio ausführen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-112">When you develop an application, you generally test by running it in Visual Studio.</span></span> <span data-ttu-id="df6e0-113">Standardmäßig bedeutet dies, dass Sie Visual Studio Development Server (auch als Cassini bezeichnet) verwenden.</span><span class="sxs-lookup"><span data-stu-id="df6e0-113">By default, this means you're using the Visual Studio Development Server (also known as Cassini).</span></span> <span data-ttu-id="df6e0-114">Visual Studio Development Server erleichtert Ihnen während der Entwicklung in Visual Studio zu testen, aber es funktioniert nicht, genau wie IIS.</span><span class="sxs-lookup"><span data-stu-id="df6e0-114">The Visual Studio Development Server makes it easy to test during development in Visual Studio, but it doesn't work exactly like IIS.</span></span> <span data-ttu-id="df6e0-115">Daher ist es möglich, dass eine Anwendung ordnungsgemäß ausgeführt wird, wenn Sie es in Visual Studio testen, jedoch fehl, wenn er für IIS in einer hostumgebung bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="df6e0-115">As a result, it's possible that an application will run correctly when you test it in Visual Studio, but fail when it's deployed to IIS in a hosting environment.</span></span>

<span data-ttu-id="df6e0-116">Sie können Ihre Anwendung zuverlässiger auf folgende Arten testen:</span><span class="sxs-lookup"><span data-stu-id="df6e0-116">You can test your application more reliably in these ways:</span></span>

1. <span data-ttu-id="df6e0-117">Verwenden Sie IIS Express oder vollständige Variante von IIS anstelle von Visual Studio Development Server ein, wenn Sie während der Entwicklung in Visual Studio testen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-117">Use IIS Express or full IIS instead of the Visual Studio Development Server when you test in Visual Studio during development.</span></span> <span data-ttu-id="df6e0-118">Diese Methode emuliert die in der Regel genauer wie Ihre Website unter IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="df6e0-118">This method generally emulates more accurately how your site will run under IIS.</span></span> <span data-ttu-id="df6e0-119">Aber diese Methode nicht getestet Ihres Bereitstellungsprozesses oder überprüfen, dass das Ergebnis des Bereitstellungsprozesses ordnungsgemäß ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="df6e0-119">However, this method does not test your deployment process or validate that the result of the deployment process will run correctly.</span></span>
2. <span data-ttu-id="df6e0-120">Bereitstellen der Anwendung in IIS auf Ihrem Entwicklungscomputer unter Verwendung des gleichen Prozesses, die Sie später verwenden sie in Ihrer produktionsumgebung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-120">Deploy the application to IIS on your development computer by using the same process that you'll use later to deploy it to your production environment.</span></span> <span data-ttu-id="df6e0-121">Diese Methode überprüft, ob Ihr Bereitstellungsprozess zusätzlich zu überprüfen, den Ihre Anwendung unter IIS ordnungsgemäß ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="df6e0-121">This method validates your deployment process in addition to validating that your application will run correctly under IIS.</span></span>
3. <span data-ttu-id="df6e0-122">Bereitstellen der Anwendung in einer testumgebung bereit, die so nah wie möglich in der produktionsumgebung bereit ist.</span><span class="sxs-lookup"><span data-stu-id="df6e0-122">Deploy the application to a test environment that is as close as possible to your production environment.</span></span> <span data-ttu-id="df6e0-123">Da die produktionsumgebung für diese Tutorials eine Drittanbieter-hosting-Anbieter ist, wäre die ideale testumgebung ein zweites Konto mit dem hosting-Anbieter.</span><span class="sxs-lookup"><span data-stu-id="df6e0-123">Since the production environment for these tutorials is a third-party hosting provider, the ideal test environment would be a second account with the hosting provider.</span></span> <span data-ttu-id="df6e0-124">Verwenden Sie dieses zweite Konto nur für Tests, aber es würde die gleiche Weise wie das Produktionskonto einrichten festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="df6e0-124">You would use this second account only for testing, but it would be set up the same way as the production account.</span></span>

<span data-ttu-id="df6e0-125">In diesem Tutorial wird gezeigt, die Schritte für Option 2.</span><span class="sxs-lookup"><span data-stu-id="df6e0-125">This tutorial shows the steps for option 2.</span></span> <span data-ttu-id="df6e0-126">Anleitungen für die Option 3 finden Sie am Ende der [in der Produktionsumgebung bereitstellen](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) Tutorial und am Ende dieses Tutorials stehen Links zu Ressourcen für Option 1 aus.</span><span class="sxs-lookup"><span data-stu-id="df6e0-126">Guidance for option 3 is provided at the end of the [Deploying to the Production Environment](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) tutorial, and at the end of this tutorial there are links to resources for option 1.</span></span>

<span data-ttu-id="df6e0-127">Erinnerung: Wenn Sie eine Fehlermeldung erhalten, oder etwas nicht funktioniert, wie Sie das Lernprogramm durchzuarbeiten, sollten Sie unbedingt die [Problembehandlungsseite](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="df6e0-127">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="configuring-the-application-to-run-in-medium-trust"></a><span data-ttu-id="df6e0-128">Konfigurieren die Anwendung für die Ausführung in mittlerer Vertrauenswürdigkeit</span><span class="sxs-lookup"><span data-stu-id="df6e0-128">Configuring the Application to Run in Medium Trust</span></span>

<span data-ttu-id="df6e0-129">Ändern Sie eine Einstellung einer "Web.config" vor dem Installieren von IIS und darauf bereitstellen, um den Standort führen mehr zu machen, wie es in einer typischen gemeinsamen Hostingumgebung wird.</span><span class="sxs-lookup"><span data-stu-id="df6e0-129">Before installing IIS and deploying to it, you'll change a Web.config file setting in order to make the site run more like it will in a typical shared hosting environment.</span></span>

<span data-ttu-id="df6e0-130">Hostinganbieter in der Regel führen Sie Ihre Website *mittlerer Vertrauenswürdigkeit*, was bedeutet, es gibt einige Dinge, darf es nicht tun.</span><span class="sxs-lookup"><span data-stu-id="df6e0-130">Hosting providers typically run your web site in *medium trust*, which means there are some things it is not allowed to do.</span></span> <span data-ttu-id="df6e0-131">Z. B. kann nicht Anwendungscode auf die Windows-Registrierung zugreifen und kann nicht lesen oder Schreiben von Dateien, die außerhalb der Ordnerhierarchie Ihrer Anwendung sind.</span><span class="sxs-lookup"><span data-stu-id="df6e0-131">For example, application code can't access the Windows registry and can't read or write files that are outside of your application's folder hierarchy.</span></span> <span data-ttu-id="df6e0-132">Wird standardmäßig die Anwendung ausgeführt wird, im *hohe Vertrauensebene* auf dem lokalen Computer, was bedeutet, dass es sich bei die Anwendung möglicherweise mehr Möglichkeiten, die fehlschlagen, wenn Sie sie in der produktionsumgebung bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="df6e0-132">By default your application runs in *high trust* on your local computer, which means that the application might be able to do things that would fail when you deploy it to production.</span></span> <span data-ttu-id="df6e0-133">Damit wird der testumgebung, die mehr genau wider die produktionsumgebung, konfigurieren Sie daher die Anwendung mit mittlerer Vertrauenswürdigkeit ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-133">Therefore, to make the test environment more accurately reflect the production environment, you'll configure the application to run in medium trust.</span></span>

<span data-ttu-id="df6e0-134">Fügen Sie in der Datei "Web.config" der Anwendung eine **Vertrauensstellung** Element in der **"System.Web"** Element, wie im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-134">In the application Web.config file, add a **trust** element in the **system.web** element, as shown in this example.</span></span>

[!code-xml[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample1.xml?highlight=4)]

<span data-ttu-id="df6e0-135">Die Anwendung wird jetzt auch auf dem lokalen Computer mittlerer Vertrauenswürdigkeit in IIS ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-135">The application will now run in medium trust in IIS even on your local computer.</span></span> <span data-ttu-id="df6e0-136">Mit dieser Einstellung können Sie so früh wie möglich alle Versuche vom Anwendungscode, etwas zu tun abfangen, die in der produktionsumgebung ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-136">This setting enables you to catch as early as possible any attempts by application code to do something that would fail in production.</span></span>

> [!NOTE]
> <span data-ttu-id="df6e0-137">Wenn Sie Entity Framework Code First-Migrationen verwenden, stellen Sie sicher, dass Sie Version 5.0 oder höher installiert.</span><span class="sxs-lookup"><span data-stu-id="df6e0-137">If you are using Entity Framework Code First Migrations, make sure that you have version 5.0 or later installed.</span></span> <span data-ttu-id="df6e0-138">In Entity Framework, Version 4.3 Migrationen erfordert volles Vertrauen um das Datenbankschema zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="df6e0-138">In Entity Framework version 4.3, Migrations requires full trust in order to update the database schema.</span></span>

## <a name="installing-iis-and-web-deploy"></a><span data-ttu-id="df6e0-139">Installieren von IIS und Web bereitstellen</span><span class="sxs-lookup"><span data-stu-id="df6e0-139">Installing IIS and Web Deploy</span></span>

<span data-ttu-id="df6e0-140">Zum Bereitstellen in IIS auf dem Entwicklungscomputer müssen Sie IIS und Web Deploy installiert.</span><span class="sxs-lookup"><span data-stu-id="df6e0-140">To deploy to IIS on your development computer, you must have IIS and Web Deploy installed.</span></span> <span data-ttu-id="df6e0-141">Diese sind nicht in der Standardkonfiguration von Windows 7 enthalten.</span><span class="sxs-lookup"><span data-stu-id="df6e0-141">These are not included in the default Windows 7 configuration.</span></span> <span data-ttu-id="df6e0-142">Wenn Sie sowohl IIS als auch Web Deploy bereits installiert haben, fahren Sie mit dem nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-142">If you have already installed both IIS and Web Deploy, skip to the next section.</span></span>

<span data-ttu-id="df6e0-143">Mithilfe der [Webplattform-Installer](https://www.microsoft.com/web/downloads/platform.aspx) ist die bevorzugte Methode für IIS und Web Deploy zu installieren, da der Webplattform-Installer installiert die empfohlene Konfiguration für IIS und automatisch die erforderlichen Komponenten für IIS und Web installiert Stellen Sie bei Bedarf bereit.</span><span class="sxs-lookup"><span data-stu-id="df6e0-143">Using the [Web Platform Installer](https://www.microsoft.com/web/downloads/platform.aspx) is the preferred way to install IIS and Web Deploy, because the Web Platform Installer installs a recommended configuration for IIS and it automatically installs the prerequisites for IIS and Web Deploy if necessary.</span></span>

<span data-ttu-id="df6e0-144">Führen Sie zum Installieren von IIS und Web Deploy-Webplattform-Installer mit den folgenden Link.</span><span class="sxs-lookup"><span data-stu-id="df6e0-144">To run Web Platform Installer to install IIS and Web Deploy, use the following link.</span></span> <span data-ttu-id="df6e0-145">Wenn Sie IIS, Web Deploy oder die erforderlichen Komponenten bereits installiert haben, installiert den Webplattform-Installer nur was fehlt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-145">If you already have installed IIS, Web Deploy or any of their required components, the Web Platform Installer installs only what is missing.</span></span>

- [<span data-ttu-id="df6e0-146">Installieren von IIS und Web Deploy unter Verwendung von WebPI</span><span class="sxs-lookup"><span data-stu-id="df6e0-146">Install IIS and Web Deploy using WebPI</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=IIS7;ASPNET;NETFramework4;WDeploy)

## <a name="setting-the-default-application-pool-to-net-4"></a><span data-ttu-id="df6e0-147">Durch Festlegen des Standardanwendungspools auf .NET 4</span><span class="sxs-lookup"><span data-stu-id="df6e0-147">Setting the Default Application Pool to .NET 4</span></span>

<span data-ttu-id="df6e0-148">Führen Sie nach dem Installieren von IIS, **IIS-Manager** um sicherzustellen, dass .NET Framework, Version 4 des Standardanwendungspools zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="df6e0-148">After installing IIS, run **IIS Manager** to make sure that the .NET Framework version 4 is assigned to the default application pool.</span></span>

<span data-ttu-id="df6e0-149">Von der Windows **starten** , wählen Sie im Menü **ausführen**, geben Sie "Inetmgr", und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-149">From the Windows **Start** menu, select **Run**, enter "inetmgr", and then click **OK**.</span></span> <span data-ttu-id="df6e0-150">(Wenn die **ausführen** Befehl ist nicht in Ihrem **starten** Menü können Sie drücken, die Windows-Taste und R, um ihn zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-150">(If the **Run** command is not in your **Start** menu, you can press the Windows Key and R to open it.</span></span> <span data-ttu-id="df6e0-151">Oder mit der rechten Maustaste in der Taskleiste, klicken Sie auf **Eigenschaften**, wählen die **Menü "Start"** auf **anpassen**, und wählen Sie **Ausführungsbefehl**.)</span><span class="sxs-lookup"><span data-stu-id="df6e0-151">Or right-click the taskbar, click **Properties**, select the **Start Menu** tab, click **Customize**, and select **Run command**.)</span></span>

<span data-ttu-id="df6e0-152">In der **Verbindungen** Bereich, erweitern Sie den Serverknoten und wählen Sie **Anwendungspools**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-152">In the **Connections** pane, expand the server node and select **Application Pools**.</span></span> <span data-ttu-id="df6e0-153">In der **Anwendungspools** Bereich Wenn **DefaultAppPool** ist .NET Frameworkversion 4, wie in der folgenden Abbildung werden zugewiesen, mit dem nächsten Abschnitt überspringen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-153">In the **Application Pools** pane, if **DefaultAppPool** is assigned to the .NET framework version 4 as in the following illustration, skip to the next section.</span></span>

<span data-ttu-id="df6e0-154">[![Inetmgr_showing_4.0_app_pools](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-154">[![Inetmgr_showing_4.0_app_pools](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image1.png)</span></span>

<span data-ttu-id="df6e0-155">Wenn Sie sehen, dass nur zwei Anwendungspools, und beide Angaben, die auf .NET Framework 2.0 festgelegt sind, müssen Sie ASP.NET 4 in IIS zu installieren:</span><span class="sxs-lookup"><span data-stu-id="df6e0-155">If you see only two application pools and both of them are set to the .NET Framework 2.0, you have to install ASP.NET 4 in IIS:</span></span>

- <span data-ttu-id="df6e0-156">Öffnen Sie ein Eingabeaufforderungsfenster, indem Sie mit der rechten Maustaste **Eingabeaufforderung** in der Windows **starten** Menü und auswählen **als Administrator ausführen**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-156">Open a command prompt window by right-clicking **Command Prompt** in the Windows **Start** menu and selecting **Run as Administrator**.</span></span> <span data-ttu-id="df6e0-157">Führen Sie dann [Aspnet\_regiis.exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) ASP.NET 4 in IIS mit den folgenden Befehlen installieren.</span><span class="sxs-lookup"><span data-stu-id="df6e0-157">Then run [aspnet\_regiis.exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) to install ASP.NET 4 in IIS, using the following commands.</span></span> <span data-ttu-id="df6e0-158">(Ersetzen Sie in der 64-Bit-Systemen "Framework" mit "Framework64").</span><span class="sxs-lookup"><span data-stu-id="df6e0-158">(In 64-bit systems, replace "Framework" with "Framework64".)</span></span>

    [!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample2.cmd)]

    <span data-ttu-id="df6e0-159">[![aspnet_regiis_installing_ASP.NET_4](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-159">[![aspnet_regiis_installing_ASP.NET_4](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image3.png)</span></span>

    <span data-ttu-id="df6e0-160">Dieser Befehl erstellt neue Anwendungspools für die .NET Framework 4, aber der Standardanwendungspool wird immer noch auf 2.0 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-160">This command creates new application pools for the .NET Framework 4, but the default application pool will still be set to 2.0.</span></span> <span data-ttu-id="df6e0-161">Sie müssen einer Anwendung bereitstellen, das als Ziel .NET 4 an diesen Anwendungspool, müssen Sie den Anwendungspool in .NET 4 zu ändern.</span><span class="sxs-lookup"><span data-stu-id="df6e0-161">You'll be deploying an application that targets .NET 4 to that application pool, so you have to change the application pool to .NET 4.</span></span>

<span data-ttu-id="df6e0-162">Wenn Sie geschlossen **IIS-Manager**, führen sie erneut aus, erweitern Sie den Serverknoten und klicken Sie auf **Anwendungspools** zum Anzeigen der **Anwendungspools** erneut zum Bereich.</span><span class="sxs-lookup"><span data-stu-id="df6e0-162">If you closed **IIS Manager**, run it again, expand the server node, and click **Application Pools** to display the **Application Pools** pane again.</span></span>

<span data-ttu-id="df6e0-163">In der **Anwendungspools** Bereich klicken Sie auf **DefaultAppPool**, und klicken Sie dann in der **Aktionen** auf **Grundeinstellungen**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-163">In the **Application Pools** pane, click **DefaultAppPool**, and then in the **Actions** pane click **Basic Settings**.</span></span>

<span data-ttu-id="df6e0-164">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-164">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image5.png)</span></span>

<span data-ttu-id="df6e0-165">In der **Anwendungspool bearbeiten** im Dialogfeld **.NET Framework-Version** zu **.NET Framework-v4.0.30319** , und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-165">In the **Edit Application Pool** dialog box, change **.NET Framework version** to **.NET Framework v4.0.30319** and click **OK**.</span></span>

<span data-ttu-id="df6e0-166">[![Selecting_.NET_4_for_DefaultAppPool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-166">[![Selecting_.NET_4_for_DefaultAppPool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image7.png)</span></span>

<span data-ttu-id="df6e0-167">Sie können jetzt in IIS veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-167">You are now ready to publish to IIS.</span></span>

## <a name="publishing-to-iis"></a><span data-ttu-id="df6e0-168">Veröffentlichung in IIS</span><span class="sxs-lookup"><span data-stu-id="df6e0-168">Publishing to IIS</span></span>

<span data-ttu-id="df6e0-169">Es gibt mehrere Möglichkeiten, die Sie mithilfe von Visual Studio 2010 und Web Deploy bereitstellen können:</span><span class="sxs-lookup"><span data-stu-id="df6e0-169">There are several ways you can deploy using Visual Studio 2010 and Web Deploy:</span></span>

- <span data-ttu-id="df6e0-170">Verwenden Sie Visual Studio-One-Click-Veröffentlichung.</span><span class="sxs-lookup"><span data-stu-id="df6e0-170">Use Visual Studio one-click publish.</span></span>
- <span data-ttu-id="df6e0-171">Erstellen Sie eine *Bereitstellungspaket* herunter, und installieren Sie es mithilfe der IIS-Manager-UI.</span><span class="sxs-lookup"><span data-stu-id="df6e0-171">Create a *deployment package* and install it using the IIS Manager UI.</span></span> <span data-ttu-id="df6e0-172">Das Bereitstellungspaket besteht aus einem *ZIP* -Datei, enthält alle Dateien und Metadaten, die zum Installieren eines Standorts in IIS erforderlich.</span><span class="sxs-lookup"><span data-stu-id="df6e0-172">The deployment package consists of a *.zip* file that contains all the files and metadata needed to install a site in IIS.</span></span>
- <span data-ttu-id="df6e0-173">Erstellen eines Bereitstellungspakets aus, und installieren Sie es über die Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="df6e0-173">Create a deployment package and install it using the command line.</span></span>

<span data-ttu-id="df6e0-174">Der Prozess, die in Visual Studio einrichten, um automatisieren den vorherigen Tutorials durcharbeiten Bereitstellungsaufgaben gilt für alle diese drei Methoden.</span><span class="sxs-lookup"><span data-stu-id="df6e0-174">The process you went through in the previous tutorials to set up Visual Studio to automate deployment tasks applies to all of these three methods.</span></span> <span data-ttu-id="df6e0-175">In diesen Tutorials verwenden Sie die erste dieser Methoden.</span><span class="sxs-lookup"><span data-stu-id="df6e0-175">In these tutorials you'll use the first of these methods.</span></span> <span data-ttu-id="df6e0-176">Weitere Informationen zur Verwendung von Bereitstellungspaketen, finden Sie unter [ASP.NET die ASP.NET-Bereitstellung](https://msdn.microsoft.com/library/bb386521.aspx).</span><span class="sxs-lookup"><span data-stu-id="df6e0-176">For information about using deployment packages, see [ASP.NET Deployment Content Map](https://msdn.microsoft.com/library/bb386521.aspx).</span></span>

<span data-ttu-id="df6e0-177">Stellen Sie sicher, dass Sie Visual Studio im Administratormodus ausgeführt werden, vor der Veröffentlichung.</span><span class="sxs-lookup"><span data-stu-id="df6e0-177">Before publishing, make sure that you are running Visual Studio in administrator mode.</span></span> <span data-ttu-id="df6e0-178">(In der Windows 7 **starten** Menü, mit der rechten Maustaste in des Symbols für die Version von Visual Studio, die Sie verwenden, und wählen Sie **als Administrator ausführen**.) Im Administratormodus ist erforderlich, für die Veröffentlichung nur wenn Sie in IIS auf dem lokalen Computer veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-178">(In the Windows 7 **Start** menu, right-click the icon for the version of Visual Studio you're using and select **Run as Administrator**.) Administrator mode is required for publishing only when you are publishing to IIS on the local computer.</span></span>

<span data-ttu-id="df6e0-179">In **Projektmappen-Explorer**mit der rechten Maustaste auf das Projekt ContosoUniversity (nicht auf das Projekt ContosoUniversity.DAL), und wählen Sie **veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-179">In **Solution Explorer**, right-click the ContosoUniversity project (not the ContosoUniversity.DAL project) and select **Publish**.</span></span>

<span data-ttu-id="df6e0-180">Die **Webveröffentlichung** -Assistent wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-180">The **Publish Web** wizard appears.</span></span>

![Publish_Web_wizard_Profile_tab](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image9.png)

<span data-ttu-id="df6e0-182">Wählen Sie in der Dropdown-Liste  **&lt;neu... &gt;**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-182">In the drop-down list, select **&lt;New...&gt;**.</span></span>

<span data-ttu-id="df6e0-183">In der **neues Profil** Dialogfeld Geben Sie "Test", und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-183">In the **New Profile** dialog box, enter "Test", and then click **OK**.</span></span>

![Dialogfeld "Neues Profil"](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image10.png)

<span data-ttu-id="df6e0-185">Dieser Name ist identisch mit der mittlere Knoten die Web.Test.config umzuwandeln, die Sie zuvor erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="df6e0-185">This name is the same as the middle node of the Web.Test.config transform file that you created earlier.</span></span> <span data-ttu-id="df6e0-186">Diese Übereinstimmung ist, was bewirkt, dass die Web.Test.config Transformationen angewendet werden, wenn Sie mit diesem Profil veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-186">This correspondence is what causes the Web.Test.config transformations to be applied when you publish by using this profile.</span></span>

<span data-ttu-id="df6e0-187">Der Assistent springt automatisch zu den **Verbindung** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="df6e0-187">The wizard automatically advances to the **Connection** tab.</span></span>

<span data-ttu-id="df6e0-188">In der **-Dienst-URL** geben *"localhost"*.</span><span class="sxs-lookup"><span data-stu-id="df6e0-188">In the **Service URL** box, enter *localhost*.</span></span>

<span data-ttu-id="df6e0-189">In der **Website/Anwendung** geben *Default Web Site/ContosoUniversity*.</span><span class="sxs-lookup"><span data-stu-id="df6e0-189">In the **Site/application** box, enter *Default Web Site/ContosoUniversity*.</span></span>

<span data-ttu-id="df6e0-190">In der **Ziel-URL** geben `http://localhost/ContosoUniversity`.</span><span class="sxs-lookup"><span data-stu-id="df6e0-190">In the **Destination URL** box, enter `http://localhost/ContosoUniversity`.</span></span>

<span data-ttu-id="df6e0-191">Die **Ziel-URL** Einstellung ist nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="df6e0-191">The **Destination URL** setting isn't required.</span></span> <span data-ttu-id="df6e0-192">Wenn Visual Studio abgeschlossen ist, die Anwendung bereitstellen, wird er automatisch Ihren Standardbrowser mit dieser URL geöffnet.</span><span class="sxs-lookup"><span data-stu-id="df6e0-192">When Visual Studio finishes deploying the application, it automatically opens your default browser to this URL.</span></span> <span data-ttu-id="df6e0-193">Wenn Sie nicht möchten, dass den Browser nach der Bereitstellung automatisch geöffnet wird, lassen Sie dieses Feld leer.</span><span class="sxs-lookup"><span data-stu-id="df6e0-193">If you don't want the browser to open automatically after deployment, leave this box blank.</span></span>

![Publish_Web_wizard_Connection_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image11.png)

<span data-ttu-id="df6e0-195">Klicken Sie auf **Verbindung überprüfen** zu überprüfen, ob die Einstellungen richtig sind und Sie können mit IIS auf dem lokalen Computer verbinden.</span><span class="sxs-lookup"><span data-stu-id="df6e0-195">Click **Validate Connection** to verify that the settings are correct and you can connect to IIS on the local computer.</span></span>

<span data-ttu-id="df6e0-196">Ein grünes Häkchen stellt sicher, dass die Verbindung erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="df6e0-196">A green check mark verifies that the connection is successful.</span></span>

![Publish_Web_wizard_Connection_tab_validated](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image12.png)

<span data-ttu-id="df6e0-198">Klicken Sie auf **Weiter** , fahren Sie fort, um die **Einstellungen** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="df6e0-198">Click **Next** to advance to the **Settings** tab.</span></span>

<span data-ttu-id="df6e0-199">Die **Konfiguration** Dropdown-Feld gibt an, die Build-Konfiguration bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-199">The **Configuration** drop-down box specifies the build configuration to deploy.</span></span> <span data-ttu-id="df6e0-200">Der Standardwert ist die Version, die ist, was Sie wollen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-200">The default value is Release, which is what you want.</span></span>

<span data-ttu-id="df6e0-201">Lassen Sie die **entfernen weiterer Dateien am Ziel** das Kontrollkästchen deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="df6e0-201">Leave the **Remove additional files at destination** check box cleared.</span></span> <span data-ttu-id="df6e0-202">Da dies Ihre erste Bereitstellung ist, gibt es keine Dateien im Zielordner noch.</span><span class="sxs-lookup"><span data-stu-id="df6e0-202">Since this is your first deployment, there won't be any files in the destination folder yet.</span></span>

<span data-ttu-id="df6e0-203">In der **Datenbanken** Geben Sie den folgenden Wert in das Feld die Verbindungszeichenfolge für **SchoolContext**:</span><span class="sxs-lookup"><span data-stu-id="df6e0-203">In the **Databases** section, enter the following value in the connection string box for **SchoolContext**:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample3.cmd)]

<span data-ttu-id="df6e0-204">Während des Bereitstellungsvorgangs wird diese Verbindungszeichenfolge in der bereitgestellten Web.config-Datei einfügen, da **verwenden Sie diese Verbindungszeichenfolge zur Laufzeit** ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="df6e0-204">The deployment process will put this connection string in the deployed Web.config file because **Use this connection string at runtime** is selected.</span></span>

<span data-ttu-id="df6e0-205">Außerdem **SchoolContext**Option **anwenden Code First-Migrationen**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-205">Also under **SchoolContext**, select **Apply Code First Migrations**.</span></span> <span data-ttu-id="df6e0-206">Diese Option bewirkt, dass den Bereitstellungsprozess so konfigurieren Sie die bereitgestellte Datei "Web.config", an die `MigrateDatabaseToLatestVersion` Initialisierer.</span><span class="sxs-lookup"><span data-stu-id="df6e0-206">This option causes the deployment process to configure the deployed Web.config file to specify the `MigrateDatabaseToLatestVersion` initializer.</span></span> <span data-ttu-id="df6e0-207">Diese Initialisierer aktualisiert die Datenbank automatisch auf die neueste Version, wenn die Anwendung zum ersten Mal nach der Bereitstellung auf die Datenbank zugreift.</span><span class="sxs-lookup"><span data-stu-id="df6e0-207">This initializer automatically updates the database to the latest version when the application accesses the database for the first time after deployment.</span></span>

<span data-ttu-id="df6e0-208">Klicken Sie in das Feld die Verbindungszeichenfolge für **DefaultConnection**, geben Sie den folgenden Wert:</span><span class="sxs-lookup"><span data-stu-id="df6e0-208">In the connection string box for **DefaultConnection**, enter the following value:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample4.cmd)]

<span data-ttu-id="df6e0-209">Lassen Sie **Aktualisieren einer Datenbank** gelöscht.</span><span class="sxs-lookup"><span data-stu-id="df6e0-209">Leave **Update database** cleared.</span></span> <span data-ttu-id="df6e0-210">Die Mitgliedschaftsdatenbank wird bereitgestellt durch Kopieren die SDF-Datei in App\_Daten, und Sie möchten nicht den Bereitstellungsprozess mit dieser Datenbank weitere Schritte.</span><span class="sxs-lookup"><span data-stu-id="df6e0-210">The membership database will be deployed by copying the .sdf file in App\_Data, and you don't want the deployment process to do anything else with this database.</span></span>

![Publish_Web_wizard_Settings_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image13.png)

<span data-ttu-id="df6e0-212">Klicken Sie auf **Weiter** , fahren Sie fort, um die **Vorschau** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="df6e0-212">Click **Next** to advance to the **Preview** tab.</span></span>

<span data-ttu-id="df6e0-213">In der **Vorschau** auf **Vorschau starten** um eine Liste der Dateien anzuzeigen, die kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="df6e0-213">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span>

![Publish_Web_wizard_Preview_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image14.png)

![Publish_Web_wizard_Preview_tab_Test_with_file_list](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image15.png)

<span data-ttu-id="df6e0-216">Klicken Sie auf **Veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-216">Click **Publish**.</span></span>

<span data-ttu-id="df6e0-217">Ist Visual Studio nicht im Administratormodus, erhalten Sie möglicherweise eine Fehlermeldung angezeigt, die einen Berechtigungsfehler angibt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-217">If Visual Studio is not in administrator mode, you might get an error message that indicates a permissions error.</span></span> <span data-ttu-id="df6e0-218">In diesem Fall schließen Sie Visual Studio im Administratormodus öffnen, und versuchen Sie es erneut veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-218">In that case, close Visual Studio, open it in administrator mode, and try to publish again.</span></span>

<span data-ttu-id="df6e0-219">Wenn Visual Studio im Administratormodus, ist die **Ausgabe** Fenster Berichte erfolgreich erstellen und veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-219">If Visual Studio is in administrator mode, the **Output** window reports successful build and publish.</span></span>

![Output_window_publish_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image16.png)

<span data-ttu-id="df6e0-221">Der Browser öffnet automatisch der Contoso University-Startseite in IIS ausgeführt wird, auf dem lokalen Computer.</span><span class="sxs-lookup"><span data-stu-id="df6e0-221">The browser automatically opens to the Contoso University Home page running in IIS on the local computer.</span></span>

<span data-ttu-id="df6e0-222">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-222">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image17.png)</span></span>

## <a name="testing-in-the-test-environment"></a><span data-ttu-id="df6e0-223">In der Testumgebung testen</span><span class="sxs-lookup"><span data-stu-id="df6e0-223">Testing in the Test Environment</span></span>

<span data-ttu-id="df6e0-224">Beachten Sie, dass der Indikator für die Umgebung "(Test)" zeigt anstelle von "(Dev)", die zeigt, dass die *"Web.config"* Transformation für den Indikator für die Umgebung erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="df6e0-224">Notice that the environment indicator shows "(Test)" instead of "(Dev)", which shows that the *Web.config* transformation for the environment indicator was successful.</span></span>

<span data-ttu-id="df6e0-225">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image20.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-225">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image20.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image19.png)</span></span>

<span data-ttu-id="df6e0-226">Führen Sie die **Schüler/Studenten** Seite, um sicherzustellen, dass die bereitgestellte Datenbank keine Schüler/Studenten verfügt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-226">Run the **Students** page to verify that the deployed database has no students.</span></span> <span data-ttu-id="df6e0-227">Bei der Auswahl auf dieser Seite dauert möglicherweise einige Minuten, die geladen werden, da der Code First die Datenbank wird erstellt und führt dann die `Seed` Methode.</span><span class="sxs-lookup"><span data-stu-id="df6e0-227">When you select this page it may take a few minutes to load because Code First creates the database and then runs the `Seed` method.</span></span> <span data-ttu-id="df6e0-228">(Es nicht, die ausgeführt werden, wenn Sie auf der Startseite waren, weil die Anwendung versucht nicht, Zugriff auf die Datenbank noch.)</span><span class="sxs-lookup"><span data-stu-id="df6e0-228">(It didn't do that when you were on the home page because the application didn't try to access the database yet.)</span></span>

<span data-ttu-id="df6e0-229">[![Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image22.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-229">[![Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image22.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image21.png)</span></span>

<span data-ttu-id="df6e0-230">Führen Sie die **Dozenten** Seite, um sicherzustellen, dass Code First ein die Datenbank mit "Instructor" Daten Seeding:</span><span class="sxs-lookup"><span data-stu-id="df6e0-230">Run the **Instructors** page to verify that Code First seeded the database with instructor data:</span></span>

<span data-ttu-id="df6e0-231">[![Instructors_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image24.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-231">[![Instructors_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image24.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image23.png)</span></span>

<span data-ttu-id="df6e0-232">Wählen Sie **hinzufügen Schüler/Studenten** aus der **Schüler/Studenten** Menü ein Schüler/Student hinzufügen, und zeigen Sie den neuen Studenten in der **Schüler/Studenten** Seite, um sicherzustellen, dass Sie erfolgreich in die Datenbank schreiben können :</span><span class="sxs-lookup"><span data-stu-id="df6e0-232">Select **Add Students** from the **Students** menu, add a student, and then view the new student in the **Students** page to verify that you can successfully write to the database:</span></span>

<span data-ttu-id="df6e0-233">[![Add_Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image26.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-233">[![Add_Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image26.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image25.png)</span></span>

<span data-ttu-id="df6e0-234">[![Students_page_with_new_student_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image28.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-234">[![Students_page_with_new_student_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image28.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image27.png)</span></span>

<span data-ttu-id="df6e0-235">Von der **Kurse** , wählen Sie im Menü **Update Gutschriften**.</span><span class="sxs-lookup"><span data-stu-id="df6e0-235">From the **Courses** menu, select **Update Credits**.</span></span> <span data-ttu-id="df6e0-236">Die **Update Gutschriften** Seite sind Administratorberechtigungen erforderlich, sodass die **anmelden** angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="df6e0-236">The **Update Credits** page requires administrator permissions, so the **Log In** page is displayed.</span></span> <span data-ttu-id="df6e0-237">Geben Sie Anmeldeinformationen für das Administratorkonto, dass Sie frühere ("Admin" und "Pas$ w0rd") erstellt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-237">Enter the administrator account credentials that you created earlier ("admin" and "Pas$w0rd").</span></span> <span data-ttu-id="df6e0-238">Die **Update Gutschriften** Seite wird angezeigt, die überprüft, dass das Administratorkonto, das Sie im vorherigen Tutorial erstellt haben, ordnungsgemäß in der testumgebung bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="df6e0-238">The **Update Credits** page is displayed, which verifies that the administrator account that you created in the previous tutorial was correctly deployed to the test environment.</span></span>

<span data-ttu-id="df6e0-239">[![Log_In_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image30.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-239">[![Log_In_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image30.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image29.png)</span></span>

<span data-ttu-id="df6e0-240">[![Update_Credits_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image32.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-240">[![Update_Credits_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image32.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image31.png)</span></span>

<span data-ttu-id="df6e0-241">Überprüfen Sie, ob ein *Elmah* Ordner mit dem nur der Platzhalterdatei in ihrem vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="df6e0-241">Verify that an *Elmah* folder exists with only the placeholder file in it.</span></span>

<span data-ttu-id="df6e0-242">[![Elmah_folder_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image34.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="df6e0-242">[![Elmah_folder_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image34.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image33.png)</span></span>

<a id="efcfmigrations"></a>

## <a name="reviewing-the-automatic-webconfig-changes-for-code-first-migrations"></a><span data-ttu-id="df6e0-243">Überprüfen die Änderungen für die automatische "Web.config" für Code First-Migrationen</span><span class="sxs-lookup"><span data-stu-id="df6e0-243">Reviewing the Automatic Web.config Changes for Code First Migrations</span></span>

<span data-ttu-id="df6e0-244">Öffnen der *"Web.config"* -Datei in der bereitgestellten Anwendung auf *C:\inetpub\wwwroot\ContosoUniversity* und Sie sehen, in denen während des Bereitstellungsvorgangs Code First-Migrationen zu automatisch konfiguriert Aktualisieren Sie die Datenbank, auf die neueste Version.</span><span class="sxs-lookup"><span data-stu-id="df6e0-244">Open the *Web.config* file in the deployed application at *C:\inetpub\wwwroot\ContosoUniversity* and you can see where the deployment process configured Code First Migrations to automatically update the database to the latest version.</span></span>

![](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image35.png)

<span data-ttu-id="df6e0-245">Der Bereitstellungsprozess erstellt auch eine neue Verbindungszeichenfolge für die Code First-Migrationen verwenden ausschließlich für das Datenbankschema zu aktualisieren:</span><span class="sxs-lookup"><span data-stu-id="df6e0-245">The deployment process also created a new connection string for Code First Migrations to use exclusively for updating the database schema:</span></span>

![DatabasePublish_connection_string](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image36.png)

<span data-ttu-id="df6e0-247">Diese zusätzliche Verbindungszeichenfolge können Sie ein Benutzerkonto für Datenbank-Schema-Updates und ein anderes Benutzerkonto für den Datenzugriff für die Anwendung angeben.</span><span class="sxs-lookup"><span data-stu-id="df6e0-247">This additional connection string enables you to specify one user account for database schema updates, and a different user account for application data access.</span></span> <span data-ttu-id="df6e0-248">Sie könnten z. B. die Datenbank zuweisen\_Rolle "Besitzer" Code First-Migrationen und Db\_Datareader und Db\_Datawriter Rollen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="df6e0-248">For example, you could assign the db\_owner role to Code First Migrations, and db\_datareader and db\_datawriter roles to the application.</span></span> <span data-ttu-id="df6e0-249">Dies ist ein gängiges Defense-in-Depth-Muster, das verhindert, dass potenziell bösartigen Code in der Anwendung das Datenbankschema zu ändern.</span><span class="sxs-lookup"><span data-stu-id="df6e0-249">This is a common defense-in-depth pattern that prevents potentially malicious code in the application from changing the database schema.</span></span> <span data-ttu-id="df6e0-250">(Zum Beispiel könnte dies in einen erfolgreichen SQL Injection-Angriff vorkommen.) Dieses Muster wird nicht von diesen Tutorials verwendet.</span><span class="sxs-lookup"><span data-stu-id="df6e0-250">(For example, this might happen in a successful SQL injection attack.) This pattern is not used by these tutorials.</span></span> <span data-ttu-id="df6e0-251">Es gilt nicht für SQL Server Compact, und es gilt nicht bei der Migration zu SQL Server in einem späteren Tutorial dieser Reihe.</span><span class="sxs-lookup"><span data-stu-id="df6e0-251">It does not apply to SQL Server Compact, and it does not apply when you migrate to SQL Server in a later tutorial in this series.</span></span> <span data-ttu-id="df6e0-252">Die Cytanium-Website bietet nur ein Benutzerkonto für den Zugriff auf SQL Server-Datenbank, die zur Cytanium erstellt.</span><span class="sxs-lookup"><span data-stu-id="df6e0-252">The Cytanium site offers just one user account for accessing the SQL Server database that you create at Cytanium.</span></span> <span data-ttu-id="df6e0-253">Wenn Sie dieses Muster in Ihrem Szenario zu implementieren sind, können Sie dies tun, indem Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="df6e0-253">If you are able to implement this pattern in your scenario, you can do it by performing the following steps:</span></span>

1. <span data-ttu-id="df6e0-254">In der **Einstellungen** Registerkarte die **Webveröffentlichung** -Assistenten geben Sie die Verbindungszeichenfolge, die ein Benutzer mit vollständigen Berechtigungen zum Aktualisieren Schema gibt an, und Deaktivieren der **diese Verbindungszeichenfolge verwenden zur Laufzeit** Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="df6e0-254">In the **Settings** tab of the **Publish Web** wizard, enter the connection string that specifies a user with full database schema update permissions, and clear the **Use this connection string at runtime** check box.</span></span> <span data-ttu-id="df6e0-255">In der bereitgestellten Web.config-Datei, dies ist die `DatabasePublish` Verbindungszeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="df6e0-255">In the deployed Web.config file, this becomes the `DatabasePublish` connection string.</span></span>
2. <span data-ttu-id="df6e0-256">Erstellen Sie eine Web.config-Datei-Transformation für die Verbindungszeichenfolge, die Sie die Anwendung zur Laufzeit verwenden soll.</span><span class="sxs-lookup"><span data-stu-id="df6e0-256">Create a Web.config file transformation for the connection string that you want the application to use at run time.</span></span>

<span data-ttu-id="df6e0-257">Sie haben nun Ihre Anwendung in IIS auf Ihrem Entwicklungscomputer bereitgestellt und es getestet.</span><span class="sxs-lookup"><span data-stu-id="df6e0-257">You have now deployed your application to IIS on your development computer and tested it there.</span></span> <span data-ttu-id="df6e0-258">Dies stellt sicher, dass während des Bereitstellungsvorgangs der Inhalt der Anwendung auf den richtigen Speicherort kopiert (mit Ausnahme der Dateien, die Sie nicht bereitstellen möchten), und auch, Web Deploy IIS ordnungsgemäß während der Bereitstellung konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="df6e0-258">This verifies that the deployment process copied the application's content to the right location (excluding the files that you did not want to deploy), and also that Web Deploy configured IIS correctly during deployment.</span></span> <span data-ttu-id="df6e0-259">Führen Sie im nächsten Tutorial, einem weiteren Test, die eine Bereitstellungsaufgabe findet, die noch nicht geschehen: Festlegen von Berechtigungen für den Ordner für die *Elmah* Ordner.</span><span class="sxs-lookup"><span data-stu-id="df6e0-259">In the next tutorial, you'll run one more test that finds a deployment task that has not yet been done: setting folder permissions on the *Elmah* folder.</span></span>

## <a name="more-information"></a><span data-ttu-id="df6e0-260">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="df6e0-260">More Information</span></span>

<span data-ttu-id="df6e0-261">Informationen zum Ausführen von IIS oder IIS Express in Visual Studio finden Sie unter den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="df6e0-261">For information about running IIS or IIS Express in Visual Studio, see the following resources:</span></span>

- <span data-ttu-id="df6e0-262">[Übersicht über IIS Express](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) auf der Website IIS.net.</span><span class="sxs-lookup"><span data-stu-id="df6e0-262">[IIS Express Overview](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) on the IIS.net site.</span></span>
- <span data-ttu-id="df6e0-263">[Einführung in IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) auf Scott Guthries Blog.</span><span class="sxs-lookup"><span data-stu-id="df6e0-263">[Introducing IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) on Scott Guthrie's blog.</span></span>
- <span data-ttu-id="df6e0-264">[Vorgehensweise: Geben Sie den Webserver für Webprojekte in Visual Studio](https://msdn.microsoft.com/library/ms178108.aspx).</span><span class="sxs-lookup"><span data-stu-id="df6e0-264">[How to: Specify the Web Server for Web Projects in Visual Studio](https://msdn.microsoft.com/library/ms178108.aspx).</span></span>
- <span data-ttu-id="df6e0-265">[Unterschiede zwischen IIS und ASP.NET Development Server Core-](../deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) auf der ASP.NET-Website.</span><span class="sxs-lookup"><span data-stu-id="df6e0-265">[Core Differences Between IIS and the ASP.NET Development Server](../deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) on the ASP.NET site.</span></span>
- <span data-ttu-id="df6e0-266">[Testen Ihrer ASP.NET MVC- oder Web Forms-Anwendung unter IIS 7 in 30 Sekunden](https://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx) andersons Blog.</span><span class="sxs-lookup"><span data-stu-id="df6e0-266">[Test your ASP.NET MVC or Web Forms Application on IIS 7 in 30 seconds](https://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="df6e0-267">Dieser Eintrag enthält Beispiele für Gründe Tests mit Visual Studio Development Server (Cassini) nicht so zuverlässig wie Tests in IIS Express ist und warum Testen in IIS Express nicht so zuverlässig wie Tests in IIS ist.</span><span class="sxs-lookup"><span data-stu-id="df6e0-267">This entry provides examples of why testing with the Visual Studio Development Server (Cassini) is not as reliable as testing in IIS Express, and why testing in IIS Express is not as reliable as testing in IIS.</span></span>

<span data-ttu-id="df6e0-268">Weitere Informationen darüber, welche Probleme auftreten kann, wenn Ihre Anwendung bei mittlerer Vertrauenswürdigkeit ausgeführt wird, finden Sie unter [Hosting von ASP.NET-Anwendungen in mittlere Vertrauensebene](http://www.4guysfromrolla.com/articles/100307-1.aspx) auf die 4 Guys Rolla-Standorts.</span><span class="sxs-lookup"><span data-stu-id="df6e0-268">For information about what issues might arise when your application runs in medium trust, see [Hosting ASP.NET Applications in Medium Trust](http://www.4guysfromrolla.com/articles/100307-1.aspx) on the 4 Guys from Rolla site.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="df6e0-269">[Zurück](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12.md)
> [Weiter](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="df6e0-269">[Previous](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12.md)
[Next](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)</span></span>
