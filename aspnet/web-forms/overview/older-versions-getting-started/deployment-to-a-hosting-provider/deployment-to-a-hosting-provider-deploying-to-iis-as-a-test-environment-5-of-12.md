---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12
title: 'Bereitstellen einer ASP.NET-Webanwendung mit SQL Server Compact mithilfe von Visual Studio oder Visual Web Developer: Bereitstellen in IIS als Test Umgebung-5 von 12 | Microsoft-Dokumentation'
author: tdykstra
description: In dieser Reihe von Tutorials wird gezeigt, wie Sie ein ASP.NET-Webanwendungs Projekt bereitstellen (veröffentlichen), das eine SQL Server Compact-Datenbank mit Visual Stu...
ms.author: riande
ms.date: 11/17/2011
ms.assetid: 493b2a66-816c-485c-8315-952ed1085ccc
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12
msc.type: authoredcontent
ms.openlocfilehash: 5d85232ff2cb229d771d517db7173721c9e277bf
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2019
ms.locfileid: "74633474"
---
# <a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-iis-as-a-test-environment---5-of-12"></a><span data-ttu-id="7e38d-103">Bereitstellen einer ASP.NET-Webanwendung mit SQL Server Compact mithilfe von Visual Studio oder Visual Web Developer: Bereitstellen in IIS als Test Umgebung-5 von 12</span><span class="sxs-lookup"><span data-stu-id="7e38d-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to IIS as a Test Environment - 5 of 12</span></span>

<span data-ttu-id="7e38d-104">von [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="7e38d-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="7e38d-105">Starter Projekt herunterladen</span><span class="sxs-lookup"><span data-stu-id="7e38d-105">Download Starter Project</span></span>](https://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="7e38d-106">In dieser Reihe von Tutorials erfahren Sie, wie Sie ein ASP.NET-Webanwendungs Projekt, das eine SQL Server Compact Datenbank enthält, mithilfe von Visual Studio 2012 RC oder Visual Studio Express 2012 RC für das Web bereitstellen (veröffentlichen).</span><span class="sxs-lookup"><span data-stu-id="7e38d-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="7e38d-107">Sie können auch Visual Studio 2010 verwenden, wenn Sie das Webveröffentlichungs Update installieren.</span><span class="sxs-lookup"><span data-stu-id="7e38d-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="7e38d-108">Eine Einführung in die Reihe finden Sie [im ersten Tutorial der Reihe](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="7e38d-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="7e38d-109">Ein Tutorial, das nach der RC-Version von Visual Studio 2012 eingeführte Bereitstellungs Funktionen zeigt, zeigt, wie SQL Server Editionen außer SQL Server Compact bereitgestellt werden, und zeigt, wie Sie die Bereitstellung für Azure App Service Web-Apps ausführen. Weitere Informationen finden Sie unter [ASP.net Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="7e38d-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="7e38d-110">Übersicht über</span><span class="sxs-lookup"><span data-stu-id="7e38d-110">Overview</span></span>

<span data-ttu-id="7e38d-111">In diesem Tutorial wird gezeigt, wie eine ASP.NET-Webanwendung in IIS auf dem lokalen Computer bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-111">This tutorial shows how to deploy an ASP.NET web application to IIS on the local computer.</span></span>

<span data-ttu-id="7e38d-112">Wenn Sie eine Anwendung entwickeln, testen Sie Sie in der Regel, indem Sie Sie in Visual Studio ausführen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-112">When you develop an application, you generally test by running it in Visual Studio.</span></span> <span data-ttu-id="7e38d-113">Standardmäßig bedeutet dies, dass Sie die Visual Studio Development Server (auch als Cassini bezeichnet) verwenden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-113">By default, this means you're using the Visual Studio Development Server (also known as Cassini).</span></span> <span data-ttu-id="7e38d-114">Der Visual Studio Development Server erleichtert das Testen während der Entwicklung in Visual Studio, funktioniert aber nicht genauso wie IIS.</span><span class="sxs-lookup"><span data-stu-id="7e38d-114">The Visual Studio Development Server makes it easy to test during development in Visual Studio, but it doesn't work exactly like IIS.</span></span> <span data-ttu-id="7e38d-115">Daher ist es möglich, dass eine Anwendung beim Testen in Visual Studio ordnungsgemäß ausgeführt wird, aber fehlschlägt, wenn Sie in IIS in einer Hostingumgebung bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-115">As a result, it's possible that an application will run correctly when you test it in Visual Studio, but fail when it's deployed to IIS in a hosting environment.</span></span>

<span data-ttu-id="7e38d-116">Sie können Ihre Anwendung auf folgende Weise zuverlässiger testen:</span><span class="sxs-lookup"><span data-stu-id="7e38d-116">You can test your application more reliably in these ways:</span></span>

1. <span data-ttu-id="7e38d-117">Verwenden Sie IIS Express oder vollständige IIS anstelle des Visual Studio Development Server, wenn Sie während der Entwicklung in Visual Studio testen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-117">Use IIS Express or full IIS instead of the Visual Studio Development Server when you test in Visual Studio during development.</span></span> <span data-ttu-id="7e38d-118">Diese Methode emuliert in der Regel genauer, wie Ihre Website unter IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-118">This method generally emulates more accurately how your site will run under IIS.</span></span> <span data-ttu-id="7e38d-119">Mit dieser Methode wird der Bereitstellungs Prozess jedoch nicht getestet, oder es wird nicht überprüft, ob das Ergebnis des Bereitstellungs Prozesses ordnungsgemäß ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-119">However, this method does not test your deployment process or validate that the result of the deployment process will run correctly.</span></span>
2. <span data-ttu-id="7e38d-120">Stellen Sie die Anwendung auf dem Entwicklungs Computer auf IIS bereit. verwenden Sie dazu den gleichen Prozess, den Sie später verwenden, um Sie in Ihrer Produktionsumgebung bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-120">Deploy the application to IIS on your development computer by using the same process that you'll use later to deploy it to your production environment.</span></span> <span data-ttu-id="7e38d-121">Mit dieser Methode wird der Bereitstellungs Prozess zusätzlich überprüft, ob die Anwendung unter IIS ordnungsgemäß ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-121">This method validates your deployment process in addition to validating that your application will run correctly under IIS.</span></span>
3. <span data-ttu-id="7e38d-122">Stellen Sie die Anwendung in einer Testumgebung bereit, die so nah wie möglich an Ihrer Produktionsumgebung ist.</span><span class="sxs-lookup"><span data-stu-id="7e38d-122">Deploy the application to a test environment that is as close as possible to your production environment.</span></span> <span data-ttu-id="7e38d-123">Da es sich bei der Produktionsumgebung für diese Tutorials um einen Drittanbieter-Hostinganbieter handelt, wäre die ideale Testumgebung ein zweites Konto mit dem Hostinganbieter.</span><span class="sxs-lookup"><span data-stu-id="7e38d-123">Since the production environment for these tutorials is a third-party hosting provider, the ideal test environment would be a second account with the hosting provider.</span></span> <span data-ttu-id="7e38d-124">Sie sollten dieses zweite Konto nur für Tests verwenden, aber es würde auf die gleiche Weise wie das Produktions Konto eingerichtet werden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-124">You would use this second account only for testing, but it would be set up the same way as the production account.</span></span>

<span data-ttu-id="7e38d-125">In diesem Tutorial werden die Schritte für Option 2 angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-125">This tutorial shows the steps for option 2.</span></span> <span data-ttu-id="7e38d-126">Eine Anleitung für Option 3 finden Sie am Ende des Tutorials [zur Bereitstellung in der Produktionsumgebung](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) , und am Ende dieses Tutorials finden Sie Links zu Ressourcen für Option 1.</span><span class="sxs-lookup"><span data-stu-id="7e38d-126">Guidance for option 3 is provided at the end of the [Deploying to the Production Environment](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) tutorial, and at the end of this tutorial there are links to resources for option 1.</span></span>

<span data-ttu-id="7e38d-127">Erinnerung: Wenn Sie eine Fehlermeldung erhalten oder etwas nicht funktioniert, wenn Sie das Tutorial durchlaufen, achten Sie darauf, dass Sie die [Seite Problem](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md)Behandlung überprüfen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-127">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="configuring-the-application-to-run-in-medium-trust"></a><span data-ttu-id="7e38d-128">Konfigurieren der Anwendung für die Verwendung mit mittlerer Vertrauensstellung</span><span class="sxs-lookup"><span data-stu-id="7e38d-128">Configuring the Application to Run in Medium Trust</span></span>

<span data-ttu-id="7e38d-129">Vor der Installation von IIS und deren Bereitstellung ändern Sie die Einstellung der Datei "Web. config", um die Website so zu gestalten, wie Sie in einer typischen freigegebenen Hostingumgebung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-129">Before installing IIS and deploying to it, you'll change a Web.config file setting in order to make the site run more like it will in a typical shared hosting environment.</span></span>

<span data-ttu-id="7e38d-130">Hostinganbieter führen Ihre Website in der Regel mit *mittlerer Vertrauens*Würdigkeit aus. Dies bedeutet, dass einige Dinge nicht zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="7e38d-130">Hosting providers typically run your web site in *medium trust*, which means there are some things it is not allowed to do.</span></span> <span data-ttu-id="7e38d-131">Beispielsweise kann der Anwendungscode nicht auf die Windows-Registrierung zugreifen und keine Dateien lesen und schreiben, die sich außerhalb der Ordnerhierarchie Ihrer Anwendung befinden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-131">For example, application code can't access the Windows registry and can't read or write files that are outside of your application's folder hierarchy.</span></span> <span data-ttu-id="7e38d-132">Standardmäßig wird Ihre Anwendung mit *hoher Vertrauens* Würdigkeit auf dem lokalen Computer ausgeführt, was bedeutet, dass die Anwendung möglicherweise Dinge durchführt, die bei der Bereitstellung in der Produktion fehlschlagen würden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-132">By default your application runs in *high trust* on your local computer, which means that the application might be able to do things that would fail when you deploy it to production.</span></span> <span data-ttu-id="7e38d-133">Damit die Testumgebung die Produktionsumgebung genauer widerspiegelt, konfigurieren Sie die Anwendung so, dass Sie mit mittlerer Vertrauenswürdigkeit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-133">Therefore, to make the test environment more accurately reflect the production environment, you'll configure the application to run in medium trust.</span></span>

<span data-ttu-id="7e38d-134">Fügen Sie in der Datei "Web. config" der Anwendung ein **Trust** -Element im **System. Web** -Element hinzu, wie im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-134">In the application Web.config file, add a **trust** element in the **system.web** element, as shown in this example.</span></span>

[!code-xml[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample1.xml?highlight=4)]

<span data-ttu-id="7e38d-135">Die Anwendung wird jetzt in IIS mit mittlerer Vertrauenswürdigkeit auch auf dem lokalen Computer ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-135">The application will now run in medium trust in IIS even on your local computer.</span></span> <span data-ttu-id="7e38d-136">Diese Einstellung ermöglicht es Ihnen, so früh wie möglich beliebige Versuche des Anwendungs Codes abzufangen, um etwas zu tun, das in der Produktion fehlschlagen würde.</span><span class="sxs-lookup"><span data-stu-id="7e38d-136">This setting enables you to catch as early as possible any attempts by application code to do something that would fail in production.</span></span>

> [!NOTE]
> <span data-ttu-id="7e38d-137">Wenn Sie Entity Framework Code First-Migrationen verwenden, stellen Sie sicher, dass Sie Version 5,0 oder höher installiert haben.</span><span class="sxs-lookup"><span data-stu-id="7e38d-137">If you are using Entity Framework Code First Migrations, make sure that you have version 5.0 or later installed.</span></span> <span data-ttu-id="7e38d-138">In Entity Framework Version 4,3 ist für Migrationen volle Vertrauenswürdigkeit erforderlich, um das Datenbankschema zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="7e38d-138">In Entity Framework version 4.3, Migrations requires full trust in order to update the database schema.</span></span>

## <a name="installing-iis-and-web-deploy"></a><span data-ttu-id="7e38d-139">Installieren von IIS und Web deploy</span><span class="sxs-lookup"><span data-stu-id="7e38d-139">Installing IIS and Web Deploy</span></span>

<span data-ttu-id="7e38d-140">Um auf dem Entwicklungs Computer in IIS bereitzustellen, müssen IIS und Web deploy installiert sein.</span><span class="sxs-lookup"><span data-stu-id="7e38d-140">To deploy to IIS on your development computer, you must have IIS and Web Deploy installed.</span></span> <span data-ttu-id="7e38d-141">Diese sind nicht in der Standardkonfiguration von Windows 7 enthalten.</span><span class="sxs-lookup"><span data-stu-id="7e38d-141">These are not included in the default Windows 7 configuration.</span></span> <span data-ttu-id="7e38d-142">Wenn Sie bereits IIS und Web deploy installiert haben, fahren Sie mit dem nächsten Abschnitt fort.</span><span class="sxs-lookup"><span data-stu-id="7e38d-142">If you have already installed both IIS and Web Deploy, skip to the next section.</span></span>

<span data-ttu-id="7e38d-143">Die Verwendung des [Webplattform-Installers](https://www.microsoft.com/web/downloads/platform.aspx) ist die bevorzugte Methode zum Installieren von IIS und Web deploy, da der Webplattform-Installer eine empfohlene Konfiguration für IIS installiert und bei Bedarf automatisch die Voraussetzungen für IIS und Web deploy installiert.</span><span class="sxs-lookup"><span data-stu-id="7e38d-143">Using the [Web Platform Installer](https://www.microsoft.com/web/downloads/platform.aspx) is the preferred way to install IIS and Web Deploy, because the Web Platform Installer installs a recommended configuration for IIS and it automatically installs the prerequisites for IIS and Web Deploy if necessary.</span></span>

<span data-ttu-id="7e38d-144">Verwenden Sie den folgenden Link, um den Webplattform-Installer zum Installieren von IIS und Web deploy auszuführen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-144">To run Web Platform Installer to install IIS and Web Deploy, use the following link.</span></span> <span data-ttu-id="7e38d-145">Wenn Sie IIS bereits installiert haben, Web deploy oder eine der erforderlichen Komponenten, installiert der Webplattform-Installer nur das, was fehlt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-145">If you already have installed IIS, Web Deploy or any of their required components, the Web Platform Installer installs only what is missing.</span></span>

- [<span data-ttu-id="7e38d-146">Installieren von IIS und Web deploy mithilfe von webpi</span><span class="sxs-lookup"><span data-stu-id="7e38d-146">Install IIS and Web Deploy using WebPI</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=IIS7;ASPNET;NETFramework4;WDeploy)

## <a name="setting-the-default-application-pool-to-net-4"></a><span data-ttu-id="7e38d-147">Festlegen des Standard Anwendungs Pools auf .NET 4</span><span class="sxs-lookup"><span data-stu-id="7e38d-147">Setting the Default Application Pool to .NET 4</span></span>

<span data-ttu-id="7e38d-148">Führen Sie nach der Installation von IIS den **IIS-Manager** aus, um sicherzustellen, dass der .NET Framework Version 4 dem Standard Anwendungs Pool zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="7e38d-148">After installing IIS, run **IIS Manager** to make sure that the .NET Framework version 4 is assigned to the default application pool.</span></span>

<span data-ttu-id="7e38d-149">Klicken Sie im Windows- **Startmenü** auf **Ausführen**, geben Sie "inetmgr" ein, und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="7e38d-149">From the Windows **Start** menu, select **Run**, enter "inetmgr", and then click **OK**.</span></span> <span data-ttu-id="7e38d-150">(Wenn sich der Befehl **Ausführen** nicht im **Startmenü** befindet, können Sie die Windows-Taste und R drücken, um Sie zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-150">(If the **Run** command is not in your **Start** menu, you can press the Windows Key and R to open it.</span></span> <span data-ttu-id="7e38d-151">Oder klicken Sie mit der rechten Maustaste auf die Taskleiste, klicken Sie auf **Eigenschaften**, wählen Sie die Registerkarte **Start** , klicken Sie auf **Anpassen**, und wählen Sie dann **Befehl ausführen**</span><span class="sxs-lookup"><span data-stu-id="7e38d-151">Or right-click the taskbar, click **Properties**, select the **Start Menu** tab, click **Customize**, and select **Run command**.)</span></span>

<span data-ttu-id="7e38d-152">Erweitern Sie im Bereich **Verbindungen** den Server Knoten, und wählen Sie **Anwendungs Pools**aus.</span><span class="sxs-lookup"><span data-stu-id="7e38d-152">In the **Connections** pane, expand the server node and select **Application Pools**.</span></span> <span data-ttu-id="7e38d-153">Wenn **DefaultAppPool** der .NET Framework-Version 4 wie in der folgenden Abbildung zugewiesen ist, können Sie im Bereich **Anwendungs Pools** mit dem nächsten Abschnitt fortfahren.</span><span class="sxs-lookup"><span data-stu-id="7e38d-153">In the **Application Pools** pane, if **DefaultAppPool** is assigned to the .NET framework version 4 as in the following illustration, skip to the next section.</span></span>

<span data-ttu-id="7e38d-154">[![Inetmgr_showing_4.0_app_pools](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-154">[![Inetmgr_showing_4.0_app_pools](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image1.png)</span></span>

<span data-ttu-id="7e38d-155">Wenn nur zwei Anwendungs Pools angezeigt werden und beide auf den .NET Framework 2,0 festgelegt sind, müssen Sie ASP.NET 4 in IIS installieren:</span><span class="sxs-lookup"><span data-stu-id="7e38d-155">If you see only two application pools and both of them are set to the .NET Framework 2.0, you have to install ASP.NET 4 in IIS:</span></span>

- <span data-ttu-id="7e38d-156">Öffnen Sie ein Eingabe Aufforderungs Fenster, indem Sie im Windows- **Startmenü** mit der rechten Maustaste auf **Eingabeaufforderung** klicken und **als Administrator ausführen**auswählen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-156">Open a command prompt window by right-clicking **Command Prompt** in the Windows **Start** menu and selecting **Run as Administrator**.</span></span> <span data-ttu-id="7e38d-157">Führen Sie dann [ASPNET\_regiis. exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) aus, um ASP.NET 4 in IIS zu installieren. verwenden Sie dazu die folgenden Befehle.</span><span class="sxs-lookup"><span data-stu-id="7e38d-157">Then run [aspnet\_regiis.exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) to install ASP.NET 4 in IIS, using the following commands.</span></span> <span data-ttu-id="7e38d-158">(Ersetzen Sie in 64-Bit-Systemen "Framework" durch "Framework64".)</span><span class="sxs-lookup"><span data-stu-id="7e38d-158">(In 64-bit systems, replace "Framework" with "Framework64".)</span></span>

    [!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample2.cmd)]

    <span data-ttu-id="7e38d-159">[![aspnet_regiis_installing_ASP. NET_4](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-159">[![aspnet_regiis_installing_ASP.NET_4](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image3.png)</span></span>

    <span data-ttu-id="7e38d-160">Mit diesem Befehl werden neue Anwendungs Pools für die .NET Framework 4 erstellt, der Standard Anwendungs Pool wird jedoch weiterhin auf 2,0 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-160">This command creates new application pools for the .NET Framework 4, but the default application pool will still be set to 2.0.</span></span> <span data-ttu-id="7e38d-161">Sie stellen eine Anwendung bereit, die .NET 4 für diesen Anwendungs Pool als Ziel hat, sodass Sie den Anwendungs Pool in .NET 4 ändern müssen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-161">You'll be deploying an application that targets .NET 4 to that application pool, so you have to change the application pool to .NET 4.</span></span>

<span data-ttu-id="7e38d-162">Wenn Sie **IIS-Manager**geschlossen haben, führen Sie ihn erneut aus, erweitern Sie den Server Knoten, und klicken Sie auf **Anwendungs Pools** , um den Bereich **Anwendungs Pools** erneut anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-162">If you closed **IIS Manager**, run it again, expand the server node, and click **Application Pools** to display the **Application Pools** pane again.</span></span>

<span data-ttu-id="7e38d-163">Klicken Sie im Bereich **Anwendungs Pools** auf **DefaultAppPool**, und klicken Sie dann im Bereich **Aktionen** auf **Grundeinstellungen**.</span><span class="sxs-lookup"><span data-stu-id="7e38d-163">In the **Application Pools** pane, click **DefaultAppPool**, and then in the **Actions** pane click **Basic Settings**.</span></span>

<span data-ttu-id="7e38d-164">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-164">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image5.png)</span></span>

<span data-ttu-id="7e38d-165">Ändern Sie im Dialogfeld **Anwendungs Pool bearbeiten** **.NET Framework Version** in **.NET Framework v-4.0.30319** , und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="7e38d-165">In the **Edit Application Pool** dialog box, change **.NET Framework version** to **.NET Framework v4.0.30319** and click **OK**.</span></span>

<span data-ttu-id="7e38d-166">[![Selecting_. NET_4_for_DefaultAppPool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-166">[![Selecting_.NET_4_for_DefaultAppPool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image7.png)</span></span>

<span data-ttu-id="7e38d-167">Sie können jetzt in IIS veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-167">You are now ready to publish to IIS.</span></span>

## <a name="publishing-to-iis"></a><span data-ttu-id="7e38d-168">Veröffentlichen in IIS</span><span class="sxs-lookup"><span data-stu-id="7e38d-168">Publishing to IIS</span></span>

<span data-ttu-id="7e38d-169">Es gibt mehrere Möglichkeiten, wie Sie mit Visual Studio 2010 und Web deploy bereitstellen können:</span><span class="sxs-lookup"><span data-stu-id="7e38d-169">There are several ways you can deploy using Visual Studio 2010 and Web Deploy:</span></span>

- <span data-ttu-id="7e38d-170">Verwenden Sie Visual Studio One-Click-Veröffentlichung.</span><span class="sxs-lookup"><span data-stu-id="7e38d-170">Use Visual Studio one-click publish.</span></span>
- <span data-ttu-id="7e38d-171">Erstellen Sie ein *Bereitstellungs Paket* , und installieren Sie es mithilfe der IIS-Manager-Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="7e38d-171">Create a *deployment package* and install it using the IIS Manager UI.</span></span> <span data-ttu-id="7e38d-172">Das Bereitstellungs Paket besteht aus einer *ZIP* -Datei, die alle Dateien und Metadaten enthält, die zum Installieren eines Standorts in IIS erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="7e38d-172">The deployment package consists of a *.zip* file that contains all the files and metadata needed to install a site in IIS.</span></span>
- <span data-ttu-id="7e38d-173">Erstellen Sie ein Bereitstellungs Paket, und installieren Sie es mithilfe der Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="7e38d-173">Create a deployment package and install it using the command line.</span></span>

<span data-ttu-id="7e38d-174">Der Prozess, den Sie in den vorherigen Tutorials durchlaufen haben, um Visual Studio für die Automatisierung von Bereitstellungs Aufgaben einzurichten, gilt für alle diese drei Methoden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-174">The process you went through in the previous tutorials to set up Visual Studio to automate deployment tasks applies to all of these three methods.</span></span> <span data-ttu-id="7e38d-175">In diesen Tutorials verwenden Sie die erste dieser Methoden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-175">In these tutorials you'll use the first of these methods.</span></span> <span data-ttu-id="7e38d-176">Weitere Informationen zur Verwendung von Bereitstellungs Paketen finden Sie unter [ASP.net Deployment Content Map](https://msdn.microsoft.com/library/bb386521.aspx).</span><span class="sxs-lookup"><span data-stu-id="7e38d-176">For information about using deployment packages, see [ASP.NET Deployment Content Map](https://msdn.microsoft.com/library/bb386521.aspx).</span></span>

<span data-ttu-id="7e38d-177">Vergewissern Sie sich vor dem veröffentlichen, dass Sie Visual Studio im Administrator Modus ausführen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-177">Before publishing, make sure that you are running Visual Studio in administrator mode.</span></span> <span data-ttu-id="7e38d-178">(Klicken Sie im **Startmenü** von Windows 7 mit der rechten Maustaste auf das Symbol für die Version von Visual Studio, die Sie verwenden, und wählen Sie **als Administrator ausführen**aus.) Der Administrator Modus ist nur für die Veröffentlichung erforderlich, wenn Sie auf dem lokalen Computer auf IIS veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-178">(In the Windows 7 **Start** menu, right-click the icon for the version of Visual Studio you're using and select **Run as Administrator**.) Administrator mode is required for publishing only when you are publishing to IIS on the local computer.</span></span>

<span data-ttu-id="7e38d-179">Klicken Sie in **Projektmappen-Explorer**mit der rechten Maustaste auf das Projekt conjesouniversity (nicht auf das Projekt Conto souniversity. DAL), und wählen Sie **veröffentlichen**aus.</span><span class="sxs-lookup"><span data-stu-id="7e38d-179">In **Solution Explorer**, right-click the ContosoUniversity project (not the ContosoUniversity.DAL project) and select **Publish**.</span></span>

<span data-ttu-id="7e38d-180">Der Assistent **Web veröffentlichen** wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-180">The **Publish Web** wizard appears.</span></span>

![Publish_Web_wizard_Profile_tab](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image9.png)

<span data-ttu-id="7e38d-182">Wählen Sie in der Dropdown Liste **&lt;neu...&gt;** aus.</span><span class="sxs-lookup"><span data-stu-id="7e38d-182">In the drop-down list, select **&lt;New...&gt;**.</span></span>

<span data-ttu-id="7e38d-183">Geben Sie im Dialogfeld **Neues Profil** "Test" ein, und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="7e38d-183">In the **New Profile** dialog box, enter "Test", and then click **OK**.</span></span>

![Dialogfeld "Neues Profil"](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image10.png)

<span data-ttu-id="7e38d-185">Dieser Name ist identisch mit dem mittleren Knoten in der Transformations Datei Web. Test. config, die Sie zuvor erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="7e38d-185">This name is the same as the middle node of the Web.Test.config transform file that you created earlier.</span></span> <span data-ttu-id="7e38d-186">Diese Entsprechung bewirkt, dass die Web. Test. config-Transformationen angewendet werden, wenn Sie diese mithilfe dieses Profils veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-186">This correspondence is what causes the Web.Test.config transformations to be applied when you publish by using this profile.</span></span>

<span data-ttu-id="7e38d-187">Der Assistent wechselt automatisch zur Registerkarte **Verbindung** .</span><span class="sxs-lookup"><span data-stu-id="7e38d-187">The wizard automatically advances to the **Connection** tab.</span></span>

<span data-ttu-id="7e38d-188">Geben Sie im Feld **Dienst-URL** den *Namen localhost*ein.</span><span class="sxs-lookup"><span data-stu-id="7e38d-188">In the **Service URL** box, enter *localhost*.</span></span>

<span data-ttu-id="7e38d-189">Geben Sie im Feld **Website/Anwendung** den Eintrag *Default Web Site/Conto souniversity*ein.</span><span class="sxs-lookup"><span data-stu-id="7e38d-189">In the **Site/application** box, enter *Default Web Site/ContosoUniversity*.</span></span>

<span data-ttu-id="7e38d-190">Geben Sie im Feld **Ziel-URL** `http://localhost/ContosoUniversity`ein.</span><span class="sxs-lookup"><span data-stu-id="7e38d-190">In the **Destination URL** box, enter `http://localhost/ContosoUniversity`.</span></span>

<span data-ttu-id="7e38d-191">Die Einstellung für die **Ziel-URL** ist nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7e38d-191">The **Destination URL** setting isn't required.</span></span> <span data-ttu-id="7e38d-192">Wenn Visual Studio die Bereitstellung der Anwendung abgeschlossen hat, öffnet sie automatisch Ihren Standardbrowser mit dieser URL.</span><span class="sxs-lookup"><span data-stu-id="7e38d-192">When Visual Studio finishes deploying the application, it automatically opens your default browser to this URL.</span></span> <span data-ttu-id="7e38d-193">Wenn Sie nicht möchten, dass der Browser nach der Bereitstellung automatisch geöffnet wird, lassen Sie dieses Feld leer.</span><span class="sxs-lookup"><span data-stu-id="7e38d-193">If you don't want the browser to open automatically after deployment, leave this box blank.</span></span>

![Publish_Web_wizard_Connection_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image11.png)

<span data-ttu-id="7e38d-195">Klicken Sie auf **Verbindung** überprüfen, um sicherzustellen, dass die Einstellungen richtig sind und Sie eine Verbindung mit IIS auf dem lokalen Computer herstellen können.</span><span class="sxs-lookup"><span data-stu-id="7e38d-195">Click **Validate Connection** to verify that the settings are correct and you can connect to IIS on the local computer.</span></span>

<span data-ttu-id="7e38d-196">Ein grünes Häkchen überprüft, ob die Verbindung erfolgreich hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="7e38d-196">A green check mark verifies that the connection is successful.</span></span>

![Publish_Web_wizard_Connection_tab_validated](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image12.png)

<span data-ttu-id="7e38d-198">Klicken Sie auf **weiter** , um zur Registerkarte **Einstellungen** zu gelangen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-198">Click **Next** to advance to the **Settings** tab.</span></span>

<span data-ttu-id="7e38d-199">Das Dropdown Feld **Konfiguration** gibt die Buildkonfiguration an, die bereitgestellt werden soll.</span><span class="sxs-lookup"><span data-stu-id="7e38d-199">The **Configuration** drop-down box specifies the build configuration to deploy.</span></span> <span data-ttu-id="7e38d-200">Der Standardwert ist Release, was Sie möchten.</span><span class="sxs-lookup"><span data-stu-id="7e38d-200">The default value is Release, which is what you want.</span></span>

<span data-ttu-id="7e38d-201">Lassen Sie das Kontrollkästchen **zusätzliche Dateien am Ziel entfernen** deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="7e38d-201">Leave the **Remove additional files at destination** check box cleared.</span></span> <span data-ttu-id="7e38d-202">Da es sich hierbei um die erste Bereitstellung handelt, sind noch keine Dateien im Zielordner vorhanden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-202">Since this is your first deployment, there won't be any files in the destination folder yet.</span></span>

<span data-ttu-id="7e38d-203">Geben Sie im Abschnitt **Datenbanken** den folgenden Wert in das Feld Verbindungs Zeichenfolge für **schoolContext**ein:</span><span class="sxs-lookup"><span data-stu-id="7e38d-203">In the **Databases** section, enter the following value in the connection string box for **SchoolContext**:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample3.cmd)]

<span data-ttu-id="7e38d-204">Der Bereitstellungs Prozess fügt diese Verbindungs Zeichenfolge in die bereitgestellte Web. config-Datei ein, da **Diese Verbindungs Zeichenfolge zur Laufzeit verwenden** ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="7e38d-204">The deployment process will put this connection string in the deployed Web.config file because **Use this connection string at runtime** is selected.</span></span>

<span data-ttu-id="7e38d-205">Wählen Sie unter " **schoolContext**" die Option **Code First-Migrationen anwenden**aus.</span><span class="sxs-lookup"><span data-stu-id="7e38d-205">Also under **SchoolContext**, select **Apply Code First Migrations**.</span></span> <span data-ttu-id="7e38d-206">Diese Option bewirkt, dass der Bereitstellungs Prozess die bereitgestellte Web. config-Datei konfiguriert, um den `MigrateDatabaseToLatestVersion` Initialisierer anzugeben.</span><span class="sxs-lookup"><span data-stu-id="7e38d-206">This option causes the deployment process to configure the deployed Web.config file to specify the `MigrateDatabaseToLatestVersion` initializer.</span></span> <span data-ttu-id="7e38d-207">Dieser Initialisierer aktualisiert die Datenbank automatisch auf die neueste Version, wenn die Anwendung zum ersten Mal nach der Bereitstellung auf die Datenbank zugreift.</span><span class="sxs-lookup"><span data-stu-id="7e38d-207">This initializer automatically updates the database to the latest version when the application accesses the database for the first time after deployment.</span></span>

<span data-ttu-id="7e38d-208">Geben Sie im Feld Verbindungs Zeichenfolge für **DefaultConnection**den folgenden Wert ein:</span><span class="sxs-lookup"><span data-stu-id="7e38d-208">In the connection string box for **DefaultConnection**, enter the following value:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample4.cmd)]

<span data-ttu-id="7e38d-209">Lassen Sie **Datenbank aktualisieren** deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="7e38d-209">Leave **Update database** cleared.</span></span> <span data-ttu-id="7e38d-210">Die Mitgliedschafts Datenbank wird bereitgestellt, indem die SDF-Datei in App-\_Daten kopiert wird, und Sie möchten nicht, dass der Bereitstellungs Prozess nichts anderes mit dieser Datenbank durchführt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-210">The membership database will be deployed by copying the .sdf file in App\_Data, and you don't want the deployment process to do anything else with this database.</span></span>

![Publish_Web_wizard_Settings_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image13.png)

<span data-ttu-id="7e38d-212">Klicken Sie auf **weiter** , um zur Registerkarte **Vorschau** zu gelangen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-212">Click **Next** to advance to the **Preview** tab.</span></span>

<span data-ttu-id="7e38d-213">Klicken Sie auf der Registerkarte **Vorschau** auf **Vorschau starten** , um eine Liste der Dateien anzuzeigen, die kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="7e38d-213">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span>

![Publish_Web_wizard_Preview_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image14.png)

![Publish_Web_wizard_Preview_tab_Test_with_file_list](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image15.png)

<span data-ttu-id="7e38d-216">Klicken Sie auf **Veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="7e38d-216">Click **Publish**.</span></span>

<span data-ttu-id="7e38d-217">Wenn Visual Studio nicht im Administrator Modus ist, erhalten Sie möglicherweise eine Fehlermeldung, die auf einen Berechtigungs Fehler hinweist.</span><span class="sxs-lookup"><span data-stu-id="7e38d-217">If Visual Studio is not in administrator mode, you might get an error message that indicates a permissions error.</span></span> <span data-ttu-id="7e38d-218">Schließen Sie in diesem Fall Visual Studio, öffnen Sie es im Administrator Modus, und versuchen Sie erneut, zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-218">In that case, close Visual Studio, open it in administrator mode, and try to publish again.</span></span>

<span data-ttu-id="7e38d-219">Wenn sich Visual Studio im Administrator Modus befindet, meldet das **Ausgabe** Fenster den erfolgreichen Build und die Veröffentlichung.</span><span class="sxs-lookup"><span data-stu-id="7e38d-219">If Visual Studio is in administrator mode, the **Output** window reports successful build and publish.</span></span>

![Output_window_publish_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image16.png)

<span data-ttu-id="7e38d-221">Der Browser wird automatisch auf der Startseite der lokalen Website in IIS geöffnet, die auf dem lokalen Computer in IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-221">The browser automatically opens to the Contoso University Home page running in IIS on the local computer.</span></span>

<span data-ttu-id="7e38d-222">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-222">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image17.png)</span></span>

## <a name="testing-in-the-test-environment"></a><span data-ttu-id="7e38d-223">Testen in der Test Umgebung</span><span class="sxs-lookup"><span data-stu-id="7e38d-223">Testing in the Test Environment</span></span>

<span data-ttu-id="7e38d-224">Beachten Sie, dass der Umgebungs Indikator "(Test)" anstelle von "(dev)" anzeigt, was anzeigt, dass die *Web. config* -Transformation für den Umgebungs Indikator erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="7e38d-224">Notice that the environment indicator shows "(Test)" instead of "(Dev)", which shows that the *Web.config* transformation for the environment indicator was successful.</span></span>

<span data-ttu-id="7e38d-225">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image20.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-225">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image20.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image19.png)</span></span>

<span data-ttu-id="7e38d-226">Führen Sie die Seite **Studenten** aus, um sicherzustellen, dass die bereitgestellte Datenbank keine Studenten enthält.</span><span class="sxs-lookup"><span data-stu-id="7e38d-226">Run the **Students** page to verify that the deployed database has no students.</span></span> <span data-ttu-id="7e38d-227">Wenn Sie diese Seite auswählen, kann der Ladevorgang einige Minuten dauern, da Code First die Datenbank erstellt und dann die `Seed`-Methode ausführt.</span><span class="sxs-lookup"><span data-stu-id="7e38d-227">When you select this page it may take a few minutes to load because Code First creates the database and then runs the `Seed` method.</span></span> <span data-ttu-id="7e38d-228">(Dies ist nicht der Fall, wenn Sie auf der Startseite waren, weil die Anwendung noch nicht versucht hat, auf die Datenbank zuzugreifen.)</span><span class="sxs-lookup"><span data-stu-id="7e38d-228">(It didn't do that when you were on the home page because the application didn't try to access the database yet.)</span></span>

<span data-ttu-id="7e38d-229">[![Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image22.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-229">[![Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image22.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image21.png)</span></span>

<span data-ttu-id="7e38d-230">Führen Sie die Seite **Dozenten** aus, um zu überprüfen, ob die Datenbank mit den Dozenten Daten Code First:</span><span class="sxs-lookup"><span data-stu-id="7e38d-230">Run the **Instructors** page to verify that Code First seeded the database with instructor data:</span></span>

<span data-ttu-id="7e38d-231">[![Instructors_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image24.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-231">[![Instructors_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image24.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image23.png)</span></span>

<span data-ttu-id="7e38d-232">Wählen Sie im Menü " **Students** " die Option **Studenten hinzufügen** aus, fügen Sie einen Studenten hinzu, und zeigen Sie dann die neue Student auf der Seite **Studenten** an, um sicherzustellen, dass Sie erfolgreich in die Datenbank schreiben</span><span class="sxs-lookup"><span data-stu-id="7e38d-232">Select **Add Students** from the **Students** menu, add a student, and then view the new student in the **Students** page to verify that you can successfully write to the database:</span></span>

<span data-ttu-id="7e38d-233">[![Add_Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image26.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-233">[![Add_Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image26.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image25.png)</span></span>

<span data-ttu-id="7e38d-234">[![Students_page_with_new_student_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image28.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-234">[![Students_page_with_new_student_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image28.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image27.png)</span></span>

<span data-ttu-id="7e38d-235">Wählen Sie im Menü **Kurse** die Option **Guthaben aktualisieren**aus.</span><span class="sxs-lookup"><span data-stu-id="7e38d-235">From the **Courses** menu, select **Update Credits**.</span></span> <span data-ttu-id="7e38d-236">Die Seite " **Guthaben aktualisieren** " erfordert Administrator Berechtigungen, sodass die **Anmelde** Seite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7e38d-236">The **Update Credits** page requires administrator permissions, so the **Log In** page is displayed.</span></span> <span data-ttu-id="7e38d-237">Geben Sie die Anmelde Informationen für das Administrator Konto ein, die Sie zuvor erstellt haben ("admin" und "Pas $ w0rd").</span><span class="sxs-lookup"><span data-stu-id="7e38d-237">Enter the administrator account credentials that you created earlier ("admin" and "Pas$w0rd").</span></span> <span data-ttu-id="7e38d-238">Die Seite " **Guthaben aktualisieren** " wird angezeigt, die überprüft, ob das im vorherigen Tutorial erstellte Administrator Konto ordnungsgemäß in der Testumgebung bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="7e38d-238">The **Update Credits** page is displayed, which verifies that the administrator account that you created in the previous tutorial was correctly deployed to the test environment.</span></span>

<span data-ttu-id="7e38d-239">[![Log_In_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image30.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-239">[![Log_In_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image30.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image29.png)</span></span>

<span data-ttu-id="7e38d-240">[![Update_Credits_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image32.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-240">[![Update_Credits_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image32.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image31.png)</span></span>

<span data-ttu-id="7e38d-241">Vergewissern Sie sich, dass ein *ELMAH* -Ordner mit nur der Platzhalter Datei vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="7e38d-241">Verify that an *Elmah* folder exists with only the placeholder file in it.</span></span>

<span data-ttu-id="7e38d-242">[![Elmah_folder_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image34.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="7e38d-242">[![Elmah_folder_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image34.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image33.png)</span></span>

<a id="efcfmigrations"></a>

## <a name="reviewing-the-automatic-webconfig-changes-for-code-first-migrations"></a><span data-ttu-id="7e38d-243">Überprüfen der automatischen Änderungen an "Web. config" für Code First-Migrationen</span><span class="sxs-lookup"><span data-stu-id="7e38d-243">Reviewing the Automatic Web.config Changes for Code First Migrations</span></span>

<span data-ttu-id="7e38d-244">Öffnen Sie die Datei " *Web. config* " in der bereitgestellten Anwendung unter " *c:\inetpub\wwwroot\contosouniversity* ". Sie können sehen, wo der von Ihnen konfigurierte Bereitstellungs Prozess Code First-Migrationen, um die Datenbank automatisch auf die neueste Version zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="7e38d-244">Open the *Web.config* file in the deployed application at *C:\inetpub\wwwroot\ContosoUniversity* and you can see where the deployment process configured Code First Migrations to automatically update the database to the latest version.</span></span>

![](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image35.png)

<span data-ttu-id="7e38d-245">Beim Bereitstellungs Prozess wurde außerdem eine neue Verbindungs Zeichenfolge für Code First-Migrationen erstellt, die ausschließlich zum Aktualisieren des Datenbankschemas verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="7e38d-245">The deployment process also created a new connection string for Code First Migrations to use exclusively for updating the database schema:</span></span>

![DatabasePublish_connection_string](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image36.png)

<span data-ttu-id="7e38d-247">Mit dieser zusätzlichen Verbindungs Zeichenfolge können Sie ein Benutzerkonto für Datenbankschema Updates und ein anderes Benutzerkonto für den Zugriff auf Anwendungsdaten angeben.</span><span class="sxs-lookup"><span data-stu-id="7e38d-247">This additional connection string enables you to specify one user account for database schema updates, and a different user account for application data access.</span></span> <span data-ttu-id="7e38d-248">Beispielsweise können Sie der Anwendung die Rolle "DB\_Owner" Code First-Migrationen-und DB-\_DataReader-und DB-\_-DataWriter-Rollen zuweisen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-248">For example, you could assign the db\_owner role to Code First Migrations, and db\_datareader and db\_datawriter roles to the application.</span></span> <span data-ttu-id="7e38d-249">Dies ist ein gängiges tiefgreifendes Verteidigungs Muster, das verhindert, dass potenziell bösartiger Code in der Anwendung das Datenbankschema ändert.</span><span class="sxs-lookup"><span data-stu-id="7e38d-249">This is a common defense-in-depth pattern that prevents potentially malicious code in the application from changing the database schema.</span></span> <span data-ttu-id="7e38d-250">(Dies kann beispielsweise bei einem erfolgreichen SQL Injection-Angriff vorkommen.) Dieses Muster wird von diesen Tutorials nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="7e38d-250">(For example, this might happen in a successful SQL injection attack.) This pattern is not used by these tutorials.</span></span> <span data-ttu-id="7e38d-251">Dies gilt nicht für SQL Server Compact und gilt nicht für die Migration zu SQL Server in einem späteren Tutorial dieser Reihe.</span><span class="sxs-lookup"><span data-stu-id="7e38d-251">It does not apply to SQL Server Compact, and it does not apply when you migrate to SQL Server in a later tutorial in this series.</span></span> <span data-ttu-id="7e38d-252">Die cytanium-Site bietet nur ein Benutzerkonto für den Zugriff auf die SQL Server Datenbank, die Sie unter cytanium erstellen.</span><span class="sxs-lookup"><span data-stu-id="7e38d-252">The Cytanium site offers just one user account for accessing the SQL Server database that you create at Cytanium.</span></span> <span data-ttu-id="7e38d-253">Wenn Sie dieses Muster in Ihrem Szenario implementieren können, führen Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="7e38d-253">If you are able to implement this pattern in your scenario, you can do it by performing the following steps:</span></span>

1. <span data-ttu-id="7e38d-254">Geben Sie auf der Registerkarte **Einstellungen** des Assistenten **Web veröffentlichen** die Verbindungs Zeichenfolge ein, die einen Benutzer mit vollständigen Datenbankschema-Aktualisierungs Berechtigungen angibt, und deaktivieren Sie das Kontrollkästchen **Diese Verbindungs Zeichenfolge zur Laufzeit verwenden** .</span><span class="sxs-lookup"><span data-stu-id="7e38d-254">In the **Settings** tab of the **Publish Web** wizard, enter the connection string that specifies a user with full database schema update permissions, and clear the **Use this connection string at runtime** check box.</span></span> <span data-ttu-id="7e38d-255">In der bereitgestellten Web. config-Datei wird dies die `DatabasePublish` Verbindungs Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="7e38d-255">In the deployed Web.config file, this becomes the `DatabasePublish` connection string.</span></span>
2. <span data-ttu-id="7e38d-256">Erstellen Sie eine Transformation für die Datei "Web. config" für die Verbindungs Zeichenfolge, die von der Anwendung zur Laufzeit verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="7e38d-256">Create a Web.config file transformation for the connection string that you want the application to use at run time.</span></span>

<span data-ttu-id="7e38d-257">Sie haben Ihre Anwendung nun auf dem Entwicklungs Computer auf IIS bereitgestellt und dort getestet.</span><span class="sxs-lookup"><span data-stu-id="7e38d-257">You have now deployed your application to IIS on your development computer and tested it there.</span></span> <span data-ttu-id="7e38d-258">Dadurch wird sichergestellt, dass der Inhalt der Anwendung vom Bereitstellungs Prozess an den richtigen Speicherort kopiert wurde (ausgenommen der Dateien, die nicht bereitgestellt werden sollen) und dass IIS während der Bereitstellung ordnungsgemäß konfiguriert Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="7e38d-258">This verifies that the deployment process copied the application's content to the right location (excluding the files that you did not want to deploy), and also that Web Deploy configured IIS correctly during deployment.</span></span> <span data-ttu-id="7e38d-259">Im nächsten Tutorial führen Sie einen weiteren Test aus, der einen Bereitstellungs Task findet, der noch nicht ausgeführt wurde: das Festlegen der Ordner Berechtigungen für den Ordner *ELMAH* .</span><span class="sxs-lookup"><span data-stu-id="7e38d-259">In the next tutorial, you'll run one more test that finds a deployment task that has not yet been done: setting folder permissions on the *Elmah* folder.</span></span>

## <a name="more-information"></a><span data-ttu-id="7e38d-260">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="7e38d-260">More Information</span></span>

<span data-ttu-id="7e38d-261">Informationen zum Ausführen von IIS oder IIS Express in Visual Studio finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="7e38d-261">For information about running IIS or IIS Express in Visual Studio, see the following resources:</span></span>

- <span data-ttu-id="7e38d-262">[IIS Express Übersicht](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) auf der IIS.NET-Website.</span><span class="sxs-lookup"><span data-stu-id="7e38d-262">[IIS Express Overview](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) on the IIS.net site.</span></span>
- <span data-ttu-id="7e38d-263">[Einführung in IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) von Scott Guthrie Blog.</span><span class="sxs-lookup"><span data-stu-id="7e38d-263">[Introducing IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) on Scott Guthrie's blog.</span></span>
- <span data-ttu-id="7e38d-264">Gewusst [wie: Angeben des Webservers für Webprojekte in Visual Studio](https://msdn.microsoft.com/library/ms178108.aspx)</span><span class="sxs-lookup"><span data-stu-id="7e38d-264">[How to: Specify the Web Server for Web Projects in Visual Studio](https://msdn.microsoft.com/library/ms178108.aspx).</span></span>
- <span data-ttu-id="7e38d-265">[Grundlegende Unterschiede zwischen IIS und der ASP.NET Development Server](../deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) auf der ASP.NET-Website.</span><span class="sxs-lookup"><span data-stu-id="7e38d-265">[Core Differences Between IIS and the ASP.NET Development Server](../deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) on the ASP.NET site.</span></span>
- <span data-ttu-id="7e38d-266">[Testen Sie Ihre ASP.NET MVC-oder Web Forms-Anwendung auf IIS 7 innerhalb von 30 Sekunden](https://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx) im Blog von Rick Anderson.</span><span class="sxs-lookup"><span data-stu-id="7e38d-266">[Test your ASP.NET MVC or Web Forms Application on IIS 7 in 30 seconds](https://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="7e38d-267">Dieser Eintrag enthält Beispiele dafür, warum das Testen mit dem Visual Studio Development Server (Cassini) nicht so zuverlässig ist wie das Testen in IIS Express und warum das Testen in IIS Express nicht so zuverlässig ist wie das Testen in IIS.</span><span class="sxs-lookup"><span data-stu-id="7e38d-267">This entry provides examples of why testing with the Visual Studio Development Server (Cassini) is not as reliable as testing in IIS Express, and why testing in IIS Express is not as reliable as testing in IIS.</span></span>

<span data-ttu-id="7e38d-268">Informationen zu den Problemen, die auftreten können, wenn Ihre Anwendung mit mittlerer Vertrauenswürdigkeit ausgeführt wird, finden Sie unter [Hosting ASP.NET Applications in Mittel Trust](http://www.4guysfromrolla.com/articles/100307-1.aspx) auf The 4 guys from Rolla Site.</span><span class="sxs-lookup"><span data-stu-id="7e38d-268">For information about what issues might arise when your application runs in medium trust, see [Hosting ASP.NET Applications in Medium Trust](http://www.4guysfromrolla.com/articles/100307-1.aspx) on the 4 Guys from Rolla site.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="7e38d-269">[Zurück](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12.md)
> [Weiter](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="7e38d-269">[Previous](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12.md)
[Next](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)</span></span>
