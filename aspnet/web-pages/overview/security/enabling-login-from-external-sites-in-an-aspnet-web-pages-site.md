---
uid: web-pages/overview/security/enabling-login-from-external-sites-in-an-aspnet-web-pages-site
title: Anmelden mithilfe externer Websites auf einer ASP.net Web Pages-(Razor-) Website | Microsoft-Dokumentation
author: Rick-Anderson
description: In diesem Artikel wird erläutert, wie Sie sich mit Facebook, Google, Twitter, Yahoo und anderen Websites bei Ihrer ASP.net Web Pages (Razor-Website) anmelden, –...
ms.author: riande
ms.date: 02/21/2014
ms.assetid: ef852096-a5bf-47b3-9945-125cde065093
msc.legacyurl: /web-pages/overview/security/enabling-login-from-external-sites-in-an-aspnet-web-pages-site
msc.type: authoredcontent
ms.openlocfilehash: 860b75422c3df1d191ed861344963bfc19270e8f
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78518787"
---
# <a name="logging-in-using-external-sites-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="4c84e-103">Anmelden mithilfe externer Websites auf einer ASP.net Web Pages-(Razor-) Website</span><span class="sxs-lookup"><span data-stu-id="4c84e-103">Logging In Using External Sites in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="4c84e-104">von [Tom fitzmacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="4c84e-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="4c84e-105">In diesem Artikel wird erläutert, wie Sie sich mit Facebook, Google, Twitter, Yahoo und anderen Websites bei Ihrer ASP.net Web Pages (Razor-Website) anmelden, d. –., wie OAuth und OpenID auf Ihrer Website unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="4c84e-105">This article explains how to log in to your ASP.NET Web Pages (Razor) site using Facebook, Google, Twitter, Yahoo, and other sites — that is, how to support OAuth and OpenID in your site.</span></span>
> 
> <span data-ttu-id="4c84e-106">Sie lernen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="4c84e-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="4c84e-107">Aktivieren der Anmeldung von anderen Websites, wenn Sie die webmatrix-Starter Site-Vorlage verwenden.</span><span class="sxs-lookup"><span data-stu-id="4c84e-107">How to enable login from other sites when you use the WebMatrix Starter Site template.</span></span>
> 
> <span data-ttu-id="4c84e-108">Dies ist die im Artikel eingeführte ASP.net-Funktion:</span><span class="sxs-lookup"><span data-stu-id="4c84e-108">This is the ASP.NET feature introduced in the article:</span></span>
> 
> - <span data-ttu-id="4c84e-109">Das `OAuthWebSecurity`-Hilfsprogramm.</span><span class="sxs-lookup"><span data-stu-id="4c84e-109">The `OAuthWebSecurity` helper.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="4c84e-110">Im Tutorial verwendete Software Versionen</span><span class="sxs-lookup"><span data-stu-id="4c84e-110">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="4c84e-111">ASP.net Web Pages (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="4c84e-111">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="4c84e-112">Webmatrix 3</span><span class="sxs-lookup"><span data-stu-id="4c84e-112">WebMatrix 3</span></span>

<span data-ttu-id="4c84e-113">ASP.net Web Pages bietet Unterstützung für [OAuth](http://oauth.net/) -und [OpenID](http://openid.net/) -Anbieter.</span><span class="sxs-lookup"><span data-stu-id="4c84e-113">ASP.NET Web Pages includes support for [OAuth](http://oauth.net/) and [OpenID](http://openid.net/) providers.</span></span> <span data-ttu-id="4c84e-114">Mithilfe dieser Anbieter können Sie es Benutzern ermöglichen, sich mit Ihren vorhandenen Anmelde Informationen von Facebook, Twitter, Microsoft und Google bei Ihrer Website anzumelden.</span><span class="sxs-lookup"><span data-stu-id="4c84e-114">Using these providers, you can let users log into your site using their existing credentials from Facebook, Twitter, Microsoft, and Google.</span></span> <span data-ttu-id="4c84e-115">Wenn Sie sich beispielsweise mit einem Facebook-Konto anmelden möchten, können Benutzer einfach ein Facebook-Symbol auswählen, das Sie zur Facebook-Anmeldeseite umleitet, auf der Sie Ihre Benutzerinformationen eingeben.</span><span class="sxs-lookup"><span data-stu-id="4c84e-115">For example, to log in using a Facebook account, users can just choose a Facebook icon, which redirects them to the Facebook login page where they enter their user information.</span></span> <span data-ttu-id="4c84e-116">Anschließend können Sie die Facebook-Anmeldung mit Ihrem Konto auf Ihrer Website verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-116">They can then associate the Facebook login with their account on your site.</span></span> <span data-ttu-id="4c84e-117">Eine verwandte Erweiterung der Webseiten-Mitgliedschafts Features besteht darin, dass Benutzer mehrere Anmeldungen (einschließlich Anmeldungen von Websites für soziale Netzwerke) mit einem einzigen Konto auf Ihrer Website verknüpfen können.</span><span class="sxs-lookup"><span data-stu-id="4c84e-117">A related enhancement to the Web Pages membership features is that users can associate multiple logins (including logins from social networking sites) with a single account on your website.</span></span>

<span data-ttu-id="4c84e-118">Diese Abbildung zeigt die Anmeldeseite aus der **Starter Site** -Vorlage, in der ein Benutzer ein Facebook-, Twitter-, Google-oder Microsoft-Symbol auswählen kann, um die Anmeldung mit einem externen Konto zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="4c84e-118">This image shows the Login page from the **Starter Site** template, where a user can choose a Facebook, Twitter, Google or Microsoft icon to enable logging in with an external account:</span></span>

![externe Anbieter](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/_static/image1.png)

<span data-ttu-id="4c84e-120">Sie können die OAuth-und OpenID-Mitgliedschaft aktivieren, indem Sie einige Codezeilen in der Vorlage " **Starter Site** " auskommentieren.</span><span class="sxs-lookup"><span data-stu-id="4c84e-120">You can enable OAuth and OpenID membership by uncommenting a few lines of code in the **Starter Site** template.</span></span> <span data-ttu-id="4c84e-121">Die Methoden und Eigenschaften, die Sie für die Arbeit mit den OAuth-und OpenID-Anbietern verwenden, befinden sich in der `WebMatrix.Security.OAuthWebSecurity`-Klasse.</span><span class="sxs-lookup"><span data-stu-id="4c84e-121">The methods and properties you use to work with the OAuth and OpenID providers are in the `WebMatrix.Security.OAuthWebSecurity` class.</span></span> <span data-ttu-id="4c84e-122">Die **Starter Site** -Vorlage enthält eine vollständige Mitgliedschafts Infrastruktur, vollständig mit einer Anmeldeseite, einer Mitgliedschafts Datenbank und dem gesamten Code, den Sie zum Anmelden von Benutzern bei Ihrer Website mithilfe lokaler Anmelde Informationen oder eines anderen Standorts benötigen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-122">The **Starter Site** template includes a full membership infrastructure, complete with a login page, a membership database, and all the code you need to let users log into your site using either local credentials or those from another site.</span></span>

<span data-ttu-id="4c84e-123">In diesem Abschnitt wird erläutert, wie Sie es Benutzern ermöglichen können, sich von externen Websites an eine Website anzumelden, die auf der Vorlage **Starter Site** basiert.</span><span class="sxs-lookup"><span data-stu-id="4c84e-123">This section provides an example of how to let users log in from external sites to a site that's based on the **Starter Site** template.</span></span> <span data-ttu-id="4c84e-124">Nachdem Sie eine Starter Site erstellt haben, gehen Sie wie folgt vor (Details finden Sie hier):</span><span class="sxs-lookup"><span data-stu-id="4c84e-124">After creating a starter site, you do this (details follow):</span></span>

- <span data-ttu-id="4c84e-125">Für Standorte, die einen OAuth-Anbieter verwenden (Facebook, Twitter und Microsoft), erstellen Sie eine Anwendung auf der externen Website.</span><span class="sxs-lookup"><span data-stu-id="4c84e-125">For the sites that use an OAuth provider (Facebook, Twitter, and Microsoft), you create an application on the external site.</span></span> <span data-ttu-id="4c84e-126">Dadurch erhalten Sie Anwendungs Schlüssel, die Sie benötigen, um die Anmelde Funktion für diese Sites aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-126">This gives you application keys that you'll need in order to invoke the login feature for those sites.</span></span>
- <span data-ttu-id="4c84e-127">Für Websites, die einen OpenID-Anbieter (Google) verwenden, ist es nicht erforderlich, eine Anwendung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-127">For sites that use an OpenID provider (Google), you do not have to create an application.</span></span> <span data-ttu-id="4c84e-128">Für alle diese Websites müssen Sie über ein Konto verfügen, um sich anzumelden und Entwickler Anwendungen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-128">For all of these sites, you must have an account in order to log in and to create developer applications.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4c84e-129">Microsoft-Anwendungen akzeptieren nur eine Live-URL für eine funktionierende Website, sodass Sie keine lokale Website-URL zum Testen von Anmeldungen verwenden können.</span><span class="sxs-lookup"><span data-stu-id="4c84e-129">Microsoft applications only accept a live URL for a working website, so you cannot use a local website URL for testing logins.</span></span>
- <span data-ttu-id="4c84e-130">Bearbeiten Sie einige Dateien auf Ihrer Website, um den entsprechenden Authentifizierungs Anbieter anzugeben und einen Anmelde Namen an die Website zu übermitteln, die Sie verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="4c84e-130">Edit a few files in your website in order to specify the appropriate authentication provider and to submit a login to the site you want to use.</span></span>

<span data-ttu-id="4c84e-131">Dieser Artikel enthält separate Anweisungen für die folgenden Aufgaben:</span><span class="sxs-lookup"><span data-stu-id="4c84e-131">This article provides separate instructions for the following tasks:</span></span>

- [<span data-ttu-id="4c84e-132">Aktivieren von Google-Anmeldungen</span><span class="sxs-lookup"><span data-stu-id="4c84e-132">Enabling Google logins</span></span>](#To_enable_Google_logins)
- [<span data-ttu-id="4c84e-133">Aktivieren von Facebook-Anmeldungen</span><span class="sxs-lookup"><span data-stu-id="4c84e-133">Enabling Facebook logins</span></span>](#To_enable_Facebook_logins)
- [<span data-ttu-id="4c84e-134">Aktivieren von Twitter-Anmeldungen</span><span class="sxs-lookup"><span data-stu-id="4c84e-134">Enabling Twitter logins</span></span>](#To_enable_Twitter_logins)

<a id="To_enable_Google_logins"></a>
## <a name="enabling-google-logins"></a><span data-ttu-id="4c84e-135">Aktivieren von Google-Anmeldungen</span><span class="sxs-lookup"><span data-stu-id="4c84e-135">Enabling Google Logins</span></span>

1. <span data-ttu-id="4c84e-136">Erstellen oder öffnen Sie eine ASP.net Web Pages Site, die auf der webmatrix-Starter Site-Vorlage basiert.</span><span class="sxs-lookup"><span data-stu-id="4c84e-136">Create or open an ASP.NET Web Pages site that's based on the WebMatrix Starter Site template.</span></span>
2. <span data-ttu-id="4c84e-137">Öffnen Sie die Seite *\_AppStart. cshtml* , und heben Sie die Auskommentierung der folgenden Codezeile auf.</span><span class="sxs-lookup"><span data-stu-id="4c84e-137">Open the *\_AppStart.cshtml* page and uncomment the following line of code.</span></span> 

    [!code-css[Main](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/samples/sample1.css)]

### <a name="testing-google-login"></a><span data-ttu-id="4c84e-138">Testen der Google-Anmeldung</span><span class="sxs-lookup"><span data-stu-id="4c84e-138">Testing Google login</span></span>

1. <span data-ttu-id="4c84e-139">Führen Sie die Seite *default. cshtml* Ihrer Website aus, und klicken Sie auf die Schaltfläche **Anmelden** .</span><span class="sxs-lookup"><span data-stu-id="4c84e-139">Run the *default.cshtml* page of your site and choose the **Log in** button.</span></span>
2. <span data-ttu-id="4c84e-140">Wählen Sie auf der *Anmelde* Seite im Abschnitt **Verwenden eines anderen Dienstanbieter für** die Anmeldung entweder die **Google** -oder **Yahoo** -Schaltfläche "Senden" aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-140">On the *Login* page, in the **Use another service to log in** section, choose either the **Google** or **Yahoo** submit button.</span></span> <span data-ttu-id="4c84e-141">In diesem Beispiel wird die Google-Anmeldung verwendet.</span><span class="sxs-lookup"><span data-stu-id="4c84e-141">This example uses the Google login.</span></span> 

    <span data-ttu-id="4c84e-142">Die Webseite leitet die Anforderung an die Google-Anmeldeseite um.</span><span class="sxs-lookup"><span data-stu-id="4c84e-142">The web page redirects the request to the Google login page.</span></span>

    ![Google-Anmeldung](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/_static/image2.png)
3. <span data-ttu-id="4c84e-144">Anmelde Informationen für ein vorhandenes Google-Konto eingeben.</span><span class="sxs-lookup"><span data-stu-id="4c84e-144">Enter credentials for an existing Google account.</span></span>
4. <span data-ttu-id="4c84e-145">Wenn Sie gefragt werden, ob Sie *localhost* die Verwendung von Informationen aus dem Konto gestatten möchten, klicken Sie auf **zulassen**.</span><span class="sxs-lookup"><span data-stu-id="4c84e-145">If Google asks you whether you want to allow *Localhost* to use information from the account, click **Allow**.</span></span>

    <span data-ttu-id="4c84e-146">Der Code verwendet das Google-Token zum Authentifizieren des Benutzers und kehrt dann zu dieser Seite auf Ihrer Website zurück.</span><span class="sxs-lookup"><span data-stu-id="4c84e-146">The code uses the Google token to authenticate the user, and then returns to this page on your website.</span></span> <span data-ttu-id="4c84e-147">Auf dieser Seite können Benutzer Ihre Google-Anmeldung mit einem vorhandenen Konto auf Ihrer Website verknüpfen, oder Sie können ein neues Konto auf Ihrer Website registrieren, um die externe Anmeldung zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-147">This page lets users associate their Google login with an existing account on your website, or they can register a new account on your site to associate the external login with.</span></span>

    ![OAuth-5](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/_static/image3.png)
5. <span data-ttu-id="4c84e-149">Wählen Sie die Schaltfläche **zuordnen** aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-149">Choose the **Associate** button.</span></span> <span data-ttu-id="4c84e-150">Der Browser kehrt zur Startseite Ihrer Anwendung zurück.</span><span class="sxs-lookup"><span data-stu-id="4c84e-150">The browser returns to your application's home page.</span></span>

<a id="To_enable_Facebook_logins"></a>
## <a name="enabling-facebook-logins"></a><span data-ttu-id="4c84e-151">Aktivieren von Facebook-Anmeldungen</span><span class="sxs-lookup"><span data-stu-id="4c84e-151">Enabling Facebook Logins</span></span>

1. <span data-ttu-id="4c84e-152">Wechseln Sie zur [Facebook-Entwickler Website](https://developers.facebook.com/apps) (melden Sie sich an, wenn Sie noch nicht angemeldet sind).</span><span class="sxs-lookup"><span data-stu-id="4c84e-152">Go to the [Facebook developers site](https://developers.facebook.com/apps) (log in if you're not already logged in).</span></span>
2. <span data-ttu-id="4c84e-153">Wählen Sie die Schaltfläche **neue APP erstellen** aus, und befolgen Sie dann die Anweisungen, um die neue Anwendung zu benennen und zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-153">Choose the **Create New App** button, and then follow the prompts to name and create the new application.</span></span>
3. <span data-ttu-id="4c84e-154">Wählen Sie im Abschnitt **Wählen Sie aus, wie Ihre APP in Facebook integriert werden**soll den Abschnitt **Website** aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-154">In the section **Select how your app will integrate with Facebook**, choose the **Website** section.</span></span>
4. <span data-ttu-id="4c84e-155">Geben Sie im Feld **Website-URL** die URL Ihrer Website ein (z. b. `http://www.example.com`).</span><span class="sxs-lookup"><span data-stu-id="4c84e-155">Fill in the **Site URL** field with the URL of your site (for example, `http://www.example.com`).</span></span> <span data-ttu-id="4c84e-156">Das Feld **Domäne** ist optional. Sie können dies verwenden, um die Authentifizierung für eine gesamte Domäne (z. b. *example.com*) bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-156">The **Domain** field is optional; you can use this to provide authentication for an entire domain (such as *example.com*).</span></span> 

    > [!NOTE]
    > <span data-ttu-id="4c84e-157">Wenn Sie eine Website auf dem lokalen Computer mit einer URL wie `http://localhost:12345` ausführen (wobei es sich um eine lokale Portnummer handelt), können Sie diesen Wert zum Website- **URL** -Feld hinzufügen, um den Standort zu testen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-157">If you are running a site on your local computer with a URL like `http://localhost:12345` (where the number is a local port number), you can add this value to the **Site URL** field for testing your site.</span></span> <span data-ttu-id="4c84e-158">Allerdings müssen Sie jedes Mal, wenn die Portnummer des lokalen Standorts geändert wird, das Feld " **Website-URL** " der Anwendung aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="4c84e-158">However, any time the port number of your local site changes, you will need to update the **Site URL** field of your application.</span></span>
5. <span data-ttu-id="4c84e-159">Wählen Sie die Schaltfläche **Änderungen speichern** aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-159">Choose the **Save Changes** button.</span></span>
6. <span data-ttu-id="4c84e-160">Klicken Sie erneut auf die Registerkarte **apps** , und zeigen Sie dann die Startseite für Ihre Anwendung an.</span><span class="sxs-lookup"><span data-stu-id="4c84e-160">Choose the **Apps** tab again, and then view the start page for your application.</span></span>
7. <span data-ttu-id="4c84e-161">Kopieren Sie die Werte für **App-ID** und **App-Geheimnis** für die Anwendung, und fügen Sie Sie in eine temporäre Textdatei ein.</span><span class="sxs-lookup"><span data-stu-id="4c84e-161">Copy the **App ID** and **App Secret** values for your application and paste them into a temporary text file.</span></span> <span data-ttu-id="4c84e-162">Diese Werte werden an den Facebook-Anbieter im Website Code übergeben.</span><span class="sxs-lookup"><span data-stu-id="4c84e-162">You will pass these values to the Facebook provider in your website code.</span></span>
8. <span data-ttu-id="4c84e-163">Beenden Sie die Facebook-Entwickler Website.</span><span class="sxs-lookup"><span data-stu-id="4c84e-163">Exit the Facebook developer site.</span></span>

<span data-ttu-id="4c84e-164">Nun nehmen Sie Änderungen an zwei Seiten auf Ihrer Website vor, damit Benutzer sich mit ihren Facebook-Konten bei der Website anmelden können.</span><span class="sxs-lookup"><span data-stu-id="4c84e-164">Now you make changes to two pages in your website so that users will able to log into the site using their Facebook accounts.</span></span>

1. <span data-ttu-id="4c84e-165">Erstellen oder öffnen Sie eine ASP.net Web Pages Site, die auf der webmatrix-Starter Site-Vorlage basiert.</span><span class="sxs-lookup"><span data-stu-id="4c84e-165">Create or open an ASP.NET Web Pages site that's based on the WebMatrix Starter Site template.</span></span>
2. <span data-ttu-id="4c84e-166">Öffnen Sie die Seite *\_AppStart. cshtml* , und heben Sie die Auskommentierung des Codes für den Facebook OAuth-Anbieter auf.</span><span class="sxs-lookup"><span data-stu-id="4c84e-166">Open the *\_AppStart.cshtml* page and uncomment the code for the Facebook OAuth provider.</span></span> <span data-ttu-id="4c84e-167">Der unkommentierte Codeblock sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="4c84e-167">The uncommented code block looks like the following:</span></span> 

    [!code-csharp[Main](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/samples/sample2.cs)]
3. <span data-ttu-id="4c84e-168">Kopieren Sie den Wert der **App-ID** aus der Facebook-Anwendung als Wert des Parameters `appId` (innerhalb der Anführungszeichen).</span><span class="sxs-lookup"><span data-stu-id="4c84e-168">Copy the **App ID** value from the Facebook application as the value of the `appId` parameter (inside the quotation marks).</span></span>
4. <span data-ttu-id="4c84e-169">Kopieren Sie den Wert der **App-Geheimnis** aus der Facebook-Anwendung als `appSecret` Parameterwert.</span><span class="sxs-lookup"><span data-stu-id="4c84e-169">Copy **App Secret** value from the Facebook application as the `appSecret` parameter value.</span></span>
5. <span data-ttu-id="4c84e-170">Speichern und schließen Sie die Datei.</span><span class="sxs-lookup"><span data-stu-id="4c84e-170">Save and close the file.</span></span>

### <a name="testing-facebook-login"></a><span data-ttu-id="4c84e-171">Testen der Facebook-Anmeldung</span><span class="sxs-lookup"><span data-stu-id="4c84e-171">Testing Facebook login</span></span>

1. <span data-ttu-id="4c84e-172">Führen Sie die Seite *default. cshtml* der Site aus, und klicken Sie auf die Schaltfläche **Anmelden** .</span><span class="sxs-lookup"><span data-stu-id="4c84e-172">Run the site's *default.cshtml* page and choose the **Login** button.</span></span>
2. <span data-ttu-id="4c84e-173">Wählen Sie auf der *Anmelde* Seite im Abschnitt **Verwenden eines anderen Dienstanbieter zum Anmelden** das **Facebook** -Symbol aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-173">On the *Login* page, in the **Use another service to log in** section, choose the **Facebook** icon.</span></span> 

    <span data-ttu-id="4c84e-174">Die Webseite leitet die Anforderung an die Facebook-Anmeldeseite um.</span><span class="sxs-lookup"><span data-stu-id="4c84e-174">The web page redirects the request to the Facebook login page.</span></span>

    ![OAuth-2](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/_static/image4.png)
3. <span data-ttu-id="4c84e-176">Melden Sie sich bei einem Facebook-Konto an.</span><span class="sxs-lookup"><span data-stu-id="4c84e-176">Log into a Facebook account.</span></span> 

    <span data-ttu-id="4c84e-177">Der Code verwendet das Facebook-Token, um Sie zu authentifizieren, und kehrt dann zu einer Seite zurück, auf der Sie Ihre Facebook-Anmeldung mit dem Anmelde Namen Ihrer Website verknüpfen können.</span><span class="sxs-lookup"><span data-stu-id="4c84e-177">The code uses the Facebook token to authenticate you and then returns to a page where you can associate your Facebook login with your site's login.</span></span> <span data-ttu-id="4c84e-178">Der Benutzername oder die e-Mail-Adresse wird in das **e-Mail-** Feld im Formular eingegeben.</span><span class="sxs-lookup"><span data-stu-id="4c84e-178">Your user name or email address is filled into the **Email** field on the form.</span></span>

    ![OAuth-5](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/_static/image5.png)
4. <span data-ttu-id="4c84e-180">Wählen Sie die Schaltfläche **zuordnen** aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-180">Choose the **Associate** button.</span></span> 

    <span data-ttu-id="4c84e-181">Der Browser kehrt zur Startseite zurück, und Sie sind angemeldet.</span><span class="sxs-lookup"><span data-stu-id="4c84e-181">The browser returns to the home page and you are logged in.</span></span>

<a id="To_enable_Twitter_logins"></a>
## <a name="enabling-twitter-logins"></a><span data-ttu-id="4c84e-182">Aktivieren von Twitter-Anmeldungen</span><span class="sxs-lookup"><span data-stu-id="4c84e-182">Enabling Twitter Logins</span></span>

1. <span data-ttu-id="4c84e-183">Navigieren Sie zur [Twitter-Entwickler Website](https://dev.twitter.com/).</span><span class="sxs-lookup"><span data-stu-id="4c84e-183">Browse to the [Twitter developers site](https://dev.twitter.com/).</span></span>
2. <span data-ttu-id="4c84e-184">Wählen Sie den Link **app erstellen** aus, und melden Sie sich dann bei der Site an.</span><span class="sxs-lookup"><span data-stu-id="4c84e-184">Choose the **Create an App** link and then log into the site.</span></span>
3. <span data-ttu-id="4c84e-185">Füllen Sie im Formular " **Anwendung erstellen** " die Felder " **Name** " und " **Beschreibung** " aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-185">On the **Create an Application** form, fill in the **Name** and **Description** fields.</span></span>
4. <span data-ttu-id="4c84e-186">Geben Sie im Feld **Website** die URL Ihrer Website ein (z. b. `http://www.example.com`).</span><span class="sxs-lookup"><span data-stu-id="4c84e-186">In the **WebSite** field, enter the URL of your site (for example, `http://www.example.com`).</span></span> 

    > [!NOTE]
    > <span data-ttu-id="4c84e-187">Wenn Sie Ihre Website lokal testen (mit einer URL wie `http://localhost:12345`), akzeptiert Twitter die URL möglicherweise nicht.</span><span class="sxs-lookup"><span data-stu-id="4c84e-187">If you're testing your site locally (using a URL like `http://localhost:12345`), Twitter might not accept the URL.</span></span> <span data-ttu-id="4c84e-188">Sie können jedoch möglicherweise die lokale Loopback-IP-Adresse verwenden (z. b. `http://127.0.0.1:12345`).</span><span class="sxs-lookup"><span data-stu-id="4c84e-188">However, you might be able to use the local loopback IP address (for example `http://127.0.0.1:12345`).</span></span> <span data-ttu-id="4c84e-189">Dies vereinfacht das lokale Testen Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="4c84e-189">This simplifies the process of testing your application locally.</span></span> <span data-ttu-id="4c84e-190">Jedes Mal, wenn die Portnummer Ihres lokalen Standorts geändert wird, müssen Sie jedoch das **Website** -Feld Ihrer Anwendung aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="4c84e-190">However, every time the port number of your local site changes, you'll need to update the **WebSite** field of your application.</span></span>
5. <span data-ttu-id="4c84e-191">Geben Sie im Feld **Rückruf-URL** in der Website eine URL für die Seite ein, zu der Benutzer nach der Anmeldung bei Twitter zurückkehren sollen.</span><span class="sxs-lookup"><span data-stu-id="4c84e-191">In the **Callback URL** field, enter a URL for the page in your website that you want users to return to after logging into Twitter.</span></span> <span data-ttu-id="4c84e-192">Geben Sie beispielsweise die URL ein, die Sie im Feld **Website** eingegeben haben, um Benutzer an die Startseite der Startseite zu senden (deren Anmeldestatus erkannt wird).</span><span class="sxs-lookup"><span data-stu-id="4c84e-192">For example, to send users to the home page of the Starter Site (which will recognize their logged-in status), enter the same URL that you entered in the **WebSite** field.</span></span>
6. <span data-ttu-id="4c84e-193">Akzeptieren Sie die Bedingungen, und wählen Sie die Schaltfläche **Ihre Twitter-Anwendung erstellen** aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-193">Accept the terms and choose the **Create your Twitter application** button.</span></span>
7. <span data-ttu-id="4c84e-194">Wählen Sie auf der Startseite **eigene Anwendungen** die Anwendung aus, die Sie erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="4c84e-194">On the **My Applications** landing page, choose the application you created.</span></span>
8. <span data-ttu-id="4c84e-195">Scrollen Sie auf der Registerkarte **Details** zum unteren Rand, und klicken Sie auf die Schaltfläche **mein Zugriffs Token erstellen** .</span><span class="sxs-lookup"><span data-stu-id="4c84e-195">On the **Details** tab, scroll to the bottom and choose the **Create My Access Token** button.</span></span>
9. <span data-ttu-id="4c84e-196">Kopieren Sie auf der Registerkarte **Details** die Werte **Consumer Key** und **Consumer Secret** für Ihre Anwendung, und fügen Sie Sie in eine temporäre Textdatei ein.</span><span class="sxs-lookup"><span data-stu-id="4c84e-196">On the **Details** tab, copy the **Consumer Key** and **Consumer Secret** values for your application and paste them into a temporary text file.</span></span> <span data-ttu-id="4c84e-197">Diese Werte werden an den Twitter-Anbieter im Website Code übergeben.</span><span class="sxs-lookup"><span data-stu-id="4c84e-197">You'll pass these values to the Twitter provider in your website code.</span></span>
10. <span data-ttu-id="4c84e-198">Beenden Sie die Twitter-Website.</span><span class="sxs-lookup"><span data-stu-id="4c84e-198">Exit the Twitter site.</span></span>

<span data-ttu-id="4c84e-199">Nun nehmen Sie Änderungen an zwei Seiten auf Ihrer Website vor, damit Benutzer sich mit Ihren Twitter-Konten bei der Website anmelden können.</span><span class="sxs-lookup"><span data-stu-id="4c84e-199">Now you make changes to two pages in your website so that users will be able to log into the site using their Twitter accounts.</span></span>

1. <span data-ttu-id="4c84e-200">Erstellen oder öffnen Sie eine ASP.net Web Pages Site, die auf der webmatrix-Starter Site-Vorlage basiert.</span><span class="sxs-lookup"><span data-stu-id="4c84e-200">Create or open an ASP.NET Web Pages site that's based on the WebMatrix Starter Site template.</span></span>
2. <span data-ttu-id="4c84e-201">Öffnen Sie die Seite *\_AppStart. cshtml* , und heben Sie die Auskommentierung des Codes für den OAuth-Anbieter von Twitter auf.</span><span class="sxs-lookup"><span data-stu-id="4c84e-201">Open the *\_AppStart.cshtml* page and uncomment the code for the Twitter OAuth provider.</span></span> <span data-ttu-id="4c84e-202">Der unkommentierte Codeblock sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="4c84e-202">The uncommented code block looks like this:</span></span> 

    [!code-csharp[Main](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/samples/sample3.cs)]
3. <span data-ttu-id="4c84e-203">Kopieren Sie den Wert für **Consumer Key** aus der Twitter-Anwendung als Wert des Parameters `consumerKey` (innerhalb der Anführungszeichen).</span><span class="sxs-lookup"><span data-stu-id="4c84e-203">Copy the **Consumer Key** value from the Twitter application as the value of the `consumerKey` parameter (inside the quotation marks).</span></span>
4. <span data-ttu-id="4c84e-204">Kopieren Sie den Wert für **Consumer Secret** aus der Twitter-Anwendung als Wert für den `consumerSecret`-Parameter.</span><span class="sxs-lookup"><span data-stu-id="4c84e-204">Copy the **Consumer Secret** value from the Twitter application as the value of the `consumerSecret` parameter.</span></span>
5. <span data-ttu-id="4c84e-205">Speichern und schließen Sie die Datei.</span><span class="sxs-lookup"><span data-stu-id="4c84e-205">Save and close the file.</span></span>

### <a name="testing-twitter-login"></a><span data-ttu-id="4c84e-206">Testen der Twitter-Anmeldung</span><span class="sxs-lookup"><span data-stu-id="4c84e-206">Testing Twitter login</span></span>

1. <span data-ttu-id="4c84e-207">Führen Sie die Seite *default. cshtml* Ihrer Website aus, und klicken Sie auf die Schaltfläche **Anmelden** .</span><span class="sxs-lookup"><span data-stu-id="4c84e-207">Run the *default.cshtml* page of your site and choose the **Login** button.</span></span>
2. <span data-ttu-id="4c84e-208">Wählen Sie auf der *Anmelde* Seite im Abschnitt **Verwenden eines anderen Dienstanbieter zum Anmelden** das **Twitter** -Symbol aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-208">On the *Login* page, in the **Use another service to log in** section, choose the **Twitter** icon.</span></span> 

    <span data-ttu-id="4c84e-209">Die Webseite leitet die Anforderung an eine Twitter-Anmeldeseite für die von Ihnen erstellte Anwendung um.</span><span class="sxs-lookup"><span data-stu-id="4c84e-209">The web page redirects the request to a Twitter login page for the application you created.</span></span>

    ![OAuth-4](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/_static/image6.png)
3. <span data-ttu-id="4c84e-211">Melden Sie sich bei einem Twitter-Konto an.</span><span class="sxs-lookup"><span data-stu-id="4c84e-211">Log into a Twitter account.</span></span>
4. <span data-ttu-id="4c84e-212">Der Code verwendet das Twitter-Token zum Authentifizieren des Benutzers und kehrt dann zu einer Seite zurück, auf der Sie Ihren Anmelde Namen Ihrem Website Konto zuordnen können.</span><span class="sxs-lookup"><span data-stu-id="4c84e-212">The code uses the Twitter token to authenticate the user and then returns you to a page where you can associate your login with your website account.</span></span> <span data-ttu-id="4c84e-213">Der Name oder die e-Mail-Adresse wird in das **e-Mail-** Feld im Formular eingegeben.</span><span class="sxs-lookup"><span data-stu-id="4c84e-213">Your name or email address is filled into the **Email** field on the form.</span></span>

    ![OAuth-5](enabling-login-from-external-sites-in-an-aspnet-web-pages-site/_static/image7.png)
5. <span data-ttu-id="4c84e-215">Wählen Sie die Schaltfläche **zuordnen** aus.</span><span class="sxs-lookup"><span data-stu-id="4c84e-215">Choose the **Associate** button.</span></span> 

    <span data-ttu-id="4c84e-216">Der Browser kehrt zur Startseite zurück, und Sie sind angemeldet.</span><span class="sxs-lookup"><span data-stu-id="4c84e-216">The browser returns to the home page and you are logged in.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="4c84e-217">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="4c84e-217">Additional Resources</span></span>

- [<span data-ttu-id="4c84e-218">Anpassen des Verhaltens von Websiteseiten</span><span class="sxs-lookup"><span data-stu-id="4c84e-218">Customizing Site-Wide Behavior</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
- [<span data-ttu-id="4c84e-219">Hinzufügen von Sicherheit und Mitgliedschaft zu einer ASP.net Web Pages Site</span><span class="sxs-lookup"><span data-stu-id="4c84e-219">Adding Security and Membership to an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkID=202904)
