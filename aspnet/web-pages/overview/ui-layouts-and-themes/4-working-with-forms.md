---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Arbeiten mit HTML-Formularen auf ASP.net Web Pages (Razor)-Websites | Microsoft-Dokumentation
author: Rick-Anderson
description: Ein Formular ist ein Abschnitt eines HTML-Dokuments, in dem Sie Benutzereingabe-Steuerelemente wie Textfelder, Kontrollkästchen, Options Felder und pulldownlisten platzieren. Sie verwenden die Formulare WH...
ms.author: riande
ms.date: 02/10/2014
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: c7d4802063c8610a246afe67bd15eea429f7304a
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78519603"
---
# <a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="90ccc-104">Arbeiten mit HTML-Formularen auf ASP.net Web Pages-Websites (Razor)</span><span class="sxs-lookup"><span data-stu-id="90ccc-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="90ccc-105">von [Tom fitzmacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="90ccc-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="90ccc-106">In diesem Artikel wird beschrieben, wie Sie ein HTML-Formular (mit Textfeldern und Schaltflächen) verarbeiten, wenn Sie auf einer ASP.net Web Pages-Website (Razor) arbeiten.</span><span class="sxs-lookup"><span data-stu-id="90ccc-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="90ccc-107">**Lernen Sie Folgendes:**</span><span class="sxs-lookup"><span data-stu-id="90ccc-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="90ccc-108">So erstellen Sie ein HTML-Formular</span><span class="sxs-lookup"><span data-stu-id="90ccc-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="90ccc-109">Gewusst wie: Lesen von Benutzereingaben aus dem Formular</span><span class="sxs-lookup"><span data-stu-id="90ccc-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="90ccc-110">Validieren von Benutzereingaben</span><span class="sxs-lookup"><span data-stu-id="90ccc-110">How to validate user input.</span></span>
> - <span data-ttu-id="90ccc-111">Vorgehensweise beim Wiederherstellen von Formular Werten, nachdem die Seite gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="90ccc-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="90ccc-112">Dies sind die ASP.net-Programmier Konzepte, die im Artikel vorgestellt werden:</span><span class="sxs-lookup"><span data-stu-id="90ccc-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="90ccc-113">Das `Request`-Objekt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-113">The `Request` object.</span></span>
> - <span data-ttu-id="90ccc-114">Eingabevalidierung.</span><span class="sxs-lookup"><span data-stu-id="90ccc-114">Input validation.</span></span>
> - <span data-ttu-id="90ccc-115">HTML-Codierung.</span><span class="sxs-lookup"><span data-stu-id="90ccc-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="90ccc-116">Im Tutorial verwendete Software Versionen</span><span class="sxs-lookup"><span data-stu-id="90ccc-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="90ccc-117">ASP.net Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="90ccc-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="90ccc-118">Dieses Tutorial funktioniert auch mit ASP.net Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="90ccc-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>

## <a name="creating-a-simple-html-form"></a><span data-ttu-id="90ccc-119">Erstellen eines einfachen HTML-Formulars</span><span class="sxs-lookup"><span data-stu-id="90ccc-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="90ccc-120">Erstellen Sie eine neue Website.</span><span class="sxs-lookup"><span data-stu-id="90ccc-120">Create a new website.</span></span>
2. <span data-ttu-id="90ccc-121">Erstellen Sie im Stamm Ordner eine Webseite mit dem Namen " *Form. cshtml* ", und geben Sie das folgende Markup ein:</span><span class="sxs-lookup"><span data-stu-id="90ccc-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="90ccc-122">Starten Sie die Seite in Ihrem Browser.</span><span class="sxs-lookup"><span data-stu-id="90ccc-122">Launch the page in your browser.</span></span> <span data-ttu-id="90ccc-123">(Klicken Sie in webmatrix im Arbeitsbereich " **Dateien** " mit der rechten Maustaste auf die Datei, und wählen Sie dann **im Browser starten aus**.) Ein einfaches Formular mit drei Eingabefeldern und einer Schaltfläche " **senden** " wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Screenshot eines Formulars mit drei Textfeldern.](4-working-with-forms/_static/image1.png)

    <span data-ttu-id="90ccc-125">Wenn Sie an dieser Stelle auf die Schaltfläche " **senden** " klicken, geschieht nichts.</span><span class="sxs-lookup"><span data-stu-id="90ccc-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="90ccc-126">Um das Formular zu nutzen, müssen Sie Code hinzufügen, der auf dem Server ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="90ccc-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="90ccc-127">Lesen von Benutzereingaben aus dem Formular</span><span class="sxs-lookup"><span data-stu-id="90ccc-127">Reading User Input from the Form</span></span>

<span data-ttu-id="90ccc-128">Um das Formular zu verarbeiten, fügen Sie Code hinzu, der die gesendeten Feldwerte liest und etwas mit Ihnen führt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="90ccc-129">In diesem Verfahren wird gezeigt, wie die Felder gelesen und die Benutzereingaben auf der Seite angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="90ccc-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="90ccc-130">(In einer Produktionsanwendung führen Sie im allgemeinen weitere interessante Dinge mit Benutzereingaben aus.</span><span class="sxs-lookup"><span data-stu-id="90ccc-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="90ccc-131">Dies wird im Artikel zum Arbeiten mit Datenbanken beschrieben.)</span><span class="sxs-lookup"><span data-stu-id="90ccc-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="90ccc-132">Geben Sie am Anfang der Datei " *Form. cshtml* " den folgenden Code ein:</span><span class="sxs-lookup"><span data-stu-id="90ccc-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="90ccc-133">Wenn der Benutzer die Seite zuerst anfordert, wird nur das leere Formular angezeigt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="90ccc-134">Der Benutzer (der Sie sein wird) füllt das Formular aus und klickt dann auf **senden**.</span><span class="sxs-lookup"><span data-stu-id="90ccc-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="90ccc-135">Dadurch wird die Benutzereingabe an den Server übermittelt (Posts).</span><span class="sxs-lookup"><span data-stu-id="90ccc-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="90ccc-136">Standardmäßig wird die Anforderung an dieselbe Seite (d.h. " *Form. cshtml*") weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="90ccc-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="90ccc-137">Wenn Sie die Seite dieses Mal einreichen, werden die eingegebenen Werte direkt über dem Formular angezeigt:</span><span class="sxs-lookup"><span data-stu-id="90ccc-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Screenshot, der die von Ihnen eingegebenen Werte anzeigt, die auf der Seite angezeigt werden.](4-working-with-forms/_static/image2.png)

    <span data-ttu-id="90ccc-139">Sehen Sie sich den Code für die Seite an.</span><span class="sxs-lookup"><span data-stu-id="90ccc-139">Look at the code for the page.</span></span> <span data-ttu-id="90ccc-140">Zuerst verwenden Sie die `IsPost`-Methode, um zu bestimmen, ob die &#8212; Seite gesendet wird, d. h., ob ein Benutzer auf die Schaltfläche **senden** geklickt hat.</span><span class="sxs-lookup"><span data-stu-id="90ccc-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="90ccc-141">Wenn dies ein Post ist, gibt `IsPost` "true" zurück.</span><span class="sxs-lookup"><span data-stu-id="90ccc-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="90ccc-142">Dies ist die Standardmethode in ASP.net Web Pages, um zu bestimmen, ob Sie mit einer ersten Anforderung (einer GET-Anforderung) oder einem Postback (Post-Anforderung) arbeiten.</span><span class="sxs-lookup"><span data-stu-id="90ccc-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="90ccc-143">(Weitere Informationen zu Get und Post finden Sie in der Rand Leiste "http Get und Post und die ispost-Eigenschaft" in [Einführung in ASP.net Web Pages-Programmierung mit der Razor-Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="90ccc-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="90ccc-144">Als nächstes erhalten Sie die Werte, die der Benutzer aus dem `Request.Form` Objekt ausgefüllt hat, und Sie fügen Sie später in Variablen ein.</span><span class="sxs-lookup"><span data-stu-id="90ccc-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="90ccc-145">Das `Request.Form`-Objekt enthält alle Werte, die mit der Seite übermittelt wurden, die jeweils durch einen Schlüssel identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="90ccc-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="90ccc-146">Der Schlüssel entspricht dem `name`-Attribut des Formular Felds, das Sie lesen möchten.</span><span class="sxs-lookup"><span data-stu-id="90ccc-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="90ccc-147">Um z. b. das `companyname` Feld (Textfeld) zu lesen, verwenden Sie `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="90ccc-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="90ccc-148">Formular Werte werden im `Request.Form` Objekt als Zeichen folgen gespeichert.</span><span class="sxs-lookup"><span data-stu-id="90ccc-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="90ccc-149">Wenn Sie also mit einem Wert als eine Zahl oder ein Datum oder einen anderen Typ arbeiten müssen, müssen Sie ihn von einer Zeichenfolge in diesen Typ konvertieren.</span><span class="sxs-lookup"><span data-stu-id="90ccc-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="90ccc-150">Im Beispiel wird die `AsInt`-Methode des `Request.Form` verwendet, um den Wert des Felds Employees (das eine Anzahl von Mitarbeitern enthält) in eine ganze Zahl zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="90ccc-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="90ccc-151">Starten Sie die Seite in Ihrem Browser, füllen Sie die Formularfelder aus, und klicken Sie auf **senden**.</span><span class="sxs-lookup"><span data-stu-id="90ccc-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="90ccc-152">Auf der Seite werden die von Ihnen eingegebenen Werte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="90ccc-153">HTML-Codierung für Darstellung und Sicherheit</span><span class="sxs-lookup"><span data-stu-id="90ccc-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="90ccc-154">HTML hat spezielle Verwendungsmöglichkeiten für Zeichen wie `<`, `>`und `&`.</span><span class="sxs-lookup"><span data-stu-id="90ccc-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="90ccc-155">Wenn diese Sonderzeichen angezeigt werden, wo Sie nicht erwartet werden, können Sie die Darstellung und Funktionalität Ihrer Webseite ruinieren.</span><span class="sxs-lookup"><span data-stu-id="90ccc-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="90ccc-156">Der Browser interpretiert z. b. das `<` Zeichen (es sei denn, es folgt ein Leerzeichen) als Anfang eines HTML-Elements, wie z. b. `<b>` oder `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="90ccc-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="90ccc-157">Wenn der Browser das Element nicht erkennt, verwirft es einfach die Zeichenfolge, die mit `<` beginnt, bis es etwas erreicht, das es erkennt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="90ccc-158">Dies kann natürlich zu einem merkwürdigen Rendering auf der Seite führen.</span><span class="sxs-lookup"><span data-stu-id="90ccc-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="90ccc-159">Die HTML-Codierung ersetzt diese reservierten Zeichen durch einen Code, der von Browsern als richtiges Symbol interpretiert wird.</span><span class="sxs-lookup"><span data-stu-id="90ccc-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="90ccc-160">Beispielsweise wird das `<` Zeichen durch `&lt;` ersetzt, und das `>` Zeichen wird durch `&gt;`ersetzt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="90ccc-161">Der Browser rendert diese Ersetzungs Zeichenfolgen als die Zeichen, die Sie anzeigen möchten.</span><span class="sxs-lookup"><span data-stu-id="90ccc-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="90ccc-162">Es empfiehlt sich, die HTML-Codierung immer dann zu verwenden, wenn Sie Zeichen folgen (Eingabe) anzeigen, die Sie von einem Benutzer erhalten haben.</span><span class="sxs-lookup"><span data-stu-id="90ccc-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="90ccc-163">Wenn Sie dies nicht tun, kann ein Benutzer versuchen, Ihre Webseite zum Ausführen eines bösartigen Skripts zu verwenden oder etwas anderes auszuführen, das Ihre Website Sicherheit beeinträchtigt, oder das ist nicht das, was Sie beabsichtigen.</span><span class="sxs-lookup"><span data-stu-id="90ccc-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="90ccc-164">(Dies ist besonders wichtig, wenn Sie Benutzereingaben übernehmen, Sie an einem Ort speichern und später &#8212; anzeigen, z. b. als Blog Kommentar, Benutzer Überprüfung oder ähnliches.)</span><span class="sxs-lookup"><span data-stu-id="90ccc-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="90ccc-165">Um diese Probleme zu vermeiden, ASP.net Web Pages den Text Inhalt, den Sie aus Ihrem Code ausgeben, automatisch in HTML codiert.</span><span class="sxs-lookup"><span data-stu-id="90ccc-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="90ccc-166">Wenn Sie z. b. den Inhalt einer Variablen oder eines Ausdrucks mithilfe von Code wie `@MyVar`anzeigen, codiert ASP.net Web Pages die Ausgabe automatisch.</span><span class="sxs-lookup"><span data-stu-id="90ccc-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>

## <a name="validating-user-input"></a><span data-ttu-id="90ccc-167">Überprüfen der Benutzereingabe</span><span class="sxs-lookup"><span data-stu-id="90ccc-167">Validating User Input</span></span>

<span data-ttu-id="90ccc-168">Benutzer führen zu Fehlern.</span><span class="sxs-lookup"><span data-stu-id="90ccc-168">Users make mistakes.</span></span> <span data-ttu-id="90ccc-169">Sie bitten Sie, ein Feld auszufüllen, das Sie vergessen, oder Sie bitten Sie, die Anzahl der Mitarbeiter einzugeben und stattdessen einen Namen einzugeben.</span><span class="sxs-lookup"><span data-stu-id="90ccc-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="90ccc-170">Um sicherzustellen, dass ein Formular vor der Verarbeitung ordnungsgemäß ausgefüllt wurde, überprüfen Sie die Eingabe des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="90ccc-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="90ccc-171">In diesem Verfahren wird gezeigt, wie alle drei Formularfelder überprüft werden, um sicherzustellen, dass der Benutzer Sie nicht leer gelassen hat.</span><span class="sxs-lookup"><span data-stu-id="90ccc-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="90ccc-172">Außerdem überprüfen Sie, ob der Wert für die Mitarbeiter Anzahl eine Zahl ist.</span><span class="sxs-lookup"><span data-stu-id="90ccc-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="90ccc-173">Wenn Fehler auftreten, wird eine Fehlermeldung angezeigt, die den Benutzer darüber informiert, welche Werte die Überprüfung nicht bestanden haben.</span><span class="sxs-lookup"><span data-stu-id="90ccc-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="90ccc-174">Ersetzen Sie in der Datei " *Form. cshtml* " den ersten Codeblock durch den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="90ccc-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="90ccc-175">Zum Überprüfen von Benutzereingaben verwenden Sie das `Validation`-Hilfsprogramm.</span><span class="sxs-lookup"><span data-stu-id="90ccc-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="90ccc-176">Sie registrieren erforderliche Felder, indem Sie `Validation.RequireField`aufrufen.</span><span class="sxs-lookup"><span data-stu-id="90ccc-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="90ccc-177">Sie registrieren andere Validierungs Typen, indem Sie `Validation.Add` aufrufen und das zu überprüfende Feld sowie den Typ der Überprüfung angeben.</span><span class="sxs-lookup"><span data-stu-id="90ccc-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="90ccc-178">Wenn die Seite ausgeführt wird, führt ASP.net alle Überprüfungen durch.</span><span class="sxs-lookup"><span data-stu-id="90ccc-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="90ccc-179">Sie können die Ergebnisse überprüfen, indem Sie `Validation.IsValid`aufrufen, der true zurückgibt, wenn alles erfolgreich war, und false, wenn ein Feld nicht überprüft werden konnte</span><span class="sxs-lookup"><span data-stu-id="90ccc-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="90ccc-180">In der Regel werden Sie `Validation.IsValid` aufgerufen, bevor Sie die Benutzereingaben verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="90ccc-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="90ccc-181">Aktualisieren Sie das `<body>`-Element, indem Sie drei Aufrufe der `Html.ValidationMessage`-Methode wie folgt hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="90ccc-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="90ccc-182">Wenn Sie Validierungs Fehlermeldungen anzeigen möchten, können Sie HTML.`ValidationMessage` aufrufen.</span><span class="sxs-lookup"><span data-stu-id="90ccc-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="90ccc-183">und übergeben Sie den Namen des Felds, für das die Nachricht angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="90ccc-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="90ccc-184">Führen Sie die Seite aus.</span><span class="sxs-lookup"><span data-stu-id="90ccc-184">Run the page.</span></span> <span data-ttu-id="90ccc-185">Lassen Sie die Felder leer, und klicken Sie auf **senden**.</span><span class="sxs-lookup"><span data-stu-id="90ccc-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="90ccc-186">Es werden Fehlermeldungen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-186">You see error messages.</span></span>

    ![Screenshot, der zeigt, dass Fehlermeldungen angezeigt werden, wenn die Überprüfung nicht erfolgreich ist.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="90ccc-188">Fügen Sie dem Feld **Employee count** eine Zeichenfolge (z. b. "ABC") hinzu, und klicken Sie erneut auf **senden** .</span><span class="sxs-lookup"><span data-stu-id="90ccc-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="90ccc-189">Dieses Mal wird ein Fehler angezeigt, der darauf hinweist, dass die Zeichenfolge nicht das richtige Format hat, nämlich eine ganze Zahl.</span><span class="sxs-lookup"><span data-stu-id="90ccc-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Screenshot mit Fehlermeldungen, die angezeigt werden, wenn Benutzer eine Zeichenfolge für das Feld "Employees" eingeben.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="90ccc-191">ASP.net Web Pages bietet mehr Optionen zum Überprüfen von Benutzereingaben, einschließlich der Möglichkeit, die Überprüfung mithilfe von Client Skripts automatisch auszuführen, damit Benutzer im Browser sofortiges Feedback erhalten.</span><span class="sxs-lookup"><span data-stu-id="90ccc-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="90ccc-192">Weitere Informationen finden Sie weiter unten im Abschnitt " [Weitere Ressourcen](#Additional_Resources) ".</span><span class="sxs-lookup"><span data-stu-id="90ccc-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="90ccc-193">Wiederherstellen von Formular Werten nach Postbacks</span><span class="sxs-lookup"><span data-stu-id="90ccc-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="90ccc-194">Wenn Sie die Seite im vorherigen Abschnitt getestet haben, haben Sie möglicherweise bemerkt, dass bei einem Überprüfungs Fehler alles, was Sie eingegeben haben (nicht nur die ungültigen Daten), abgelaufen ist, und Sie mussten die Werte für alle Felder erneut eingeben.</span><span class="sxs-lookup"><span data-stu-id="90ccc-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="90ccc-195">Dies veranschaulicht einen wichtigen Punkt: Wenn Sie eine Seite übermitteln, Sie verarbeiten und die Seite dann erneut erstellen, wird die Seite neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="90ccc-196">Wie Sie gesehen haben, bedeutet dies, dass alle Werte, die auf der Seite waren, als Sie übermittelt wurden, verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="90ccc-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="90ccc-197">Dies kann jedoch problemlos behoben werden.</span><span class="sxs-lookup"><span data-stu-id="90ccc-197">You can fix this easily, however.</span></span> <span data-ttu-id="90ccc-198">Sie haben Zugriff auf die gesendeten Werte (im `Request.Form` Objekt, damit Sie diese Werte wieder in die Formularfelder eingeben können, wenn die Seite gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="90ccc-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="90ccc-199">Ersetzen Sie in der Datei " *Form. cshtml* " die `value` Attribute der `<input>` Elemente mithilfe des `value`-Attributs.</span><span class="sxs-lookup"><span data-stu-id="90ccc-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="90ccc-200">Das `value`-Attribut der `<input>` Elemente wurde so festgelegt, dass der Feldwert dynamisch aus dem `Request.Form` Objekt gelesen wird.</span><span class="sxs-lookup"><span data-stu-id="90ccc-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="90ccc-201">Wenn die Seite das erste Mal angefordert wird, sind die Werte im `Request.Form`-Objekt leer.</span><span class="sxs-lookup"><span data-stu-id="90ccc-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="90ccc-202">Das ist in Ordnung, da das Formular leer ist.</span><span class="sxs-lookup"><span data-stu-id="90ccc-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="90ccc-203">Starten Sie die Seite in Ihrem Browser, füllen Sie die Formularfelder aus, oder lassen Sie sie leer, und klicken Sie auf **senden**.</span><span class="sxs-lookup"><span data-stu-id="90ccc-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="90ccc-204">Eine Seite, auf der die übermittelten Werte angezeigt werden, wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="90ccc-204">A page that shows the submitted values is displayed.</span></span>

    ![Formulare-5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="90ccc-206">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90ccc-206">Additional Resources</span></span>

- [<span data-ttu-id="90ccc-207">1.001 Möglichkeiten zum erhalten von Eingaben von Webbenutzern</span><span class="sxs-lookup"><span data-stu-id="90ccc-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/library/ms971057.aspx)
- <span data-ttu-id="90ccc-208">[Verwenden von Formularen und Verarbeiten von Benutzereingaben](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="90ccc-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="90ccc-209">Überprüfen der Benutzereingabe in ASP.NET Web Pages-Websites</span><span class="sxs-lookup"><span data-stu-id="90ccc-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="90ccc-210">[Verwenden von AutoComplete in HTML-Formularen](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="90ccc-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span></span>
