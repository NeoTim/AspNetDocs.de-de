---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Arbeiten mit Bildern auf einer ASP.net Web Pages-(Razor-) Website | Microsoft-Dokumentation
author: Rick-Anderson
description: In diesem Kapitel wird erläutert, wie Sie Bilder (Größe, kippen und Hinzufügen von Wasserzeichen) in Ihrer Website hinzufügen, anzeigen und bearbeiten.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 53514b3c314fc182a43c82974ffcfa8158a636a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78512877"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="c30dd-103">Arbeiten mit Bildern auf einer ASP.net Web Pages-(Razor-) Website</span><span class="sxs-lookup"><span data-stu-id="c30dd-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="c30dd-104">von [Tom fitzmacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="c30dd-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="c30dd-105">In diesem Artikel wird das Hinzufügen, anzeigen und Bearbeiten von Bildern (Ändern der Größe, kippen und Hinzufügen von Wasserzeichen) auf einer ASP.net Web Pages-Website (Razor-Website) veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="c30dd-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="c30dd-106">Sie lernen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="c30dd-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="c30dd-107">Gewusst wie: Dynamisches Hinzufügen eines Bilds zu einer Seite.</span><span class="sxs-lookup"><span data-stu-id="c30dd-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="c30dd-108">So ermöglichen Sie Benutzern das Hochladen eines Bilds.</span><span class="sxs-lookup"><span data-stu-id="c30dd-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="c30dd-109">Ändern der Größe eines Bilds.</span><span class="sxs-lookup"><span data-stu-id="c30dd-109">How to resize an image.</span></span>
> - <span data-ttu-id="c30dd-110">Vorgehensweise beim Kippen oder Drehen eines Bilds.</span><span class="sxs-lookup"><span data-stu-id="c30dd-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="c30dd-111">Vorgehensweise beim Hinzufügen eines Wasserzeichens zu einem Bild</span><span class="sxs-lookup"><span data-stu-id="c30dd-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="c30dd-112">Verwendung eines Bilds als Wasserzeichen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="c30dd-113">Dies sind die ASP.net-Programmierfunktionen, die im Artikel eingeführt wurden:</span><span class="sxs-lookup"><span data-stu-id="c30dd-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="c30dd-114">Das `WebImage`-Hilfsprogramm.</span><span class="sxs-lookup"><span data-stu-id="c30dd-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="c30dd-115">Das `Path`-Objekt, das Methoden bereitstellt, mit denen Sie Pfad-und Dateinamen bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="c30dd-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="c30dd-116">Im Tutorial verwendete Software Versionen</span><span class="sxs-lookup"><span data-stu-id="c30dd-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="c30dd-117">ASP.net Web Pages (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="c30dd-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="c30dd-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="c30dd-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="c30dd-119">Dieses Tutorial funktioniert auch mit webmatrix 3.</span><span class="sxs-lookup"><span data-stu-id="c30dd-119">This tutorial also works with WebMatrix 3.</span></span>

<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="c30dd-120">Dynamisches Hinzufügen eines Bilds zu einer Webseite</span><span class="sxs-lookup"><span data-stu-id="c30dd-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="c30dd-121">Während Sie die Website entwickeln, können Sie Ihrer Website und einzelnen Seiten Bilder hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="c30dd-122">Sie können Benutzern auch das Hochladen von Bildern gestatten, was für Aufgaben wie das Hinzufügen eines Profil Fotos nützlich sein kann.</span><span class="sxs-lookup"><span data-stu-id="c30dd-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="c30dd-123">Wenn ein Image bereits auf Ihrer Website verfügbar ist und Sie es nur auf einer Seite anzeigen möchten, verwenden Sie ein HTML-`<img>` Element wie folgt:</span><span class="sxs-lookup"><span data-stu-id="c30dd-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="c30dd-124">Manchmal müssen Sie jedoch in der Lage sein, Bilder dynamisch &#8212; anzuzeigen, d. h., Sie wissen nicht, welches Bild angezeigt werden soll, bis die Seite ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="c30dd-125">Das Verfahren in diesem Abschnitt zeigt, wie ein Bild dynamisch angezeigt wird, wenn Benutzer den Bilddateinamen aus einer Liste von Image Namen angeben.</span><span class="sxs-lookup"><span data-stu-id="c30dd-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="c30dd-126">Sie wählen den Namen des Bilds aus einer Dropdown Liste aus. Wenn Sie die Seite übermitteln, wird das ausgewählte Bild angezeigt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="c30dd-127">![Klang](9-working-with-images/_static/image1.jpg "ch9images-1. jpg")</span><span class="sxs-lookup"><span data-stu-id="c30dd-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="c30dd-128">Erstellen Sie in webmatrix eine neue Website.</span><span class="sxs-lookup"><span data-stu-id="c30dd-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="c30dd-129">Fügen Sie eine neue Seite mit dem Namen " *dynamicimage. cshtml*" hinzu.</span><span class="sxs-lookup"><span data-stu-id="c30dd-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="c30dd-130">Fügen Sie im Stamm Ordner der Website einen neuen Ordner hinzu, und nennen Sie ihn *Images*.</span><span class="sxs-lookup"><span data-stu-id="c30dd-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="c30dd-131">Fügen Sie dem soeben erstellten Ordner *Images* vier Bilder hinzu.</span><span class="sxs-lookup"><span data-stu-id="c30dd-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="c30dd-132">(Alle Abbilder, die Sie praktisch haben, werden jedoch auf eine Seite passen.) Benennen Sie die Images *Photo1. jpg*, *Photo2. jpg*, *Photo3. jpg*und *Photo4. jpg*um.</span><span class="sxs-lookup"><span data-stu-id="c30dd-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="c30dd-133">(In diesem Verfahren verwenden Sie *Photo4. jpg* nicht, aber Sie verwenden es später in diesem Artikel.)</span><span class="sxs-lookup"><span data-stu-id="c30dd-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="c30dd-134">Vergewissern Sie sich, dass die vier Bilder nicht als schreibgeschützt gekennzeichnet sind.</span><span class="sxs-lookup"><span data-stu-id="c30dd-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="c30dd-135">Ersetzen Sie den vorhandenen Inhalt auf der Seite durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="c30dd-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="c30dd-136">Der Text der Seite enthält eine Dropdown Liste (ein `<select>` Element) mit dem Namen `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="c30dd-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="c30dd-137">Die Liste enthält drei Optionen, und das `value`-Attribut jeder Listen Option hat den Namen eines der Images, die Sie im Ordner *Images* abgelegt haben.</span><span class="sxs-lookup"><span data-stu-id="c30dd-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="c30dd-138">Im Wesentlichen kann der Benutzer in der Liste einen anzeigen Amen wie &quot;Foto 1&quot;auswählen und übergibt dann den Namen der *JPG* -Datei, wenn die Seite übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="c30dd-139">Im Code können Sie die Auswahl des Benutzers (d. h. den Bilddatei Namen) aus der Liste durchlesen `Request["photoChoice"]`erhalten.</span><span class="sxs-lookup"><span data-stu-id="c30dd-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="c30dd-140">Sie sehen zunächst, ob eine Auswahl vorliegt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="c30dd-141">Wenn dies der Fall ist, erstellen Sie einen Pfad für das Image, das aus dem Namen des Ordners für die Bilder und dem Bilddateinamen des Benutzers besteht.</span><span class="sxs-lookup"><span data-stu-id="c30dd-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="c30dd-142">(Wenn Sie versucht haben, einen Pfad zu erstellen, aber keine `Request["photoChoice"]`, erhalten Sie einen Fehler.) Dies führt zu einem relativen Pfad wie diesem:</span><span class="sxs-lookup"><span data-stu-id="c30dd-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="c30dd-143">*Images/Photo1. jpg*</span><span class="sxs-lookup"><span data-stu-id="c30dd-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="c30dd-144">Der Pfad wird in der Variablen mit dem Namen `imagePath` gespeichert, die Sie später auf der Seite benötigen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="c30dd-145">Im Text gibt es auch ein `<img>`-Element, das zum Anzeigen des Bilds verwendet wird, das der Benutzer ausgewählt hat.</span><span class="sxs-lookup"><span data-stu-id="c30dd-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="c30dd-146">Das `src`-Attribut ist nicht auf einen Dateinamen oder eine URL festgelegt, wie Sie es tun würden, um ein statisches Element anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="c30dd-147">Stattdessen wird Sie auf "`@imagePath`" festgelegt, was bedeutet, dass Sie Ihren Wert aus dem Pfad erhält, den Sie im Code festlegen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="c30dd-148">Wenn die Seite zum ersten Mal ausgeführt wird, gibt es jedoch kein Bild, das angezeigt werden kann, da der Benutzer nichts ausgewählt hat.</span><span class="sxs-lookup"><span data-stu-id="c30dd-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="c30dd-149">Dies bedeutet normalerweise, dass das `src`-Attribut leer ist und das Bild als roter &quot;x&quot; angezeigt wird (oder was der Browser rendert, wenn ein Bild nicht gefunden werden kann).</span><span class="sxs-lookup"><span data-stu-id="c30dd-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="c30dd-150">Um dies zu verhindern, platzieren Sie das `<img>`-Element in einem `if` Block, der testet, ob die `imagePath` Variable etwas enthält.</span><span class="sxs-lookup"><span data-stu-id="c30dd-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="c30dd-151">Wenn der Benutzer eine Auswahl getroffen hat, `imagePath` den Pfad enthält.</span><span class="sxs-lookup"><span data-stu-id="c30dd-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="c30dd-152">Wenn der Benutzer kein Bild ausgewählt hat oder wenn die Seite das erste Mal angezeigt wird, wird das `<img>` Element nicht gerade gerendert.</span><span class="sxs-lookup"><span data-stu-id="c30dd-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="c30dd-153">Speichern Sie die Datei, und führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="c30dd-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="c30dd-154">(Stellen Sie sicher, dass die Seite im Arbeitsbereich " **Dateien** " ausgewählt ist, bevor Sie Sie ausführen.)</span><span class="sxs-lookup"><span data-stu-id="c30dd-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="c30dd-155">Wählen Sie ein Bild aus der Dropdown Liste aus, und klicken Sie dann auf **Beispiel Bild**.</span><span class="sxs-lookup"><span data-stu-id="c30dd-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="c30dd-156">Stellen Sie sicher, dass Sie unterschiedliche Images für unterschiedliche Optionen sehen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="c30dd-157">Hochladen eines Bilds</span><span class="sxs-lookup"><span data-stu-id="c30dd-157">Uploading an Image</span></span>

<span data-ttu-id="c30dd-158">Im vorherigen Beispiel wurde gezeigt, wie Sie ein Bild dynamisch anzeigen, aber es funktioniert nur mit Bildern, die bereits auf Ihrer Website vorhanden waren.</span><span class="sxs-lookup"><span data-stu-id="c30dd-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="c30dd-159">In diesem Verfahren wird gezeigt, wie Sie Benutzern das Hochladen eines Bilds ermöglichen, das dann auf der Seite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="c30dd-160">In ASP.net können Sie Bilder im laufenden Betrieb mit dem `WebImage`-Hilfsprogramm manipulieren, das über Methoden zum Erstellen, bearbeiten und Speichern von Bildern verfügt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="c30dd-161">Das `WebImage`-Hilfsprogramm unterstützt alle gängigen webimage Dateitypen, einschließlich *JPG*, *PNG*und *BMP*.</span><span class="sxs-lookup"><span data-stu-id="c30dd-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="c30dd-162">In diesem Artikel verwenden Sie *JPG* -Images, aber Sie können jeden der Bildtypen verwenden.</span><span class="sxs-lookup"><span data-stu-id="c30dd-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="c30dd-163">![Klang](9-working-with-images/_static/image2.jpg "ch9images-2. jpg")</span><span class="sxs-lookup"><span data-stu-id="c30dd-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="c30dd-164">Fügen Sie eine neue Seite hinzu, und nennen Sie Sie *UploadImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c30dd-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="c30dd-165">Ersetzen Sie den vorhandenen Inhalt auf der Seite durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="c30dd-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="c30dd-166">Der Textkörper des Texts verfügt über ein `<input type="file">`-Element, mit dem Benutzer eine hoch zuladende Datei auswählen können.</span><span class="sxs-lookup"><span data-stu-id="c30dd-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="c30dd-167">Wenn Sie auf **senden**klicken, wird die Datei, die Sie ausgewählt hat, zusammen mit dem Formular übermittelt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="c30dd-168">Um das hochgeladene Image zu erhalten, verwenden Sie das `WebImage`-Hilfsprogramm, das über alle nützlichen Methoden zum Arbeiten mit Bildern verfügt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="c30dd-169">Insbesondere verwenden Sie `WebImage.GetImageFromRequest`, um das hochgeladene Bild (sofern vorhanden) zu erhalten, und speichern es in einer Variablen mit dem Namen `photo`.</span><span class="sxs-lookup"><span data-stu-id="c30dd-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="c30dd-170">Ein Großteil der Arbeit in diesem Beispiel umfasst das Einrichten und Festlegen von Datei-und Pfadnamen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="c30dd-171">Das Problem besteht darin, dass Sie den Namen (und nur den Namen) des Bilds, das der Benutzer hochgeladen hat, und dann einen neuen Pfad zum Speichern des Images erstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="c30dd-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="c30dd-172">Da Benutzer potenziell mehrere Bilder hochladen können, die denselben Namen aufweisen, verwenden Sie einen gewissen zusätzlichen Code, um eindeutige Namen zu erstellen und sicherzustellen, dass Benutzer vorhandene Bilder nicht überschreiben.</span><span class="sxs-lookup"><span data-stu-id="c30dd-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="c30dd-173">Wenn ein Bild tatsächlich hochgeladen wurde (der Test `if (photo != null)`), erhalten Sie den Image Namen aus der `FileName`-Eigenschaft des Images.</span><span class="sxs-lookup"><span data-stu-id="c30dd-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="c30dd-174">Wenn der Benutzer das Image hochlädt, enthält `FileName` den ursprünglichen Namen des Benutzers, der den Pfad des Benutzer Computers enthält.</span><span class="sxs-lookup"><span data-stu-id="c30dd-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="c30dd-175">Dies könnte wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="c30dd-175">It might look like this:</span></span>

    <span data-ttu-id="c30dd-176">*C:\users\joe\pictures\samplephoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="c30dd-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="c30dd-177">Sie möchten nicht alle Pfadinformationen, obwohl &#8212; Sie nur den eigentlichen Dateinamen (*SamplePhoto1. jpg*) benötigen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="c30dd-178">Sie können nur die Datei aus einem Pfad entfernen, indem Sie die `Path.GetFileName`-Methode wie folgt verwenden:</span><span class="sxs-lookup"><span data-stu-id="c30dd-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="c30dd-179">Anschließend erstellen Sie einen neuen eindeutigen Dateinamen, indem Sie dem ursprünglichen Namen eine GUID hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="c30dd-180">(Weitere Informationen zu GUIDs finden Sie unter [Informationen zu GUIDs](#SB_AboutGUIDs) weiter unten in diesem Artikel.) Anschließend erstellen Sie einen kompletten Pfad, den Sie zum Speichern des Bilds verwenden können.</span><span class="sxs-lookup"><span data-stu-id="c30dd-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="c30dd-181">Der Speicherpfad besteht aus dem neuen Dateinamen, dem Ordner (Images) und dem aktuellen Speicherort der Website.</span><span class="sxs-lookup"><span data-stu-id="c30dd-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="c30dd-182">Damit Ihr Code Dateien im Ordner *Images* speichern kann, benötigt die Anwendung Lese-/Schreibberechtigungen für diesen Ordner.</span><span class="sxs-lookup"><span data-stu-id="c30dd-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="c30dd-183">Auf dem Entwicklungs Computer ist dies in der Regel kein Problem.</span><span class="sxs-lookup"><span data-stu-id="c30dd-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="c30dd-184">Wenn Sie Ihre Website jedoch auf dem Webserver eines hostinganbieters veröffentlichen, müssen Sie diese Berechtigungen möglicherweise explizit festlegen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="c30dd-185">Wenn Sie diesen Code auf dem Server eines hostinganbieters ausführen und Fehler erhalten, wenden Sie sich an den Hostinganbieter, um herauszufinden, wie diese Berechtigungen festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="c30dd-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="c30dd-186">Zum Schluss übergeben Sie den Speicherpfad an die `Save`-Methode des `WebImage`-Hilfsprogramms.</span><span class="sxs-lookup"><span data-stu-id="c30dd-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="c30dd-187">Dadurch wird das hochgeladene Bild unter seinem neuen Namen gespeichert.</span><span class="sxs-lookup"><span data-stu-id="c30dd-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="c30dd-188">Die Save-Methode sieht wie folgt aus: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="c30dd-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="c30dd-189">Der gesamte Pfad wird an `@"~\"`angehängt. Dies ist der aktuelle Speicherort der Website.</span><span class="sxs-lookup"><span data-stu-id="c30dd-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="c30dd-190">(Informationen zum `~`-Operator finden Sie unter [Einführung in die ASP.net-Webprogrammierung mit der Razor-Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="c30dd-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="c30dd-191">Wie im vorherigen Beispiel enthält der Text der Seite ein `<img>`-Element zum Anzeigen des Bilds.</span><span class="sxs-lookup"><span data-stu-id="c30dd-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="c30dd-192">Wenn `imagePath` festgelegt wurde, wird das `<img>` Element gerendert, und sein `src`-Attribut wird auf den `imagePath` Wert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="c30dd-193">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="c30dd-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="c30dd-194">Laden Sie ein Bild hoch, und stellen Sie sicher, dass es auf der Seite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="c30dd-195">Öffnen Sie an Ihrer Website den Ordner *Images* .</span><span class="sxs-lookup"><span data-stu-id="c30dd-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="c30dd-196">Sie sehen, dass eine neue Datei hinzugefügt wurde, deren Dateiname in etwa wie folgt aussieht:</span><span class="sxs-lookup"><span data-stu-id="c30dd-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="c30dd-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto. png*</span><span class="sxs-lookup"><span data-stu-id="c30dd-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="c30dd-198">Dies ist das Bild, das Sie mit einer GUID hochgeladen haben, der der Name vorangestellt ist.</span><span class="sxs-lookup"><span data-stu-id="c30dd-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="c30dd-199">(Ihre eigene Datei hat eine andere GUID und wird wahrscheinlich anders benannt als *MyPhoto. png*.)</span><span class="sxs-lookup"><span data-stu-id="c30dd-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="c30dd-200">Informationen zu GUIDs</span><span class="sxs-lookup"><span data-stu-id="c30dd-200">About GUIDs</span></span>
> 
> <span data-ttu-id="c30dd-201">Eine GUID (Global-Unique ID) ist ein Bezeichner, der normalerweise in einem Format wie dem folgenden gerendert wird: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="c30dd-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="c30dd-202">Die Zahlen und Buchstaben (von A-F) unterscheiden sich für jede GUID, aber Sie folgen dem Muster der Verwendung von Gruppen mit 8-4-4-4-12 Zeichen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="c30dd-203">(Technisch gesehen handelt es sich bei einer GUID um eine 16-Byte-/128-Bit-Zahl.) Wenn Sie eine GUID benötigen, können Sie spezialisierten Code aufzurufen, der eine GUID für Sie generiert.</span><span class="sxs-lookup"><span data-stu-id="c30dd-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="c30dd-204">Die Idee hinter GUIDs besteht darin, dass die sich ergebende Zahl zwischen der großen Größe der Zahl (3,4 x 10<sup>38</sup>) und dem Algorithmus für die Erstellung der Zahl praktisch garantiert eine der Typen ist.</span><span class="sxs-lookup"><span data-stu-id="c30dd-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="c30dd-205">GUIDs sind daher eine gute Möglichkeit, Namen für Dinge zu generieren, wenn Sie garantieren müssen, dass Sie nicht denselben Namen zweimal verwenden.</span><span class="sxs-lookup"><span data-stu-id="c30dd-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="c30dd-206">Der Nachteil ist natürlich, dass GUIDs nicht besonders benutzerfreundlich sind. Sie werden daher tendenziell verwendet, wenn der Name nur im Code verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>

<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="c30dd-207">Größenänderungen bei Bildern</span><span class="sxs-lookup"><span data-stu-id="c30dd-207">Resizing an Image</span></span>

<span data-ttu-id="c30dd-208">Wenn Ihre Website Images von einem Benutzer akzeptiert, können Sie die Größe der Images ändern, bevor Sie Sie anzeigen oder speichern.</span><span class="sxs-lookup"><span data-stu-id="c30dd-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="c30dd-209">Hierfür können Sie das `WebImage`-Hilfsprogramm wieder verwenden.</span><span class="sxs-lookup"><span data-stu-id="c30dd-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="c30dd-210">Diese Prozedur zeigt, wie die Größe eines hochgeladenen Bilds geändert wird, um eine Miniaturansicht zu erstellen und dann die Miniaturansicht und das ursprüngliche Bild auf der Website zu speichern</span><span class="sxs-lookup"><span data-stu-id="c30dd-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="c30dd-211">Sie zeigen die Miniaturansicht auf der Seite an und verwenden einen Hyperlink, um Benutzer an das Bild in voller Größe umzuleiten.</span><span class="sxs-lookup"><span data-stu-id="c30dd-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="c30dd-212">![Klang](9-working-with-images/_static/image3.jpg "ch9images-3. jpg")</span><span class="sxs-lookup"><span data-stu-id="c30dd-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="c30dd-213">Fügen Sie eine neue Seite mit dem Namen " *Miniatur. cshtml*" hinzu.</span><span class="sxs-lookup"><span data-stu-id="c30dd-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="c30dd-214">Erstellen Sie im Ordner *Images* einen Unterordner mit dem Namen *Thumbs*.</span><span class="sxs-lookup"><span data-stu-id="c30dd-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="c30dd-215">Ersetzen Sie den vorhandenen Inhalt auf der Seite durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="c30dd-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="c30dd-216">Dieser Code ähnelt dem Code aus dem vorherigen Beispiel.</span><span class="sxs-lookup"><span data-stu-id="c30dd-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="c30dd-217">Der Unterschied besteht darin, dass dieser Code das Bild zweimal speichert, einmal normal und einmal, nachdem Sie eine Miniaturansicht des Bilds erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="c30dd-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="c30dd-218">Zuerst erhalten Sie das hochgeladene Image und speichern es im Ordner *Images* .</span><span class="sxs-lookup"><span data-stu-id="c30dd-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="c30dd-219">Anschließend erstellen Sie einen neuen Pfad für das Miniaturbild.</span><span class="sxs-lookup"><span data-stu-id="c30dd-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="c30dd-220">Um die Miniaturansicht tatsächlich zu erstellen, rufen Sie die `Resize`-Methode des `WebImage`-Hilfsprogramms auf, um ein 60-Pixel-Bild mit 60 Pixel zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="c30dd-221">Das Beispiel zeigt, wie Sie das Seitenverhältnis beibehalten und verhindern können, dass das Bild vergrößert wird (für den Fall, dass die neue Größe das Bild tatsächlich vergrößert).</span><span class="sxs-lookup"><span data-stu-id="c30dd-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="c30dd-222">Das Image, das in der Größe geändert wird, wird dann im Unterordner *Thumbs* gespeichert.</span><span class="sxs-lookup"><span data-stu-id="c30dd-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="c30dd-223">Am Ende des Markups verwenden Sie das gleiche `<img>`-Element mit dem dynamischen `src` Attribut, das Sie in den vorherigen Beispielen gesehen haben, um das Bild bedingt anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="c30dd-224">In diesem Fall zeigen Sie die Miniaturansicht an.</span><span class="sxs-lookup"><span data-stu-id="c30dd-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="c30dd-225">Außerdem verwenden Sie ein `<a>`-Element, um einen Hyperlink zur großen Version des Bilds zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="c30dd-226">Wie beim `src`-Attribut des `<img>`-Elements legen Sie das `href`-Attribut des `<a>`-Elements dynamisch auf den Wert in `imagePath`fest.</span><span class="sxs-lookup"><span data-stu-id="c30dd-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="c30dd-227">Um sicherzustellen, dass der Pfad als URL funktionieren kann, übergeben Sie `imagePath` an die `Html.AttributeEncode`-Methode, die reservierte Zeichen im Pfad in Zeichen konvertiert, die in einer URL OK sind.</span><span class="sxs-lookup"><span data-stu-id="c30dd-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="c30dd-228">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="c30dd-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="c30dd-229">Hochladen eines Fotos und überprüfen, ob die Miniaturansicht angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="c30dd-230">Klicken Sie auf die Miniaturansicht, um das Bild in voller Größe anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="c30dd-231">Beachten Sie, dass in den *Bildern* und *Bildern/Daumen*neue Dateien hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="c30dd-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="c30dd-232">Drehen und Kippen eines Bilds</span><span class="sxs-lookup"><span data-stu-id="c30dd-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="c30dd-233">Mit dem `WebImage`-Hilfsprogramm können Sie auch Bilder kippen und drehen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="c30dd-234">Diese Prozedur zeigt, wie Sie ein Bild vom Server erhalten, das Bild nach oben (vertikal) kippen, speichern und dann auf der Seite das gedrehte Bild anzeigen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="c30dd-235">In diesem Beispiel verwenden Sie nur eine Datei, die bereits auf dem Server vorhanden ist (*Photo2. jpg*).</span><span class="sxs-lookup"><span data-stu-id="c30dd-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="c30dd-236">In einer echten Anwendung würden Sie wahrscheinlich ein Bild kippen, dessen Name Sie dynamisch erhalten, wie in den vorherigen Beispielen gezeigt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="c30dd-237">![Klang](9-working-with-images/_static/image4.jpg "ch9images-4. jpg")</span><span class="sxs-lookup"><span data-stu-id="c30dd-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="c30dd-238">Fügen Sie eine neue Seite mit dem Namen *flipimage. cshtml*hinzu.</span><span class="sxs-lookup"><span data-stu-id="c30dd-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="c30dd-239">Ersetzen Sie den vorhandenen Inhalt auf der Seite durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="c30dd-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="c30dd-240">Im Code wird das `WebImage`-Hilfsprogramm verwendet, um ein Bild vom Server zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="c30dd-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="c30dd-241">Sie erstellen den Pfad zum Image mit dem Verfahren, das Sie in früheren Beispielen zum Speichern von Bildern verwendet haben, und übergeben diesen Pfad, wenn Sie ein Image mit `WebImage`erstellen:</span><span class="sxs-lookup"><span data-stu-id="c30dd-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="c30dd-242">Wenn ein Bild gefunden wird, erstellen Sie einen neuen Pfad und Dateinamen, wie in den vorherigen Beispielen gezeigt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="c30dd-243">Um das Bild zu kippen, wird die `FlipVertical`-Methode aufgerufen, und anschließend speichern Sie das Bild erneut.</span><span class="sxs-lookup"><span data-stu-id="c30dd-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="c30dd-244">Das Bild wird erneut auf der Seite angezeigt, indem das `<img>`-Element verwendet wird, wobei das `src`-Attribut auf `imagePath`festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="c30dd-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="c30dd-245">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="c30dd-245">Run the page in a browser.</span></span> <span data-ttu-id="c30dd-246">Das Bild für *Photo2. jpg* wird oben angezeigt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="c30dd-247">Aktualisieren Sie die Seite, oder fordern Sie die Seite erneut an, um anzuzeigen, dass das Bild von rechts nach oben gekippt wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="c30dd-248">Zum Drehen eines Bilds verwenden Sie denselben Code, mit dem Unterschied, dass Sie anstelle des `FlipVertical` oder `FlipHorizontal``RotateLeft` oder `RotateRight`aufrufen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="c30dd-249">Hinzufügen eines Wasserzeichens zu einem Bild</span><span class="sxs-lookup"><span data-stu-id="c30dd-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="c30dd-250">Wenn Sie Ihrer Website Bilder hinzufügen, empfiehlt es sich, dem Bild ein Wasserzeichen hinzuzufügen, bevor Sie es speichern oder auf einer Seite anzeigen können.</span><span class="sxs-lookup"><span data-stu-id="c30dd-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="c30dd-251">Benutzer verwenden häufig Wasserzeichen, um einem Image Copyright Informationen hinzuzufügen oder um Ihren Geschäftsnamen ankündigen zu können.</span><span class="sxs-lookup"><span data-stu-id="c30dd-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="c30dd-252">![Klang](9-working-with-images/_static/image5.jpg "ch9images-5. jpg")</span><span class="sxs-lookup"><span data-stu-id="c30dd-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="c30dd-253">Fügen Sie eine neue Seite mit dem Namen " *Watermark. cshtml*" hinzu.</span><span class="sxs-lookup"><span data-stu-id="c30dd-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="c30dd-254">Ersetzen Sie den vorhandenen Inhalt auf der Seite durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="c30dd-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="c30dd-255">Dieser Code ähnelt dem Code in der *flipimage. cshtml* -Seite von früher (obwohl dieses Mal die Datei *Photo3. jpg* verwendet).</span><span class="sxs-lookup"><span data-stu-id="c30dd-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="c30dd-256">Um das Wasserzeichen hinzuzufügen, müssen Sie die `AddTextWatermark`-Methode des `WebImage`-Hilfsprogramms vor dem Speichern des Bilds aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="c30dd-257">Im `AddTextWatermark`-Befehl übergeben Sie den Text &quot;meinem Wasserzeichen&quot;, legen die Schriftart Farbe auf gelb fest und legen die Schriftfamilie auf Arial fest.</span><span class="sxs-lookup"><span data-stu-id="c30dd-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="c30dd-258">(Obwohl es hier nicht angezeigt wird, können Sie mit dem `WebImage`-Hilfsprogramm auch Deckkraft, Schriftfamilie und Schrift Grad sowie die Position des Wasserzeichen Texts angeben.) Wenn Sie das Abbild speichern, darf es nicht schreibgeschützt sein.</span><span class="sxs-lookup"><span data-stu-id="c30dd-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="c30dd-259">Wie Sie bereits gesehen haben, wird das Bild auf der Seite mit dem `<img>`-Element angezeigt, wobei das src-Attribut auf `@imagePath`festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="c30dd-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="c30dd-260">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="c30dd-260">Run the page in a browser.</span></span> <span data-ttu-id="c30dd-261">Beachten Sie den Text "My Watermark" in der unteren rechten Ecke des Bilds.</span><span class="sxs-lookup"><span data-stu-id="c30dd-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="c30dd-262">Verwenden eines Bilds als Wasserzeichen</span><span class="sxs-lookup"><span data-stu-id="c30dd-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="c30dd-263">Anstatt Text für ein Wasserzeichen zu verwenden, können Sie ein anderes Bild verwenden.</span><span class="sxs-lookup"><span data-stu-id="c30dd-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="c30dd-264">Manchmal werden Bilder wie ein Firmenlogo als Wasserzeichen verwendet, oder es wird ein Wasserzeichen Bild anstelle von Text für Copyright Informationen verwendet.</span><span class="sxs-lookup"><span data-stu-id="c30dd-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="c30dd-265">![Klang](9-working-with-images/_static/image6.jpg "ch9images-6. jpg")</span><span class="sxs-lookup"><span data-stu-id="c30dd-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="c30dd-266">Fügen Sie eine neue Seite mit dem Namen " *imagewatermark. cshtml*" hinzu.</span><span class="sxs-lookup"><span data-stu-id="c30dd-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="c30dd-267">Fügen Sie dem Ordner *Images* ein Bild hinzu, das Sie als Logo verwenden können, und benennen Sie das Image *mycompanylogo. jpg*um.</span><span class="sxs-lookup"><span data-stu-id="c30dd-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="c30dd-268">Dieses Bild sollte ein Bild sein, das Sie eindeutig sehen können, wenn es auf 80 Pixel breit und 20 Pixel hoch festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="c30dd-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="c30dd-269">Ersetzen Sie den vorhandenen Inhalt auf der Seite durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="c30dd-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="c30dd-270">Dies ist eine weitere Variation des Codes aus früheren Beispielen.</span><span class="sxs-lookup"><span data-stu-id="c30dd-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="c30dd-271">In diesem Fall wird `AddImageWatermark` aufgerufen, um dem Zielbild (*Photo3. jpg*) das Wasserzeichen Bild hinzuzufügen, bevor Sie das Bild speichern.</span><span class="sxs-lookup"><span data-stu-id="c30dd-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="c30dd-272">Wenn Sie `AddImageWatermark`aufzurufen, legen Sie die Breite auf 80 Pixel und die Höhe auf 20 Pixel fest.</span><span class="sxs-lookup"><span data-stu-id="c30dd-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="c30dd-273">Das Image " *mycompanylogo. jpg* " wird horizontal in der Mitte ausgerichtet und vertikal am unteren Rand des zielbilds ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="c30dd-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="c30dd-274">Die Deckkraft ist auf 100% festgelegt, und der Abstand wird auf 10 Pixel festgelegt.</span><span class="sxs-lookup"><span data-stu-id="c30dd-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="c30dd-275">Wenn das Wasserzeichen Bild größer als das Zielbild ist, wird nichts passieren.</span><span class="sxs-lookup"><span data-stu-id="c30dd-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="c30dd-276">Wenn das Wasserzeichen Bild größer als das Zielbild ist und Sie den Leerraum für das Bild Wasserzeichen auf NULL festlegen, wird das Wasserzeichen ignoriert.</span><span class="sxs-lookup"><span data-stu-id="c30dd-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="c30dd-277">Wie zuvor zeigen Sie das Bild mithilfe des `<img>`-Elements und eines dynamischen `src`-Attributs an.</span><span class="sxs-lookup"><span data-stu-id="c30dd-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="c30dd-278">Führen Sie die Seite in einem Browser aus.</span><span class="sxs-lookup"><span data-stu-id="c30dd-278">Run the page in a browser.</span></span> <span data-ttu-id="c30dd-279">Beachten Sie, dass das Wasserzeichen Bild unten im Hauptbild angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="c30dd-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="c30dd-280">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="c30dd-280">Additional Resources</span></span>

[<span data-ttu-id="c30dd-281">Arbeiten mit Dateien an einer ASP.net Web Pages Site</span><span class="sxs-lookup"><span data-stu-id="c30dd-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="c30dd-282">Einführung in ASP.net Web Pages Programmierung mithilfe der Razor-Syntax</span><span class="sxs-lookup"><span data-stu-id="c30dd-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
