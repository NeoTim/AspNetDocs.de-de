---
uid: whitepapers/aspnet4/breaking-changes
title: ASP.NET 4 wichtige Änderungen | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Dokument werden die Änderungen beschrieben, die für die Version 4 von .NET Framework vorgenommen wurden, die sich potenziell auf Anwendungen auswirken kann, die mithilfe von erstellt wurden...
ms.author: riande
ms.date: 02/10/2010
ms.assetid: d601c540-f86b-4feb-890c-20c806b3da6c
msc.legacyurl: /whitepapers/aspnet4/breaking-changes
msc.type: content
ms.openlocfilehash: 8ccad3b40a723c92a3164de082e1f94577141008
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/06/2020
ms.locfileid: "78439509"
---
# <a name="aspnet-4-breaking-changes"></a><span data-ttu-id="cfb4a-103">ASP.NET 4: Bedeutende Änderungen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-103">ASP.NET 4 Breaking Changes</span></span>

> <span data-ttu-id="cfb4a-104">In diesem Dokument werden die Änderungen beschrieben, die für die Version 4 von .NET Framework vorgenommen wurden, die sich potenziell auf Anwendungen auswirken kann, die mit früheren Releases erstellt wurden, einschließlich der Versionen ASP.NET 4 Beta 1 und Beta 2.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-104">This document describes changes that have been made for the .NET Framework version 4 release that can potentially affect applications that were created using earlier releases, including the ASP.NET 4 Beta 1 and Beta 2 releases.</span></span>
> 
> [<span data-ttu-id="cfb4a-105">Dieses Whitepaper herunterladen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-105">Download This Whitepaper</span></span>](https://download.microsoft.com/download/7/1/A/71A105A9-89D6-4201-9CC5-AD6A3B7E2F22/ASP_NET_4_Breaking_Changes.pdf)

<a id="0.1__Toc256768952"></a><a id="0.1__Toc256770056"></a>

## <a name="contents"></a><span data-ttu-id="cfb4a-106">Inhalt</span><span class="sxs-lookup"><span data-stu-id="cfb4a-106">Contents</span></span>

[<span data-ttu-id="cfb4a-107">ControlRenderingCompatibilityVersion-Einstellung in der Datei "Web. config"</span><span class="sxs-lookup"><span data-stu-id="cfb4a-107">ControlRenderingCompatibilityVersion Setting in the Web.config File</span></span>](#0.1__Toc256770141 "_Toc256770141")  
[<span data-ttu-id="cfb4a-108">ClientIDMode-Änderungen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-108">ClientIDMode Changes</span></span>](#0.1__Toc256770142 "_Toc256770142")  
[<span data-ttu-id="cfb4a-109">HtmlEncode und UrlEncode codieren jetzt einfache Anführungszeichen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-109">HtmlEncode and UrlEncode Now Encode Single Quotation Marks</span></span>](#0.1__Toc256770143 "_Toc256770143")  
[<span data-ttu-id="cfb4a-110">Der ASP.net page (. aspx)-Parser ist strenger.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-110">ASP.NET Page (.aspx) Parser is Stricter</span></span>](#0.1__Toc256770144 "_Toc256770144")  
[<span data-ttu-id="cfb4a-111">Aktualisierte Browser Definitions Dateien</span><span class="sxs-lookup"><span data-stu-id="cfb4a-111">Browser Definition Files Updated</span></span>](#0.1__Toc256770145 "_Toc256770145")  
[<span data-ttu-id="cfb4a-112">"System. Web. Mobile. dll" aus der Stamm-Webkonfigurationsdatei entfernt</span><span class="sxs-lookup"><span data-stu-id="cfb4a-112">System.Web.Mobile.dll Removed from Root Web Configuration File</span></span>](#0.1__Toc256770146 "_Toc256770146")  
[<span data-ttu-id="cfb4a-113">ASP.net Anforderungs Validierung</span><span class="sxs-lookup"><span data-stu-id="cfb4a-113">ASP.NET Request Validation</span></span>](#0.1__Toc256770147 "_Toc256770147")  
[<span data-ttu-id="cfb4a-114">Standard Hash Algorithmus ist jetzt HMACSHA256</span><span class="sxs-lookup"><span data-stu-id="cfb4a-114">Default Hashing Algorithm Is Now HMACSHA256</span></span>](#0.1__Toc256770148 "_Toc256770148")  
[<span data-ttu-id="cfb4a-115">Konfigurationsfehler im Zusammenhang mit der neuen ASP.NET 4-Stamm Konfiguration</span><span class="sxs-lookup"><span data-stu-id="cfb4a-115">Configuration Errors Related to New ASP.NET 4 Root Configuration</span></span>](#0.1__Toc256770149 "_Toc256770149")  
[<span data-ttu-id="cfb4a-116">ASP.NET 4 untergeordnete Anwendungen können nicht gestartet werden, wenn unter ASP.NET 2,0-oder ASP.NET 3,5-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-116">ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications</span></span>](#0.1__Toc256770150 "_Toc256770150")  
[<span data-ttu-id="cfb4a-117">ASP.NET 4 Websites können auf Computern, auf denen SharePoint installiert ist, nicht gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-117">ASP.NET 4 Web Sites Fail to Start on Computers Where SharePoint Is Installed</span></span>](#0.1__Toc256770151 "_Toc256770151")  
[<span data-ttu-id="cfb4a-118">Die HttpRequest. FilePath-Eigenschaft enthält keine PathInfo-Werte mehr.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-118">The HttpRequest.FilePath Property No Longer Includes PathInfo Values</span></span>](#0.1__Toc256770152 "_Toc256770152")  
[<span data-ttu-id="cfb4a-119">ASP.NET 2,0-Anwendungen generieren möglicherweise HttpException-Fehler, die auf "EURL. axd" verweisen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-119">ASP.NET 2.0 Applications Might Generate HttpException Errors that Reference eurl.axd</span></span>](#0.1__Toc256770153 "_Toc256770153")  
[<span data-ttu-id="cfb4a-120">Ereignishandler werden möglicherweise nicht in einem Standarddokument in IIS 7 oder im integrierten IIS 7,5-Modus ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-120">Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode</span></span>](#0.1__Toc256770154 "_Toc256770154")  
[<span data-ttu-id="cfb4a-121">Änderungen an der Implementierung der ASP.NET-Code Zugriffssicherheit (CAS)</span><span class="sxs-lookup"><span data-stu-id="cfb4a-121">Changes to the ASP.NET Code Access Security (CAS) Implementation</span></span>](#0.1__Toc256770155 "_Toc256770155")  
[<span data-ttu-id="cfb4a-122">Mitgliedshipuser und andere Typen im System. Web. Security-Namespace wurden verschoben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-122">MembershipUser and Other Types in the System.Web.Security Namespace Have Been Moved</span></span>](#0.1__Toc256770156 "_Toc256770156")  
[<span data-ttu-id="cfb4a-123">Änderungen der Ausgabe Zwischenspeicherung, um \* HTTP-Header variieren</span><span class="sxs-lookup"><span data-stu-id="cfb4a-123">Output Caching Changes to Vary \* HTTP Header</span></span>](#0.1__Toc256770157 "_Toc256770157")  
[<span data-ttu-id="cfb4a-124">System. Web. Sicherheits Typen für Passport sind veraltet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-124">System.Web.Security Types for Passport are Obsolete</span></span>](#0.1__Toc256770158 "_Toc256770158")  
[<span data-ttu-id="cfb4a-125">Die MenuItem. PopOutImageUrl-Eigenschaft kann ein Bild in ASP.NET 4 nicht Rendering</span><span class="sxs-lookup"><span data-stu-id="cfb4a-125">The MenuItem.PopOutImageUrl Property Fails to Render an Image in ASP.NET 4</span></span>](#0.1__Toc256770159 "_Toc256770159")  
[<span data-ttu-id="cfb4a-126">"Menu. StaticPopOutImageUrl" und "Menu. DynamicPopOutImageUrl" können keine Bilder darstellen, wenn Pfade umgekehrte Schrägstriche enthalten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-126">Menu.StaticPopOutImageUrl and Menu.DynamicPopOutImageUrl Fail to Render Images When Paths Contain Backslashes</span></span>](#0.1__Toc256770160 "_Toc256770160")  
[<span data-ttu-id="cfb4a-127">ERS</span><span class="sxs-lookup"><span data-stu-id="cfb4a-127">Disclaimer</span></span>](#0.1__Toc256770161 "_Toc256770161")

<a id="0.1__ControlRenderingCompatibilityVersio"></a><a id="0.1__Toc245724853"></a><a id="0.1__Toc255587630"></a><a id="0.1__Toc256770141"></a>

## <a name="controlrenderingcompatibilityversion-setting-in-the-webconfig-file"></a><span data-ttu-id="cfb4a-128">ControlRenderingCompatibilityVersion-Einstellung in der Datei "Web. config"</span><span class="sxs-lookup"><span data-stu-id="cfb4a-128">ControlRenderingCompatibilityVersion Setting in the Web.config File</span></span>

<span data-ttu-id="cfb4a-129">ASP.NET-Steuerelemente wurden in der .NET Framework Version 4 geändert, damit Sie die Markup Darstellung genauer angeben können.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-129">ASP.NET controls have been modified in the .NET Framework version 4 in order to let you specify more precisely how they render markup.</span></span> <span data-ttu-id="cfb4a-130">In früheren Versionen der .NET Framework haben einige Steuerelemente Markup ausgegeben, das Sie nicht deaktivieren konnten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-130">In previous versions of the .NET Framework, some controls emitted markup that you had no way to disable.</span></span> <span data-ttu-id="cfb4a-131">Standardmäßig wird ASP.NET 4 diese Art von Markup nicht mehr generiert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-131">By default, ASP.NET 4 this type of markup is no longer generated.</span></span>

<span data-ttu-id="cfb4a-132">Wenn Sie Visual Studio 2010 verwenden, um Ihre Anwendung von ASP.NET 2,0 oder ASP.NET 3,5 zu aktualisieren, fügt das Tool automatisch eine Einstellung zur `Web.config` Datei hinzu, die das Legacy Rendering beibehält.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-132">If you use Visual Studio 2010 to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the `Web.config` file that preserves legacy rendering.</span></span> <span data-ttu-id="cfb4a-133">Wenn Sie eine Anwendung jedoch upgraden, indem Sie den Anwendungspool in IIS so ändern, dass er sich an .NET Framework 4 richtet, verwendet ASP.NET standardmäßig den neuen Renderingmodus.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-133">However, if you upgrade an application by changing the application pool in IIS to target the .NET Framework 4, ASP.NET uses the new rendering mode by default.</span></span> <span data-ttu-id="cfb4a-134">Um den neuen Renderingmodus zu deaktivieren, fügen Sie die folgende Einstellung in der `Web.config`-Datei hinzu:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-134">To disable the new rendering mode, add the following setting in the `Web.config` file:</span></span>

[!code-xml[Main](breaking-changes/samples/sample1.xml)]

<span data-ttu-id="cfb4a-135">Die wichtigsten Renderingänderungen, die das neue Verhalten bringt, lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-135">The major rendering changes that the new behavior brings are as follows:</span></span>

- <span data-ttu-id="cfb4a-136">Das **Image** -Steuerelement und das **ImageButton** -Steuerelement erzeugen nicht mehr ein `border="0"` Attribut.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-136">The **Image** and **ImageButton** controls no longer render a `border="0"` attribute.</span></span>
- <span data-ttu-id="cfb4a-137">Die **BaseValidator** -Klasse und die Validierungs Steuerelemente, die von ihr abgeleitet werden, erzeugen standardmäßig keinen roten Text mehr.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-137">The **BaseValidator** class and validation controls that derive from it no longer render red text by default.</span></span>
- <span data-ttu-id="cfb4a-138">Das **HtmlForm** -Steuerelement rendert kein **Name** -Attribut.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-138">The **HtmlForm** control does not render a **name** attribute.</span></span>
- <span data-ttu-id="cfb4a-139">Das **Table** -Steuerelement rendert nicht mehr ein `border="0"` Attribut.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-139">The **Table** control no longer renders a `border="0"` attribute.</span></span>
- <span data-ttu-id="cfb4a-140">Steuerelemente, die nicht für Benutzereingaben entworfen wurden (z. b. das **Label** -Steuerelement), geben das `disabled="disabled"` Attribut nicht mehr aus, wenn die **aktivierte** Eigenschaft auf **false** festgelegt ist (oder wenn Sie diese Einstellung von einem Container Steuerelement erben).</span><span class="sxs-lookup"><span data-stu-id="cfb4a-140">Controls that are not designed for user input (for example, the **Label** control) no longer render the `disabled="disabled"` attribute if their **Enabled** property is set to **false** (or if they inherit this setting from a container control).</span></span>

<a id="0.1__Toc245724854"></a><a id="0.1__Toc255587631"></a><a id="0.1__Toc256770142"></a>

## <a name="clientidmode-changes"></a><span data-ttu-id="cfb4a-141">ClientIDMode-Änderungen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-141">ClientIDMode Changes</span></span>

<span data-ttu-id="cfb4a-142">Mit der **ClientIDMode** -Einstellung in ASP.NET 4 können Sie angeben, wie ASP.NET das **ID** -Attribut für HTML-Elemente generiert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-142">The **ClientIDMode** setting in ASP.NET 4 lets you specify how ASP.NET generates the **id** attribute for HTML elements.</span></span> <span data-ttu-id="cfb4a-143">In früheren Versionen von ASP.net entsprach das Standardverhalten der **AutoID** -Einstellung von **ClientIDMode**.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-143">In previous versions of ASP.NET, the default behavior was equivalent to the **AutoID** setting of **ClientIDMode**.</span></span> <span data-ttu-id="cfb4a-144">Die Standardeinstellung ist nun jedoch **vorhersagbar**.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-144">However, the default setting is now **Predictable**.</span></span>

<span data-ttu-id="cfb4a-145">Wenn Sie Visual Studio 2010 verwenden, um Ihre Anwendung von ASP.NET 2,0 oder ASP.NET 3,5 zu aktualisieren, fügt das Tool automatisch eine Einstellung zur `Web.config` Datei hinzu, die das Verhalten früherer Versionen der .NET Framework beibehält.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-145">If you use Visual Studio 2010 to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the `Web.config` file that preserves the behavior of earlier versions of the .NET Framework.</span></span> <span data-ttu-id="cfb4a-146">Wenn Sie eine Anwendung jedoch upgraden, indem Sie den Anwendungspool in IIS so ändern, dass er sich an .NET Framework 4 richtet, verwendet ASP.NET standardmäßig den neuen Modus.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-146">However, if you upgrade an application by changing the application pool in IIS to target the .NET Framework 4, ASP.NET uses the new mode by default.</span></span> <span data-ttu-id="cfb4a-147">Um den neuen Client-ID-Modus zu deaktivieren, fügen Sie die folgende Einstellung in der `Web.config`-Datei hinzu:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-147">To disable the new client ID mode, add the following setting in the `Web.config` file:</span></span>

[!code-xml[Main](breaking-changes/samples/sample2.xml)]

<a id="0.1__Toc245724855"></a><a id="0.1__Toc255587632"></a><a id="0.1__Toc256770143"></a>

## <a name="htmlencode-and-urlencode-now-encode-single-quotation-marks"></a><span data-ttu-id="cfb4a-148">HtmlEncode und UrlEncode codieren jetzt einfache Anführungszeichen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-148">HtmlEncode and UrlEncode Now Encode Single Quotation Marks</span></span>

<span data-ttu-id="cfb4a-149">In ASP.NET 4 wurden die Methoden **HtmlEncode** und **urlencode** der **HttpUtility** -Klasse und der **HttpServerUtility** -Klasse aktualisiert, um das einfache Anführungszeichen (') wie folgt zu codieren:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-149">In ASP.NET 4, the **HtmlEncode** and **UrlEncode** methods of the **HttpUtility** and **HttpServerUtility** classes have been updated to encode the single quotation mark character (') as follows:</span></span>

- <span data-ttu-id="cfb4a-150">Die **HtmlEncode** -Methode codiert Instanzen des einfachen Anführungs Zeichens als.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-150">The **HtmlEncode** method encodes instances of the single quotation mark as ' .</span></span>
- <span data-ttu-id="cfb4a-151">Die **urlencode** -Methode codiert Instanzen des einfachen Anführungs Zeichens als %27.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-151">The **UrlEncode** method encodes instances of the single quotation mark as %27.</span></span>

<a id="0.1__Toc255587633"></a><a id="0.1__Toc256770144"></a><a id="0.1__Toc245724856"></a>

## <a name="aspnet-page-aspx-parser-is-stricter"></a><span data-ttu-id="cfb4a-152">Der ASP.net page (. aspx)-Parser ist strenger.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-152">ASP.NET Page (.aspx) Parser is Stricter</span></span>

<span data-ttu-id="cfb4a-153">Der Seiten Parser für ASP.net Pages (`.aspx`-Dateien) und Benutzer Steuerelemente (`.ascx` Dateien) ist in ASP.NET 4 strenger und lehnt weitere Instanzen von ungültigem Markup ab.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-153">The page parser for ASP.NET pages (`.aspx` files) and user controls (`.ascx` files) is stricter in ASP.NET 4 and will reject more instances of invalid markup.</span></span> <span data-ttu-id="cfb4a-154">Beispielsweise können die folgenden beiden Code Ausschnitte in früheren Versionen von ASP.net erfolgreich analysiert werden, aber jetzt werden Parser-Fehler in ASP.NET 4 ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-154">For example, the following two snippets would successfully parse in earlier releases of ASP.NET, but will now raise parser errors in ASP.NET 4.</span></span>

[!code-aspx[Main](breaking-changes/samples/sample3.aspx)]

<span data-ttu-id="cfb4a-155">Beachten Sie das ungültige Semikolon am Ende des **HiddenField** -Tags.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-155">Notice the invalid semicolon at the end of the **HiddenField** tag.</span></span>

[!code-aspx[Main](breaking-changes/samples/sample4.aspx)]

<span data-ttu-id="cfb4a-156">Beachten Sie das Attribut "nicht geschlossene **Style** ", das im **CssClass** -Attribut ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-156">Notice the unclosed **style** attribute that runs into the **CssClass** attribute.</span></span>

<a id="0.1__Toc255587634"></a><a id="0.1__Toc256770145"></a>

## <a name="browser-definition-files-updated"></a><span data-ttu-id="cfb4a-157">Aktualisierte Browser Definitions Dateien</span><span class="sxs-lookup"><span data-stu-id="cfb4a-157">Browser Definition Files Updated</span></span>

<span data-ttu-id="cfb4a-158">Die Browserdefinitionsdateien wurden aktualisiert und enthalten jetzt Informationen zu neuen und aktualisierten Browsern und Geräten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-158">The browser definition files have been updated to include information about new and updated browsers and devices.</span></span> <span data-ttu-id="cfb4a-159">Ältere Browser und Geräte wie Netscape Navigator wurden entfernt und neuere Browser und Geräte wie Google Chrome und Apple iPhone hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-159">Older browsers and devices such as Netscape Navigator have been removed, and newer browsers and devices such as Google Chrome and Apple iPhone have been added.</span></span>

<span data-ttu-id="cfb4a-160">Wenn Ihre Anwendung benutzerdefinierte Browserdefinitionen enthält, die von einer der entfernten Browserdefinitionen erben, wird ein Fehler angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-160">If your application contains custom browser definitions that inherit from one of the browser definitions that have been removed, you will see an error.</span></span> <span data-ttu-id="cfb4a-161">Wenn der `App_Browsers` Ordner z. b. eine Browser Definition enthält, die von der IE2-Browser Definition erbt, erhalten Sie die folgende Konfigurations Fehlermeldung:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-161">For example, if the `App_Browsers` folder contains a browser definition that inherits from the IE2 browser definition, you will receive the following configuration error message:</span></span>

- <span data-ttu-id="cfb4a-162">Das Browser-oder Gatewayelement mit der ID "IE2" wurde nicht gefunden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-162">The browser or gateway element with ID 'IE2' cannot be found.</span></span>

> [!NOTE]
> <span data-ttu-id="cfb4a-163">Das **httpbrowserfunktionalitäten** -Objekt (das von der **Request. Browser** -Eigenschaft der Seite verfügbar gemacht wird) wird von den Browser Definitions Dateien gesteuert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-163">The **HttpBrowserCapabilities** object (which is exposed by the page's **Request.Browser** property) is driven by the browser definitions files.</span></span> <span data-ttu-id="cfb4a-164">Daher können sich die Informationen, die durch den Zugriff auf eine Eigenschaft dieses Objekts in ASP.NET 4 zurückgegeben werden, von den in einer früheren Version von ASP.net zurückgegebenen Informationen unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-164">Therefore, the information returned by accessing a property of this object in ASP.NET 4 might be different than the information returned in an earlier version of ASP.NET.</span></span>

<span data-ttu-id="cfb4a-165">Sie können die alten Browser Definitions Dateien wiederherstellen, indem Sie die Browser Definitions Dateien aus folgendem Ordner kopieren:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-165">You can revert to the old browser definition files by copying the browser definition files from the following folder:</span></span>

[!code-console[Main](breaking-changes/samples/sample5.cmd)]

<span data-ttu-id="cfb4a-166">Kopieren Sie die Dateien in den entsprechenden `\CONFIG\Browsers` Ordner für ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-166">Copy the files into the corresponding `\CONFIG\Browsers` folder for ASP.NET 4.</span></span> <span data-ttu-id="cfb4a-167">Nachdem Sie die Dateien kopiert haben, führen Sie das Befehlszeilen Tool ASPNET\_regbrowsers. exe aus.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-167">After you copy the files, run the Aspnet\_regbrowsers.exe command-line tool.</span></span>

<a id="0.1__Toc255587635"></a><a id="0.1__Toc256770146"></a>

## <a name="systemwebmobiledll-removed-from-root-web-configuration-file"></a><span data-ttu-id="cfb4a-168">"System. Web. Mobile. dll" aus der Stamm-Webkonfigurationsdatei entfernt</span><span class="sxs-lookup"><span data-stu-id="cfb4a-168">System.Web.Mobile.dll Removed from Root Web Configuration File</span></span>

<span data-ttu-id="cfb4a-169">In früheren Versionen von ASP.net war ein Verweis auf die Assembly "System. Web. Mobile. dll" `Web.config` **im Abschnitt "** Assemblys" unter enthalten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-169">In previous versions of ASP.NET, a reference to the System.Web.Mobile.dll assembly was included in the root `Web.config` file in the **assemblies** section under.</span></span> <span data-ttu-id="cfb4a-170">Der Verweis auf diese Assembly wurde entfernt, um die Leistung zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-170">In order to improve performance, the reference to this assembly was removed.</span></span>

<span data-ttu-id="cfb4a-171">Die Assembly "System. Web. Mobile. dll" ist in ASP.NET 4 enthalten, ist jedoch veraltet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-171">The System.Web.Mobile.dll assembly is included in ASP.NET 4, but it is deprecated.</span></span> <span data-ttu-id="cfb4a-172">Wenn Sie Typen aus der System. Web. Mobile. dll-Assembly verwenden möchten, fügen Sie einen Verweis auf diese Assembly entweder der Stamm `Web.config` Datei oder einer Anwendungs `Web.config` Datei hinzu.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-172">If you want to use types from the System.Web.Mobile.dll assembly, add a reference to this assembly to either the root `Web.config` file or to an application `Web.config` file.</span></span> <span data-ttu-id="cfb4a-173">Wenn Sie z. b. eines der (veralteten) ASP.NET Mobile-Steuerelemente verwenden möchten, müssen Sie der `Web.config` Datei einen Verweis auf die Assembly "System. Web. Mobile. dll" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-173">For example, if you want to use any of the (deprecated) ASP.NET mobile controls, you must add a reference to the System.Web.Mobile.dll assembly to the `Web.config` file.</span></span>

<a id="0.1__Toc245724857"></a><a id="0.1__Toc255587636"></a><a id="0.1__Toc256770147"></a>

## <a name="aspnet-request-validation"></a><span data-ttu-id="cfb4a-174">ASP.net Anforderungs Validierung</span><span class="sxs-lookup"><span data-stu-id="cfb4a-174">ASP.NET Request Validation</span></span>

<span data-ttu-id="cfb4a-175">Das Feature "Anforderungs Validierung" in ASP.net bietet eine bestimmte Ebene des Standard Schutzes vor Cross-Site Scripting (XSS)-Angriffen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-175">The request validation feature in ASP.NET provides a certain level of default protection against cross-site scripting (XSS) attacks.</span></span> <span data-ttu-id="cfb4a-176">In früheren Versionen von ASP.net war die Anforderungs Validierung standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-176">In previous versions of ASP.NET, request validation was enabled by default.</span></span> <span data-ttu-id="cfb4a-177">Es wird jedoch nur auf ASP.NET Seiten (`.aspx` Dateien und deren Klassendateien) und nur auf die Ausführung dieser Seiten angewendet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-177">However, it applied only to ASP.NET pages (`.aspx` files and their class files) and only when those pages were executing.</span></span>

<span data-ttu-id="cfb4a-178">In ASP.NET 4 ist die Anforderungs Validierung standardmäßig für alle Anforderungen aktiviert, da Sie vor der **BeginRequest** -Phase einer HTTP-Anforderung aktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-178">In ASP.NET 4, by default, request validation is enabled for all requests, because it is enabled before the **BeginRequest** phase of an HTTP request.</span></span> <span data-ttu-id="cfb4a-179">Dies hat zur Folge, dass die Anforderungs Validierung auf Anforderungen für alle ASP.NET-Ressourcen, nicht nur auf ASPX-Seiten Anforderungen, angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-179">As a result, request validation applies to requests for all ASP.NET resources, not just .aspx page requests.</span></span> <span data-ttu-id="cfb4a-180">Dies schließt Anforderungen wie Webdienst Aufrufe und benutzerdefinierte HTTP-Handler ein.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-180">This includes requests such as Web service calls and custom HTTP handlers.</span></span> <span data-ttu-id="cfb4a-181">Die Anforderungs Validierung ist auch aktiv, wenn benutzerdefinierte HTTP-Module den Inhalt einer HTTP-Anforderung lesen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-181">Request validation is also active when custom HTTP modules are reading the contents of an HTTP request.</span></span>

<span data-ttu-id="cfb4a-182">Folglich treten möglicherweise Anforderungs Validierungs Fehler für Anforderungen auf, die zuvor keine Fehler ausgelöst haben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-182">As a result, request validation errors might now occur for requests that previously did not trigger errors.</span></span> <span data-ttu-id="cfb4a-183">Fügen Sie die folgende Einstellung in der `Web.config`-Datei hinzu, um das Verhalten des 2,0 ASP.net-Anforderungs Überprüfungs Features wiederherzustellen:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-183">To revert to the behavior of the ASP.NET 2.0 request validation feature, add the following setting in the `Web.config` file:</span></span>

[!code-xml[Main](breaking-changes/samples/sample6.xml)]

<span data-ttu-id="cfb4a-184">Es wird jedoch empfohlen, dass Sie alle Anforderungs Validierungs Fehler analysieren, um zu bestimmen, ob vorhandene Handler, Module oder anderer benutzerdefinierter Code potenziell unsichere HTTP-Eingaben zugreift, die XSS-Angriffsvektoren sein könnten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-184">However, we recommend that you analyze any request validation errors to determine whether existing handlers, modules, or other custom code accesses potentially unsafe HTTP inputs that could be XSS attack vectors.</span></span>

<a id="0.1__Toc245724858"></a><a id="0.1__Toc255587637"></a><a id="0.1__Toc256770148"></a>

## <a name="default-hashing-algorithm-is-now-hmacsha256"></a><span data-ttu-id="cfb4a-185">Standard Hash Algorithmus ist jetzt HMACSHA256</span><span class="sxs-lookup"><span data-stu-id="cfb4a-185">Default Hashing Algorithm Is Now HMACSHA256</span></span>

<span data-ttu-id="cfb4a-186">ASP.NET verwendet sowohl Verschlüsselung als auch Hashalgorithmen, um Daten wie Formularauthentifizierungscookies und den Ansichtsstatus zu sichern.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-186">ASP.NET uses both encryption and hashing algorithms to help secure data such as forms authentication cookies and view state.</span></span> <span data-ttu-id="cfb4a-187">Standardmäßig verwendet ASP.NET 4 jetzt den HMACSHA256-Algorithmus für Hash Vorgänge für Cookies und den Ansichts Zustand.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-187">By default, ASP.NET 4 now uses the HMACSHA256 algorithm for hash operations on cookies and view state.</span></span> <span data-ttu-id="cfb4a-188">In früheren Versionen von ASP.net wurde der ältere HMACSHA1-Algorithmus verwendet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-188">Earlier versions of ASP.NET used the older HMACSHA1 algorithm.</span></span>

<span data-ttu-id="cfb4a-189">Ihre Anwendungen sind möglicherweise beeinträchtigt, wenn Sie gemischte ASP.NET 2.0/ASP. NET 4-Umgebungen ausführen, in denen Daten wie Formular Authentifizierungs Cookies across.net Frameworkversionen funktionieren müssen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-189">Your applications might be affected if you run mixed ASP.NET 2.0/ASP.NET 4 environments where data such as forms authentication cookies must work across.NET Framework versions.</span></span> <span data-ttu-id="cfb4a-190">Um eine ASP.NET 4-Webanwendung für die Verwendung des älteren HMACSHA1-Algorithmus zu konfigurieren, fügen Sie die folgende Einstellung in der `Web.config`-Datei hinzu:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-190">To configure an ASP.NET 4 Web application to use the older HMACSHA1 algorithm, add the following setting in the `Web.config` file:</span></span>

[!code-xml[Main](breaking-changes/samples/sample7.xml)]

<a id="0.1__Toc245724859"></a><a id="0.1__Toc255587638"></a><a id="0.1__Toc256770149"></a>

## <a name="configuration-errors-related-to-new-aspnet-4-root-configuration"></a><span data-ttu-id="cfb4a-191">Konfigurationsfehler im Zusammenhang mit der neuen ASP.NET 4-Stamm Konfiguration</span><span class="sxs-lookup"><span data-stu-id="cfb4a-191">Configuration Errors Related to New ASP.NET 4 Root Configuration</span></span>

<span data-ttu-id="cfb4a-192">Die Stamm Konfigurationsdateien (die `machine.config`-Datei und die Stamm `Web.config` Datei) für die .NET Framework 4 (und somit auch ASP.NET 4) wurden aktualisiert, sodass Sie die meisten der Konfigurationsinformationen für Bausteine enthalten, die in ASP.NET 3,5 in den Anwendungs `Web.config` Dateien gefunden wurden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-192">The root configuration files (the `machine.config` file and the root `Web.config` file) for the .NET Framework 4 (and therefore ASP.NET 4) have been updated to include most of the boilerplate configuration information that in ASP.NET 3.5 was found in the application `Web.config` files.</span></span> <span data-ttu-id="cfb4a-193">Aufgrund der Komplexität der verwalteten IIS 7-und IIS 7,5-Konfigurations Systeme können bei der Ausführung von ASP.NET 3,5-Anwendungen unter ASP.NET 4 und unter IIS 7 und IIS 7,5 entweder ASP.net-oder IIS-Konfigurationsfehler auftreten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-193">Because of the complexity of the managed IIS 7 and IIS 7.5 configuration systems, running ASP.NET 3.5 applications under ASP.NET 4 and under IIS 7 and IIS 7.5 can result in either ASP.NET or IIS configuration errors.</span></span>

<span data-ttu-id="cfb4a-194">Es wird empfohlen, ASP.NET 3,5-Anwendungen auf ASP.NET 4 zu aktualisieren, indem Sie die Projekt Aktualisierungs Tools in Visual Studio 2010 verwenden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-194">We recommend that you upgrade ASP.NET 3.5 applications to ASP.NET 4 by using the project upgrade tools in Visual Studio 2010, if practical.</span></span> <span data-ttu-id="cfb4a-195">Visual Studio 2010 ändert automatisch die `Web.config` Datei der ASP.NET 3,5-Anwendung, sodass Sie die entsprechenden Einstellungen für ASP.NET 4 enthält.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-195">Visual Studio 2010 automatically modifies the ASP.NET 3.5 application's `Web.config` file to contain the appropriate settings for ASP.NET 4.</span></span>

<span data-ttu-id="cfb4a-196">Es ist jedoch ein unterstütztes Szenario, ASP.NET 3,5-Anwendungen ohne Neukompilierung mit dem .NET Framework 4 auszuführen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-196">However, it is a supported scenario to run ASP.NET 3.5 applications using the .NET Framework 4 without recompilation.</span></span> <span data-ttu-id="cfb4a-197">In diesem Fall müssen Sie möglicherweise die `Web.config` Datei der Anwendung manuell ändern, bevor Sie die Anwendung unter dem .NET Framework 4 und unter IIS 7 oder IIS 7,5 ausführen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-197">In that case, you might have to manually modify the application's `Web.config` file before you run the application under the .NET Framework 4 and under IIS 7 or IIS 7.5.</span></span>

<span data-ttu-id="cfb4a-198">In den nächsten beiden Abschnitten werden Änderungen beschrieben, die Sie möglicherweise für verschiedene Kombinationen von Software vornehmen müssen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-198">The next two sections describe changes that you might need to make for different combinations of software.</span></span>

<span data-ttu-id="cfb4a-199">**Windows Vista SP1 oder Windows Server 2008 SP1, auf dem weder Hotfix KB958854 noch SP2 installiert ist.**</span><span class="sxs-lookup"><span data-stu-id="cfb4a-199">**Windows Vista SP1 or Windows Server 2008 SP1, where neither hotfix KB958854 nor SP2 are installed.**</span></span> <span data-ttu-id="cfb4a-200">In dieser Konfiguration führt das IIS 7-Konfigurationssystem eine nicht ordnungsgemäße Konfiguration der verwalteten Konfiguration einer Anwendung durch, indem Sie die `Web.config` Datei auf Anwendungsebene mit den ASP.NET 2,0 `machine.config`-Dateien vergleicht.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-200">In this configuration, the IIS 7 configuration system incorrectly merges an application's managed configuration by comparing the application-level `Web.config` file to the ASP.NET 2.0 `machine.config` files.</span></span> <span data-ttu-id="cfb4a-201">Aus diesem Grund müssen `Web.config` Dateien auf Anwendungsebene aus dem .NET Framework 3,5 oder höher eine **System. Web. Extensions** -Konfigurations Abschnitts Definition (das-Element) aufweisen, um keinen IIS 7-Überprüfungs Fehler zu verursachen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-201">Because of this, application-level `Web.config` files from the .NET Framework 3.5 or later must have a **system.web.extensions** configuration section definition (the element) in order not to cause an IIS 7 validation failure.</span></span>

<span data-ttu-id="cfb4a-202">`Web.config` Datei Einträge auf Anwendungsebene, die nicht exakt mit den ursprünglichen Konfigurations Abschnitts Definitionen der Original Bausteine identisch sind, die mit Visual Studio 2008 eingeführt wurden, führen jedoch zu ASP.net-Konfigurationsfehlern.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-202">However, manually modified application-level `Web.config` file entries that do not precisely match the original boilerplate configuration section definitions that were introduced with Visual Studio 2008 will cause ASP.NET configuration errors.</span></span> <span data-ttu-id="cfb4a-203">(Die von Visual Studio 2008 generierten Standard Konfigurationseinträge funktionieren ordnungsgemäß.) Ein häufiges Problem ist, dass manuell geänderte `Web.config` Dateien die Konfigurations Attribute **AllowDefinition** und Requirements- **Berechtigung** , die in den verschiedenen Konfigurations Abschnitts Definitionen gefunden werden, weglassen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-203">(The default configuration entries that are generated by Visual Studio 2008 work correctly.) A common problem is that manually modified `Web.config` files leave out the **allowDefinition** and **requirePermission** configuration attributes that are found on various configuration section definitions.</span></span> <span data-ttu-id="cfb4a-204">Dies verursacht einen Konflikt zwischen dem abgekürzten Konfigurations Abschnitt in `Web.config` Dateien auf Anwendungsebene und der gesamten Definition in der Datei ASP.NET 4 `machine.config`.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-204">This causes a mismatch between the abbreviated configuration section in application-level `Web.config` files and the complete definition in the ASP.NET 4 `machine.config` file.</span></span> <span data-ttu-id="cfb4a-205">Folglich löst das ASP.NET 4-Konfigurationssystem zur Laufzeit einen Konfigurationsfehler aus.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-205">As a result, at run time, the ASP.NET 4 configuration system throws a configuration error.</span></span>

<span data-ttu-id="cfb4a-206">**Windows Vista SP2, Windows Server 2008 SP2, Windows 7, Windows Server 2008 R2 sowie Windows Vista SP1 und Windows Server 2008 SP1, auf denen Hotfix KB958854 installiert ist.**</span><span class="sxs-lookup"><span data-stu-id="cfb4a-206">**Windows Vista SP2, Windows Server 2008 SP2, Windows 7, Windows Server 2008 R2, and also Windows Vista SP1 and Windows Server 2008 SP1 where hotfix KB958854 is installed.**</span></span>

<span data-ttu-id="cfb4a-207">In diesem Szenario gibt das systemeigene Konfigurationssystem IIS 7 und IIS 7,5 einen Konfigurationsfehler zurück, da es einen Textvergleich für das **Type** -Attribut ausführt, das für einen verwalteten Konfigurations Abschnitts Handler definiert ist.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-207">In this scenario, the IIS 7 and IIS 7.5 native configuration system returns a configuration error because it performs a text comparison on the **type** attribute that is defined for a managed configuration section handler.</span></span> <span data-ttu-id="cfb4a-208">Da alle `Web.config` Dateien, die von Visual Studio 2008 und Visual Studio 2008 SP1 generiert werden, in der Typzeichenfolge für das System den Wert "3,5" aufweisen **. Web. Extensions** (und verwandte) Konfigurations Abschnitts Handler, und da die Datei "ASP.NET 4 `machine.config`" im **Type** -Attribut für dieselben Konfigurations Abschnitts Handler "4,0" enthält, schlagen Anwendungen, die in Visual Studio 2008 oder Visual Studio 2008 SP1 generiert werden, bei der Konfigurations Validierung in IIS 7 und IIS 7,5 immer fehl.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-208">Because all `Web.config` files that are generated by Visual Studio 2008 and Visual Studio 2008 SP1 have "3.5" in the type string for the **system.web.extensions** (and related) configuration section handlers, and because the ASP.NET 4 `machine.config` file has "4.0" in the **type** attribute for the same configuration section handlers, applications that are generated in Visual Studio 2008 or Visual Studio 2008 SP1 always fail configuration validation in IIS 7 and IIS 7.5.</span></span>

<a id="0.1__Toc251910248"></a>

### <a name="resolving-these-issues"></a><span data-ttu-id="cfb4a-209">Beheben dieser Probleme</span><span class="sxs-lookup"><span data-stu-id="cfb4a-209">Resolving These Issues</span></span>

<span data-ttu-id="cfb4a-210">Die Problem Umgehung für das erste Szenario besteht darin, die `Web.config` Datei auf Anwendungsebene zu aktualisieren, indem Sie den Konfigurations Text des Bausteine aus einer `Web.config` Datei einschließen, die automatisch von Visual Studio 2008 generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-210">The workaround for the first scenario is to update the application-level `Web.config` file by including the boilerplate configuration text from a `Web.config` file that was generated automatically by Visual Studio 2008.</span></span>

<span data-ttu-id="cfb4a-211">Eine alternative Lösung für das erste Szenario besteht darin, Service Pack 2 für Vista oder Windows Server 2008 auf Ihrem Computer zu installieren oder Hotfix KB958854 ([https://support.microsoft.com/kb/958854](https://support.microsoft.com/kb/958854)) zu installieren, um das falsche Konfigurations Verhalten des IIS-Konfigurations Systems zu beheben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-211">An alternative workaround for the first scenario is to install Service Pack 2 for Vista or Windows Server 2008 on your computer or to install hotfix KB958854 ([https://support.microsoft.com/kb/958854](https://support.microsoft.com/kb/958854)) to fix the incorrect configuration-merge behavior of the IIS configuration system.</span></span> <span data-ttu-id="cfb4a-212">Nachdem Sie jedoch eine dieser Aktionen durchgeführt haben, tritt bei der Anwendung wahrscheinlich aufgrund des für das zweite Szenario beschriebenen Problems ein Konfigurationsfehler auf.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-212">However, after you perform either of these actions, your application will likely encounter a configuration error due to the issue described for the second scenario.</span></span>

<span data-ttu-id="cfb4a-213">Die Problem Umgehung für das zweite Szenario besteht darin, alle **System. Web. Extensions** -Konfigurations Abschnitts Definitionen und Konfigurations Abschnitts Gruppendefinitionen aus der `Web.config` Datei auf Anwendungsebene zu löschen oder auszukommentieren.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-213">The workaround for the second scenario is to delete or comment out all the **system.web.extensions** configuration section definitions and configuration section group definitions from the application-level `Web.config` file.</span></span> <span data-ttu-id="cfb4a-214">Diese Definitionen befinden sich in der Regel am Anfang der Datei auf Anwendungsebene `Web.config` und können durch das **configabschnitts** -Element und seine untergeordneten Elemente identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-214">These definitions are usually at the top of the application-level `Web.config` file and can be identified by the **configSections** element and its children.</span></span>

<span data-ttu-id="cfb4a-215">Für beide Szenarien wird empfohlen, dass Sie den Abschnitt " **System. CodeDom** " auch manuell löschen, obwohl dies nicht erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-215">For both scenarios, it is recommended that you also manually delete the **system.codedom** section, although this is not required.</span></span>

<a id="0.1__Toc252995490"></a><a id="0.1__Toc255587639"></a><a id="0.1__Toc256770150"></a><a id="0.1__Toc245724860"></a>

## <a name="aspnet-4-child-applications-fail-to-start-when-under-aspnet-20-or-aspnet-35-applications"></a><span data-ttu-id="cfb4a-216">ASP.NET 4 untergeordnete Anwendungen können nicht gestartet werden, wenn unter ASP.NET 2,0-oder ASP.NET 3,5-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-216">ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications</span></span>

<span data-ttu-id="cfb4a-217">ASP.NET 4-Anwendungen, die als untergeordnete Anwendungen konfiguriert wurden, die frühere Versionen von ASP.NET ausführen, können möglicherweise aufgrund von Konfigurations- oder Kompilierungsfehlern nicht starten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-217">ASP.NET 4 applications that are configured as children of applications that run earlier versions of ASP.NET might fail to start because of configuration or compilation errors.</span></span> <span data-ttu-id="cfb4a-218">Im folgenden Beispiel wird eine Verzeichnisstruktur für eine betroffene Anwendung gezeigt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-218">The following example shows a directory structure for an affected application.</span></span>

<span data-ttu-id="cfb4a-219">`/parentwebapp` (für die Verwendung von ASP.NET 2,0 oder ASP.NET 3,5 konfiguriert)</span><span class="sxs-lookup"><span data-stu-id="cfb4a-219">`/parentwebapp` (configured to use ASP.NET 2.0 or ASP.NET 3.5)</span></span>  
<span data-ttu-id="cfb4a-220">`/childwebapp` (für die Verwendung von ASP.NET 4 konfiguriert)</span><span class="sxs-lookup"><span data-stu-id="cfb4a-220">`/childwebapp` (configured to use ASP.NET 4)</span></span>

<span data-ttu-id="cfb4a-221">Die Anwendung im Ordner "`childwebapp`" kann unter IIS 7 oder IIS 7,5 nicht gestartet werden und meldet einen Konfigurationsfehler.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-221">The application in the `childwebapp` folder will fail to start on IIS 7 or IIS 7.5 and will report a configuration error.</span></span> <span data-ttu-id="cfb4a-222">Der Fehlertext enthält eine Meldung wie die folgende:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-222">The error text will include a message similar to the following:</span></span>

- `The requested page cannot be accessed because the related configuration data for the page is invalid.`

- `The configuration section 'configSections' cannot be read because it is missing a section declaration.`

<span data-ttu-id="cfb4a-223">Unter IIS 6 kann die Anwendung im Ordner "`childwebapp`" ebenfalls nicht gestartet werden, es wird jedoch ein anderer Fehler gemeldet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-223">On IIS 6, the application in the `childwebapp` folder will also fail to start, but it will report a different error.</span></span> <span data-ttu-id="cfb4a-224">Der Fehlertext könnte z. b. Folgendes angeben:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-224">For example, the error text might state the following:</span></span>

- `The value for the 'compilerVersion' attribute in the provider options must be 'v4.0' or later if you are compiling for version 4.0 or later of the .NET Framework. To compile this Web application for version 3.5 or earlier of the .NET Framework, remove the 'targetFramework' attribute from the element of the Web.config file`

<span data-ttu-id="cfb4a-225">Diese Szenarios treten auf, weil die Konfigurationsinformationen aus der übergeordneten Anwendung im `parentwebapp` Ordner Teil der Hierarchie der Konfigurationsinformationen sind, die die endgültigen gemergten Konfigurationseinstellungen bestimmt, die von der untergeordneten Webanwendung im Ordner `childwebapp` verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-225">These scenarios occur because the configuration information from the parent application in the `parentwebapp` folder is part of the hierarchy of configuration information that determines the final merged configuration settings that are used by the child web application in the `childwebapp` folder.</span></span> <span data-ttu-id="cfb4a-226">Abhängig davon, ob die ASP.NET 4-Webanwendung unter IIS 7 (oder IIS 7,5) oder IIS 6 ausgeführt wird, gibt entweder das IIS-Konfigurationssystem oder das ASP.NET 4-Kompilierungs System einen Fehler zurück.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-226">Depending on whether the ASP.NET 4 Web application is running on IIS 7 (or IIS 7.5) or on IIS 6, either the IIS configuration system or the ASP.NET 4 compilation system will return an error.</span></span>

<span data-ttu-id="cfb4a-227">Die Schritte, die Sie befolgen müssen, um dieses Problem zu beheben und die untergeordnete ASP.NET 4-Anwendung zu verwenden, hängen davon ab, ob die Anwendung ASP.NET 4 unter IIS 6 oder IIS 7 (oder IIS 7,5) ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-227">The steps that you must follow to resolve this issue and to get the child ASP.NET 4 application to work depend on whether the ASP.NET 4 application runs on IIS 6 or on IIS 7 (or IIS 7.5).</span></span>

### <a name="step-1-iis-7-or-iis-75-only"></a><span data-ttu-id="cfb4a-228">Schritt 1 (nur IIS 7 oder IIS 7,5)</span><span class="sxs-lookup"><span data-stu-id="cfb4a-228">Step 1 (IIS 7 or IIS 7.5 only)</span></span>

<span data-ttu-id="cfb4a-229">Dieser Schritt ist nur für Betriebssysteme erforderlich, die IIS 7 oder IIS 7,5 ausführen, darunter Windows Vista, Windows Server 2008, Windows 7 und Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-229">This step is necessary only on operating systems that run IIS 7 or IIS 7.5, which includes Windows Vista, Windows Server 2008, Windows 7, and Windows Server 2008 R2.</span></span>

<span data-ttu-id="cfb4a-230">Verschieben Sie die **configabschnitts** -Definition in der `Web.config`-Datei der übergeordneten Anwendung (die Anwendung, die ASP.NET 2,0 oder ASP.NET 3,5 ausführt) in die Stamm `Web.config` Datei für The.NET Framework 2,0.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-230">Move the **configSections** definition in the `Web.config` file of the parent application (the application that runs ASP.NET 2.0 or ASP.NET 3.5) into the root `Web.config` file for the.NET Framework 2.0.</span></span> <span data-ttu-id="cfb4a-231">Das systemeigene Konfigurationssystem IIS 7 und IIS 7,5 scannt das **configabschnitts** -Element bei der Zusammenführung der Hierarchie von Konfigurationsdateien.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-231">The IIS 7 and IIS 7.5 native configuration system scans the **configSections** element when it merges the hierarchy of configuration files.</span></span> <span data-ttu-id="cfb4a-232">Wenn die **configabschnitts** -Definition aus der `Web.config` Datei der übergeordneten Webanwendung in die Stamm `Web.config` Datei verschoben wird, wird das Element aus dem Konfigurations Zusammenschluss Prozess, der für die untergeordnete Anwendung ASP.NET 4 ausgeführt wird, tatsächlich ausgeblendet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-232">Moving the **configSections** definition from the parent Web application's `Web.config` file to the root `Web.config` file effectively hides the element from the configuration merge process that occurs for the child ASP.NET 4 application.</span></span>

<span data-ttu-id="cfb4a-233">Bei einem 32-Bit-Betriebssystem oder einem 32-Bit-Anwendungs Pool befindet sich die Stamm `Web.config` Datei für ASP.NET 2,0 und ASP.NET 3,5 normalerweise im folgenden Ordner:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-233">On a 32-bit operating system or for 32-bit application pools, the root `Web.config` file for ASP.NET 2.0 and ASP.NET 3.5 is normally located in the following folder:</span></span>

`C:\Windows\Microsoft.NET\Framework\v2.0.50727\CONFIG`

<span data-ttu-id="cfb4a-234">Bei einem 64-Bit-Betriebssystem oder einem 64-Bit-Anwendungs Pool befindet sich die Stamm `Web.config` Datei für ASP.NET 2,0 und ASP.NET 3,5 normalerweise im folgenden Ordner:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-234">On a 64-bit operating system or for 64-bit application pools, the root `Web.config` file for ASP.NET 2.0 and ASP.NET 3.5 is normally located in the following folder:</span></span>

`C:\Windows\Microsoft.NET\Framework64\v2.0.50727\CONFIG`

<span data-ttu-id="cfb4a-235">Wenn Sie sowohl 32-Bit-als auch 64-Bit-Webanwendungen auf einem 64-Bit-Computer ausführen, müssen Sie das **configabschnitts** -Element in Stamm `Web.config` Dateien für das 32-Bit-und das 64-Bit-System verschieben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-235">If you run both 32-bit and 64-bit Web applications on a 64-bit computer, you must move the **configSections** element up into root `Web.config` files for both the 32-bit and the 64-bit systems.</span></span>

<span data-ttu-id="cfb4a-236">Wenn Sie das **configabschnitts** -Element in die Stamm `Web.config` Datei einfügen, fügen Sie den-Abschnitt direkt hinter das- **Konfigurations** Element ein.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-236">When you put the **configSections** element in the root `Web.config` file, paste the section immediately after the **configuration** element.</span></span> <span data-ttu-id="cfb4a-237">Im folgenden Beispiel wird gezeigt, wie der obere Teil der Stamm `Web.config` Datei aussehen sollte, wenn Sie das Verschieben der Elemente abgeschlossen haben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-237">The following example shows what the top portion of the root `Web.config` file should look like when you have finished moving the elements.</span></span>

> [!NOTE]
> <span data-ttu-id="cfb4a-238">Im folgenden Beispiel wurden Zeilen zur besseren Lesbarkeit umschließt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-238">In the following example, lines have been wrapped for readability.</span></span>

[!code-xml[Main](breaking-changes/samples/sample8.xml)]

### <a name="step-2-all-versions-of-iis"></a><span data-ttu-id="cfb4a-239">Schritt 2 (alle Versionen von IIS)</span><span class="sxs-lookup"><span data-stu-id="cfb4a-239">Step 2 (all versions of IIS)</span></span>

<span data-ttu-id="cfb4a-240">Dieser Schritt ist erforderlich, unabhängig davon, ob die untergeordnete Webanwendung ASP.NET 4 unter IIS 6 oder IIS 7 (oder IIS 7,5) ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-240">This step is required whether the ASP.NET 4 child Web application is running on IIS 6 or on IIS 7 (or IIS 7.5).</span></span>

<span data-ttu-id="cfb4a-241">Fügen Sie in der `Web.config`-Datei der übergeordneten Webanwendung, auf der ASP.NET 2 oder ASP.NET 3,5 ausgeführt wird, ein **Location** -Tag hinzu, das explizit (für das IIS-und das ASP.NET-Konfigurationssystem) angibt, dass die Konfigurationseinträge nur für die übergeordnete Webanwendung gelten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-241">In the `Web.config` file of the parent Web application that is running ASP.NET 2 or ASP.NET 3.5, add a **location** tag that explicitly specifies (for both the IIS and ASP.NET configuration systems) that the configuration entries only apply to the parent Web application.</span></span> <span data-ttu-id="cfb4a-242">Das folgende Beispiel zeigt die Syntax des hinzu zufügenden **Location** -Elements:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-242">The following example shows the syntax of the **location** element to add:</span></span>

[!code-xml[Main](breaking-changes/samples/sample9.xml)]

<span data-ttu-id="cfb4a-243">Das folgende Beispiel zeigt, wie das **Location** -Tag verwendet wird, um alle Konfigurations Abschnitte zu umschließen, beginnend mit dem **appSettings** -Abschnitt und mit dem **System. Webserver** -Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-243">The following example shows how the **location** tag is used to wrap all configuration sections starting with the **appSettings** section and ending with **system.webServer** section.</span></span>

[!code-xml[Main](breaking-changes/samples/sample10.xml)]

<span data-ttu-id="cfb4a-244">Wenn Sie die Schritte 1 und 2 abgeschlossen haben, werden untergeordnete ASP.NET 4-Webanwendungen ohne Fehler gestartet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-244">When you have completed steps 1 and 2, child ASP.NET 4 Web applications will start without errors.</span></span>

<a id="0.1__Toc252995491"></a><a id="0.1__Toc255587640"></a><a id="0.1__Toc256770151"></a>

## <a name="aspnet-4-web-sites-fail-to-start-on-computers-where-sharepoint-is-installed"></a><span data-ttu-id="cfb4a-245">ASP.NET 4 Websites können auf Computern, auf denen SharePoint installiert ist, nicht gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-245">ASP.NET 4 Web Sites Fail to Start on Computers Where SharePoint Is Installed</span></span>

<span data-ttu-id="cfb4a-246">Webserver, auf denen SharePoint ausgeführt wird, verfügen über eine `Web.config`-Datei, die im Stammverzeichnis einer SharePoint-Website bereitgestellt wird (z. b. `c:\inetpub\wwwroot\web.config` für Standard Website).</span><span class="sxs-lookup"><span data-stu-id="cfb4a-246">Web servers that run SharePoint have a `Web.config` file that is deployed at the root of a SharePoint Web site (for example, `c:\inetpub\wwwroot\web.config` for Default Web Site).</span></span> <span data-ttu-id="cfb4a-247">In dieser `Web.config` Datei legt SharePoint eine benutzerdefinierte teilweise vertrauenswürdige Ebene mit dem Namen WSS\_minimal fest.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-247">In this `Web.config` file, SharePoint sets a custom partial-trust level named WSS\_Minimal.</span></span>

<span data-ttu-id="cfb4a-248">Wenn Sie versuchen, eine ASP.NET 4-Website auszuführen, die als untergeordnetes Element dieses Typs von SharePoint-Website bereitgestellt wird, wird der folgende Fehler angezeigt:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-248">If you try to run an ASP.NET 4 Web site that is deployed as a child of this type of SharePoint Web site, you will see the following error:</span></span>

`Could not find permission set named 'ASP.NET'.`

<span data-ttu-id="cfb4a-249">Dieser Fehler tritt auf, weil die ASP.NET 4-CAS-Infrastruktur (Code Access Security) nach einem Berechtigungs Satz mit dem Namen ASP.NET sucht.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-249">This error occurs because the ASP.NET 4 code access security (CAS) infrastructure looks for a permission set named ASP.NET.</span></span> <span data-ttu-id="cfb4a-250">Die Konfigurationsdatei mit teilweiser Vertrauenswürdigkeit, auf die von WSS\_Minimum verwiesen wird, enthält jedoch keine Berechtigungs Sätze mit diesem Namen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-250">However, the partial trust configuration file that is referenced by WSS\_Minimal does not contain any permission sets with that name.</span></span>

<span data-ttu-id="cfb4a-251">Zurzeit ist keine Version von SharePoint verfügbar, die mit ASP.NET kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-251">Currently there is not a version of SharePoint available that is compatible with ASP.NET.</span></span> <span data-ttu-id="cfb4a-252">Daher sollten Sie nicht versuchen, eine ASP.NET 4-Website als untergeordneten Standort unterhalb von SharePoint-Websites auszuführen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-252">As a result, you should not attempt to run an ASP.NET 4 Web site as a child site underneath SharePoint Web sites.</span></span>

<a id="0.1__Toc255587641"></a><a id="0.1__Toc256770152"></a>

## <a name="the-httprequestfilepath-property-no-longer-includes-pathinfo-values"></a><span data-ttu-id="cfb4a-253">Die HttpRequest. FilePath-Eigenschaft enthält keine PathInfo-Werte mehr.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-253">The HttpRequest.FilePath Property No Longer Includes PathInfo Values</span></span>

<span data-ttu-id="cfb4a-254">In früheren Versionen von ASP.net wurde ein **pathinfo** -Wert in den Wert eingefügt, der von verschiedenen Dateipfad bezogenen Eigenschaften zurückgegeben wurde, einschließlich **HttpRequest. FilePath**, **HttpRequest. AppRelativeCurrentExecutionFilePath**und **HttpRequest. Currency texecutionfilepath**.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-254">Previous versions of ASP.NET included a **PathInfo** value in the value returned from various file path-related properties, including **HttpRequest.FilePath**, **HttpRequest.AppRelativeCurrentExecutionFilePath**, and **HttpRequest.CurrentExecutionFilePath**.</span></span> <span data-ttu-id="cfb4a-255">ASP.NET 4 enthält nicht mehr den **pathinfo** -Wert in den Rückgabe Werten aus diesen Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-255">ASP.NET 4 no longer includes the **PathInfo** value in the return values from these properties.</span></span> <span data-ttu-id="cfb4a-256">Stattdessen sind die **pathinfo** -Informationen in **HttpRequest. PathInfo**verfügbar.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-256">Instead, the **PathInfo** information is available in **HttpRequest.PathInfo**.</span></span> <span data-ttu-id="cfb4a-257">Nehmen wir z.B. das folgenden URL-Fragment:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-257">For example, imagine the following URL fragment:</span></span>

`/testapp/Action.mvc/SomeAction`

<span data-ttu-id="cfb4a-258">In früheren Versionen von ASP.net haben **HttpRequest** -Eigenschaften die folgenden Werte:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-258">In earlier versions of ASP.NET, **HttpRequest** properties have the following values:</span></span>

<span data-ttu-id="cfb4a-259">**HttpRequest. FilePath**: `/testapp/Action.mvc/SomeAction`</span><span class="sxs-lookup"><span data-stu-id="cfb4a-259">**HttpRequest.FilePath**: `/testapp/Action.mvc/SomeAction`</span></span>

<span data-ttu-id="cfb4a-260">**HttpRequest. PathInfo**: (leer)</span><span class="sxs-lookup"><span data-stu-id="cfb4a-260">**HttpRequest.PathInfo**: (empty)</span></span>

<span data-ttu-id="cfb4a-261">In ASP.NET 4 haben die **HttpRequest** -Eigenschaften stattdessen die folgenden Werte:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-261">In ASP.NET 4, **HttpRequest** properties instead have the following values:</span></span>

<span data-ttu-id="cfb4a-262">**HttpRequest. FilePath**: `/testapp/Action.mvc`</span><span class="sxs-lookup"><span data-stu-id="cfb4a-262">**HttpRequest.FilePath**: `/testapp/Action.mvc`</span></span>

<span data-ttu-id="cfb4a-263">**HttpRequest. PathInfo**: `SomeAction`</span><span class="sxs-lookup"><span data-stu-id="cfb4a-263">**HttpRequest.PathInfo**: `SomeAction`</span></span>

<a id="0.1__Toc252995493"></a><a id="0.1__Toc255587642"></a><a id="0.1__Toc256770153"></a><a id="0.1__Toc245724861"></a>

## <a name="aspnet-20-applications-might-generate-httpexception-errors-that-reference-eurlaxd"></a><span data-ttu-id="cfb4a-264">ASP.NET 2,0-Anwendungen generieren möglicherweise HttpException-Fehler, die auf "EURL. axd" verweisen</span><span class="sxs-lookup"><span data-stu-id="cfb4a-264">ASP.NET 2.0 Applications Might Generate HttpException Errors that Reference eurl.axd</span></span>

<span data-ttu-id="cfb4a-265">Nachdem ASP.NET 4 für IIS 6 aktiviert wurde, generieren ASP.NET 2.0-Anwendungen, die auf IIS 6 (entweder unter Windows Server 2003 oder Windows Server 2003 R2) ausgeführt werden, möglicherweise Fehler wie den folgenden:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-265">After ASP.NET 4 has been enabled on IIS 6, ASP.NET 2.0 applications that run on IIS 6 (in either Windows Server 2003 or Windows Server 2003 R2) might generate errors such as the following:</span></span>

`System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`

<span data-ttu-id="cfb4a-266">Dieser Fehler tritt auf, weil ASP.net erkennt, dass eine Website für die Verwendung von ASP.NET 4 konfiguriert ist, eine native Komponente von ASP.NET 4 eine erweiterbare URL an den verwalteten Teil von ASP.net zur weiteren Verarbeitung übergibt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-266">This error occurs because when ASP.NET detects that a Web site is configured to use ASP.NET 4, a native component of ASP.NET 4 passes an extensionless URL to the managed portion of ASP.NET for further processing.</span></span> <span data-ttu-id="cfb4a-267">Wenn jedoch virtuelle Verzeichnisse unter einer ASP.NET 4-Website für die Verwendung von ASP.NET 2,0 konfiguriert sind, führt die Verarbeitung der Erweiterungs losen URL auf diese Weise zu einer geänderten URL, die die Zeichenfolge "EURL. axd" enthält.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-267">However, if virtual directories that are below an ASP.NET 4 Web site are configured to use ASP.NET 2.0, processing the extensionless URL in this way results in a modified URL that contains the string "eurl.axd".</span></span> <span data-ttu-id="cfb4a-268">Diese geänderte URL wird dann an die Anwendung ASP.NET 2,0 gesendet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-268">This modified URL is then sent to the ASP.NET 2.0 application.</span></span> <span data-ttu-id="cfb4a-269">ASP.NET 2,0 kann das Format "EURL. axd" nicht erkennen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-269">ASP.NET 2.0 cannot recognize the "eurl.axd" format.</span></span> <span data-ttu-id="cfb4a-270">Daher versucht ASP.NET 2,0, eine Datei namens `eurl.axd` zu finden und auszuführen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-270">Therefore, ASP.NET 2.0 tries to find a file named `eurl.axd` and execute it.</span></span> <span data-ttu-id="cfb4a-271">Da keine solche Datei vorhanden ist, schlägt die Anforderung mit einer **HttpException** -Ausnahme fehl.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-271">Because no such file exists, the request fails with an **HttpException** exception.</span></span>

<span data-ttu-id="cfb4a-272">Sie können dieses Problem umgehen, indem Sie eine der folgenden Optionen verwenden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-272">You can work around this issue using one of the following options.</span></span>

### <a name="option-1"></a><span data-ttu-id="cfb4a-273">Option 1:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-273">Option 1</span></span>

<span data-ttu-id="cfb4a-274">Wenn ASP.NET 4 nicht erforderlich ist, um die Website auszuführen, ordnen Sie die Website stattdessen der Verwendung von ASP.NET 2,0 zu.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-274">If ASP.NET 4 is not required in order to run the Web site, remap the site to use ASP.NET 2.0 instead.</span></span>

### <a name="option-2"></a><span data-ttu-id="cfb4a-275">Option 2:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-275">Option 2</span></span>

<span data-ttu-id="cfb4a-276">Wenn ASP.NET 4 erforderlich ist, um die Website auszuführen, verschieben Sie alle untergeordneten virtuellen Verzeichnisse ASP.NET 2,0 auf eine andere Website, die ASP.NET 2,0 zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-276">If ASP.NET 4 is required in order to run the Web site, move any child ASP.NET 2.0 virtual directories to a different Web site that is mapped to ASP.NET 2.0.</span></span>

### <a name="option-3"></a><span data-ttu-id="cfb4a-277">Option 3</span><span class="sxs-lookup"><span data-stu-id="cfb4a-277">Option 3</span></span>

<span data-ttu-id="cfb4a-278">Wenn es nicht praktikabel ist, die Website zu ASP.NET 2,0 neu zuzuordnen oder den Speicherort eines virtuellen Verzeichnisses zu ändern, deaktivieren Sie die Erweiterungs freie URL-Verarbeitung in ASP.NET 4 explizit.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-278">If it is not practical to remap the Web site to ASP.NET 2.0 or to change the location of a virtual directory, explicitly disable extensionless URL processing in ASP.NET 4.</span></span> <span data-ttu-id="cfb4a-279">Gehen Sie dazu wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-279">Use the following procedure:</span></span>

1. <span data-ttu-id="cfb4a-280">Öffnen Sie in der Windows-Registrierung den folgenden Knoten:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-280">In the Windows registry, open the following node:</span></span>

`HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0`

1. <span data-ttu-id="cfb4a-281">Erstellen Sie einen neuen **DWORD** -Wert mit dem Namen **enableextensionlessurls**.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-281">Create a new **DWORD** value named **EnableExtensionlessUrls**.</span></span>
2. <span data-ttu-id="cfb4a-282">Legen Sie **enableextensionlessurls** auf 0 fest.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-282">Set **EnableExtensionlessUrls** to 0.</span></span> <span data-ttu-id="cfb4a-283">Dadurch wird das URL-Verhalten ohne Erweiterungen deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-283">This disables extensionless URL behavior.</span></span>
3. <span data-ttu-id="cfb4a-284">Speichern Sie den Registrierungs Wert, und schließen Sie den Registrierungs-Editor.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-284">Save the registry value and close the registry editor.</span></span>
4. <span data-ttu-id="cfb4a-285">Führen Sie das Befehlszeilen Tool **iisreset** aus, das IIS dazu veranlasst, den neuen Registrierungs Wert zu lesen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-285">Run the **iisreset** command-line tool, which causes IIS to read the new registry value.</span></span>

> [!NOTE]
> <span data-ttu-id="cfb4a-286">Wenn **enableextensionlessurls** auf 1 festgelegt wird, wird das URL-Verhalten ohne Erweiterung aktiviert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-286">Setting **EnableExtensionlessUrls** to 1 enables extensionless URL behavior.</span></span> <span data-ttu-id="cfb4a-287">Dies ist die Standardeinstellung, wenn kein Wert angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-287">This is the default setting if no value is specified.</span></span>

<a id="0.1__Toc252995494"></a><a id="0.1__Toc255587643"></a><a id="0.1__Toc256770154"></a><a id="0.1__Toc245724862"></a>

## <a name="event-handlers-might-not-be-not-raised-in-a-default-document-in-iis-7-or-iis-75-integrated-mode"></a><span data-ttu-id="cfb4a-288">Ereignishandler werden möglicherweise nicht in einem Standarddokument in IIS 7 oder im integrierten IIS 7,5-Modus ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-288">Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode</span></span>

<span data-ttu-id="cfb4a-289">ASP.NET 4 enthält Änderungen, die ändern, wie das **Action** -Attribut des HTML- **Formular** Elements gerendert wird, wenn eine erweiterbare URL in ein Standarddokument aufgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-289">ASP.NET 4 includes modifications that change how the **action** attribute of the HTML **form** element is rendered when an extensionless URL resolves to a default document.</span></span> <span data-ttu-id="cfb4a-290">Ein Beispiel für eine erweiterbare URL, die in ein Standarddokument aufgelöst wird, wird [http://contoso.com/](http://contoso.com/), was zu einer Anforderung an [http://contoso.com/Default.aspx](http://contoso.com/Default.aspx)führt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-290">An example of an extensionless URL resolving to a default document would be [http://contoso.com/](http://contoso.com/), resulting in a request to [http://contoso.com/Default.aspx](http://contoso.com/Default.aspx).</span></span>

<span data-ttu-id="cfb4a-291">ASP.NET 4 rendert jetzt den **Aktions** Attribut Wert des HTML- **Formular** Elements als leere Zeichenfolge, wenn eine Anforderung an eine erweiterbare URL gerichtet ist, der ein Standarddokument zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-291">ASP.NET 4 now renders the HTML **form** element's **action** attribute value as an empty string when a request is made to an extensionless URL that has a default document mapped to it.</span></span> <span data-ttu-id="cfb4a-292">In früheren Versionen von ASP.net würde eine Anforderung an [http://contoso.com](http://contoso.com) z. b. zu einer Anforderung an `Default.aspx`führen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-292">For example, in earlier releases of ASP.NET, a request to [http://contoso.com](http://contoso.com) would result in a request to `Default.aspx`.</span></span> <span data-ttu-id="cfb4a-293">In diesem Dokument würde das öffnende **Formular** Tag wie im folgenden Beispiel gerendert werden:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-293">In that document, the opening **form** tag would be rendered as in the following example:</span></span>

`<form action="Default.aspx" />`

<span data-ttu-id="cfb4a-294">In ASP.NET 4 führt eine Anforderung an [http://contoso.com](http://contoso.com) auch zu einer Anforderung an `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-294">In ASP.NET 4, a request to [http://contoso.com](http://contoso.com) also results in a request to `Default.aspx`.</span></span> <span data-ttu-id="cfb4a-295">Allerdings rendert ASP.net jetzt das HTML-öffnende **Formular** Tag wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-295">However, ASP.NET now renders the HTML opening **form** tag as in the following example:</span></span>

`<form action="" />`

<span data-ttu-id="cfb4a-296">Dieser Unterschied, wie das **Action** -Attribut gerendert wird, kann zu geringfügigen Änderungen bei der Verarbeitung von Formular Post durch IIS und ASP.net führen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-296">This difference in how the **action** attribute is rendered can cause subtle changes in how a form post is processed by IIS and ASP.NET.</span></span> <span data-ttu-id="cfb4a-297">Wenn das **Action** -Attribut eine leere Zeichenfolge ist, erstellt das IIS **defaultdocumentmodule** -Objekt eine untergeordnete Anforderung zum `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-297">When the **action** attribute is an empty string, the IIS **DefaultDocumentModule** object will create a child request to `Default.aspx`.</span></span> <span data-ttu-id="cfb4a-298">Unter den meisten Bedingungen ist diese untergeordnete Anforderung für Anwendungscode transparent, und die `Default.aspx` Seite wird normal ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-298">Under most conditions, this child request is transparent to application code, and the `Default.aspx` page runs normally.</span></span>

<span data-ttu-id="cfb4a-299">Allerdings kann eine mögliche Interaktion zwischen verwaltetem Code und IIS 7 oder IIS 7.5 im integrierten Modus dazu führen, dass verwaltete ASPX-Seiten während der untergeordnete Anforderung nicht mehr ordnungsgemäß ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-299">However, a potential interaction between managed code and IIS 7 or IIS 7.5 Integrated mode can cause managed .aspx pages to stop working properly during the child request.</span></span> <span data-ttu-id="cfb4a-300">Wenn die folgenden Bedingungen eintreten, führt die untergeordnete Anforderung an ein `Default.aspx` Dokument zu einem Fehler oder unerwartetem Verhalten:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-300">If the following conditions occur, the child request to a `Default.aspx` document will result in an error or in unexpected behavior:</span></span>

1. <span data-ttu-id="cfb4a-301">Eine ASPX-Seite wird an den Browser gesendet, wobei das **Aktions** Attribut des **Formular** Elements auf "" festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-301">An .aspx page is sent to the browser with the **form** element's **action** attribute set to "".</span></span>
2. <span data-ttu-id="cfb4a-302">Das Formular wird zurück an ASP.NET gesendet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-302">The form is posted back to ASP.NET.</span></span>
3. <span data-ttu-id="cfb4a-303">Ein verwaltetes HTTP-Modul liest einen Teil des Entitäts Texts.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-303">A managed HTTP module reads some part of the entity body.</span></span> <span data-ttu-id="cfb4a-304">Beispielsweise liest ein Modul " **Request. Form** " oder " **Request. para**".</span><span class="sxs-lookup"><span data-stu-id="cfb4a-304">For example, a module reads **Request.Form** or **Request.Params**.</span></span> <span data-ttu-id="cfb4a-305">Aus diesem Grund wird der Einheitstextkörper der POST-Anforderung im verwalteten Arbeitsspeicher gelesen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-305">This causes the entity body of the POST request to be read into managed memory.</span></span> <span data-ttu-id="cfb4a-306">Der Einheitstextkörper ist daher nicht mehr für native Codemodule verfügbar, die in IIS 7 oder IIS 7.5 im integrierten Modus ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-306">As a result, the entity body is no longer available to any native code modules that are running in IIS 7 or IIS 7.5 Integrated mode.</span></span>
4. <span data-ttu-id="cfb4a-307">Das IIS **defaultdocumentmodule** -Objekt wird schließlich ausgeführt, und es wird eine untergeordnete Anforderung an das `Default.aspx` Dokument erstellt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-307">The IIS **DefaultDocumentModule** object eventually runs and creates a child request to the `Default.aspx` document.</span></span> <span data-ttu-id="cfb4a-308">Da der Einheitstextkörper bereits von verwaltetem Code gelesen wurde, kann kein Einheitstextkörper an die untergeordnete Anforderung gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-308">However, because the entity body has already been read by a piece of managed code, there is no entity body available to send to the child request.</span></span>
5. <span data-ttu-id="cfb4a-309">Wenn die HTTP-Pipeline für die untergeordnete Anforderung ausgeführt wird, wird der Handler für `.aspx` Dateien während der handlerausführungs-Phase ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-309">When the HTTP pipeline runs for the child request, the handler for `.aspx` files runs during the handler-execute phase.</span></span>
6. <span data-ttu-id="cfb4a-310">Da es keinen entitätentext gibt, gibt es keine Formularvariablen und keinen Ansichts Zustand. Daher sind keine Informationen für den. aspx-Seiten Handler verfügbar, um zu bestimmen, welches Ereignis (sofern vorhanden) ausgelöst werden soll.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-310">Because there is no entity body, there are no form variables and no view state, and therefore no information is available for the .aspx page handler to determine what event (if any) is supposed to be raised.</span></span> <span data-ttu-id="cfb4a-311">Daher werden keine Postback-Ereignishandler für die betroffene ASPX-Seite ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-311">As a result, none of the postback event handlers for the affected .aspx page run.</span></span>

<span data-ttu-id="cfb4a-312">Sie können dieses Verhalten auf folgende Weise umgehen:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-312">You can work around this behavior in the following ways:</span></span>

- <span data-ttu-id="cfb4a-313">Identifizieren Sie das HTTP-Modul, das bei Standarddokument Anforderungen auf den Entitäts Text der Anforderung zugreift, und legen Sie fest, ob es für die nur für verwaltete Anforderungen ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-313">Identify the HTTP module that is accessing the request's entity body during default document requests and determine whether it can be configured to run only for managed requests.</span></span> <span data-ttu-id="cfb4a-314">Im integrierten Modus für IIS 7 und IIS 7,5 können HTTP-Module so gekennzeichnet werden, dass Sie nur für verwaltete Anforderungen ausgeführt werden, indem das folgende Attribut dem **System. Webserver/modules** -Eintrag des Moduls hinzugefügt wird:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-314">In Integrated mode for both IIS 7 and IIS 7.5, HTTP modules can be marked to run only for managed requests by adding the following attribute to the module's **system.webServer/modules** entry:</span></span>

- `precondition="managedHandler"`

- <span data-ttu-id="cfb4a-315">Mit dieser Einstellung wird das Modul für Anforderungen deaktiviert, die von IIS 7 und IIS 7,5 als nicht verwaltete Anforderungen festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-315">This setting disables the module for requests that IIS 7 and IIS 7.5 determine as not being managed requests.</span></span> <span data-ttu-id="cfb4a-316">Bei Standarddokument Anforderungen erfolgt die erste Anforderung an eine erweiterbare URL.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-316">For default document requests, the first request is to an extensionless URL.</span></span> <span data-ttu-id="cfb4a-317">Daher führt IIS keine verwalteten Module aus, die während der anfänglichen Anforderungs Verarbeitung mit einer Vorbedingung des verwalteten Handlers gekennzeichnet sind.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-317">Therefore, IIS does not run any managed modules that are marked with a precondition of managed Handler during initial request processing.</span></span> <span data-ttu-id="cfb4a-318">Daher wird der Entitäts Text von verwalteten Modulen nicht versehentlich gelesen. Folglich ist der Entitäts Text weiterhin verfügbar und wird an die untergeordnete Anforderung und an das Standarddokument weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-318">As a result, managed modules will not accidentally read the entity body and thus the entity body is still available and is passed along to the child request and to the default document.</span></span>

- <span data-ttu-id="cfb4a-319">Wenn die problematischen HTTP-Module für alle Anforderungen (bei statischen Dateien für erweiterbare URLs, die in das **defaultdocumentmodule** -Objekt aufgelöst werden, für verwaltete Anforderungen usw.) ausgeführt werden müssen, ändern Sie die betroffenen ASPX-Seiten, indem Sie die **Action** -Eigenschaft des **System. Web. UI. HtmlControls**</span><span class="sxs-lookup"><span data-stu-id="cfb4a-319">If the problematic HTTP modules have to run for all requests (for static files, for extensionless URLs that resolve to the **DefaultDocumentModule** object, for managed requests, etc.), modify the affected .aspx pages by explicitly setting the **Action** property of the page's **System.Web.UI.HtmlControls.HtmlForm** control to a non-empty string.</span></span> <span data-ttu-id="cfb4a-320">Wenn das Standarddokument beispielsweise `Default.aspx`ist, ändern Sie den Code der Seite, um die **Action** -Eigenschaft des **HtmlForm** -Steuer Elements explizit auf "default. aspx" festzulegen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-320">For example, if the default document is `Default.aspx`, modify the page's code to explicitly set the **HtmlForm** control's **Action** property to "Default.aspx".</span></span>

<a id="0.1__Toc255587644"></a><a id="0.1__Toc256770155"></a>

## <a name="changes-to-the-aspnet-code-access-security-cas-implementation"></a><span data-ttu-id="cfb4a-321">Änderungen an der Implementierung der ASP.NET-Code Zugriffssicherheit (CAS)</span><span class="sxs-lookup"><span data-stu-id="cfb4a-321">Changes to the ASP.NET Code Access Security (CAS) Implementation</span></span>

<span data-ttu-id="cfb4a-322">ASP.NET 2,0 und durch Erweiterung die ASP.NET-Features, die in 3,5 hinzugefügt wurden, verwenden das .NET Framework 1,1-und 2,0-Code Zugriffs Sicherheitsmodell (CAS).</span><span class="sxs-lookup"><span data-stu-id="cfb4a-322">ASP.NET 2.0, and by extension the ASP.NET features that were added in 3.5, use the .NET Framework 1.1 and 2.0 code access security (CAS) model.</span></span> <span data-ttu-id="cfb4a-323">Die Implementierung von CAS wurde in ASP.NET 4 aber erheblich überholt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-323">However, the implementation of CAS in ASP.NET 4 has been substantially overhauled.</span></span> <span data-ttu-id="cfb4a-324">Demzufolge können teilweise vertrauenswürdige ASP.NET-Anwendungen, die auf vertrauenswürdigem Code basieren, der im globalen Assemblycache (GAC) ausgeführt wird, mit verschiedenen Sicherheits Ausnahmen fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-324">As a result, partial-trust ASP.NET applications that rely on trusted code running in the global assembly cache (GAC) might fail with various security exceptions.</span></span> <span data-ttu-id="cfb4a-325">Teilweise vertrauenswürdige Anwendungen, die umfangreiche Änderungen an der Richtlinie für die Computer Zertifizierungsstellen benötigen, können auch mit Sicherheits Ausnahmen fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-325">Partial-trust applications that rely on extensive modifications to machine CAS policy might also fail with security exceptions.</span></span>

<span data-ttu-id="cfb4a-326">Sie können teilweise vertrauenswürdige ASP.NET 4-Anwendungen auf das Verhalten von ASP.NET 1,1 und 2,0 zurücksetzen, indem Sie das neue **legacycasmodel** -Attribut im **Trust** Configuration-Element verwenden, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-326">You can revert partial-trust ASP.NET 4 applications to the behavior of ASP.NET 1.1 and 2.0 using the new **legacyCasModel** attribute in the **trust** configuration element, as shown in the following example:</span></span>

`<trust level= "Medium" legacyCasModel="true" />`

<span data-ttu-id="cfb4a-327">Wenn Sie das Legacy-CAS-Modell zurücksetzen, sind die folgenden alten CAS-Verhaltensweisen aktiviert:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-327">When you revert to the legacy CAS model, the following old CAS behaviors are enabled:</span></span>

- <span data-ttu-id="cfb4a-328">Die Computer-CAS-Richtlinie wird berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-328">Machine CAS policy is honored.</span></span>
- <span data-ttu-id="cfb4a-329">Mehrere verschiedene Berechtigungs Sätze in einer einzelnen Anwendungsdomäne sind zulässig.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-329">Multiple different permission sets in a single application domain are allowed.</span></span>
- <span data-ttu-id="cfb4a-330">Explizite Berechtigungs Assertionen sind nicht für Assemblys im GAC erforderlich, die aufgerufen werden, wenn sich nur ASP.net oder ein anderer .NET Framework Code im Stapel befindet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-330">Explicit permission assertions are not required for assemblies in the GAC that are invoked when only ASP.NET or other .NET Framework code is on the stack.</span></span>

<span data-ttu-id="cfb4a-331">Ein Szenario kann in der .NET Framework 4 nicht wieder hergestellt werden: nicht-Webanwendungen mit teilweiser Vertrauenswürdigkeit können bestimmte APIs in "System. Web. dll" und "System. Web. Extensions. dll" nicht mehr abrufen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-331">One scenario cannot be reverted in the .NET Framework 4: non-Web partial-trust applications can no longer call certain APIs in System.Web.dll and System.Web.Extensions.dll.</span></span> <span data-ttu-id="cfb4a-332">In früheren Versionen der .NET Framework war es möglich, dass nicht-Webanwendungen mit teilweiser Vertrauenswürdigkeit explizit **aspnetthostingberechtigungs** Berechtigungen erteilt wurden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-332">In previous versions of the .NET Framework, it was possible for non-Web partial-trust applications to be explicitly granted **AspNetHostingPermission** permissions.</span></span> <span data-ttu-id="cfb4a-333">Diese Anwendungen können dann **System. Web. HttpUtility**, Typen in den **System. Web. Client Services.\*** -Namespaces und Typen verwenden, die mit der Mitgliedschaft, den Rollen und Profilen verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-333">These applications could then use **System.Web.HttpUtility**, types in the **System.Web.ClientServices.\*** namespaces, and types related to membership, roles, and profiles.</span></span> <span data-ttu-id="cfb4a-334">Das Aufrufen dieser Typen aus nicht-Webanwendungen mit teilweiser Vertrauenswürdigkeit wird in den .NET Framework 4 nicht mehr unterstützt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-334">Calling these types from non-Web partial trust applications is no longer supported in the .NET Framework 4.</span></span>

> [!NOTE]
> <span data-ttu-id="cfb4a-335">Die Funktionen **HtmlEncode** und **HtmlDecode** der **System. Web. HttpUtility** -Klasse wurden in die neue **System .net. WebUtility** -Klasse von .NET Framework 4 verschoben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-335">The **HtmlEncode** and **HtmlDecode** functionality of the **System.Web.HttpUtility** class was moved to the new .NET Framework 4 **System.Net.WebUtility** class.</span></span> <span data-ttu-id="cfb4a-336">Wenn dies die einzige ASP.NET-Funktionalität war, die verwendet wurde, ändern Sie den Code der Anwendung so, dass stattdessen die neue **WebUtility** -Klasse verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-336">If that was the only ASP.NET functionality that was being used, modify the application's code to use the new **WebUtility** class instead.</span></span>

<span data-ttu-id="cfb4a-337">Im folgenden finden Sie eine allgemeine Zusammenfassung der Änderungen an der standardmäßigen CAS-Implementierung in ASP.NET 4:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-337">The following is a high-level summary of the changes to the default CAS implementation in ASP.NET 4:</span></span>

- <span data-ttu-id="cfb4a-338">ASP.NET Anwendungs Domänen sind nun homogene Anwendungs Domänen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-338">ASP.NET application domains are now homogeneous application domains.</span></span> <span data-ttu-id="cfb4a-339">In einer Anwendungsdomäne sind nur teilweise vertrauenswürdige und voll vertrauenswürdige Grant Sets verfügbar.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-339">Only partial-trust and full-trust grant sets are available in an application domain.</span></span>
- <span data-ttu-id="cfb4a-340">ASP.net-Zuweisungs Sätze mit teilweiser Vertrauenswürdigkeit sind von allen CAS-Richtlinien auf Unternehmensebene, auf Computer Ebene oder auf Benutzerebene unabhängig.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-340">ASP.NET partial-trust grant sets are independent from any enterprise-level, machine-level, or user-level CAS policy.</span></span>
- <span data-ttu-id="cfb4a-341">ASP.NET-Assemblys, die in 3,5 und 3,5 SP1 ausgeliefert wurden, wurden konvertiert, um das .NET Framework 4-Transparenz Modell zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-341">ASP.NET assemblies that shipped in 3.5 and 3.5 SP1 have been converted to use the .NET Framework 4 transparency model.</span></span>
- <span data-ttu-id="cfb4a-342">Die Verwendung des ASP.net **asparthostingberechtigung** -Attributs wurde erheblich reduziert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-342">Use of the ASP.NET **AspNetHostingPermission** attribute has been substantially reduced.</span></span> <span data-ttu-id="cfb4a-343">Die meisten Instanzen dieses Attributs wurden aus den öffentlichen ASP.NET-APIs entfernt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-343">Most instances of this attribute have been removed from the public ASP.NET APIs.</span></span>
- <span data-ttu-id="cfb4a-344">Dynamisch kompilierte Assemblys, die von ASP.net Build-Anbietern erstellt wurden, wurden aktualisiert, um Assemblys explizit als transparent zu markieren</span><span class="sxs-lookup"><span data-stu-id="cfb4a-344">Dynamically compiled assemblies that are created by ASP.NET build providers have been updated to explicitly mark assemblies as transparent.</span></span>
- <span data-ttu-id="cfb4a-345">Alle ASP.NET-Assemblys sind nun so gekennzeichnet, dass das APTCA-Attribut nur in Webhostingumgebungen berücksichtigt wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-345">All ASP.NET assemblies are now marked in such a way that the APTCA attribute is honored only in Web hosting environments.</span></span> <span data-ttu-id="cfb4a-346">Teilweise vertrauenswürdige nicht-Webhostingumgebungen wie ClickOnce können nicht in ASP.NET-Assemblys aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-346">Partially trusted non-Web hosting environments like ClickOnce will not be able to call into ASP.NET assemblies.</span></span>

<span data-ttu-id="cfb4a-347">Weitere Informationen zum neuen ASP.NET 4-Code Zugriffs Sicherheitsmodell finden Sie unter [Verwenden der Code Zugriffssicherheit in ASP.NET-Anwendungen](https://msdn.microsoft.com/library/dd984947%28VS.100%29.aspx) auf der MSDN-Website.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-347">For more information about the new ASP.NET 4 code access security model, see [Using Code Access Security in ASP.NET Applications](https://msdn.microsoft.com/library/dd984947%28VS.100%29.aspx) on the MSDN Web site.</span></span>

<a id="0.1__Toc256770156"></a><a id="0.1__Toc245724863"></a><a id="0.1__Toc252995496"></a><a id="0.1__Toc255587645"></a><a id="0.1__Toc245724864"></a>

## <a name="membershipuser-and-other-types-in-the-systemwebsecurity-namespace-have-been-moved"></a><span data-ttu-id="cfb4a-348">Mitgliedshipuser und andere Typen im System. Web. Security-Namespace wurden verschoben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-348">MembershipUser and Other Types in the System.Web.Security Namespace Have Been Moved</span></span>

<span data-ttu-id="cfb4a-349">Einige Typen, die in der ASP.NET-Mitgliedschaft verwendet werden, wurden aus `System.Web.dll` in die neue Assembly "System. Web. ApplicationServices. dll" verschoben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-349">Some types that are used in ASP.NET membership have been moved from `System.Web.dll` to the new System.Web.ApplicationServices.dll assembly.</span></span> <span data-ttu-id="cfb4a-350">So sollten architektonische Schichtabhängigkeiten zwischen Typen im Client und erweiterten .NET Framework-SKUs gelöst werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-350">The types were moved in order to resolve architectural layering dependencies between types in the client and in extended .NET Framework SKUs.</span></span>

<span data-ttu-id="cfb4a-351">Website Projekte haben aufgrund der Verschiebung dieser Typen keine Probleme, da "System. Web. ApplicationServices. dll" der Liste der referenzierten Assemblys hinzugefügt wurde, die standardmäßig vom ASP.net-Kompilierungs System verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-351">Web site projects do not have problems as a result of moving these types, because System.Web.ApplicationServices.dll was added to the list of referenced assemblies that is used by default by the ASP.NET compilation system.</span></span> <span data-ttu-id="cfb4a-352">Wenn Sie ein-Website Projekt, das mit einer früheren Version von ASP.NET erstellt wurde, auf ASP.NET 4 aktualisieren, indem Sie es in Visual Studio 2010 öffnen, wird das Projekt ohne Fehler kompiliert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-352">If you upgrade a Web site project that was created using an earlier version of ASP.NET to ASP.NET 4 by opening it in Visual Studio 2010, the project will compile without errors.</span></span>

<span data-ttu-id="cfb4a-353">Wenn Sie ein Webanwendungs Projekt, das in einer früheren Version von ASP.NET erstellt wurde, auf ASP.NET 4 aktualisieren, indem Sie es in Visual Studio 2010 öffnen, fügt der Upgradevorgang dem Projekt einen Verweis auf "System. Web. ApplicationServices. dll" hinzu.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-353">Similarly, if you upgrade a Web application project that was created in an earlier version of ASP.NET to ASP.NET 4 by opening it in Visual Studio 2010, the upgrade process adds a reference to System.Web.ApplicationServices.dll to the project.</span></span> <span data-ttu-id="cfb4a-354">Daher werden aktualisierte Webanwendungs Projekte auch ohne Fehler kompiliert.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-354">Therefore, upgraded Web application projects will also compile without errors.</span></span>

<span data-ttu-id="cfb4a-355">Kompilierte (binäre) Dateien, die mit früheren Versionen von ASP.NET erstellt wurden, werden auch ohne Fehler auf ASP.NET 4 ausgeführt, auch wenn die Mitgliedschafts Typen in eine andere Assembly verschoben wurden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-355">Compiled (binary) files that were created using earlier versions of ASP.NET will also run without errors on ASP.NET 4, even though the membership types were moved to a different assembly.</span></span> <span data-ttu-id="cfb4a-356">Die Informationen zur Typweiterleitung wurden der ASP.NET 4-Version von `System.Web.dll` hinzugefügt, die automatisch Lauf Zeit Verweise für diese Typen an den neuen Speicherort für die Typen weiterleitet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-356">Type forwarding information has been added to the ASP.NET 4 version of `System.Web.dll` that automatically routes run-time references for these types to the new location for the types.</span></span>

<span data-ttu-id="cfb4a-357">Klassenbibliotheken, die bestimmte Mitgliedschafts Typen verwenden und die von früheren Versionen von ASP.NET aktualisiert wurden, können jedoch nicht kompiliert werden, wenn Sie in einem ASP.NET 4-Projekt verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-357">However, class libraries that use specific membership types and that have been upgraded from earlier versions of ASP.NET will fail to compile when used in an ASP.NET 4 project.</span></span> <span data-ttu-id="cfb4a-358">Beispielsweise kann ein Klassen Bibliotheksprojekt möglicherweise nicht kompiliert werden, und es wird ein Fehler wie der folgende gemeldet:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-358">For example, a class library project might fail to compile and report an error such as the following:</span></span>

- `The type 'System.Web.Security.MembershipUser' is defined in an assembly that is not referenced. You must add a reference to assembly 'System.Web.ApplicationServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'.`

- `The type name 'MembershipUser' could not be found. This type has been forwarded to assembly 'System.Web.ApplicationServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'. Consider adding a reference to that assembly.`

<span data-ttu-id="cfb4a-359">Sie können dieses Problem umgehen, indem Sie dem Klassen Bibliotheksprojekt einen Verweis auf "System. Web. ApplicationServices. dll" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-359">You can work around this problem by adding a reference in your class library project to System.Web.ApplicationServices.dll.</span></span>

<span data-ttu-id="cfb4a-360">In der folgenden Liste sind die *System. Web. Security* -Typen aufgeführt, die von `System.Web.dll` in System. Web. ApplicationServices. dll verschoben wurden:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-360">The following list shows the *System.Web.Security* types that were moved from `System.Web.dll` to System.Web.ApplicationServices.dll:</span></span>

- <span data-ttu-id="cfb4a-361">*System. Web. Security. Membership shipkreatestatus*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-361">*System.Web.Security.MembershipCreateStatus*</span></span>
- <span data-ttu-id="cfb4a-362">*System. Web. Security. Membership. kreateuserexception*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-362">*System.Web.Security.Membership.CreateUserException*</span></span>
- <span data-ttu-id="cfb4a-363">*System. Web. Security. Membership shippasswordexception*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-363">*System.Web.Security.MembershipPasswordException*</span></span>
- <span data-ttu-id="cfb4a-364">*System. Web. Security. Membership shippasswordformat*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-364">*System.Web.Security.MembershipPasswordFormat*</span></span>
- <span data-ttu-id="cfb4a-365">*System. Web. Security. Membership shipprovider*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-365">*System.Web.Security.MembershipProvider*</span></span>
- <span data-ttu-id="cfb4a-366">*System. Web. Security. Membership shipprovidercollection*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-366">*System.Web.Security.MembershipProviderCollection*</span></span>
- <span data-ttu-id="cfb4a-367">*System. Web. Security. Membership shipuser*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-367">*System.Web.Security.MembershipUser*</span></span>
- <span data-ttu-id="cfb4a-368">*System. Web. Security. Membership shipusercollection*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-368">*System.Web.Security.MembershipUserCollection*</span></span>
- <span data-ttu-id="cfb4a-369">*System. Web. Security. mitgliedshipvalidatepassworreventhandler*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-369">*System.Web.Security.MembershipValidatePasswordEventHandler*</span></span>
- <span data-ttu-id="cfb4a-370">*System. Web. Security. validatepassworabventargs*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-370">*System.Web.Security.ValidatePasswordEventArgs*</span></span>
- <span data-ttu-id="cfb4a-371">*System. Web. Security. RoleProvider*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-371">*System.Web.Security.RoleProvider*</span></span>
- <a id="0.1_a"></a><span data-ttu-id="cfb4a-372">*System. Web. Configuration. mitgliedshippasswordcompatibilitymode*</span><span class="sxs-lookup"><span data-stu-id="cfb4a-372">*System.Web.Configuration.MembershipPasswordCompatibilityMode*</span></span>

<a id="0.1__Toc256770157"></a>

## <a name="output-caching-changes-to-vary--http-header"></a><span data-ttu-id="cfb4a-373">Änderungen der Ausgabe Zwischenspeicherung, um \* HTTP-Header variieren</span><span class="sxs-lookup"><span data-stu-id="cfb4a-373">Output Caching Changes to Vary \* HTTP Header</span></span>

<span data-ttu-id="cfb4a-374">In ASP.NET 1,0 verursachte ein Bug zwischengespeicherten Seiten, die `Location="ServerAndClient"` als Output – Cache-Einstellung angegeben haben, um einen `Vary:*`-HTTP-Header in der Antwort auszugeben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-374">In ASP.NET 1.0, a bug caused cached pages that specified `Location="ServerAndClient"` as an output–cache setting to emit a `Vary:*` HTTP header in the response.</span></span> <span data-ttu-id="cfb4a-375">So wurde Clientbrowsern mitgeteilt, dass Seiten nie lokal zwischengespeichert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-375">This had the effect of telling client browsers to never cache the page locally.</span></span>

<span data-ttu-id="cfb4a-376">In ASP.NET 1,1 wurde die \**System. Web. HttpCachePolicy. *-** Methode hinzugefügt, die aufgerufen werden konnte, um den `Vary:*`-Header zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-376">In ASP.NET 1.1, the **System.Web.HttpCachePolicy.SetOmitVaryStar** method was added, which you could call to suppress the `Vary:*` header.</span></span> <span data-ttu-id="cfb4a-377">Diese Methode wurde ausgewählt, weil das Ändern des ausgegebenen HTTP-Headers zu diesem Zeitpunkt als potenziell Breaking Change galt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-377">This method was chosen because changing the emitted HTTP header was considered a potentially breaking change at the time.</span></span> <span data-ttu-id="cfb4a-378">Entwickler sind jedoch durch das Verhalten in ASP.net verwirrt worden, und Fehlerberichte deuten darauf hin, dass Entwickler **das vorhandene Verhalten** von "" "" "" "" "" "" "" "" "</span><span class="sxs-lookup"><span data-stu-id="cfb4a-378">However, developers have been confused by the behavior in ASP.NET, and bug reports suggest that developers are unaware of the existing **SetOmitVaryStar** behavior.</span></span>

<span data-ttu-id="cfb4a-379">In ASP.NET 4 wurde die Entscheidung getroffen, das Problem zu beheben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-379">In ASP.NET 4, the decision was made to fix the root problem.</span></span> <span data-ttu-id="cfb4a-380">Der `Vary:*`-HTTP-Header wird nicht mehr von Antworten ausgegeben, die die folgende Direktive angeben:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-380">The `Vary:*` HTTP header is no longer emitted from responses that specify the following directive:</span></span>

`<%@OutputCache Location="ServerAndClient" %>`

<span data-ttu-id="cfb4a-381">Daher wird **setmitvarystar** nicht mehr benötigt, um den `Vary:*`-Header zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-381">As a result, **SetOmitVaryStar** is no longer needed in order to suppress the `Vary:*` header.</span></span>

<span data-ttu-id="cfb4a-382">In Anwendungen, die `Location="ServerAndClient"` in der **@ OutputCache** -Direktive auf einer Seite angeben, sehen Sie nun das Verhalten, das durch den Namen des **Location** -Attribut Werts impliziert wird – das heißt, dass Seiten im Browser zwischengespeichert werden können, ohne dass **Sie die Methode** "" der Methode "" mit dem Namen "" aufrufen müssen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-382">In applications that specify `Location="ServerAndClient"` in the **@ OutputCache** directive on a page, you will now see the behavior implied by the name of the **Location** attribute's value – that is, pages will be cacheable in the browser without requiring that you call the **SetOmitVaryStar** method.</span></span>

<span data-ttu-id="cfb4a-383">Wenn die Seiten in der Anwendung `Vary:*`ausgeben müssen, wenden Sie die **Appendheader** -Methode wie im folgenden Beispiel an:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-383">If pages in your application must emit `Vary:*`, call the **AppendHeader** method, as in the following example:</span></span>

`HttpResponse.AppendHeader("Vary","*");`

<span data-ttu-id="cfb4a-384">Alternativ können Sie den Wert **des Attributs** für das Ausgabe Zwischenspeichern in "Server" ändern.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-384">Alternatively, you can change the value of the output caching **Location** attribute to "Server".</span></span>

<a id="0.1__Toc255587646"></a><a id="0.1__Toc256770158"></a>

## <a name="systemwebsecurity-types-for-passport-are-obsolete"></a><span data-ttu-id="cfb4a-385">System. Web. Sicherheits Typen für Passport sind veraltet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-385">System.Web.Security Types for Passport are Obsolete</span></span>

<span data-ttu-id="cfb4a-386">Die in ASP.NET 2,0 integrierte Passport-Unterstützung ist seit einigen Jahren veraltet und wird aufgrund von Änderungen in Passport (now LiveID) nicht mehr unterstützt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-386">The Passport support built into ASP.NET 2.0 has been obsolete and unsupported for a few years due to changes in Passport (now LiveID).</span></span> <span data-ttu-id="cfb4a-387">Folglich sind die fünf Typen, die sich auf Passport in **System. Web. Security** beziehen, jetzt mit dem **ObsoleteAttribute** -Attribut gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-387">As a result, the five types related to Passport in **System.Web.Security** are now marked with the **ObsoleteAttribute** attribute.</span></span>

<a id="0.1__The_MenuItem.PopOutImageUrl_Propert"></a><a id="0.1__Toc256770159"></a>

## <a name="the-menuitempopoutimageurl-property-fails-to-render-an-image-in-aspnet-4"></a><span data-ttu-id="cfb4a-388">Die MenuItem. PopOutImageUrl-Eigenschaft kann ein Bild in ASP.NET 4 nicht Rendering</span><span class="sxs-lookup"><span data-stu-id="cfb4a-388">The MenuItem.PopOutImageUrl Property Fails to Render an Image in ASP.NET 4</span></span>

<span data-ttu-id="cfb4a-389">In ASP.NET 3,5 können Sie mit der Eigenschaft *MenuItem. PopOutImageUrl* die URL für ein Bild angeben, das in einem Menü Element angezeigt wird, um anzugeben, dass das Menü Element über ein dynamisches Untermenü verfügt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-389">In ASP.NET 3.5, the *MenuItem.PopOutImageUrl* property lets you specify the URL for an image that is displayed in a menu item to indicate that the menu item has a dynamic submenu.</span></span> <span data-ttu-id="cfb4a-390">Im folgenden Beispiel wird gezeigt, wie Sie diese Eigenschaft im Markup in ASP.NET 3,5 angeben.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-390">The following example shows how to specify this property in markup in ASP.NET 3.5.</span></span>

[!code-aspx[Main](breaking-changes/samples/sample11.aspx)]

<span data-ttu-id="cfb4a-391">Aufgrund einer Entwurfs Änderung in ASP.NET 4 wird keine Ausgabe für die *PopOutImageUrl* gerendert, wenn die Eigenschaft für die *MenuItem* -Klasse festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-391">As a result of a design change in ASP.NET 4, no output is rendered for the *PopOutImageUrl* if the property is set for the *MenuItem* class.</span></span> <span data-ttu-id="cfb4a-392">Stattdessen müssen Sie eine Bild-URL direkt im *Menü* Steuerelement angeben, indem Sie entweder die *StaticPopOutImageUrl* -Eigenschaft oder die *DynamicPopOutImageUrl* -Eigenschaft verwenden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-392">Instead, you must specify an image URL directly in the *Menu* control using either the *StaticPopOutImageUrl* property or the *DynamicPopOutImageUrl* property.</span></span> <span data-ttu-id="cfb4a-393">Wenn Sie mit einem statischen Menü arbeiten, gibt die Eigenschaft *Menu. StaticPopOutImageUrl* die URL für ein Bild an, das angezeigt wird, um anzugeben, dass das statische Menü Element über ein Untermenü verfügt, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-393">When you work with a static menu, the *Menu.StaticPopOutImageUrl* property specifies the URL for an image that is displayed in order to indicate that the static menu item has a submenu, as shown in the following example:</span></span>

[!code-aspx[Main](breaking-changes/samples/sample12.aspx)]

<span data-ttu-id="cfb4a-394">Wenn Sie mit einem dynamischen Menü arbeiten, verwenden Sie die *Menü. DynamicPopOutImageUrl* -Eigenschaft, um die URL für ein Bild anzugeben, das angibt, dass ein dynamisches Menü Element über ein Untermenü verfügt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-394">If you are working with a dynamic menu, you use the *Menu.DynamicPopOutImageUrl* property to specify the URL for an image that indicates that a dynamic menu item has a submenu.</span></span> <span data-ttu-id="cfb4a-395">Das folgende Beispiel ähnelt dem vorherigen, zeigt jedoch, wie die *DynamicPopOutImageUrl* -Eigenschaft für ein dynamisches Menü festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-395">The following example is similar to the previous one, but shows how to set the *DynamicPopOutImageUrl* property for a dynamic menu.</span></span>

[!code-aspx[Main](breaking-changes/samples/sample13.aspx)]

<span data-ttu-id="cfb4a-396">Wenn die Eigenschaft *Menu. DynamicPopOutImageUrl* nicht festgelegt ist und die Eigenschaft *Menu. DynamicEnableDefaultPopOutImage* auf *false*festgelegt ist, wird kein Bild angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-396">If the *Menu.DynamicPopOutImageUrl* property is not set and the *Menu.DynamicEnableDefaultPopOutImage* property is set to *false*, no image is displayed.</span></span> <span data-ttu-id="cfb4a-397">Wenn die Eigenschaft *StaticPopOutImageUrl* nicht festgelegt ist und die Eigenschaft *StaticEnableDefaultPopOutImage* auf *false*festgelegt ist, wird kein Bild angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-397">Similarly, if the *StaticPopOutImageUrl* property is not set and the *StaticEnableDefaultPopOutImage* property is set to *false*, no image is displayed.</span></span>

<span data-ttu-id="cfb4a-398">Wenn Sie die Pfade für diese Eigenschaften festlegen, verwenden Sie einen Schrägstrich (/) anstelle eines umgekehrten Schrägstrichs (\).</span><span class="sxs-lookup"><span data-stu-id="cfb4a-398">When you set the paths for these properties, use a forward slash (/) instead of a backslash (\).</span></span> <span data-ttu-id="cfb4a-399">Weitere Informationen finden Sie unter [Menu. StaticPopOutImageUrl und Menu. DynamicPopOutImageUrl Fehler beim Rendering von Bildern, wenn Pfade](#0.1__Menu.StaticPopOutImageUrl_and_Menu. "_Menu. StaticPopOutImageUrl_and_Menu.") andere Links in diesem Dokument enthalten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-399">For more information, see [Menu.StaticPopOutImageUrl and Menu.DynamicPopOutImageUrl Fail to Render Images When Paths Contain Backslashes](#0.1__Menu.StaticPopOutImageUrl_and_Menu. "_Menu.StaticPopOutImageUrl_and_Menu.") elsewhere in this document.</span></span>

<a id="0.1__Menu.StaticPopOutImageUrl_and_Menu."></a><a id="0.1__Toc256770160"></a>

## <a name="menustaticpopoutimageurl-and-menudynamicpopoutimageurl-fail-to-render-images-when-paths-contain-backslashes"></a><span data-ttu-id="cfb4a-400">"Menu. StaticPopOutImageUrl" und "Menu. DynamicPopOutImageUrl" können keine Bilder darstellen, wenn Pfade umgekehrte Schrägstriche enthalten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-400">Menu.StaticPopOutImageUrl and Menu.DynamicPopOutImageUrl Fail to Render Images When Paths Contain Backslashes</span></span>

<span data-ttu-id="cfb4a-401">In ASP.NET 4 werden die Bilder, die Sie mithilfe der Eigenschaften " *Menu. StaticPopOutImageUrl* " und " *Menu. DynamicPopOutImageUrl* " angeben, nicht angezeigt, wenn der Pfad Rück Striche (\)enthält.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-401">In ASP.NET 4, the images that you specify using the *Menu.StaticPopOutImageUrl* and *Menu.DynamicPopOutImageUrl* properties will not render if the path contains backlashes (\).</span></span> <span data-ttu-id="cfb4a-402">Dies ist eine Änderung gegenüber früheren Versionen von ASP.net.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-402">This is a change from earlier versions of ASP.NET.</span></span>

<span data-ttu-id="cfb4a-403">Im folgenden Beispiel für *Menü* Steuerelement Markup wird die *StaticPopOutImageUrl* -Eigenschaft mit einem Pfad mit einem umgekehrten Schrägstrich angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-403">The following example of *Menu* control markup shows the *StaticPopOutImageUrl* property set using a path that contains a backslash.</span></span> <span data-ttu-id="cfb4a-404">In ASP.NET 4 wird das in der-Eigenschaft angegebene Bild nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-404">In ASP.NET 4, the image specified in the property will not render.</span></span>

[!code-aspx[Main](breaking-changes/samples/sample14.aspx)]

<span data-ttu-id="cfb4a-405">Um dieses Problem zu beheben, ändern Sie in den Eigenschaften *StaticPopOutImageUrl* und *DynamicPopOutImageUrl* angegebene Pfad Werte, um Schrägstriche (/) zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-405">To correct this issue, change path values that are specified in the *StaticPopOutImageUrl* and *DynamicPopOutImageUrl* properties to use forward slashes (/).</span></span> <span data-ttu-id="cfb4a-406">Das folgende Beispiel zeigt diese Änderung:</span><span class="sxs-lookup"><span data-stu-id="cfb4a-406">The following example shows this change:</span></span>

[!code-aspx[Main](breaking-changes/samples/sample15.aspx)]

<span data-ttu-id="cfb4a-407">Beachten Sie, dass Anwendungen, die von früheren Versionen von ASP.net zu ASP.NET 4 migriert wurden, möglicherweise ebenfalls beeinträchtigt werden, da die *MenuItem. PopOutImageUrl* -Eigenschaft geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-407">Note that applications that were migrated from earlier versions of ASP.NET to ASP.NET 4 might also be affected, because the *MenuItem.PopOutImageUrl* property has been changed.</span></span> <span data-ttu-id="cfb4a-408">Weitere Informationen finden Sie in [der MenuItem. PopOutImageUrl-Eigenschaft beim Rendering eines Bilds in ASP.NET 4](#0.1__The_MenuItem.PopOutImageUrl_Propert "_The_MenuItem. PopOutImageUrl_Propert") an anderer Stelle in diesem Dokument.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-408">For more information, see [The MenuItem.PopOutImageUrl Property Fails to Render an Image in ASP.NET 4](#0.1__The_MenuItem.PopOutImageUrl_Propert "_The_MenuItem.PopOutImageUrl_Propert") elsewhere in this document.</span></span>

<a id="0.1__Toc224729061"></a><a id="0.1__Toc255587647"></a><a id="0.1__Toc256770161"></a>

## <a name="disclaimer"></a><span data-ttu-id="cfb4a-409">Haftungsausschluss</span><span class="sxs-lookup"><span data-stu-id="cfb4a-409">Disclaimer</span></span>

<span data-ttu-id="cfb4a-410">Dies ist ein vorläufiges Dokument, das vor der kommerziellen Veröffentlichung der beschriebenen Software ggf. erheblich geändert wird.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-410">This is a preliminary document and may be changed substantially prior to final commercial release of the software described herein.</span></span>

<span data-ttu-id="cfb4a-411">Die in diesem Dokument enthaltenen Informationen stellen die Sicht der Microsoft Corporation der hier diskutierten Themen zum Zeitpunkt der Veröffentlichung dar.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-411">The information contained in this document represents the current view of Microsoft Corporation on the issues discussed as of the date of publication.</span></span> <span data-ttu-id="cfb4a-412">Da Microsoft auf wechselnde Marktbedingungen reagieren muss, sollten sie nicht als Verpflichtung seitens Microsoft interpretiert werden, und Microsoft kann die Genauigkeit der dargelegten Informationen nach dem Zeitpunkt der Veröffentlichung nicht garantieren.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-412">Because Microsoft must respond to changing market conditions, it should not be interpreted to be a commitment on the part of Microsoft, and Microsoft cannot guarantee the accuracy of any information presented after the date of publication.</span></span>

<span data-ttu-id="cfb4a-413">Dieses Whitepaper dient ausschließlich Informationszwecken.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-413">This White Paper is for informational purposes only.</span></span> <span data-ttu-id="cfb4a-414">MICROSOFT ÜBERNIMMT KEINE AUSDRÜCKLICHE, STILLSCHWEIGENDE ODER AUS GESETZ ERWACHSENDE GARANTIE IN BEZUG AUF DIE INFORMATIONEN IN DIESEM DOKUMENT.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-414">MICROSOFT MAKES NO WARRANTIES, EXPRESS, IMPLIED OR STATUTORY, AS TO THE INFORMATION IN THIS DOCUMENT.</span></span>

<span data-ttu-id="cfb4a-415">Die Benutzer/innen sind verpflichtet, sich an alle anwendbaren Urheberrechtsgesetze zu halten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-415">Complying with all applicable copyright laws is the responsibility of the user.</span></span> <span data-ttu-id="cfb4a-416">Unabhängig von der Anwendbarkeit der entsprechenden Urheberrechtsgesetze darf kein Teil dieses Dokuments ohne ausdrückliche schriftliche Erlaubnis der Microsoft Corporation für irgendwelche Zwecke vervielfältigt oder in einem Datenempfangssystem gespeichert oder darin eingelesen werden, unabhängig davon, auf welche Art und Weise oder mit welchen Mitteln (elektronisch, mechanisch, durch Fotokopieren, Aufzeichnen usw.) dies geschieht.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-416">Without limiting the rights under copyright, no part of this document may be reproduced, stored in or introduced into a retrieval system, or transmitted in any form or by any means (electronic, mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of Microsoft Corporation.</span></span>

<span data-ttu-id="cfb4a-417">Microsoft Corporation kann Inhaber von Patenten oder Patentanträgen, Marken, Urheberrechten oder anderem geistigen Eigentum sein, die den Inhalt dieses Dokuments betreffen.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-417">Microsoft may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document.</span></span> <span data-ttu-id="cfb4a-418">Die Bereitstellung dieses Dokuments gewährt keinerlei Lizenzrechte an diesen Patenten, Marken, Urheberrechten oder anderem geistigen Eigentum, es sei denn, dies wurde ausdrücklich durch einen schriftlichen Lizenzvertrag mit der Microsoft Corporation vereinbart.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-418">Except as expressly provided in any written license agreement from Microsoft, the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other intellectual property.</span></span>

<span data-ttu-id="cfb4a-419">Sofern nicht anders angegeben, sind die hier dargestellten Beispiel Unternehmen, Organisationen, Produkte, Domänen Namen, e-Mail-Adressen, Logos, Personen, Orte und Ereignisse fiktiv und keine Zuordnung zu echten Unternehmen, Organisationen, Produkten, Domänen Namen, e-Mail-Adressen. Adresse, Logo, Person, Ort oder Ereignis ist beabsichtigt oder sollte abgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-419">Unless otherwise noted, the example companies, organizations, products, domain names, email addresses, logos, people, places and events depicted herein are fictitious, and no association with any real company, organization, product, domain name, email address, logo, person, place or event is intended or should be inferred.</span></span>

<span data-ttu-id="cfb4a-420">© 2010 Microsoft Corporation.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-420">© 2010 Microsoft Corporation.</span></span> <span data-ttu-id="cfb4a-421">Alle Rechte vorbehalten.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-421">All rights reserved.</span></span>

<span data-ttu-id="cfb4a-422">Microsoft und Windows sind eingetragene Marken oder Marken der Microsoft Corporation in den USA und/oder anderen Ländern.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-422">Microsoft and Windows are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries.</span></span>

<span data-ttu-id="cfb4a-423">Die in diesem Dokument erwähnten Namen von Unternehmen und Produkten können Marken der jeweiligen Eigentümer sein.</span><span class="sxs-lookup"><span data-stu-id="cfb4a-423">The names of actual companies and products mentioned herein may be the trademarks of their respective owners.</span></span>
