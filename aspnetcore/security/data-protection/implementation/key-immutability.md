---
title: Unveränderlichkeit von Schlüsseln und wichtige Einstellungen in ASP.NET Core
author: rick-anderson
description: Erfahren Sie, die Implementierungsdetails der ASP.NET Core-Datenschutz Unveränderlichkeit von Schlüsseln APIs.
ms.author: riande
ms.date: 10/14/2016
uid: security/data-protection/implementation/key-immutability
ms.openlocfilehash: 7796cb102c0f6f03809704016fd36b28c7a82438
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/01/2019
ms.locfileid: "57035927"
---
# <a name="key-immutability-and-key-settings-in-aspnet-core"></a><span data-ttu-id="ee940-103">Unveränderlichkeit von Schlüsseln und wichtige Einstellungen in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="ee940-103">Key immutability and key settings in ASP.NET Core</span></span>

<span data-ttu-id="ee940-104">Nachdem ein Objekt in den Sicherungsspeicher beibehalten wird, ist für immer seine Darstellung fest.</span><span class="sxs-lookup"><span data-stu-id="ee940-104">Once an object is persisted to the backing store, its representation is forever fixed.</span></span> <span data-ttu-id="ee940-105">Der Sicherungsspeicher können neue Daten hinzugefügt werden, aber vorhandene Daten können nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="ee940-105">New data can be added to the backing store, but existing data can never be mutated.</span></span> <span data-ttu-id="ee940-106">Der Hauptzweck dieses Verhalten ist um datenbeschädigung zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="ee940-106">The primary purpose of this behavior is to prevent data corruption.</span></span>

<span data-ttu-id="ee940-107">Ein Vorteil der dieses Verhalten ist, dass nachdem ein Schlüssel in den Sicherungsspeicher geschrieben wurde, unveränderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ee940-107">One consequence of this behavior is that once a key is written to the backing store, it's immutable.</span></span> <span data-ttu-id="ee940-108">Die Erstellung, Aktivierung und Ablauf Datumsangaben nie geändert werden können, obwohl es widerrufen können, mithilfe von `IKeyManager`.</span><span class="sxs-lookup"><span data-stu-id="ee940-108">Its creation, activation, and expiration dates can never be changed, though it can revoked by using `IKeyManager`.</span></span> <span data-ttu-id="ee940-109">Darüber hinaus sind die zugrunde liegenden algorithmische Informationen Schlüsselmaterial und Rest-Eigenschaften für die Verschlüsselung auch unveränderlich.</span><span class="sxs-lookup"><span data-stu-id="ee940-109">Additionally, its underlying algorithmic information, master keying material, and encryption at rest properties are also immutable.</span></span>

<span data-ttu-id="ee940-110">Wenn der Entwickler eine Einstellung geändert wird, die wichtige Persistenz wirkt sich auf, diese Änderungen wird nicht wirksam, bis das nächste Mal ein Schlüssel generiert wird, entweder über ein expliziter Aufruf von `IKeyManager.CreateNewKey` oder über die Datensystem zum Schutz des eigenen [automatische Schlüssel Generation](xref:security/data-protection/implementation/key-management#data-protection-implementation-key-management) Verhalten.</span><span class="sxs-lookup"><span data-stu-id="ee940-110">If the developer changes any setting that affects key persistence, those changes won't go into effect until the next time a key is generated, either via an explicit call to `IKeyManager.CreateNewKey` or via the data protection system's own [automatic key generation](xref:security/data-protection/implementation/key-management#data-protection-implementation-key-management) behavior.</span></span> <span data-ttu-id="ee940-111">Die Einstellungen, die beeinflussen schlüsselpersistenz lauten wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="ee940-111">The settings that affect key persistence are as follows:</span></span>

* [<span data-ttu-id="ee940-112">Die Lebensdauer der Standard-Schlüssel</span><span class="sxs-lookup"><span data-stu-id="ee940-112">The default key lifetime</span></span>](xref:security/data-protection/implementation/key-management#data-protection-implementation-key-management)

* [<span data-ttu-id="ee940-113">Rest-Mechanismus für die wichtigsten Verschlüsselung</span><span class="sxs-lookup"><span data-stu-id="ee940-113">The key encryption at rest mechanism</span></span>](xref:security/data-protection/implementation/key-encryption-at-rest)

* [<span data-ttu-id="ee940-114">Algorithmische Informationen innerhalb der Schlüssel</span><span class="sxs-lookup"><span data-stu-id="ee940-114">The algorithmic information contained within the key</span></span>](xref:security/data-protection/configuration/overview#changing-algorithms-with-usecryptographicalgorithms)

<span data-ttu-id="ee940-115">Wenn Sie diese Einstellungen vor der nächsten automatische schlüsselrollover Mal aktiviert wird, empfiehlt sich ein expliziter Aufruf an `IKeyManager.CreateNewKey` um die Erstellung eines neuen Schlüssels zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="ee940-115">If you need these settings to kick in earlier than the next automatic key rolling time, consider making an explicit call to `IKeyManager.CreateNewKey` to force the creation of a new key.</span></span> <span data-ttu-id="ee940-116">Denken Sie daran, eine explizite Aktivierung bietet ({jetzt + 2 Tage} ist eine gute Faustregel damit Zeit für die Änderung weitergegeben werden) und das Ablaufdatum im Aufruf.</span><span class="sxs-lookup"><span data-stu-id="ee940-116">Remember to provide an explicit activation date ({ now + 2 days } is a good rule of thumb to allow time for the change to propagate) and expiration date in the call.</span></span>

>[!TIP]
> <span data-ttu-id="ee940-117">Alle Anwendungen, die durch berühren der Repository sollte mit die gleichen Einstellungen geben die `IDataProtectionBuilder` Erweiterungsmethoden.</span><span class="sxs-lookup"><span data-stu-id="ee940-117">All applications touching the repository should specify the same settings with the `IDataProtectionBuilder` extension methods.</span></span> <span data-ttu-id="ee940-118">Andernfalls werden die Eigenschaften des permanenten Schlüssels abhängig von der betreffenden Anwendung sein, die die schlüsselgenerierung Routinen aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="ee940-118">Otherwise, the properties of the persisted key will be dependent on the particular application that invoked the key generation routines.</span></span>
